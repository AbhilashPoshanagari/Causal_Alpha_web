import{$ as _,$a as Bo,$b as ti,$c as zg,A as vg,Aa as iu,Ab as o_,Ac as Fg,B as pb,Ba as UD,Bb as r_,Bc as Ii,C as Oi,Ca as lo,Cb as a_,Cc as x_,D as tu,Da as Di,Db as Q,Dc as Pg,E as Or,Ea as nu,Eb as J,Ec as Eb,F as Nr,Fa as $D,Fb as ze,Fc as S_,G as gb,Ga as wg,Gb as Eg,Gc as Og,H as PD,Ha as No,Hb as co,Hc as uu,I as mb,Ia as su,Ib as Vr,Ic as hu,J as OD,Ja as Zl,Jb as lt,Jc as Va,K as ND,Ka as ql,Kb as ft,Kc as Ng,L as fb,La as YD,Lb as ui,Lc as Ql,M as yg,Ma as KD,Mb as ut,Mc as M_,N as Dn,Na as ZD,Nb as Bi,Nc as D_,O as Ni,Oa as qD,Ob as Gt,P as Jt,Pa as XD,Pb as Ye,Q as BD,Qa as QD,Qb as Ke,R as Ht,Ra as JD,Rb as l_,S as et,Sa as Vn,Sb as c_,T as Br,Ta as xg,Tb as Ig,Tc as __,U as Ta,Ua as ie,Ub as uo,Uc as pu,V as G,Va as ou,Vb as kt,Vc as Bg,W as j,Wa as Xl,Wb as Gn,X as zD,Xa as ss,Xb as d_,Y as Z,Ya as os,Yb as au,Z as vb,Za as Re,Zb as lu,_ as De,_a as Sg,_b as cu,_c as E_,a as $i,aa as Yl,ab as e_,ac as du,b as LD,ba as VD,bb as t_,bc as Rg,bd as I_,c as Lr,ca as Ps,cb as Cb,cc as u_,d as cb,da as ns,db as i_,dc as Ei,e as gg,ea as ei,eb as wb,ec as h_,f as ye,fa as sn,fb as ge,fc as p_,g as Mn,ga as on,gb as W,gc as k,gd as R_,h as db,ha as Kl,hb as We,hc as Na,i as Fs,ia as yb,ib as _i,ic as zo,j as Pi,ja as rn,jb as $e,jc as Os,k as ue,ka as Rt,kb as xb,kc as Ag,l as ka,la as La,lb as n_,lc as kg,m as eu,ma as GD,mb as Mg,mc as g_,n as FD,na as HD,nb as Dg,nc as Ba,o as Ie,oa as bg,ob as Sb,oc as m_,p as $l,pa as P,pb as _g,pc as f_,q as zn,qa as Ce,qb as Mb,qc as Ne,r as ub,ra as Fa,rb as Db,rc as v_,s as mg,sa as jD,sb as zr,sc as _b,t as Oo,ta as At,tb as tt,tc as y_,u as fg,ua as Oe,ub as Fe,uc as b_,v as ro,va as Cg,vb as ru,vc as za,w as Mt,wa as Pa,wb as it,wc as Tg,x as hb,xa as ao,xb as Oa,xc as C_,y as Fr,ya as bb,yb as s_,yc as w_,z as Pr,za as WD,zb as Vt,zc as Lg}from"./chunk-EQ2J37OF.js";import{a as w,b as A,c as Je,d as TD,e as Pe,f as pg}from"./chunk-46AQF2XH.js";var mu=class{},Gg=class{},Ga=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let s=i.slice(0,n),o=i.slice(n+1).trim();this.addHeaderEntry(s,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,n)=>{this.addHeaderEntry(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){let i=new e;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){let i=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,i);let s=(t.op==="a"?this.headers.get(i):void 0)||[];s.push(...n),this.headers.set(i,s);break;case"d":let o=t.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let r=this.headers.get(i);if(!r)return;r=r.filter(a=>o.indexOf(a)===-1),r.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,r)}break}}addHeaderEntry(t,i){let n=t.toLowerCase();this.maybeSetNormalizedName(t,n),this.headers.has(n)?this.headers.get(n).push(i):this.headers.set(n,[i])}setHeaderEntries(t,i){let n=(Array.isArray(i)?i:[i]).map(o=>o.toString()),s=t.toLowerCase();this.headers.set(s,n),this.maybeSetNormalizedName(t,s)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}};var Rb=class{encodeKey(t){return A_(t)}encodeValue(t){return A_(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function cN(e,t){let i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(s=>{let o=s.indexOf("="),[r,a]=o==-1?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,o)),t.decodeValue(s.slice(o+1))],l=i.get(r)||[];l.push(a),i.set(r,l)}),i}var dN=/%(\d[a-f0-9])/gi,uN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function A_(e){return encodeURIComponent(e).replace(dN,(t,i)=>uN[i]??t)}function Vg(e){return`${e}`}var Gr=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Rb,t.fromString){if(t.fromObject)throw new et(2805,!1);this.map=cN(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{let n=t.fromObject[i],s=Array.isArray(n)?n.map(Vg):[Vg(n)];this.map.set(i,s)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){let i=[];return Object.keys(t).forEach(n=>{let s=t[n];Array.isArray(s)?s.forEach(o=>{i.push({param:n,value:o,op:"a"})}):i.push({param:n,value:s,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let i=this.encoder.encodeKey(t);return this.map.get(t).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let i=new e({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let i=(t.op==="a"?this.map.get(t.param):void 0)||[];i.push(Vg(t.value)),this.map.set(t.param,i);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],s=n.indexOf(Vg(t.value));s!==-1&&n.splice(s,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Ab=class{map=new Map;set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function hN(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function k_(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function T_(e){return typeof Blob<"u"&&e instanceof Blob}function L_(e){return typeof FormData<"u"&&e instanceof FormData}function pN(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var F_="Content-Type",P_="Accept",B_="X-Request-URL",z_="text/plain",V_="application/json",gN=`${V_}, ${z_}, */*`,gu=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,i,n,s){this.url=i,this.method=t.toUpperCase();let o;if(hN(this.method)||s?(this.body=n!==void 0?n:null,o=s):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ga,this.context??=new Ab,!this.params)this.params=new Gr,this.urlWithParams=i;else{let r=this.params.toString();if(r.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),l=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+l+r}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||k_(this.body)||T_(this.body)||L_(this.body)||pN(this.body)?this.body:this.body instanceof Gr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||L_(this.body)?null:T_(this.body)?this.body.type||null:k_(this.body)?null:typeof this.body=="string"?z_:this.body instanceof Gr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?V_:null}clone(t={}){let i=t.method||this.method,n=t.url||this.url,s=t.responseType||this.responseType,o=t.transferCache??this.transferCache,r=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,u=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,p)=>h.set(p,t.setHeaders[p]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((h,p)=>h.set(p,t.setParams[p]),d)),new e(i,n,r,{params:d,headers:c,context:u,reportProgress:l,responseType:s,withCredentials:a,transferCache:o})}},Jl=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Jl||{}),fu=class{headers;status;statusText;url;ok;type;constructor(t,i=200,n="OK"){this.headers=t.headers||new Ga,this.status=t.status!==void 0?t.status:i,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},kb=class e extends fu{constructor(t={}){super(t)}type=Jl.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Hg=class e extends fu{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Jl.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},jg=class extends fu{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},mN=200,fN=204;function Ib(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var vu=(()=>{class e{handler;constructor(i){this.handler=i}request(i,n,s={}){let o;if(i instanceof gu)o=i;else{let l;s.headers instanceof Ga?l=s.headers:l=new Ga(s.headers);let c;s.params&&(s.params instanceof Gr?c=s.params:c=new Gr({fromObject:s.params})),o=new gu(i,n,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:c,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let r=ue(o).pipe(Pr(l=>this.handler.handle(l)));if(i instanceof gu||s.observe==="events")return r;let a=r.pipe(Mt(l=>l instanceof Hg));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ie(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new et(2806,!1);return l.body}));case"blob":return a.pipe(Ie(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new et(2807,!1);return l.body}));case"text":return a.pipe(Ie(l=>{if(l.body!==null&&typeof l.body!="string")throw new et(2808,!1);return l.body}));case"json":default:return a.pipe(Ie(l=>l.body))}case"response":return a;default:throw new et(2809,!1)}}delete(i,n={}){return this.request("DELETE",i,n)}get(i,n={}){return this.request("GET",i,n)}head(i,n={}){return this.request("HEAD",i,n)}jsonp(i,n){return this.request("JSONP",i,{params:new Gr().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,n={}){return this.request("OPTIONS",i,n)}patch(i,n,s={}){return this.request("PATCH",i,Ib(s,n))}post(i,n,s={}){return this.request("POST",i,Ib(s,n))}put(i,n,s={}){return this.request("PUT",i,Ib(s,n))}static \u0275fac=function(n){return new(n||e)(De(mu))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})();var vN=new Z("");function yN(e,t){return t(e)}function bN(e,t,i){return(n,s)=>ns(i,()=>t(n,o=>e(o,s)))}var G_=new Z(""),CN=new Z(""),wN=new Z("",{providedIn:"root",factory:()=>!0});var O_=(()=>{class e extends mu{backend;injector;chain=null;pendingTasks=_(bg);contributeToStability=_(wN);constructor(i,n){super(),this.backend=i,this.injector=n}handle(i){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(G_),...this.injector.get(CN,[])]));this.chain=n.reduceRight((s,o)=>bN(s,o,this.injector),yN)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe(Or(()=>this.pendingTasks.remove(n)))}else return this.chain(i,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||e)(De(Gg),De(Ps))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})();var xN=/^\)\]\}',?\n/,SN=RegExp(`^${B_}:`,"m");function MN(e){return"responseURL"in e&&e.responseURL?e.responseURL:SN.test(e.getAllResponseHeaders())?e.getResponseHeader(B_):null}var N_=(()=>{class e{xhrFactory;constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new et(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?Pi(n.\u0275loadImpl()):ue(null)).pipe(Ni(()=>new Lr(o=>{let r=n.build();if(r.open(i.method,i.urlWithParams),i.withCredentials&&(r.withCredentials=!0),i.headers.forEach((m,f)=>r.setRequestHeader(m,f.join(","))),i.headers.has(P_)||r.setRequestHeader(P_,gN),!i.headers.has(F_)){let m=i.detectContentTypeHeader();m!==null&&r.setRequestHeader(F_,m)}if(i.responseType){let m=i.responseType.toLowerCase();r.responseType=m!=="json"?m:"text"}let a=i.serializeBody(),l=null,c=()=>{if(l!==null)return l;let m=r.statusText||"OK",f=new Ga(r.getAllResponseHeaders()),v=MN(r)||i.url;return l=new kb({headers:f,status:r.status,statusText:m,url:v}),l},d=()=>{let{headers:m,status:f,statusText:v,url:y}=c(),C=null;f!==fN&&(C=typeof r.response>"u"?r.responseText:r.response),f===0&&(f=C?mN:0);let S=f>=200&&f<300;if(i.responseType==="json"&&typeof C=="string"){let M=C;C=C.replace(xN,"");try{C=C!==""?JSON.parse(C):null}catch(D){C=M,S&&(S=!1,C={error:D,text:C})}}S?(o.next(new Hg({body:C,headers:m,status:f,statusText:v,url:y||void 0})),o.complete()):o.error(new jg({error:C,headers:m,status:f,statusText:v,url:y||void 0}))},u=m=>{let{url:f}=c(),v=new jg({error:m,status:r.status||0,statusText:r.statusText||"Unknown Error",url:f||void 0});o.error(v)},h=!1,p=m=>{h||(o.next(c()),h=!0);let f={type:Jl.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(f.total=m.total),i.responseType==="text"&&r.responseText&&(f.partialText=r.responseText),o.next(f)},g=m=>{let f={type:Jl.UploadProgress,loaded:m.loaded};m.lengthComputable&&(f.total=m.total),o.next(f)};return r.addEventListener("load",d),r.addEventListener("error",u),r.addEventListener("timeout",u),r.addEventListener("abort",u),i.reportProgress&&(r.addEventListener("progress",p),a!==null&&r.upload&&r.upload.addEventListener("progress",g)),r.send(a),o.next({type:Jl.Sent}),()=>{r.removeEventListener("error",u),r.removeEventListener("abort",u),r.removeEventListener("load",d),r.removeEventListener("timeout",u),i.reportProgress&&(r.removeEventListener("progress",p),a!==null&&r.upload&&r.upload.removeEventListener("progress",g)),r.readyState!==r.DONE&&r.abort()}})))}static \u0275fac=function(n){return new(n||e)(De(Og))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),H_=new Z(""),DN="XSRF-TOKEN",_N=new Z("",{providedIn:"root",factory:()=>DN}),EN="X-XSRF-TOKEN",IN=new Z("",{providedIn:"root",factory:()=>EN}),Wg=class{},RN=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(i,n,s){this.doc=i,this.platform=n,this.cookieName=s}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Tg(i,this.cookieName),this.lastCookieString=i),this.lastToken}static \u0275fac=function(n){return new(n||e)(De(Ne),De(lo),De(_N))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})();function AN(e,t){let i=e.url.toLowerCase();if(!_(H_)||e.method==="GET"||e.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return t(e);let n=_(Wg).getToken(),s=_(IN);return n!=null&&!e.headers.has(s)&&(e=e.clone({headers:e.headers.set(s,n)})),t(e)}function j_(...e){let t=[vu,N_,O_,{provide:mu,useExisting:O_},{provide:Gg,useFactory:()=>_(vN,{optional:!0})??_(N_)},{provide:G_,useValue:AN,multi:!0},{provide:H_,useValue:!0},{provide:Wg,useClass:RN}];for(let i of e)t.push(...i.\u0275providers);return Yl(t)}var Fb=class extends f_{supportsDOMEvents=!0},Pb=class e extends Fb{static makeCurrent(){m_(new e)}onAndCancel(t,i,n,s){return t.addEventListener(i,n,s),()=>{t.removeEventListener(i,n,s)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.remove()}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=TN();return i==null?null:LN(i)}resetBaseElement(){yu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Tg(document.cookie,t)}},yu=null;function TN(){return yu=yu||document.querySelector("base"),yu?yu.getAttribute("href"):null}function LN(e){return new URL(e,document.baseURI).pathname}var Ob=class{addToWindow(t){Br.getAngularTestability=(n,s=!0)=>{let o=t.findTestabilityInTree(n,s);if(o==null)throw new et(5103,!1);return o},Br.getAllAngularTestabilities=()=>t.getAllTestabilities(),Br.getAllAngularRootElements=()=>t.getAllRootElements();let i=n=>{let s=Br.getAllAngularTestabilities(),o=s.length,r=function(){o--,o==0&&n()};s.forEach(a=>{a.whenStable(r)})};Br.frameworkStabilizers||(Br.frameworkStabilizers=[]),Br.frameworkStabilizers.push(i)}findTestabilityInTree(t,i,n){if(i==null)return null;let s=t.getTestability(i);return s??(n?Ba().isShadowRoot(i)?this.findTestabilityInTree(t,i.host,!0):this.findTestabilityInTree(t,i.parentElement,!0):null)}},FN=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),Nb=new Z(""),q_=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(i,n){this._zone=n,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,n,s,o){return this._findPluginFor(n).addEventListener(i,n,s,o)}getZone(){return this._zone}_findPluginFor(i){let n=this._eventNameToPlugin.get(i);if(n)return n;if(n=this._plugins.find(o=>o.supports(i)),!n)throw new et(5101,!1);return this._eventNameToPlugin.set(i,n),n}static \u0275fac=function(n){return new(n||e)(De(Nb),De(Ce))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),$g=class{_doc;constructor(t){this._doc=t}manager},Ug="ng-app-id";function U_(e){for(let t of e)t.remove()}function $_(e,t){let i=t.createElement("style");return i.textContent=e,i}function PN(e,t,i,n){let s=e.head?.querySelectorAll(`style[${Ug}="${t}"],link[${Ug}="${t}"]`);if(s)for(let o of s)o.removeAttribute(Ug),o instanceof HTMLLinkElement?n.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&i.set(o.textContent,{usage:0,elements:[o]})}function Bb(e,t){let i=t.createElement("link");return i.setAttribute("rel","stylesheet"),i.setAttribute("href",e),i}var X_=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(i,n,s,o={}){this.doc=i,this.appId=n,this.nonce=s,this.isServer=Eb(o),PN(i,n,this.inline,this.external),this.hosts.add(i.head)}addStyles(i,n){for(let s of i)this.addUsage(s,this.inline,$_);n?.forEach(s=>this.addUsage(s,this.external,Bb))}removeStyles(i,n){for(let s of i)this.removeUsage(s,this.inline);n?.forEach(s=>this.removeUsage(s,this.external))}addUsage(i,n,s){let o=n.get(i);o?o.usage++:n.set(i,{usage:1,elements:[...this.hosts].map(r=>this.addElement(r,s(i,this.doc)))})}removeUsage(i,n){let s=n.get(i);s&&(s.usage--,s.usage<=0&&(U_(s.elements),n.delete(i)))}ngOnDestroy(){for(let[,{elements:i}]of[...this.inline,...this.external])U_(i);this.hosts.clear()}addHost(i){this.hosts.add(i);for(let[n,{elements:s}]of this.inline)s.push(this.addElement(i,$_(n,this.doc)));for(let[n,{elements:s}]of this.external)s.push(this.addElement(i,Bb(n,this.doc)))}removeHost(i){this.hosts.delete(i)}addElement(i,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(Ug,this.appId),i.appendChild(n)}static \u0275fac=function(n){return new(n||e)(De(Ne),De(iu),De(nu,8),De(lo))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),Lb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gb=/%COMP%/g;var Q_="%COMP%",ON=`_nghost-${Q_}`,NN=`_ngcontent-${Q_}`,BN=!0,zN=new Z("",{providedIn:"root",factory:()=>BN});function VN(e){return NN.replace(Gb,e)}function GN(e){return ON.replace(Gb,e)}function J_(e,t){return t.map(i=>i.replace(Gb,e))}var ec=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(i,n,s,o,r,a,l,c=null,d=null){this.eventManager=i,this.sharedStylesHost=n,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=r,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=Eb(a),this.defaultRenderer=new bu(i,r,l,this.platformIsServer,this.tracingService)}createRenderer(i,n){if(!i||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===su.ShadowDom&&(n=A(w({},n),{encapsulation:su.Emulated}));let s=this.getOrCreateRenderer(i,n);return s instanceof Yg?s.applyToHost(i):s instanceof Cu&&s.applyStyles(),s}getOrCreateRenderer(i,n){let s=this.rendererByCompId,o=s.get(n.id);if(!o){let r=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,h=this.tracingService;switch(n.encapsulation){case su.Emulated:o=new Yg(l,c,n,this.appId,d,r,a,u,h);break;case su.ShadowDom:return new zb(l,c,i,n,r,a,this.nonce,u,h);default:o=new Cu(l,c,n,d,r,a,u,h);break}s.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(i){this.rendererByCompId.delete(i)}static \u0275fac=function(n){return new(n||e)(De(q_),De(X_),De(iu),De(zN),De(Ne),De(lo),De(Ce),De(nu),De($D,8))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),bu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,i,n,s,o){this.eventManager=t,this.doc=i,this.ngZone=n,this.platformIsServer=s,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,i){return i?this.doc.createElementNS(Lb[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(Y_(t)?t.content:t).appendChild(i)}insertBefore(t,i,n){t&&(Y_(t)?t.content:t).insertBefore(i,n)}removeChild(t,i){i.remove()}selectRootElement(t,i){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new et(-5104,!1);return i||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,n,s){if(s){i=s+":"+i;let o=Lb[s];o?t.setAttributeNS(o,i,n):t.setAttribute(i,n)}else t.setAttribute(i,n)}removeAttribute(t,i,n){if(n){let s=Lb[n];s?t.removeAttributeNS(s,i):t.removeAttribute(`${n}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,n,s){s&(ou.DashCase|ou.Important)?t.style.setProperty(i,n,s&ou.Important?"important":""):t.style[i]=n}removeStyle(t,i,n){n&ou.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,n){t!=null&&(t[i]=n)}setValue(t,i){t.nodeValue=i}listen(t,i,n,s){if(typeof t=="string"&&(t=Ba().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${i}`);let o=this.decoratePreventDefault(n);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,i,o)),this.eventManager.addEventListener(t,i,o,s)}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))===!1&&i.preventDefault()}}};function Y_(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var zb=class extends bu{sharedStylesHost;hostEl;shadowRoot;constructor(t,i,n,s,o,r,a,l,c){super(t,o,r,l,c),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=s.styles;d=J_(s.id,d);for(let h of d){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}let u=s.getExternalStyles?.();if(u)for(let h of u){let p=Bb(h,o);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,n){return super.insertBefore(this.nodeOrShadowRoot(t),i,n)}removeChild(t,i){return super.removeChild(null,i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Cu=class extends bu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,i,n,s,o,r,a,l,c){super(t,o,r,a,l),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=s;let d=n.styles;this.styles=c?J_(c,d):d,this.styleUrls=n.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Yg=class extends Cu{contentAttr;hostAttr;constructor(t,i,n,s,o,r,a,l,c){let d=s+"-"+n.id;super(t,i,n,o,r,a,l,c,d),this.contentAttr=VN(d),this.hostAttr=GN(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let n=super.createElement(t,i);return super.setAttribute(n,this.contentAttr,""),n}},HN=(()=>{class e extends $g{constructor(i){super(i)}supports(i){return!0}addEventListener(i,n,s,o){return i.addEventListener(n,s,o),()=>this.removeEventListener(i,n,s,o)}removeEventListener(i,n,s,o){return i.removeEventListener(n,s,o)}static \u0275fac=function(n){return new(n||e)(De(Ne))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),K_=["alt","control","meta","shift"],jN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},WN={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},UN=(()=>{class e extends $g{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,n,s,o){let r=e.parseEventName(n),a=e.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ba().onAndCancel(i,r.domEventName,a,o))}static parseEventName(i){let n=i.toLowerCase().split("."),s=n.shift();if(n.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(n.pop()),r="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),r="code."),K_.forEach(c=>{let d=n.indexOf(c);d>-1&&(n.splice(d,1),r+=c+".")}),r+=o,n.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=r,l}static matchEventFullKeyCode(i,n){let s=jN[i.key]||i.key,o="";return n.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),K_.forEach(r=>{if(r!==s){let a=WN[r];a(i)&&(o+=r+".")}}),o+=s,o===n)}static eventCallback(i,n,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>n(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}static \u0275fac=function(n){return new(n||e)(De(Ne))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})();function $N(){Pb.makeCurrent()}function YN(){return new Fa}function KN(){return WD(document),document}var ZN=[{provide:lo,useValue:x_},{provide:UD,useValue:$N,multi:!0},{provide:Ne,useFactory:KN,deps:[]}],e1=u_(h_,"browser",ZN);var qN=[{provide:Mg,useClass:Ob,deps:[]},{provide:n_,useClass:Dg,deps:[Ce,Sb,Mg]},{provide:Dg,useClass:Dg,deps:[Ce,Sb,Mg]}],XN=[{provide:VD,useValue:"root"},{provide:Fa,useFactory:YN,deps:[]},{provide:Nb,useClass:HN,multi:!0,deps:[Ne]},{provide:Nb,useClass:UN,multi:!0,deps:[Ne]},ec,X_,q_,{provide:ss,useExisting:ec},{provide:Og,useClass:FN,deps:[]},[]],Kg=(()=>{class e{constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({providers:[...XN,...qN],imports:[Ii,p_]})}return e})();var t1=(()=>{class e{_doc;constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}static \u0275fac=function(n){return new(n||e)(De(Ne))};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ns=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:function(n){let s=null;return n?s=new(n||e):s=De(QN),s},providedIn:"root"})}return e})(),QN=(()=>{class e extends Ns{_doc;constructor(i){super(),this._doc=i}sanitize(i,n){if(n==null)return null;switch(i){case Vn.NONE:return n;case Vn.HTML:return ql(n,"HTML")?Zl(n):JD(this._doc,String(n)).toString();case Vn.STYLE:return ql(n,"Style")?Zl(n):n;case Vn.SCRIPT:if(ql(n,"Script"))return Zl(n);throw new et(5200,!1);case Vn.URL:return ql(n,"URL")?Zl(n):QD(String(n));case Vn.RESOURCE_URL:if(ql(n,"ResourceURL"))return Zl(n);throw new et(5201,!1);default:throw new et(5202,!1)}}bypassSecurityTrustHtml(i){return YD(i)}bypassSecurityTrustStyle(i){return KD(i)}bypassSecurityTrustScript(i){return ZD(i)}bypassSecurityTrustUrl(i){return qD(i)}bypassSecurityTrustResourceUrl(i){return XD(i)}static \u0275fac=function(n){return new(n||e)(De(Ne))};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var JN=(()=>{class e extends zg{constructor(i,n,s){super(i,n,s)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||e)(De(Ne),De(pu),De(Bg))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})();function e3(){return new E_}function t3(e,t,i){return new R_(e,t,i)}var n1=[{provide:Bg,useFactory:e3},{provide:zg,useClass:JN},{provide:ss,useFactory:t3,deps:[ec,zg,Ce]}],i1=[{provide:pu,useFactory:()=>new I_},{provide:Di,useValue:"BrowserAnimations"},...n1],i3=[{provide:pu,useClass:__},{provide:Di,useValue:"NoopAnimations"},...n1],s1=(()=>{class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?i3:i1}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({providers:i1,imports:[Kg]})}return e})();function tc(e){return e!=null&&`${e}`!="false"}function Vo(e,t=0){return n3(e)?Number(e):arguments.length===2?t:0}function n3(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function ic(e){return Array.isArray(e)?e:[e]}function ii(e){return e==null?"":typeof e=="string"?e:`${e}px`}function rs(e){return e instanceof Oe?e.nativeElement:e}var jb;try{jb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{jb=!1}var Tt=(()=>{class e{_platformId=_(lo);isBrowser=this._platformId?Pg(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||jb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var nc,o1=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Wb(){if(nc)return nc;if(typeof document!="object"||!document)return nc=new Set(o1),nc;let e=document.createElement("input");return nc=new Set(o1.filter(t=>(e.setAttribute("type",t),e.type===t))),nc}var wu;function s3(){if(wu==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>wu=!0}))}finally{wu=wu||!1}return wu}function Hr(e){return s3()?e:!!e.capture}var ja;function Ub(){if(ja==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ja=!1,ja;if("scrollBehavior"in document.documentElement.style)ja=!0;else{let e=Element.prototype.scrollTo;e?ja=!/\{\s*\[native code\]\s*\}/.test(e.toString()):ja=!1}}return ja}var Hb;function o3(){if(Hb==null){let e=typeof document<"u"?document.head:null;Hb=!!(e&&(e.createShadowRoot||e.attachShadow))}return Hb}function r1(e){if(o3()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function xu(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function as(e){return e.composedPath?e.composedPath()[0]:e.target}function $b(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var r3=new Z("cdk-dir-doc",{providedIn:"root",factory:a3});function a3(){return _(Ne)}var l3=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function c3(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?l3.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Hn=(()=>{class e{value="ltr";change=new P;constructor(){let i=_(r3,{optional:!0});if(i){let n=i.body?i.body.dir:null,s=i.documentElement?i.documentElement.dir:null;this.value=c3(n||s||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var jr=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({})}return e})();var Zg=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new ye;constructor(t=!1,i,n=!0,s){this._multiple=t,this._emitChanges=n,this.compareWith=s,i&&i.length&&(t?i.forEach(o=>this._markSelected(o)):this._markSelected(i[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}setSelection(...t){this._verifyValueAssignment(t);let i=this.selected,n=new Set(t);t.forEach(o=>this._markSelected(o)),i.filter(o=>!n.has(this._getConcreteValue(o,n))).forEach(o=>this._unmarkSelected(o));let s=this._hasQueuedChanges();return this._emitChangeEvent(),s}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let i=this._hasQueuedChanges();return t&&this._emitChangeEvent(),i}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,i){if(this.compareWith){i=i??this._selection;for(let n of i)if(this.compareWith(t,n))return n;return t}else return t}};var d3=20,a1=(()=>{class e{_ngZone=_(Ce);_platform=_(Tt);_renderer=_(ss).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ye;_scrolledCount=0;scrollContainers=new Map;register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let n=this.scrollContainers.get(i);n&&(n.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=d3){return this._platform.isBrowser?new Lr(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let s=i>0?this._scrolled.pipe(hb(i)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):ue()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((i,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(i,n){let s=this.getAncestorScrollContainers(i);return this.scrolled(n).pipe(Mt(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(i){let n=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,i)&&n.push(o)}),n}_scrollableContainsElement(i,n){let s=rs(n),o=i.getElementRef().nativeElement;do if(s==o)return!0;while(s=s.parentElement);return!1}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var u3=20,Su=(()=>{class e{_platform=_(Tt);_listeners;_viewportSize;_change=new ye;_document=_(Ne,{optional:!0});constructor(){let i=_(Ce),n=_(ss).createRenderer(null,null);i.runOutsideAngular(()=>{if(this._platform.isBrowser){let s=o=>this._change.next(o);this._listeners=[n.listen("window","resize",s),n.listen("window","orientationchange",s)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(i=>i()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:n,height:s}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+s,right:i.left+n,height:s,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,n=this._getWindow(),s=i.documentElement,o=s.getBoundingClientRect(),r=-o.top||i.body.scrollTop||n.scrollY||s.scrollTop||0,a=-o.left||i.body.scrollLeft||n.scrollX||s.scrollLeft||0;return{top:r,left:a}}change(i=u3){return i>0?this._change.pipe(hb(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var qg=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({})}return e})(),Yb=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[jr,qg,jr,qg]})}return e})();var Mu=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},sc=class extends Mu{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,i,n,s,o){super(),this.component=t,this.viewContainerRef=i,this.injector=n,this.projectableNodes=o}},Wa=class extends Mu{templateRef;viewContainerRef;context;injector;constructor(t,i,n,s){super(),this.templateRef=t,this.viewContainerRef=i,this.context=n,this.injector=s}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Kb=class extends Mu{element;constructor(t){super(),this.element=t instanceof Oe?t.nativeElement:t}},oc=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof sc)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Wa)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Kb)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Xg=class extends oc{outletElement;_appRef;_defaultInjector;_document;constructor(t,i,n,s,o){super(),this.outletElement=t,this._appRef=n,this._defaultInjector=s,this._document=o}attachComponentPortal(t){let i;if(t.viewContainerRef){let n=t.injector||t.viewContainerRef.injector,s=n.get(Cb,null,{optional:!0})||void 0;i=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:n,ngModuleRef:s,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>i.destroy())}else i=kg(t.component,{elementInjector:t.injector||this._defaultInjector||Rt.NULL,environmentInjector:this._appRef.injector,projectableNodes:t.projectableNodes||void 0}),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()});return this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let i=t.viewContainerRef,n=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(s=>this.outletElement.appendChild(s)),n.detectChanges(),this.setDisposeFn(()=>{let s=i.indexOf(n);s!==-1&&i.remove(s)}),this._attachedPortal=t,n}attachDomPortal=t=>{let i=t.element;i.parentNode;let n=this._document.createComment("dom-portal");i.parentNode.insertBefore(n,i),this.outletElement.appendChild(i),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(i,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Du=(()=>{class e extends oc{_moduleRef=_(Cb,{optional:!0});_document=_(Ne);_viewContainerRef=_(Bo);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}attached=new P;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let n=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,s=n.createComponent(i.component,{index:n.length,injector:i.injector||n.injector,projectableNodes:i.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=i,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(i){i.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=i=>{let n=i.element;n.parentNode;let s=this._document.createComment("dom-portal");i.setAttachedHost(this),n.parentNode.insertBefore(s,n),this._getRootNode().appendChild(n),this._attachedPortal=i,super.setDisposeFn(()=>{s.parentNode&&s.parentNode.replaceChild(n,s)})};_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}static \u0275fac=function(n){return new(n||e)};static \u0275dir=We({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[_i]})}return e})();var Ua=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({})}return e})();var Qg=new WeakMap,ls=(()=>{class e{_appRef;_injector=_(Rt);_environmentInjector=_(Ps);load(i){let n=this._appRef=this._appRef||this._injector.get(zr),s=Qg.get(n);s||(s={loaders:new Set,refs:[]},Qg.set(n,s),n.onDestroy(()=>{Qg.get(n)?.refs.forEach(o=>o.destroy()),Qg.delete(n)})),s.loaders.has(i)||(s.loaders.add(i),s.refs.push(kg(i,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Jg=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(n,s){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return e})();function jn(e,...t){return t.length?t.some(i=>e[i]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}var h3=(()=>{class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var rc=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({providers:[h3]})}return e})();var l1=new Set,$a,p3=(()=>{class e{_platform=_(Tt);_nonce=_(nu,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):m3}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&g3(i,this._nonce),this._matchMedia(i)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function g3(e,t){if(!l1.has(e))try{$a||($a=document.createElement("style"),t&&$a.setAttribute("nonce",t),$a.setAttribute("type","text/css"),document.head.appendChild($a)),$a.sheet&&($a.sheet.insertRule(`@media ${e} {body{ }}`,0),l1.add(e))}catch(i){console.error(i)}}function m3(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var d1=(()=>{class e{_mediaMatcher=_(p3);_zone=_(Ce);_queries=new Map;_destroySubject=new ye;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return c1(ic(i)).some(s=>this._registerQuery(s).mql.matches)}observe(i){let s=c1(ic(i)).map(r=>this._registerQuery(r).observable),o=$l(s);return o=mg(o.pipe(Oi(1)),o.pipe(yg(1),vg(0))),o.pipe(Ie(r=>{let a={matches:!1,breakpoints:{}};return r.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let n=this._mediaMatcher.matchMedia(i),o={observable:new Lr(r=>{let a=l=>this._zone.run(()=>r.next(l));return n.addListener(a),()=>{n.removeListener(a)}}).pipe(Dn(n),Ie(({matches:r})=>({query:i,matches:r})),Jt(this._destroySubject)),mql:n};return this._queries.set(i,o),o}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function c1(e){return e.map(t=>t.split(",")).reduce((t,i)=>t.concat(i)).map(t=>t.trim())}var g1=" ";function m1(e,t,i){let n=f1(e,t);i=i.trim(),!n.some(s=>s.trim()===i)&&(n.push(i),e.setAttribute(t,n.join(g1)))}function nC(e,t,i){let n=f1(e,t);i=i.trim();let s=n.filter(o=>o!==i);s.length?e.setAttribute(t,s.join(g1)):e.removeAttribute(t)}function f1(e,t){return e.getAttribute(t)?.match(/\S+/g)??[]}var R3=200,Xb=class{_letterKeyStream=new ye;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new ye;selectedItem=this._selectedItem;constructor(t,i){let n=typeof i?.debounceInterval=="number"?i.debounceInterval:R3;i?.skipPredicate&&(this._skipPredicateFn=i.skipPredicate),this.setItems(t),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let i=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(Ht(i=>this._pressedLetters.push(i)),vg(t),Mt(()=>this._pressedLetters.length>0),Ie(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(i=>{for(let n=1;n<this._items.length+1;n++){let s=(this._selectedItemIndex+n)%this._items.length,o=this._items[s];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(i)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}},Qb=class{_items;_activeItemIndex=-1;_activeItem=ao(null);_wrap=!1;_typeaheadSubscription=$i.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,i){this._items=t,t instanceof bb?this._itemChangesSubscription=t.changes.subscribe(n=>this._itemsChanged(n.toArray())):Pa(t)&&(this._effectRef=Ag(()=>this._itemsChanged(t()),{injector:i}))}tabOut=new ye;change=new ye;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let i=this._getItemsArray();return this._typeahead=new Xb(i,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,i=10){return this._pageUpAndDown={enabled:t,delta:i},this}setActiveItem(t){let i=this._activeItem();this.updateActiveItem(t),this._activeItem()!==i&&this.change.next(this._activeItemIndex)}onKeydown(t){let i=t.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(i){case 9:this.tabOut.next();return;case 40:if(this._vertical&&s){this.setNextItemActive();break}else return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&s){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&s){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&s){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&s){let o=this._activeItemIndex+this._pageUpAndDown.delta,r=this._getItemsArray().length;this._setActiveItemByIndex(o<r?o:r-1,-1);break}else return;default:(s||jn(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let i=this._getItemsArray(),n=typeof t=="number"?t:i.indexOf(t),s=i[n];this._activeItem.set(s??null),this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let i=this._getItemsArray();for(let n=1;n<=i.length;n++){let s=(this._activeItemIndex+t*n+i.length)%i.length,o=i[s];if(!this._skipPredicateFn(o)){this.setActiveItem(s);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,i){let n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(t+=i,!n[t])return;this.setActiveItem(t)}}_getItemsArray(){return Pa(this._items)?this._items():this._items instanceof bb?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let i=this._activeItem();if(i){let n=t.indexOf(i);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n))}}},im=class extends Qb{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}};var sC=(()=>{class e{_platform=_(Tt);constructor(){}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return k3(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let n=A3(z3(i));if(n&&(u1(n)===-1||!this.isVisible(n)))return!1;let s=i.nodeName.toLowerCase(),o=u1(i);return i.hasAttribute("contenteditable")?o!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!N3(i)?!1:s==="audio"?i.hasAttribute("controls")?o!==-1:!1:s==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,n){return B3(i)&&!this.isDisabled(i)&&(n?.ignoreVisibility||this.isVisible(i))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function A3(e){try{return e.frameElement}catch{return null}}function k3(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function T3(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function L3(e){return P3(e)&&e.type=="hidden"}function F3(e){return O3(e)&&e.hasAttribute("href")}function P3(e){return e.nodeName.toLowerCase()=="input"}function O3(e){return e.nodeName.toLowerCase()=="a"}function v1(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function u1(e){if(!v1(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function N3(e){let t=e.nodeName.toLowerCase(),i=t==="input"&&e.type;return i==="text"||i==="password"||t==="select"||t==="textarea"}function B3(e){return L3(e)?!1:T3(e)||F3(e)||e.hasAttribute("contenteditable")||v1(e)}function z3(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var Jb=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,i,n,s,o=!1,r){this._element=t,this._checker=i,this._ngZone=n,this._document=s,this._injector=r,o||this.attachAnchors()}destroy(){let t=this._startAnchor,i=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let i=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){let n=this._getFirstTabbableElement(i);return n?.focus(t),!!n}return i.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let i=this._getRegionBoundary("start");return i&&i.focus(t),!!i}focusLastTabbableElement(t){let i=this._getRegionBoundary("end");return i&&i.focus(t),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let n=0;n<i.length;n++){let s=i[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[n]):null;if(s)return s}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let n=i.length-1;n>=0;n--){let s=i[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[n]):null;if(s)return s}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,i){t?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?No(t,{injector:this._injector}):setTimeout(t)}},y1=(()=>{class e{_checker=_(sC);_ngZone=_(Ce);_document=_(Ne);_injector=_(Rt);constructor(){_(ls).load(Jg)}create(i,n=!1){return new Jb(i,this._checker,this._ngZone,this._document,n,this._injector)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function oC(e){return e.buttons===0||e.detail===0}function rC(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var V3=new Z("cdk-input-modality-detector-options"),G3={ignoreKeys:[18,17,224,91,16]},b1=650,ac=Hr({passive:!0,capture:!0}),H3=(()=>{class e{_platform=_(Tt);modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Mn(null);_options;_lastTouchMs=0;_onKeydown=i=>{this._options?.ignoreKeys?.some(n=>n===i.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=as(i))};_onMousedown=i=>{Date.now()-this._lastTouchMs<b1||(this._modality.next(oC(i)?"keyboard":"mouse"),this._mostRecentTarget=as(i))};_onTouchstart=i=>{if(rC(i)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=as(i)};constructor(){let i=_(Ce),n=_(Ne),s=_(V3,{optional:!0});this._options=w(w({},G3),s),this.modalityDetected=this._modality.pipe(yg(1)),this.modalityChanged=this.modalityDetected.pipe(tu()),this._platform.isBrowser&&i.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,ac),n.addEventListener("mousedown",this._onMousedown,ac),n.addEventListener("touchstart",this._onTouchstart,ac)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ac),document.removeEventListener("mousedown",this._onMousedown,ac),document.removeEventListener("touchstart",this._onTouchstart,ac))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),j3=new Z("liveAnnouncerElement",{providedIn:"root",factory:W3});function W3(){return null}var U3=new Z("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),$3=0,C1=(()=>{class e{_ngZone=_(Ce);_defaultOptions=_(U3,{optional:!0});_liveElement;_document=_(Ne);_previousTimeout;_currentPromise;_currentResolve;constructor(){let i=_(j3,{optional:!0});this._liveElement=i||this._createLiveElement()}announce(i,...n){let s=this._defaultOptions,o,r;return n.length===1&&typeof n[0]=="number"?r=n[0]:[o,r]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=s&&s.politeness?s.politeness:"polite"),r==null&&s&&(r=s.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,typeof r=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),r)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let i="cdk-live-announcer-element",n=this._document.getElementsByClassName(i),s=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return s.classList.add(i),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),s.id=`cdk-live-announcer-${$3++}`,this._document.body.appendChild(s),s}_exposeAnnouncerToModals(i){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<n.length;s++){let o=n[s],r=o.getAttribute("aria-owns");r?r.indexOf(i)===-1&&o.setAttribute("aria-owns",r+" "+i):o.setAttribute("aria-owns",i)}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var tm=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(tm||{}),Y3=new Z("cdk-focus-monitor-default-options"),em=Hr({passive:!0,capture:!0}),om=(()=>{class e{_ngZone=_(Ce);_platform=_(Tt);_inputModalityDetector=_(H3);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=_(Ne,{optional:!0});_stopInputModalityDetector=new ye;constructor(){let i=_(Y3,{optional:!0});this._detectionMode=i?.detectionMode||tm.IMMEDIATE}_rootNodeFocusAndBlurListener=i=>{let n=as(i);for(let s=n;s;s=s.parentElement)i.type==="focus"?this._onFocus(i,s):this._onBlur(i,s)};monitor(i,n=!1){let s=rs(i);if(!this._platform.isBrowser||s.nodeType!==1)return ue();let o=r1(s)||this._getDocument(),r=this._elementInfo.get(s);if(r)return n&&(r.checkChildren=!0),r.subject;let a={checkChildren:n,subject:new ye,rootNode:o};return this._elementInfo.set(s,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(i){let n=rs(i),s=this._elementInfo.get(n);s&&(s.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(s))}focusVia(i,n,s){let o=rs(i),r=this._getDocument().activeElement;o===r?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,n,l)):(this._setOrigin(n),typeof o.focus=="function"&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((i,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===tm.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,n){i.classList.toggle("cdk-focused",!!n),i.classList.toggle("cdk-touch-focused",n==="touch"),i.classList.toggle("cdk-keyboard-focused",n==="keyboard"),i.classList.toggle("cdk-mouse-focused",n==="mouse"),i.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(i,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&n,this._detectionMode===tm.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?b1:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(i,n){let s=this._elementInfo.get(n),o=as(i);!s||!s.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),s)}_onBlur(i,n){let s=this._elementInfo.get(n);!s||s.checkChildren&&i.relatedTarget instanceof Node&&n.contains(i.relatedTarget)||(this._setClasses(n),this._emitOrigin(s,null))}_emitOrigin(i,n){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(n))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let n=i.rootNode,s=this._rootNodeFocusListenerCount.get(n)||0;s||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,em),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,em)}),this._rootNodeFocusListenerCount.set(n,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Jt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(i){let n=i.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let s=this._rootNodeFocusListenerCount.get(n);s>1?this._rootNodeFocusListenerCount.set(n,s-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,em),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,em),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,n,s){this._setClasses(i,n),this._emitOrigin(s,n),this._lastFocusOrigin=n}_getClosestElementsInfo(i){let n=[];return this._elementInfo.forEach((s,o)=>{(o===i||s.checkChildren&&o.contains(i))&&n.push([o,s])}),n}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:n,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!n||n===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let o=i.labels;if(o){for(let r=0;r<o.length;r++)if(o[r].contains(n))return!0}return!1}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ya=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(Ya||{}),h1="cdk-high-contrast-black-on-white",p1="cdk-high-contrast-white-on-black",Zb="cdk-high-contrast-active",aC=(()=>{class e{_platform=_(Tt);_hasCheckedHighContrastMode;_document=_(Ne);_breakpointSubscription;constructor(){this._breakpointSubscription=_(d1).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ya.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let n=this._document.defaultView||window,s=n&&n.getComputedStyle?n.getComputedStyle(i):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(i.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ya.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ya.BLACK_ON_WHITE}return Ya.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(Zb,h1,p1),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Ya.BLACK_ON_WHITE?i.add(Zb,h1):n===Ya.WHITE_ON_BLACK&&i.add(Zb,p1)}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),w1=(()=>{class e{constructor(){_(aC)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[rc]})}return e})(),qb={},zi=(()=>{class e{_appId=_(iu);getId(i){return this._appId!=="ng"&&(i+=this._appId),qb.hasOwnProperty(i)||(qb[i]=0),`${i}${qb[i]++}`}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var x1=Ub(),lC=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,i){this._viewportRuler=t,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ii(-this._previousScrollPosition.left),t.style.top=ii(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,i=this._document.body,n=t.style,s=i.style,o=n.scrollBehavior||"",r=s.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),x1&&(n.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),x1&&(n.scrollBehavior=o,s.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,n=this._viewportRuler.getViewportSize();return i.scrollHeight>n.height||i.scrollWidth>n.width}};var cC=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,i,n,s){this._scrollDispatcher=t,this._ngZone=i,this._viewportRuler=n,this._config=s}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Mt(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},rm=class{enable(){}disable(){}attach(){}};function dC(e,t){return t.some(i=>{let n=e.bottom<i.top,s=e.top>i.bottom,o=e.right<i.left,r=e.left>i.right;return n||s||o||r})}function S1(e,t){return t.some(i=>{let n=e.top<i.top,s=e.bottom>i.bottom,o=e.left<i.left,r=e.right>i.right;return n||s||o||r})}var uC=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,i,n,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=n,this._config=s}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:s}=this._viewportRuler.getViewportSize();dC(i,[{width:n,height:s,bottom:s,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},K3=(()=>{class e{_scrollDispatcher=_(a1);_viewportRuler=_(Su);_ngZone=_(Ce);_document=_(Ne);constructor(){}noop=()=>new rm;close=i=>new cC(this._scrollDispatcher,this._ngZone,this._viewportRuler,i);block=()=>new lC(this._viewportRuler,this._document);reposition=i=>new uC(this._scrollDispatcher,this._viewportRuler,this._ngZone,i);static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lc=class{positionStrategy;scrollStrategy=new rm;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let i=Object.keys(t);for(let n of i)t[n]!==void 0&&(this[n]=t[n])}}};var hC=class{connectionPair;scrollableViewProperties;constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}};var R1=(()=>{class e{_attachedOverlays=[];_document=_(Ne);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let n=this._attachedOverlays.indexOf(i);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Z3=(()=>{class e extends R1{_ngZone=_(Ce);_renderer=_(ss).createRenderer(null,null);_cleanupKeydown;add(i){super.add(i),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=i=>{let n=this._attachedOverlays;for(let s=n.length-1;s>-1;s--)if(n[s]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[s]._keydownEvents.next(i));break}};static \u0275fac=(()=>{let i;return function(s){return(i||(i=rn(e)))(s||e)}})();static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),q3=(()=>{class e extends R1{_platform=_(Tt);_ngZone=_(Ce,{optional:!0});_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;add(i){if(super.add(i),!this._isAttached){let n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}_pointerDownListener=i=>{this._pointerDownEventTarget=as(i)};_clickListener=i=>{let n=as(i),s=i.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let r=o.length-1;r>-1;r--){let a=o[r];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(M1(a.overlayElement,n)||M1(a.overlayElement,s))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(i)):l.next(i)}};static \u0275fac=(()=>{let i;return function(s){return(i||(i=rn(e)))(s||e)}})();static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function M1(e,t){let i=typeof ShadowRoot<"u"&&ShadowRoot,n=t;for(;n;){if(n===e)return!0;n=i&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var A1=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,s){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return e})(),am=(()=>{class e{_platform=_(Tt);_containerElement;_document=_(Ne);_styleLoader=_(ls);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||$b()){let s=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}let n=this._document.createElement("div");n.classList.add(i),$b()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(A1)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pC=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,i,n,s){this._renderer=i,this._ngZone=n,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=i.listen(this.element,"click",s)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},cc=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new ye;_attachments=new ye;_detachments=new ye;_positionStrategy;_scrollStrategy;_locationChanges=$i.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new ye;_outsidePointerEvents=new ye;_renders=new ye;_afterRenderRef;_afterNextRenderRef;constructor(t,i,n,s,o,r,a,l,c,d=!1,u,h){this._portalOutlet=t,this._host=i,this._pane=n,this._config=s,this._ngZone=o,this._keyboardDispatcher=r,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=u,this._renderer=h,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy,this._afterRenderRef=Os(()=>wg(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=No(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=w(w({},this._config),t),this._updateElementSize()}setDirection(t){this._config=A(w({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=ii(this._config.width),t.height=ii(this._config.height),t.minWidth=ii(this._config.minWidth),t.minHeight=ii(this._config.minHeight),t.maxWidth=ii(this._config.maxWidth),t.maxHeight=ii(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new pC(this._document,this._renderer,this._ngZone,i=>{this._backdropClick.next(i)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,i,n){let s=ic(i||[]).filter(o=>!!o);s.length&&(n?t.classList.add(...s):t.classList.remove(...s))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(Jt(ro(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},D1="cdk-overlay-connected-position-bounding-box",X3=/([A-Za-z%]+)$/,gC=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new ye;_resizeSubscription=$i.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,i,n,s,o){this._viewportRuler=i,this._document=n,this._platform=s,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(D1),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,i=this._overlayRect,n=this._viewportRect,s=this._containerRect,o=[],r;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,s,a),c=this._getOverlayPoint(l,i,a),d=this._getOverlayFit(c,i,n,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,n)){o.push({position:a,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!r||r.overlayFit.visibleArea<d.visibleArea)&&(r={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:i})}if(o.length){let a=null,l=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(r.position,r.originPoint);return}this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ka(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(D1),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,i)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,i,n){let s;if(n.originX=="center")s=t.left+t.width/2;else{let r=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;s=n.originX=="start"?r:a}i.left<0&&(s-=i.left);let o;return n.originY=="center"?o=t.top+t.height/2:o=n.originY=="top"?t.top:t.bottom,i.top<0&&(o-=i.top),{x:s,y:o}}_getOverlayPoint(t,i,n){let s;n.overlayX=="center"?s=-i.width/2:n.overlayX==="start"?s=this._isRtl()?-i.width:0:s=this._isRtl()?0:-i.width;let o;return n.overlayY=="center"?o=-i.height/2:o=n.overlayY=="top"?0:-i.height,{x:t.x+s,y:t.y+o}}_getOverlayFit(t,i,n,s){let o=E1(i),{x:r,y:a}=t,l=this._getOffset(s,"x"),c=this._getOffset(s,"y");l&&(r+=l),c&&(a+=c);let d=0-r,u=r+o.width-n.width,h=0-a,p=a+o.height-n.height,g=this._subtractOverflows(o.width,d,u),m=this._subtractOverflows(o.height,h,p),f=g*m;return{visibleArea:f,isCompletelyWithinViewport:o.width*o.height===f,fitsInViewportVertically:m===o.height,fitsInViewportHorizontally:g==o.width}}_canFitWithFlexibleDimensions(t,i,n){if(this._hasFlexibleDimensions){let s=n.bottom-i.y,o=n.right-i.x,r=_1(this._overlayRef.getConfig().minHeight),a=_1(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||r!=null&&r<=s,c=t.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(t,i,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let s=E1(i),o=this._viewportRect,r=Math.max(t.x+s.width-o.width,0),a=Math.max(t.y+s.height-o.height,0),l=Math.max(o.top-n.top-t.y,0),c=Math.max(o.left-n.left-t.x,0),d=0,u=0;return s.width<=o.width?d=c||-r:d=t.x<this._viewportMargin?o.left-n.left-t.x:0,s.height<=o.height?u=l||-a:u=t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,i){if(this._setTransformOrigin(t),this._setOverlayElementStyles(i,t),this._setBoundingBoxStyles(i,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!Q3(this._lastScrollVisibility,n)){let s=new hC(t,n);this._positionChanges.next(s)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,s=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let o=0;o<i.length;o++)i[o].style.transformOrigin=`${n} ${s}`}_calculateBoundingBoxRect(t,i){let n=this._viewportRect,s=this._isRtl(),o,r,a;if(i.overlayY==="top")r=t.y,o=n.height-r+this._viewportMargin;else if(i.overlayY==="bottom")a=n.height-t.y+this._viewportMargin*2,o=n.height-a+this._viewportMargin;else{let p=Math.min(n.bottom-t.y+n.top,t.y),g=this._lastBoundingBoxSize.height;o=p*2,r=t.y-p,o>g&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-g/2)}let l=i.overlayX==="start"&&!s||i.overlayX==="end"&&s,c=i.overlayX==="end"&&!s||i.overlayX==="start"&&s,d,u,h;if(c)h=n.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)u=t.x,d=n.right-t.x;else{let p=Math.min(n.right-t.x+n.left,t.x),g=this._lastBoundingBoxSize.width;d=p*2,u=t.x-p,d>g&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-g/2)}return{top:r,left:u,bottom:a,right:h,width:d,height:o}}_setBoundingBoxStyles(t,i){let n=this._calculateBoundingBoxRect(t,i);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;s.height=ii(n.height),s.top=ii(n.top),s.bottom=ii(n.bottom),s.width=ii(n.width),s.left=ii(n.left),s.right=ii(n.right),i.overlayX==="center"?s.alignItems="center":s.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?s.justifyContent="center":s.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",o&&(s.maxHeight=ii(o)),r&&(s.maxWidth=ii(r))}this._lastBoundingBoxSize=n,Ka(this._boundingBox.style,s)}_resetBoundingBoxStyles(){Ka(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ka(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,i){let n={},s=this._hasExactPosition(),o=this._hasFlexibleDimensions,r=this._overlayRef.getConfig();if(s){let d=this._viewportRuler.getViewportScrollPosition();Ka(n,this._getExactOverlayY(i,t,d)),Ka(n,this._getExactOverlayX(i,t,d))}else n.position="static";let a="",l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),r.maxHeight&&(s?n.maxHeight=ii(r.maxHeight):o&&(n.maxHeight="")),r.maxWidth&&(s?n.maxWidth=ii(r.maxWidth):o&&(n.maxWidth="")),Ka(this._pane.style,n)}_getExactOverlayY(t,i,n){let s={top:"",bottom:""},o=this._getOverlayPoint(i,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),t.overlayY==="bottom"){let r=this._document.documentElement.clientHeight;s.bottom=`${r-(o.y+this._overlayRect.height)}px`}else s.top=ii(o.y);return s}_getExactOverlayX(t,i,n){let s={left:"",right:""},o=this._getOverlayPoint(i,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let r;if(this._isRtl()?r=t.overlayX==="end"?"left":"right":r=t.overlayX==="end"?"right":"left",r==="right"){let a=this._document.documentElement.clientWidth;s.right=`${a-(o.x+this._overlayRect.width)}px`}else s.left=ii(o.x);return s}_getScrollVisibility(){let t=this._getOriginRect(),i=this._pane.getBoundingClientRect(),n=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:S1(t,n),isOriginOutsideView:dC(t,n),isOverlayClipped:S1(i,n),isOverlayOutsideView:dC(i,n)}}_subtractOverflows(t,...i){return i.reduce((n,s)=>n-Math.max(s,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+i-this._viewportMargin,width:t-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,i){return i==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ic(t).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Oe)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let i=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+i,height:n,width:i}}};function Ka(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function _1(e){if(typeof e!="number"&&e!=null){let[t,i]=e.split(X3);return!i||i==="px"?parseFloat(t):null}return e||null}function E1(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function Q3(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var I1="cdk-global-overlay-wrapper",mC=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let i=t.getConfig();this._overlayRef=t,this._width&&!i.width&&t.updateSize({width:this._width}),this._height&&!i.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(I1),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:s,height:o,maxWidth:r,maxHeight:a}=n,l=(s==="100%"||s==="100vw")&&(!r||r==="100%"||r==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",p="",g="",m="";l?m="flex-start":d==="center"?(m="center",h?g=u:p=u):h?d==="left"||d==="end"?(m="flex-end",p=u):(d==="right"||d==="start")&&(m="flex-start",g=u):d==="left"||d==="start"?(m="flex-start",p=u):(d==="right"||d==="end")&&(m="flex-end",g=u),t.position=this._cssPosition,t.marginLeft=l?"0":p,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":g,i.justifyContent=m,i.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,n=i.style;i.classList.remove(I1),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},J3=(()=>{class e{_viewportRuler=_(Su);_document=_(Ne);_platform=_(Tt);_overlayContainer=_(am);constructor(){}global(){return new mC}flexibleConnectedTo(i){return new gC(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Wn=(()=>{class e{scrollStrategies=_(K3);_overlayContainer=_(am);_positionBuilder=_(J3);_keyboardDispatcher=_(Z3);_injector=_(Rt);_ngZone=_(Ce);_document=_(Ne);_directionality=_(Hn);_location=_(za);_outsideClickDispatcher=_(q3);_animationsModuleType=_(Di,{optional:!0});_idGenerator=_(zi);_renderer=_(ss).createRenderer(null,null);_appRef;_styleLoader=_(ls);constructor(){}create(i){this._styleLoader.load(A1);let n=this._createHostElement(),s=this._createPaneElement(n),o=this._createPortalOutlet(s),r=new lc(i);return r.direction=r.direction||this._directionality.value,new cc(o,n,s,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Ps),this._renderer)}position(){return this._positionBuilder}_createPaneElement(i){let n=this._document.createElement("div");return n.id=this._idGenerator.getId("cdk-overlay-"),n.classList.add("cdk-overlay-pane"),i.appendChild(n),n}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(zr)),new Xg(i,null,this._appRef,this._injector,this._document)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),e4=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],k1=new Z("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=_(Wn);return()=>e.scrollStrategies.reposition()}}),_u=(()=>{class e{elementRef=_(Oe);constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275dir=We({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return e})(),fC=(()=>{class e{_overlay=_(Wn);_dir=_(Hn,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=$i.EMPTY;_attachSubscription=$i.EMPTY;_detachSubscription=$i.EMPTY;_positionSubscription=$i.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=_(k1);_disposeOnNavigation=!1;_ngZone=_(Ce);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(i){this._offsetX=i,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(i){this._offsetY=i,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(i){this._disposeOnNavigation=i}backdropClick=new P;positionChange=new P;attach=new P;detach=new P;overlayKeydown=new P;overlayOutsideClick=new P;constructor(){let i=_(Xl),n=_(Bo);this._templatePortal=new Wa(i,n),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(i){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),i.origin&&this.open&&this._position.apply()),i.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=e4);let i=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=i.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=i.detachments().subscribe(()=>this.detach.emit()),i.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!jn(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let s=this._getOriginElement(),o=as(n);(!s||s!==o&&!s.contains(o))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let i=this._position=this.positionStrategy||this._createPositionStrategy(),n=new lc({direction:this._dir||"ltr",positionStrategy:i,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(i){let n=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return i.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let i=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(i),i}_getOrigin(){return this.origin instanceof _u?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof _u?this.origin.elementRef.nativeElement:this.origin instanceof Oe?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(i=>{this.backdropClick.emit(i)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(BD(()=>this.positionChange.observers.length>0)).subscribe(i=>{this._ngZone.run(()=>this.positionChange.emit(i)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=We({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",k],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",k],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",k],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",k],push:[2,"cdkConnectedOverlayPush","push",k],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",k]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[ei]})}return e})();function t4(e){return()=>e.scrollStrategies.reposition()}var i4={provide:k1,deps:[Wn],useFactory:t4},dc=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({providers:[Wn,i4],imports:[jr,Ua,Yb,Yb]})}return e})();function n4(e,t){}var Wr=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var yC=(()=>{class e extends oc{_elementRef=_(Oe);_focusTrapFactory=_(y1);_config;_interactivityChecker=_(sC);_ngZone=_(Ce);_overlayRef=_(cc);_focusMonitor=_(om);_renderer=_(os);_platform=_(Tt);_document=_(Ne,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=_(Ei);_injector=_(Rt);_isDestroyed=!1;constructor(){super(),this._config=_(Wr,{optional:!0})||new Wr,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(i){this._ariaLabelledByQueue.push(i),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(i){let n=this._ariaLabelledByQueue.indexOf(i);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),n}attachTemplatePortal(i){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),n}attachDomPortal=i=>{this._portalOutlet.hasAttached();let n=this._portalOutlet.attachDomPortal(i);return this._contentAttached(),n};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,n){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let s=()=>{o(),r(),i.removeAttribute("tabindex")},o=this._renderer.listen(i,"blur",s),r=this._renderer.listen(i,"mousedown",s)})),i.focus(n)}_focusByCssSelector(i,n){let s=this._elementRef.nativeElement.querySelector(i);s&&this._forceFocus(s,n)}_trapFocus(){this._isDestroyed||No(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let i=this._config.restoreFocus,n=null;if(typeof i=="string"?n=this._document.querySelector(i):typeof i=="boolean"?n=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(n=i),this._config.restoreFocus&&n&&typeof n.focus=="function"){let s=xu(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let i=this._elementRef.nativeElement,n=xu();return i===n||i.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=xu()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(n,s){if(n&1&&Gt(Du,7),n&2){let o;Ye(o=Ke())&&(s._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,s){n&2&&tt("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},features:[_i],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,s){n&1&&$e(0,n4,0,0,"ng-template",0)},dependencies:[Du],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return e})(),Iu=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new ye;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,i){this.overlayRef=t,this.config=i,this.disableClose=i.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!jn(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{i.closeOnOverlayDetachments!==!1&&this.close()})}close(t,i){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",i=""){return this.overlayRef.updateSize({width:t,height:i}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},s4=new Z("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=_(Wn);return()=>e.scrollStrategies.block()}}),o4=new Z("DialogData"),r4=new Z("DefaultDialogConfig");var bC=(()=>{class e{_overlay=_(Wn);_injector=_(Rt);_defaultOptions=_(r4,{optional:!0});_parentDialog=_(e,{optional:!0,skipSelf:!0});_overlayContainer=_(am);_idGenerator=_(zi);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new ye;_afterOpenedAtThisLevel=new ye;_ariaHiddenElements=new Map;_scrollStrategy=_(s4);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Oo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Dn(void 0)));constructor(){}open(i,n){let s=this._defaultOptions||new Wr;n=w(w({},s),n),n.id=n.id||this._idGenerator.getId("cdk-dialog-"),n.id&&this.getDialogById(n.id);let o=this._getOverlayConfig(n),r=this._overlay.create(o),a=new Iu(r,n),l=this._attachContainer(r,a,n);return a.containerInstance=l,this._attachDialogContent(i,a,l,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){vC(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(n=>n.id===i)}ngOnDestroy(){vC(this._openDialogsAtThisLevel,i=>{i.config.closeOnDestroy===!1&&this._removeOpenDialog(i,!1)}),vC(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){let n=new lc({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(n.backdropClass=i.backdropClass),n}_attachContainer(i,n,s){let o=s.injector||s.viewContainerRef?.injector,r=[{provide:Wr,useValue:s},{provide:Iu,useValue:n},{provide:cc,useValue:i}],a;s.container?typeof s.container=="function"?a=s.container:(a=s.container.type,r.push(...s.container.providers(s))):a=yC;let l=new sc(a,s.viewContainerRef,Rt.create({parent:o||this._injector,providers:r}));return i.attach(l).instance}_attachDialogContent(i,n,s,o){if(i instanceof Xl){let r=this._createInjector(o,n,s,void 0),a={$implicit:o.data,dialogRef:n};o.templateContext&&(a=w(w({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),s.attachTemplatePortal(new Wa(i,null,a,r))}else{let r=this._createInjector(o,n,s,this._injector),a=s.attachComponentPortal(new sc(i,o.viewContainerRef,r));n.componentRef=a,n.componentInstance=a.instance}}_createInjector(i,n,s,o){let r=i.injector||i.viewContainerRef?.injector,a=[{provide:o4,useValue:i.data},{provide:Iu,useValue:n}];return i.providers&&(typeof i.providers=="function"?a.push(...i.providers(n,i,s)):a.push(...i.providers)),i.direction&&(!r||!r.get(Hn,null,{optional:!0}))&&a.push({provide:Hn,useValue:{value:i.direction,change:ue()}}),Rt.create({parent:r||o,providers:a})}_removeOpenDialog(i,n){let s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,r)=>{o?r.setAttribute("aria-hidden",o):r.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let i=this._overlayContainer.getContainerElement();if(i.parentElement){let n=i.parentElement.children;for(let s=n.length-1;s>-1;s--){let o=n[s];o!==i&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function vC(e,t){let i=e.length;for(;i--;)t(e[i])}var T1=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({providers:[bC],imports:[dc,Ua,w1,Ua]})}return e})();var a4=["text"],l4=[[["mat-icon"]],"*"],c4=["mat-icon","*"];function d4(e,t){if(e&1&&ze(0,"mat-pseudo-checkbox",1),e&2){let i=ft();Fe("disabled",i.disabled)("state",i.selected?"checked":"unchecked")}}function u4(e,t){if(e&1&&ze(0,"mat-pseudo-checkbox",3),e&2){let i=ft();Fe("disabled",i.disabled)}}function h4(e,t){if(e&1&&(Q(0,"span",4),kt(1),J()),e&2){let i=ft();ie(),d_("(",i.group.label,")")}}var Be=(()=>{class e{constructor(){_(aC)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[jr,jr]})}return e})(),uc=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,i,n,s,o){this._defaultMatcher=t,this.ngControl=i,this._parentFormGroup=n,this._parentForm=s,this._stateChanges=o}updateErrorState(){let t=this.errorState,i=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,s=this.ngControl?this.ngControl.control:null,o=n?.isErrorState(s,i)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var um=(()=>{class e{isErrorState(i,n){return!!(i&&i.invalid&&(i.touched||n&&n.submitted))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ru=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,s){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return e})();var SC=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Be,Be]})}return e})(),cs=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(cs||{}),CC=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=cs.HIDDEN;constructor(t,i,n,s=!1){this._renderer=t,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=s}fadeOut(){this._renderer.fadeOutRipple(this)}},L1=Hr({passive:!0,capture:!0}),wC=class{_events=new Map;addHandler(t,i,n,s){let o=this._events.get(i);if(o){let r=o.get(n);r?r.add(s):o.set(n,new Set([s]))}else this._events.set(i,new Map([[n,new Set([s])]])),t.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,L1)})}removeHandler(t,i,n){let s=this._events.get(t);if(!s)return;let o=s.get(i);o&&(o.delete(n),o.size===0&&s.delete(i),s.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,L1)))}_delegateEventHandler=t=>{let i=as(t);i&&this._events.get(t.type)?.forEach((n,s)=>{(s===i||s.contains(i))&&n.forEach(o=>o.handleEvent(t))})}},F1={enterDuration:225,exitDuration:150},p4=800,P1=Hr({passive:!0,capture:!0}),O1=["mousedown","touchstart"],N1=["mouseup","mouseleave","touchend","touchcancel"],g4=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,s){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return e})(),lm=class e{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new wC;constructor(t,i,n,s,o){this._target=t,this._ngZone=i,this._platform=s,s.isBrowser&&(this._containerElement=rs(n)),o&&o.get(ls).load(g4)}fadeInRipple(t,i,n={}){let s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=w(w({},F1),n.animation);n.centered&&(t=s.left+s.width/2,i=s.top+s.height/2);let r=n.radius||m4(t,i,s),a=t-s.left,l=i-s.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-r}px`,d.style.top=`${l-r}px`,d.style.height=`${r*2}px`,d.style.width=`${r*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,p=u.transitionDuration,g=h==="none"||p==="0s"||p==="0s, 0s"||s.width===0&&s.height===0,m=new CC(this,d,n,g);d.style.transform="scale3d(1, 1, 1)",m.state=cs.FADING_IN,n.persistent||(this._mostRecentTransientRipple=m);let f=null;return!g&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let v=()=>{f&&(f.fallbackTimer=null),clearTimeout(C),this._finishRippleTransition(m)},y=()=>this._destroyRipple(m),C=setTimeout(y,c+100);d.addEventListener("transitionend",v),d.addEventListener("transitioncancel",y),f={onTransitionEnd:v,onTransitionCancel:y,fallbackTimer:C}}),this._activeRipples.set(m,f),(g||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(t){if(t.state===cs.FADING_OUT||t.state===cs.HIDDEN)return;let i=t.element,n=w(w({},F1),t.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",t.state=cs.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let i=rs(t);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,O1.forEach(n=>{e._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{N1.forEach(i=>{this._triggerElement.addEventListener(i,this,P1)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===cs.FADING_IN?this._startFadeOutTransition(t):t.state===cs.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let i=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=cs.VISIBLE,!n&&(!i||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let i=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=cs.HIDDEN,i!==null&&(t.element.removeEventListener("transitionend",i.onTransitionEnd),t.element.removeEventListener("transitioncancel",i.onTransitionCancel),i.fallbackTimer!==null&&clearTimeout(i.fallbackTimer)),t.element.remove()}_onMousedown(t){let i=oC(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+p4;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!rC(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=t.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let i=t.state===cs.VISIBLE||t.config.terminateOnPointerUp&&t.state===cs.FADING_IN;!t.config.persistent&&i&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(O1.forEach(i=>e._eventManager.removeHandler(i,t,this)),this._pointerUpEventsRegistered&&(N1.forEach(i=>t.removeEventListener(i,this,P1)),this._pointerUpEventsRegistered=!1))}};function m4(e,t,i){let n=Math.max(Math.abs(e-i.left),Math.abs(e-i.right)),s=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(n*n+s*s)}var B1=new Z("mat-ripple-global-options"),MC=(()=>{class e{_elementRef=_(Oe);_animationMode=_(Di,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let i=_(Ce),n=_(Tt),s=_(B1,{optional:!0}),o=_(Rt);this._globalOptions=s||{},this._rippleRenderer=new lm(this,i,this._elementRef,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:w(w(w({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,n=0,s){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,n,w(w({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,w(w({},this.rippleConfig),i))}static \u0275fac=function(n){return new(n||e)};static \u0275dir=We({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,s){n&2&&it("mat-ripple-unbounded",s.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return e})(),Za=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Be,Be]})}return e})(),DC=(()=>{class e{_animationMode=_(Di,{optional:!0});state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,s){n&2&&it("mat-pseudo-checkbox-indeterminate",s.state==="indeterminate")("mat-pseudo-checkbox-checked",s.state==="checked")("mat-pseudo-checkbox-disabled",s.disabled)("mat-pseudo-checkbox-minimal",s.appearance==="minimal")("mat-pseudo-checkbox-full",s.appearance==="full")("_mat-animation-noopable",s._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(n,s){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return e})(),_C=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Be]})}return e})(),EC=new Z("MAT_OPTION_PARENT_COMPONENT"),IC=new Z("MatOptgroup");var xC=class{source;isUserInput;constructor(t,i=!1){this.source=t,this.isUserInput=i}},hm=(()=>{class e{_element=_(Oe);_changeDetectorRef=_(Ei);_parent=_(EC,{optional:!0});group=_(IC,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=_(zi).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(i){this._disabled=i}get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new P;_text;_stateChanges=new ye;constructor(){let i=_(ls);i.load(Ru),i.load(Jg),this._signalDisableRipple=!!this._parent&&Pa(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(i=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),i&&this._emitSelectionChangeEvent())}deselect(i=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),i&&this._emitSelectionChangeEvent())}focus(i,n){let s=this._getHostElement();typeof s.focus=="function"&&s.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(i){(i.keyCode===13||i.keyCode===32)&&!jn(i)&&(this._selectViaInteraction(),i.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let i=this.viewValue;i!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=i)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(i=!1){this.onSelectionChange.emit(new xC(this,i))}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["mat-option"]],viewQuery:function(n,s){if(n&1&&Gt(a4,7),n&2){let o;Ye(o=Ke())&&(s._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,s){n&1&&lt("click",function(){return s._selectViaInteraction()})("keydown",function(r){return s._handleKeydown(r)}),n&2&&(Vr("id",s.id),tt("aria-selected",s.selected)("aria-disabled",s.disabled.toString()),it("mdc-list-item--selected",s.selected)("mat-mdc-option-multiple",s.multiple)("mat-mdc-option-active",s.active)("mdc-list-item--disabled",s.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",k]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:c4,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,s){n&1&&(ui(l4),$e(0,d4,1,2,"mat-pseudo-checkbox",1),ut(1),Q(2,"span",2,0),ut(4,1),J(),$e(5,u4,1,1,"mat-pseudo-checkbox",3)(6,h4,2,1,"span",4),ze(7,"div",5)),n&2&&(Vt(s.multiple?0:-1),ie(5),Vt(!s.multiple&&s.selected&&!s.hideSingleSelectionIndicator?5:-1),ie(),Vt(s.group&&s.group._inert?6:-1),ie(),Fe("matRippleTrigger",s._getHostElement())("matRippleDisabled",s.disabled||s.disableRipple))},dependencies:[DC,MC],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return e})();function z1(e,t,i){if(i.length){let n=t.toArray(),s=i.toArray(),o=0;for(let r=0;r<e+1;r++)n[r].group&&n[r].group===s[o]&&o++;return o}return 0}function V1(e,t,i,n){return e<i?e:e+t>i+n?Math.max(0,e-n+t):i}var RC=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Za,Be,_C]})}return e})();function v4(e,t){}var gm=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},AC="mdc-dialog--open",G1="mdc-dialog--opening",H1="mdc-dialog--closing",y4=150,b4=75,C4=(()=>{class e extends yC{_animationMode=_(Di,{optional:!0});_animationStateChanged=new P;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?W1(this._config.enterAnimationDuration)??y4:0;_exitAnimationDuration=this._animationsEnabled?W1(this._config.exitAnimationDuration)??b4:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(j1,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(G1,AC)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(AC),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(AC),this._animationsEnabled?(this._hostElement.style.setProperty(j1,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(H1)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(i){this._actionSectionCount+=i,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(G1,H1)}_waitForAnimationToComplete(i,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(i):i()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(i){let n=super.attachComponentPortal(i);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static \u0275fac=(()=>{let i;return function(s){return(i||(i=rn(e)))(s||e)}})();static \u0275cmp=ge({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,s){n&2&&(Vr("id",s._config.id),tt("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),it("_mat-animation-noopable",!s._animationsEnabled)("mat-mdc-dialog-container-with-actions",s._actionSectionCount>0))},features:[_i],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,s){n&1&&(Q(0,"div",0)(1,"div",1),$e(2,v4,0,0,"ng-template",2),J()())},dependencies:[Du],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return e})(),j1="--mat-dialog-transition-duration";function W1(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?Vo(e.substring(0,e.length-2)):e.endsWith("s")?Vo(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var pm=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(pm||{}),Au=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new ye;_beforeClosed=new ye;_result;_closeFallbackTimeout;_state=pm.OPEN;_closeInteractionType;constructor(t,i,n){this._ref=t,this._containerInstance=n,this.disableClose=i.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(Mt(s=>s.state==="opened"),Oi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Mt(s=>s.state==="closed"),Oi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),ro(this.backdropClick(),this.keydownEvents().pipe(Mt(s=>s.keyCode===27&&!this.disableClose&&!jn(s)))).subscribe(s=>{this.disableClose||(s.preventDefault(),w4(this,s.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Mt(i=>i.state==="closing"),Oi(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=pm.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let i=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?i.left(t.left):i.right(t.right):i.centerHorizontally(),t&&(t.top||t.bottom)?t.top?i.top(t.top):i.bottom(t.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",i=""){return this._ref.updateSize(t,i),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=pm.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function w4(e,t,i){return e._closeInteractionType=t,e.close(i)}var kC=new Z("MatMdcDialogData"),x4=new Z("mat-mdc-dialog-default-options"),S4=new Z("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=_(Wn);return()=>e.scrollStrategies.block()}});var TC=(()=>{class e{_overlay=_(Wn);_defaultOptions=_(x4,{optional:!0});_scrollStrategy=_(S4);_parentDialog=_(e,{optional:!0,skipSelf:!0});_idGenerator=_(zi);_dialog=_(bC);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new ye;_afterOpenedAtThisLevel=new ye;dialogConfigClass=gm;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Oo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Dn(void 0)));constructor(){this._dialogRefConstructor=Au,this._dialogContainerType=C4,this._dialogDataToken=kC}open(i,n){let s;n=w(w({},this._defaultOptions||new gm),n),n.id=n.id||this._idGenerator.getId("mat-mdc-dialog-"),n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(i,A(w({},n),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:Wr,useValue:n}]},templateContext:()=>({dialogRef:s}),providers:(r,a,l)=>(s=new this._dialogRefConstructor(r,n,l),s.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:s}])}));return s.componentRef=o.componentRef,s.componentInstance=o.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{let r=this.openDialogs.indexOf(s);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(n=>n.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let n=i.length;for(;n--;)i[n].close()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var U1=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({providers:[TC],imports:[T1,dc,Ua,Be,Be]})}return e})();var eE=(()=>{class e{_renderer;_elementRef;onChange=i=>{};onTouched=()=>{};constructor(i,n){this._renderer=i,this._elementRef=n}setProperty(i,n){this._renderer.setProperty(this._elementRef.nativeElement,i,n)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}static \u0275fac=function(n){return new(n||e)(Re(os),Re(Oe))};static \u0275dir=We({type:e})}return e})(),M4=(()=>{class e extends eE{static \u0275fac=(()=>{let i;return function(s){return(i||(i=rn(e)))(s||e)}})();static \u0275dir=We({type:e,features:[_i]})}return e})(),tE=new Z("");var D4={provide:tE,useExisting:Ta(()=>mc),multi:!0};function _4(){let e=Ba()?Ba().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var E4=new Z(""),mc=(()=>{class e extends eE{_compositionMode;_composing=!1;constructor(i,n,s){super(i,n),this._compositionMode=s,this._compositionMode==null&&(this._compositionMode=!_4())}writeValue(i){let n=i??"";this.setProperty("value",n)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}static \u0275fac=function(n){return new(n||e)(Re(os),Re(Oe),Re(E4,8))};static \u0275dir=We({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){n&1&&lt("input",function(r){return s._handleInput(r.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(r){return s._compositionEnd(r.target.value)})},standalone:!1,features:[ti([D4]),_i]})}return e})();function Ur(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function iE(e){return e!=null&&typeof e.length=="number"}var NC=new Z(""),BC=new Z(""),I4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,gc=class{static min(t){return R4(t)}static max(t){return A4(t)}static required(t){return k4(t)}static requiredTrue(t){return T4(t)}static email(t){return L4(t)}static minLength(t){return F4(t)}static maxLength(t){return P4(t)}static pattern(t){return O4(t)}static nullValidator(t){return nE(t)}static compose(t){return cE(t)}static composeAsync(t){return dE(t)}};function R4(e){return t=>{if(Ur(t.value)||Ur(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}function A4(e){return t=>{if(Ur(t.value)||Ur(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}function k4(e){return Ur(e.value)?{required:!0}:null}function T4(e){return e.value===!0?null:{required:!0}}function L4(e){return Ur(e.value)||I4.test(e.value)?null:{email:!0}}function F4(e){return t=>Ur(t.value)||!iE(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function P4(e){return t=>iE(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function O4(e){if(!e)return nE;let t,i;return typeof e=="string"?(i="",e.charAt(0)!=="^"&&(i+="^"),i+=e,e.charAt(e.length-1)!=="$"&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),n=>{if(Ur(n.value))return null;let s=n.value;return t.test(s)?null:{pattern:{requiredPattern:i,actualValue:s}}}}function nE(e){return null}function sE(e){return e!=null}function oE(e){return _g(e)?Pi(e):e}function rE(e){let t={};return e.forEach(i=>{t=i!=null?w(w({},t),i):t}),Object.keys(t).length===0?null:t}function aE(e,t){return t.map(i=>i(e))}function N4(e){return!e.validate}function lE(e){return e.map(t=>N4(t)?t:i=>t.validate(i))}function cE(e){if(!e)return null;let t=e.filter(sE);return t.length==0?null:function(i){return rE(aE(i,t))}}function zC(e){return e!=null?cE(lE(e)):null}function dE(e){if(!e)return null;let t=e.filter(sE);return t.length==0?null:function(i){let n=aE(i,t).map(oE);return fg(n).pipe(Ie(rE))}}function VC(e){return e!=null?dE(lE(e)):null}function Y1(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function uE(e){return e._rawValidators}function hE(e){return e._rawAsyncValidators}function LC(e){return e?Array.isArray(e)?e:[e]:[]}function fm(e,t){return Array.isArray(e)?e.includes(t):e===t}function K1(e,t){let i=LC(t);return LC(e).forEach(s=>{fm(i,s)||i.push(s)}),i}function Z1(e,t){return LC(t).filter(i=>!fm(e,i))}var vm=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=zC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=VC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return this.control?this.control.hasError(t,i):!1}getError(t,i){return this.control?this.control.getError(t,i):null}},qa=class extends vm{name;get formDirective(){return null}get path(){return null}},Go=class extends vm{_parent=null;name=null;valueAccessor=null},FC=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},B4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ode=A(w({},B4),{"[class.ng-submitted]":"isSubmitted"}),Mm=(()=>{class e extends FC{constructor(i){super(i)}static \u0275fac=function(n){return new(n||e)(Re(Go,2))};static \u0275dir=We({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){n&2&&it("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},standalone:!1,features:[_i]})}return e})();var ku="VALID",mm="INVALID",hc="PENDING",Tu="DISABLED",$r=class{},ym=class extends $r{value;source;constructor(t,i){super(),this.value=t,this.source=i}},Fu=class extends $r{pristine;source;constructor(t,i){super(),this.pristine=t,this.source=i}},Pu=class extends $r{touched;source;constructor(t,i){super(),this.touched=t,this.source=i}},pc=class extends $r{status;source;constructor(t,i){super(),this.status=t,this.source=i}},PC=class extends $r{source;constructor(t){super(),this.source=t}},OC=class extends $r{source;constructor(t){super(),this.source=t}};function pE(e){return(Dm(e)?e.validators:e)||null}function z4(e){return Array.isArray(e)?zC(e):e||null}function gE(e,t){return(Dm(t)?t.asyncValidators:e)||null}function V4(e){return Array.isArray(e)?VC(e):e||null}function Dm(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function G4(e,t,i){let n=e.controls;if(!(t?Object.keys(n):n).length)throw new et(1e3,"");if(!n[i])throw new et(1001,"")}function H4(e,t,i){e._forEachChild((n,s)=>{if(i[s]===void 0)throw new et(1002,"")})}var bm=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,i){this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Os(this.statusReactive)}set status(t){Os(()=>this.statusReactive.set(t))}_status=zo(()=>this.statusReactive());statusReactive=ao(void 0);get valid(){return this.status===ku}get invalid(){return this.status===mm}get pending(){return this.status==hc}get disabled(){return this.status===Tu}get enabled(){return this.status!==Tu}errors;get pristine(){return Os(this.pristineReactive)}set pristine(t){Os(()=>this.pristineReactive.set(t))}_pristine=zo(()=>this.pristineReactive());pristineReactive=ao(!0);get dirty(){return!this.pristine}get touched(){return Os(this.touchedReactive)}set touched(t){Os(()=>this.touchedReactive.set(t))}_touched=zo(()=>this.touchedReactive());touchedReactive=ao(!1);get untouched(){return!this.touched}_events=new ye;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(K1(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(K1(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Z1(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Z1(t,this._rawAsyncValidators))}hasValidator(t){return fm(this._rawValidators,t)}hasAsyncValidator(t){return fm(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let i=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(A(w({},t),{sourceControl:n})),i&&t.emitEvent!==!1&&this._events.next(new Pu(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(t))}markAsUntouched(t={}){let i=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),i&&t.emitEvent!==!1&&this._events.next(new Pu(!1,n))}markAsDirty(t={}){let i=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(A(w({},t),{sourceControl:n})),i&&t.emitEvent!==!1&&this._events.next(new Fu(!1,n))}markAsPristine(t={}){let i=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&t.emitEvent!==!1&&this._events.next(new Fu(!0,n))}markAsPending(t={}){this.status=hc;let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new pc(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(A(w({},t),{sourceControl:i}))}disable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=Tu,this.errors=null,this._forEachChild(s=>{s.disable(A(w({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ym(this.value,n)),this._events.next(new pc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(A(w({},t),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=ku,this._forEachChild(n=>{n.enable(A(w({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(A(w({},t),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,i){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ku||this.status===hc)&&this._runAsyncValidator(n,t.emitEvent)}let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ym(this.value,i)),this._events.next(new pc(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(A(w({},t),{sourceControl:i}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tu:ku}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,i){if(this.asyncValidator){this.status=hc,this._hasOwnPendingAsyncValidator={emitEvent:i!==!1};let n=oE(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:i,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(i.emitEvent!==!1,this,i.shouldHaveEmitted)}get(t){let i=t;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,s)=>n&&n._find(s),this)}getError(t,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,i,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new pc(this.status,i)),this._parent&&this._parent._updateControlsErrors(t,i,n)}_initObservables(){this.valueChanges=new P,this.statusChanges=new P}_calculateStatus(){return this._allControlsDisabled()?Tu:this.errors?mm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hc)?hc:this._anyControlsHaveStatus(mm)?mm:ku}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,i){let n=!this._anyControlsDirty(),s=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),s&&this._events.next(new Fu(this.pristine,i))}_updateTouched(t={},i){this.touched=this._anyControlsTouched(),this._events.next(new Pu(this.touched,i)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Dm(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let i=this._parent&&this._parent.dirty;return!t&&!!i&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=z4(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=V4(this._rawAsyncValidators)}},Cm=class extends bm{constructor(t,i,n){super(pE(i),gE(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,n={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){H4(this,!0,t),Object.keys(t).forEach(n=>{G4(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(Object.keys(t).forEach(n=>{let s=this.controls[n];s&&s.patchValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((n,s)=>{n.reset(t?t[s]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,n)=>(t[n]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&t(n,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(i,n,s)=>((n.enabled||this.disabled)&&(i[s]=n.value),i))}_reduceChildren(t,i){let n=t;return this._forEachChild((s,o)=>{n=i(n,s,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Ou=new Z("",{providedIn:"root",factory:()=>_m}),_m="always";function j4(e,t){return[...t.path,e]}function wm(e,t,i=_m){GC(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||i==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),U4(e,t),Y4(e,t),$4(e,t),W4(e,t)}function q1(e,t,i=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Sm(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function xm(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function W4(e,t){if(t.valueAccessor.setDisabledState){let i=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}function GC(e,t){let i=uE(e);t.validator!==null?e.setValidators(Y1(i,t.validator)):typeof i=="function"&&e.setValidators([i]);let n=hE(e);t.asyncValidator!==null?e.setAsyncValidators(Y1(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let s=()=>e.updateValueAndValidity();xm(t._rawValidators,s),xm(t._rawAsyncValidators,s)}function Sm(e,t){let i=!1;if(e!==null){if(t.validator!==null){let s=uE(e);if(Array.isArray(s)&&s.length>0){let o=s.filter(r=>r!==t.validator);o.length!==s.length&&(i=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let s=hE(e);if(Array.isArray(s)&&s.length>0){let o=s.filter(r=>r!==t.asyncValidator);o.length!==s.length&&(i=!0,e.setAsyncValidators(o))}}}let n=()=>{};return xm(t._rawValidators,n),xm(t._rawAsyncValidators,n),i}function U4(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&mE(e,t)})}function $4(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&mE(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function mE(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Y4(e,t){let i=(n,s)=>{t.valueAccessor.writeValue(n),s&&t.viewToModelUpdate(n)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}function fE(e,t){e==null,GC(e,t)}function K4(e,t){return Sm(e,t)}function Z4(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return i.isFirstChange()?!0:!Object.is(t,i.currentValue)}function q4(e){return Object.getPrototypeOf(e.constructor)===M4}function vE(e,t){e._syncPendingControls(),t.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function X4(e,t){if(!t)return null;Array.isArray(t);let i,n,s;return t.forEach(o=>{o.constructor===mc?i=o:q4(o)?n=o:s=o}),s||n||i||null}function Q4(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}var J4={provide:qa,useExisting:Ta(()=>Nu)},Lu=Promise.resolve(),Nu=(()=>{class e extends qa{callSetDisabledState;get submitted(){return Os(this.submittedReactive)}_submitted=zo(()=>this.submittedReactive());submittedReactive=ao(!1);_directives=new Set;form;ngSubmit=new P;options;constructor(i,n,s){super(),this.callSetDisabledState=s,this.form=new Cm({},zC(i),VC(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Lu.then(()=>{let n=this._findContainer(i.path);i.control=n.registerControl(i.name,i.control),wm(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Lu.then(()=>{let n=this._findContainer(i.path);n&&n.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Lu.then(()=>{let n=this._findContainer(i.path),s=new Cm({});fE(s,i),n.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Lu.then(()=>{let n=this._findContainer(i.path);n&&n.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,n){Lu.then(()=>{this.form.get(i.path).setValue(n)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submittedReactive.set(!0),vE(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}static \u0275fac=function(n){return new(n||e)(Re(NC,10),Re(BC,10),Re(Ou,8))};static \u0275dir=We({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,s){n&1&&lt("submit",function(r){return s.onSubmit(r)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ti([J4]),_i]})}return e})();function X1(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function Q1(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var yE=class extends bm{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,i,n){super(pE(i),gE(n,i)),this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dm(i)&&(i.nonNullable||i.initialValueIsDefault)&&(Q1(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){X1(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){X1(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Q1(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var eB=e=>e instanceof yE;var tB={provide:Go,useExisting:Ta(()=>Bu)},J1=Promise.resolve(),Bu=(()=>{class e extends Go{_changeDetectorRef;callSetDisabledState;control=new yE;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new P;constructor(i,n,s,o,r,a){super(),this._changeDetectorRef=r,this.callSetDisabledState=a,this._parent=i,this._setValidators(n),this._setAsyncValidators(s),this.valueAccessor=X4(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let n=i.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Z4(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){wm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){J1.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let n=i.isDisabled.currentValue,s=n!==0&&k(n);J1.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?j4(i,this._parent):[i]}static \u0275fac=function(n){return new(n||e)(Re(qa,9),Re(NC,10),Re(BC,10),Re(tE,10),Re(Ei,8),Re(Ou,8))};static \u0275dir=We({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ti([tB]),_i,ei]})}return e})();var iB=new Z("");var nB={provide:qa,useExisting:Ta(()=>zu)},zu=(()=>{class e extends qa{callSetDisabledState;get submitted(){return Os(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}_submitted=zo(()=>this._submittedReactive());_submittedReactive=ao(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new P;constructor(i,n,s){super(),this.callSetDisabledState=s,this._setValidators(i),this._setAsyncValidators(n)}ngOnChanges(i){i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Sm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let n=this.form.get(i.path);return wm(n,i,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),n}getControl(i){return this.form.get(i.path)}removeControl(i){q1(i.control||null,i,!1),Q4(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,n){this.form.get(i.path).setValue(n)}onSubmit(i){return this._submittedReactive.set(!0),vE(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new PC(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new OC(this.form))}_updateDomValue(){this.directives.forEach(i=>{let n=i.control,s=this.form.get(i.path);n!==s&&(q1(n||null,i),eB(s)&&(wm(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let n=this.form.get(i.path);fE(n,i),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let n=this.form.get(i.path);n&&K4(n,i)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){GC(this.form,this),this._oldForm&&Sm(this._oldForm,this)}static \u0275fac=function(n){return new(n||e)(Re(NC,10),Re(BC,10),Re(Ou,8))};static \u0275dir=We({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,s){n&1&&lt("submit",function(r){return s.onSubmit(r)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ti([nB]),_i,ei]})}return e})();var bE=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({})}return e})();var fc=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ou,useValue:i.callSetDisabledState??_m}]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[bE]})}return e})(),CE=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:iB,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Ou,useValue:i.callSetDisabledState??_m}]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[bE]})}return e})();var HC=class{_box;_destroyed=new ye;_resizeSubject=new ye;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(i=>this._resizeSubject.next(i)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Lr(i=>{let n=this._resizeSubject.subscribe(i);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Mt(i=>i.some(n=>n.target===t)),fb({bufferSize:1,refCount:!0}),Jt(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},xE=(()=>{class e{_cleanupErrorListener;_observers=new Map;_ngZone=_(Ce);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,i]of this._observers)i.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(i,n){let s=n?.box||"content-box";return this._observers.has(s)||this._observers.set(s,new HC(s)),this._observers.get(s).observe(i)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var sB=["notch"],oB=["matFormFieldNotchedOutline",""],rB=["*"],aB=["textField"],lB=["iconPrefixContainer"],cB=["textPrefixContainer"],dB=["iconSuffixContainer"],uB=["textSuffixContainer"],hB=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],pB=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function gB(e,t){e&1&&ze(0,"span",21)}function mB(e,t){if(e&1&&(Q(0,"label",20),ut(1,1),$e(2,gB,1,0,"span",21),J()),e&2){let i=ft(2);Fe("floating",i._shouldLabelFloat())("monitorResize",i._hasOutline())("id",i._labelId),tt("for",i._control.disableAutomaticLabeling?null:i._control.id),ie(2),Vt(!i.hideRequiredMarker&&i._control.required?2:-1)}}function fB(e,t){if(e&1&&$e(0,mB,3,5,"label",20),e&2){let i=ft();Vt(i._hasFloatingLabel()?0:-1)}}function vB(e,t){e&1&&ze(0,"div",7)}function yB(e,t){}function bB(e,t){if(e&1&&$e(0,yB,0,0,"ng-template",13),e&2){ft(2);let i=uo(1);Fe("ngTemplateOutlet",i)}}function CB(e,t){if(e&1&&(Q(0,"div",9),$e(1,bB,1,1,null,13),J()),e&2){let i=ft();Fe("matFormFieldNotchedOutlineOpen",i._shouldLabelFloat()),ie(),Vt(i._forceDisplayInfixLabel()?-1:1)}}function wB(e,t){e&1&&(Q(0,"div",10,2),ut(2,2),J())}function xB(e,t){e&1&&(Q(0,"div",11,3),ut(2,3),J())}function SB(e,t){}function MB(e,t){if(e&1&&$e(0,SB,0,0,"ng-template",13),e&2){ft();let i=uo(1);Fe("ngTemplateOutlet",i)}}function DB(e,t){e&1&&(Q(0,"div",14,4),ut(2,4),J())}function _B(e,t){e&1&&(Q(0,"div",15,5),ut(2,5),J())}function EB(e,t){e&1&&ze(0,"div",16)}function IB(e,t){if(e&1&&(Q(0,"div",18),ut(1,6),J()),e&2){let i=ft();Fe("@transitionMessages",i._subscriptAnimationState)}}function RB(e,t){if(e&1&&(Q(0,"mat-hint",22),kt(1),J()),e&2){let i=ft(2);Fe("id",i._hintLabelId),ie(),Gn(i.hintLabel)}}function AB(e,t){if(e&1&&(Q(0,"div",19),$e(1,RB,2,2,"mat-hint",22),ut(2,7),ze(3,"div",23),ut(4,8),J()),e&2){let i=ft();Fe("@transitionMessages",i._subscriptAnimationState),ie(),Vt(i.hintLabel?1:-1)}}var vc=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=We({type:e,selectors:[["mat-label"]]})}return e})(),kB=new Z("MatError");var SE=(()=>{class e{align="start";id=_(zi).getId("mat-mdc-hint-");static \u0275fac=function(n){return new(n||e)};static \u0275dir=We({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,s){n&2&&(Vr("id",s.id),tt("align",null),it("mat-mdc-form-field-hint-end",s.align==="end"))},inputs:{align:"align",id:"id"}})}return e})(),TB=new Z("MatPrefix");var LB=new Z("MatSuffix");var AE=new Z("FloatingLabelParent"),ME=(()=>{class e{_elementRef=_(Oe);get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=_(xE);_ngZone=_(Ce);_parent=_(AE);_resizeSubscription=new $i;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return FB(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(n){return new(n||e)};static \u0275dir=We({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,s){n&2&&it("mdc-floating-label--float-above",s.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return e})();function FB(e){let t=e;if(t.offsetParent!==null)return t.scrollWidth;let i=t.cloneNode(!0);i.style.setProperty("position","absolute"),i.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(i);let n=i.scrollWidth;return i.remove(),n}var DE="mdc-line-ripple--active",Em="mdc-line-ripple--deactivating",_E=(()=>{class e{_elementRef=_(Oe);_cleanupTransitionEnd;constructor(){let i=_(Ce),n=_(os);i.runOutsideAngular(()=>{this._cleanupTransitionEnd=n.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let i=this._elementRef.nativeElement.classList;i.remove(Em),i.add(DE)}deactivate(){this._elementRef.nativeElement.classList.add(Em)}_handleTransitionEnd=i=>{let n=this._elementRef.nativeElement.classList,s=n.contains(Em);i.propertyName==="opacity"&&s&&n.remove(DE,Em)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=We({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return e})(),EE=(()=>{class e{_elementRef=_(Oe);_ngZone=_(Ce);open=!1;_notch;constructor(){}ngAfterViewInit(){let i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){!this.open||!i?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,s){if(n&1&&Gt(sB,5),n&2){let o;Ye(o=Ke())&&(s._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,s){n&2&&it("mdc-notched-outline--notched",s.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:oB,ngContentSelectors:rB,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,s){n&1&&(ui(),ze(0,"div",1),Q(1,"div",2,0),ut(3),J(),ze(4,"div",3))},encapsulation:2,changeDetection:0})}return e})(),PB={transitionMessages:uu("transitionMessages",[Ng("enter",Va({opacity:1,transform:"translateY(0%)"})),Ql("void => enter",[Va({opacity:0,transform:"translateY(-5px)"}),hu("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Vu=(()=>{class e{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(n){return new(n||e)};static \u0275dir=We({type:e})}return e})();var Gu=new Z("MatFormField"),OB=new Z("MAT_FORM_FIELD_DEFAULT_OPTIONS"),IE="fill",NB="auto",RE="fixed",BB="translateY(-50%)",Im=(()=>{class e{_elementRef=_(Oe);_changeDetectorRef=_(Ei);_dir=_(Hn);_platform=_(Tt);_idGenerator=_(zi);_defaults=_(OB,{optional:!0});_animationMode=_(Di,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=t_(vc);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=tc(i)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||NB}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(i){let n=this._appearance,s=i||this._defaults?.appearance||IE;this._appearance=s,this._appearance==="outline"&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=IE;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||RE}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||RE}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_subscriptAnimationState="";get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}_destroyed=new ye;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_stateChanges;_valueChanges;_describedByChanges;_injector=_(Rt);constructor(){let i=this._defaults;i&&(i.appearance&&(this.appearance=i.appearance),this._hideRequiredMarker=!!i?.hideRequiredMarker,i.color&&(this.color=i.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=zo(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(i){let n=this._control,s="mat-mdc-form-field-type-";i&&this._elementRef.nativeElement.classList.remove(s+i.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(s+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=n.stateChanges.pipe(Dn([void 0,void 0]),Ie(()=>[n.errorState,n.userAriaDescribedBy]),mb(),Mt(([[o,r],[a,l]])=>o!==a||r!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(Jt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),ro(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),wg(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Jt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=zo(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(i){let n=this._control?this._control.ngControl:null;return n&&n[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&i.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let n=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,s=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;n?i.push(n.id):this._hintLabel&&i.push(this._hintLabelId),s&&i.push(s.id)}else this._errorChildren&&i.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let i=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){i.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let n=this._iconPrefixContainer?.nativeElement,s=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,r=this._textSuffixContainer?.nativeElement,a=n?.getBoundingClientRect().width??0,l=s?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,d=r?.getBoundingClientRect().width??0,u=this._dir.value==="rtl"?"-1":"1",h=`${a+l}px`,g=`calc(${u} * (${h} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;i.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${BB} translateX(${g})
    )`;let m=a+l+c+d;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${m}px)`)}_isAttachedToDom(){let i=this._elementRef.nativeElement;if(i.getRootNode){let n=i.getRootNode();return n&&n!==i}return document.documentElement.contains(i)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["mat-form-field"]],contentQueries:function(n,s,o){if(n&1&&(l_(o,s._labelChild,vc,5),Bi(o,Vu,5),Bi(o,TB,5),Bi(o,LB,5),Bi(o,kB,5),Bi(o,SE,5)),n&2){Ig();let r;Ye(r=Ke())&&(s._formFieldControl=r.first),Ye(r=Ke())&&(s._prefixChildren=r),Ye(r=Ke())&&(s._suffixChildren=r),Ye(r=Ke())&&(s._errorChildren=r),Ye(r=Ke())&&(s._hintChildren=r)}},viewQuery:function(n,s){if(n&1&&(Gt(aB,5),Gt(lB,5),Gt(cB,5),Gt(dB,5),Gt(uB,5),Gt(ME,5),Gt(EE,5),Gt(_E,5)),n&2){let o;Ye(o=Ke())&&(s._textField=o.first),Ye(o=Ke())&&(s._iconPrefixContainer=o.first),Ye(o=Ke())&&(s._textPrefixContainer=o.first),Ye(o=Ke())&&(s._iconSuffixContainer=o.first),Ye(o=Ke())&&(s._textSuffixContainer=o.first),Ye(o=Ke())&&(s._floatingLabel=o.first),Ye(o=Ke())&&(s._notchedOutline=o.first),Ye(o=Ke())&&(s._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,s){n&2&&it("mat-mdc-form-field-label-always-float",s._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",s._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",s._hasIconSuffix)("mat-form-field-invalid",s._control.errorState)("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-form-field-no-animations",s._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",s.appearance=="fill")("mat-form-field-appearance-outline",s.appearance=="outline")("mat-form-field-hide-placeholder",s._hasFloatingLabel()&&!s._shouldLabelFloat())("mat-focused",s._control.focused)("mat-primary",s.color!=="accent"&&s.color!=="warn")("mat-accent",s.color==="accent")("mat-warn",s.color==="warn")("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[ti([{provide:Gu,useExisting:e},{provide:AE,useExisting:e}])],ngContentSelectors:pB,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,s){if(n&1){let o=co();ui(hB),$e(0,fB,1,1,"ng-template",null,0,du),Q(2,"div",6,1),lt("click",function(a){return sn(o),on(s._control.onContainerClick(a))}),$e(4,vB,1,0,"div",7),Q(5,"div",8),$e(6,CB,2,2,"div",9)(7,wB,3,0,"div",10)(8,xB,3,0,"div",11),Q(9,"div",12),$e(10,MB,1,1,null,13),ut(11),J(),$e(12,DB,3,0,"div",14)(13,_B,3,0,"div",15),J(),$e(14,EB,1,0,"div",16),J(),Q(15,"div",17),$e(16,IB,2,1,"div",18)(17,AB,5,2,"div",19),J()}if(n&2){let o;ie(2),it("mdc-text-field--filled",!s._hasOutline())("mdc-text-field--outlined",s._hasOutline())("mdc-text-field--no-label",!s._hasFloatingLabel())("mdc-text-field--disabled",s._control.disabled)("mdc-text-field--invalid",s._control.errorState),ie(2),Vt(!s._hasOutline()&&!s._control.disabled?4:-1),ie(2),Vt(s._hasOutline()?6:-1),ie(),Vt(s._hasIconPrefix?7:-1),ie(),Vt(s._hasTextPrefix?8:-1),ie(2),Vt(!s._hasOutline()||s._forceDisplayInfixLabel()?10:-1),ie(2),Vt(s._hasTextSuffix?12:-1),ie(),Vt(s._hasIconSuffix?13:-1),ie(),Vt(s._hasOutline()?-1:14),ie(),it("mat-mdc-form-field-subscript-dynamic-size",s.subscriptSizing==="dynamic"),ie(),Vt((o=s._getDisplayedMessages())==="error"?16:o==="hint"?17:-1)}},dependencies:[ME,EE,Fg,_E,SE],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[PB.transitionMessages]},changeDetection:0})}return e})(),Bs=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Be,rc,Be]})}return e})();var zB=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(n,s){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}"],encapsulation:2,changeDetection:0})}return e})(),TE=Hr({passive:!0}),LE=(()=>{class e{_platform=_(Tt);_ngZone=_(Ce);_styleLoader=_(ls);_monitoredElements=new Map;constructor(){}monitor(i){if(!this._platform.isBrowser)return Fs;this._styleLoader.load(zB);let n=rs(i),s=this._monitoredElements.get(n);if(s)return s.subject;let o=new ye,r="cdk-text-field-autofilled",a=l=>{l.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(r)?(n.classList.add(r),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0}))):l.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(r)&&(n.classList.remove(r),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",a,TE),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:o,unlisten:()=>{n.removeEventListener("animationstart",a,TE)}}),o}stopMonitoring(i){let n=rs(i),s=this._monitoredElements.get(n);s&&(s.unlisten(),s.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((i,n)=>this.stopMonitoring(n))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var FE=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({})}return e})();var VB=new Z("MAT_INPUT_VALUE_ACCESSOR"),GB=["button","checkbox","file","hidden","image","radio","range","reset","submit"],HB=new Z("MAT_INPUT_CONFIG"),PE=(()=>{class e{_elementRef=_(Oe);_platform=_(Tt);ngControl=_(Go,{optional:!0,self:!0});_autofillMonitor=_(LE);_ngZone=_(Ce);_formField=_(Gu,{optional:!0});_renderer=_(os);_uid=_(zi).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=_(HB,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new ye;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(i){this._disabled=tc(i),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(i){this._id=i||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(gc.required)??!1}set required(i){this._required=tc(i)}_required;get type(){return this._type}set type(i){let n=this._type;this._type=i||"text",this._validateType(),!this._isTextarea&&Wb().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==n&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(i){i!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(i):this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=tc(i)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(i=>Wb().has(i));constructor(){let i=_(Nu,{optional:!0}),n=_(zu,{optional:!0}),s=_(um),o=_(VB,{optional:!0,self:!0}),r=this._elementRef.nativeElement,a=r.nodeName.toLowerCase();o?Pa(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=r,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(r,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new uc(s,this.ngControl,n,i,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=a==="select",this._isTextarea=a==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=r.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&Ag(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(i){if(i!==this.focused){if(!this._isNativeSelect&&i&&this.disabled&&this.disabledInteractive){let n=this._elementRef.nativeElement;n.type==="number"?(n.type="text",n.setSelectionRange(0,0),n.type="number"):n.setSelectionRange(0,0)}this.focused=i,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){let i=this._getPlaceholder();if(i!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=i,i?n.setAttribute("placeholder",i):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){GB.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let i=this._elementRef.nativeElement,n=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&n&&n.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(i){let n=this._elementRef.nativeElement,s=n.getAttribute("aria-describedby"),o;if(s){let r=this._formFieldDescribedBy||i;o=i.concat(s.split(" ").filter(a=>a&&!r.includes(a)))}else o=i;this._formFieldDescribedBy=i,o.length?n.setAttribute("aria-describedby",o.join(" ")):n.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}_iOSKeyupListener=i=>{let n=i.target;!n.value&&n.selectionStart===0&&n.selectionEnd===0&&(n.setSelectionRange(1,1),n.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(n){return new(n||e)};static \u0275dir=We({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(n,s){n&1&&lt("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),n&2&&(Vr("id",s.id)("disabled",s.disabled&&!s.disabledInteractive)("required",s.required),tt("name",s.name||null)("readonly",s._getReadonlyAttribute())("aria-disabled",s.disabled&&s.disabledInteractive?"true":null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required)("id",s.id),it("mat-input-server",s._isServer)("mat-mdc-form-field-textarea-control",s._isInFormField&&s._isTextarea)("mat-mdc-form-field-input-control",s._isInFormField)("mat-mdc-input-disabled-interactive",s.disabledInteractive)("mdc-text-field__input",s._isInFormField)("mat-mdc-native-select-inline",s._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",k]},exportAs:["matInput"],features:[ti([{provide:Vu,useExisting:e}]),ei]})}return e})(),yc=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Be,Bs,Bs,FE,Be]})}return e})();function WB(e,t){if(e&1&&(Q(0,"p"),kt(1),J()),e&2){let i=ft();ie(),Gn(i.errorMessage)}}var bc=class e{constructor(t,i){this.dialogRef=t;this.data=i}server="";page="";errorMessage="";ngOnInit(){this.server=this.data.domain.trim(),this.page=this.data.page}saveDomain(){this.server.trim()&&this.validateDomain(this.server.trim())?(this.dialogRef.close({page:this.page,server:this.server}),this.errorMessage=""):this.errorMessage="Invalid domain format! Example: http://example123:8080"}validateDomain(t){return/^http:\/\/\d{1,3}(\.\d{1,3}){3}(:\d+)?$/.test(t)}static \u0275fac=function(i){return new(i||e)(Re(Au),Re(kC))};static \u0275cmp=ge({type:e,selectors:[["app-domain-dialog"]],decls:8,vars:2,consts:[[1,"dialog-container"],["appearance","outline"],["matInput","","placeholder","Enter domain name",3,"ngModelChange","ngModel"],[4,"ngIf"],["mat-button","","color","primary",3,"click"]],template:function(i,n){i&1&&(Q(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),kt(3,"Connect to server"),J(),Q(4,"input",2),cu("ngModelChange",function(o){return lu(n.server,o)||(n.server=o),o}),J()(),$e(5,WB,2,1,"p",3),Q(6,"button",4),lt("click",function(){return n.saveDomain()}),kt(7,"Save"),J()()),i&2&&(ie(4),au("ngModel",n.server),ie(),Fe("ngIf",n.errorMessage))},dependencies:[Ii,Lg,fc,mc,Mm,Bu,Bs,Im,vc,yc,PE],styles:[".dialog-container[_ngcontent-%COMP%]{padding:20px;text-align:center;background:#fff;border-radius:8px;box-shadow:0 4px 10px #0000001a;width:100%;max-width:400px;margin:auto}h2[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:20px}.full-width[_ngcontent-%COMP%]{width:100%}.button-group[_ngcontent-%COMP%]{margin-top:20px;text-align:center}button[_ngcontent-%COMP%]{width:100px;font-size:1rem;padding:8px 15px;border-radius:4px;border:none;cursor:pointer;background-color:#1976d2;color:#fff;transition:.3s}button[_ngcontent-%COMP%]:hover{background-color:#1565c0}"]})};var Ge="primary",th=Symbol("RouteTitle"),YC=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function _c(e){return new YC(e)}function UB(e,t,i){let n=i.path.split("/");if(n.length>e.length||i.pathMatch==="full"&&(t.hasChildren()||n.length<e.length))return null;let s={};for(let o=0;o<n.length;o++){let r=n[o],a=e[o];if(r[0]===":")s[r.substring(1)]=a;else if(r!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:s}}function $B(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!ho(e[i],t[i]))return!1;return!0}function ho(e,t){let i=e?KC(e):void 0,n=t?KC(t):void 0;if(!i||!n||i.length!=n.length)return!1;let s;for(let o=0;o<i.length;o++)if(s=i[o],!UE(e[s],t[s]))return!1;return!0}function KC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function UE(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let i=[...e].sort(),n=[...t].sort();return i.every((s,o)=>n[o]===s)}else return e===t}function $E(e){return e.length>0?e[e.length-1]:null}function Zr(e){return eu(e)?e:_g(e)?Pi(Promise.resolve(e)):ue(e)}var YB={exact:KE,subset:ZE},YE={exact:KB,subset:ZB,ignored:()=>!0};function OE(e,t,i){return YB[i.paths](e.root,t.root,i.matrixParams)&&YE[i.queryParams](e.queryParams,t.queryParams)&&!(i.fragment==="exact"&&e.fragment!==t.fragment)}function KB(e,t){return ho(e,t)}function KE(e,t,i){if(!Qa(e.segments,t.segments)||!km(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!e.children[n]||!KE(e.children[n],t.children[n],i))return!1;return!0}function ZB(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>UE(e[i],t[i]))}function ZE(e,t,i){return qE(e,t,t.segments,i)}function qE(e,t,i,n){if(e.segments.length>i.length){let s=e.segments.slice(0,i.length);return!(!Qa(s,i)||t.hasChildren()||!km(s,i,n))}else if(e.segments.length===i.length){if(!Qa(e.segments,i)||!km(e.segments,i,n))return!1;for(let s in t.children)if(!e.children[s]||!ZE(e.children[s],t.children[s],n))return!1;return!0}else{let s=i.slice(0,e.segments.length),o=i.slice(e.segments.length);return!Qa(e.segments,s)||!km(e.segments,s,n)||!e.children[Ge]?!1:qE(e.children[Ge],t,o,n)}}function km(e,t,i){return t.every((n,s)=>YE[i](e[s].parameters,n.parameters))}var jo=class{root;queryParams;fragment;_queryParamMap;constructor(t=new vt([],{}),i={},n=null){this.root=t,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=_c(this.queryParams),this._queryParamMap}toString(){return QB.serialize(this)}},vt=class{segments;children;parent=null;constructor(t,i){this.segments=t,this.children=i,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tm(this)}},Xa=class{path;parameters;_parameterMap;constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=_c(this.parameters),this._parameterMap}toString(){return QE(this)}};function qB(e,t){return Qa(e,t)&&e.every((i,n)=>ho(i.parameters,t[n].parameters))}function Qa(e,t){return e.length!==t.length?!1:e.every((i,n)=>i.path===t[n].path)}function XB(e,t){let i=[];return Object.entries(e.children).forEach(([n,s])=>{n===Ge&&(i=i.concat(t(s,n)))}),Object.entries(e.children).forEach(([n,s])=>{n!==Ge&&(i=i.concat(t(s,n)))}),i}var ih=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:()=>new Ec,providedIn:"root"})}return e})(),Ec=class{parse(t){let i=new qC(t);return new jo(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${Hu(t.root,!0)}`,n=tz(t.queryParams),s=typeof t.fragment=="string"?`#${JB(t.fragment)}`:"";return`${i}${n}${s}`}},QB=new Ec;function Tm(e){return e.segments.map(t=>QE(t)).join("/")}function Hu(e,t){if(!e.hasChildren())return Tm(e);if(t){let i=e.children[Ge]?Hu(e.children[Ge],!1):"",n=[];return Object.entries(e.children).forEach(([s,o])=>{s!==Ge&&n.push(`${s}:${Hu(o,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=XB(e,(n,s)=>s===Ge?[Hu(e.children[Ge],!1)]:[`${s}:${Hu(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[Ge]!=null?`${Tm(e)}/${i[0]}`:`${Tm(e)}/(${i.join("//")})`}}function XE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rm(e){return XE(e).replace(/%3B/gi,";")}function JB(e){return encodeURI(e)}function ZC(e){return XE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lm(e){return decodeURIComponent(e)}function NE(e){return Lm(e.replace(/\+/g,"%20"))}function QE(e){return`${ZC(e.path)}${ez(e.parameters)}`}function ez(e){return Object.entries(e).map(([t,i])=>`;${ZC(t)}=${ZC(i)}`).join("")}function tz(e){let t=Object.entries(e).map(([i,n])=>Array.isArray(n)?n.map(s=>`${Rm(i)}=${Rm(s)}`).join("&"):`${Rm(i)}=${Rm(n)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var iz=/^[^\/()?;#]+/;function jC(e){let t=e.match(iz);return t?t[0]:""}var nz=/^[^\/()?;=#]+/;function sz(e){let t=e.match(nz);return t?t[0]:""}var oz=/^[^=?&#]+/;function rz(e){let t=e.match(oz);return t?t[0]:""}var az=/^[^&#]+/;function lz(e){let t=e.match(az);return t?t[0]:""}var qC=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new vt([],{}):new vt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(n[Ge]=new vt(t,i)),n}parseSegment(){let t=jC(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new et(4009,!1);return this.capture(t),new Xa(Lm(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=sz(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let s=jC(this.remaining);s&&(n=s,this.capture(n))}t[Lm(i)]=Lm(n)}parseQueryParam(t){let i=rz(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=lz(this.remaining);r&&(n=r,this.capture(n))}let s=NE(i),o=NE(n);if(t.hasOwnProperty(s)){let r=t[s];Array.isArray(r)||(r=[r],t[s]=r),r.push(o)}else t[s]=o}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=jC(this.remaining),s=this.remaining[n.length];if(s!=="/"&&s!==")"&&s!==";")throw new et(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Ge);let r=this.parseChildren();i[o]=Object.keys(r).length===1?r[Ge]:new vt([],r),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new et(4011,!1)}};function JE(e){return e.segments.length>0?new vt([],{[Ge]:e}):e}function eI(e){let t={};for(let[n,s]of Object.entries(e.children)){let o=eI(s);if(n===Ge&&o.segments.length===0&&o.hasChildren())for(let[r,a]of Object.entries(o.children))t[r]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let i=new vt(e.segments,t);return cz(i)}function cz(e){if(e.numberOfChildren===1&&e.children[Ge]){let t=e.children[Ge];return new vt(e.segments.concat(t.segments),t.children)}return e}function Yu(e){return e instanceof jo}function dz(e,t,i=null,n=null){let s=tI(e);return iI(s,t,i,n)}function tI(e){let t;function i(o){let r={};for(let l of o.children){let c=i(l);r[l.outlet]=c}let a=new vt(o.url,r);return o===e&&(t=a),a}let n=i(e.root),s=JE(n);return t??s}function iI(e,t,i,n){let s=e;for(;s.parent;)s=s.parent;if(t.length===0)return WC(s,s,s,i,n);let o=uz(t);if(o.toRoot())return WC(s,s,new vt([],{}),i,n);let r=hz(o,s,e),a=r.processChildren?Wu(r.segmentGroup,r.index,o.commands):sI(r.segmentGroup,r.index,o.commands);return WC(s,r.segmentGroup,a,i,n)}function Fm(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ku(e){return typeof e=="object"&&e!=null&&e.outlets}function WC(e,t,i,n,s){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let r;e===t?r=i:r=nI(e,t,i);let a=JE(eI(r));return new jo(a,o,s)}function nI(e,t,i){let n={};return Object.entries(e.children).forEach(([s,o])=>{o===t?n[s]=i:n[s]=nI(o,t,i)}),new vt(e.segments,n)}var Pm=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,i,n){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=n,t&&n.length>0&&Fm(n[0]))throw new et(4003,!1);let s=n.find(Ku);if(s&&s!==$E(n))throw new et(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uz(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Pm(!0,0,e);let t=0,i=!1,n=e.reduce((s,o,r)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...s,{outlets:a}]}if(o.segmentPath)return[...s,o.segmentPath]}return typeof o!="string"?[...s,o]:r===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?t++:a!=""&&s.push(a))}),s):[...s,o]},[]);return new Pm(i,t,n)}var Sc=class{segmentGroup;processChildren;index;constructor(t,i,n){this.segmentGroup=t,this.processChildren=i,this.index=n}};function hz(e,t,i){if(e.isAbsolute)return new Sc(t,!0,0);if(!i)return new Sc(t,!1,NaN);if(i.parent===null)return new Sc(i,!0,0);let n=Fm(e.commands[0])?0:1,s=i.segments.length-1+n;return pz(i,s,e.numberOfDoubleDots)}function pz(e,t,i){let n=e,s=t,o=i;for(;o>s;){if(o-=s,n=n.parent,!n)throw new et(4005,!1);s=n.segments.length}return new Sc(n,!1,s-o)}function gz(e){return Ku(e[0])?e[0].outlets:{[Ge]:e}}function sI(e,t,i){if(e??=new vt([],{}),e.segments.length===0&&e.hasChildren())return Wu(e,t,i);let n=mz(e,t,i),s=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let o=new vt(e.segments.slice(0,n.pathIndex),{});return o.children[Ge]=new vt(e.segments.slice(n.pathIndex),e.children),Wu(o,0,s)}else return n.match&&s.length===0?new vt(e.segments,{}):n.match&&!e.hasChildren()?XC(e,t,i):n.match?Wu(e,0,s):XC(e,t,i)}function Wu(e,t,i){if(i.length===0)return new vt(e.segments,{});{let n=gz(i),s={};if(Object.keys(n).some(o=>o!==Ge)&&e.children[Ge]&&e.numberOfChildren===1&&e.children[Ge].segments.length===0){let o=Wu(e.children[Ge],t,i);return new vt(e.segments,o.children)}return Object.entries(n).forEach(([o,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(s[o]=sI(e.children[o],t,r))}),Object.entries(e.children).forEach(([o,r])=>{n[o]===void 0&&(s[o]=r)}),new vt(e.segments,s)}}function mz(e,t,i){let n=0,s=t,o={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(n>=i.length)return o;let r=e.segments[s],a=i[n];if(Ku(a))break;let l=`${a}`,c=n<i.length-1?i[n+1]:null;if(s>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!zE(l,c,r))return o;n+=2}else{if(!zE(l,{},r))return o;n++}s++}return{match:!0,pathIndex:s,commandIndex:n}}function XC(e,t,i){let n=e.segments.slice(0,t),s=0;for(;s<i.length;){let o=i[s];if(Ku(o)){let l=fz(o.outlets);return new vt(n,l)}if(s===0&&Fm(i[0])){let l=e.segments[t];n.push(new Xa(l.path,BE(i[0]))),s++;continue}let r=Ku(o)?o.outlets[Ge]:`${o}`,a=s<i.length-1?i[s+1]:null;r&&a&&Fm(a)?(n.push(new Xa(r,BE(a))),s+=2):(n.push(new Xa(r,{})),s++)}return new vt(n,{})}function fz(e){let t={};return Object.entries(e).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[i]=XC(new vt([],{}),0,n))}),t}function BE(e){let t={};return Object.entries(e).forEach(([i,n])=>t[i]=`${n}`),t}function zE(e,t,i){return e==i.path&&ho(t,i.parameters)}var Uu="imperative",Ri=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ri||{}),ds=class{id;url;constructor(t,i){this.id=t,this.url=i}},Ic=class extends ds{type=Ri.NavigationStart;navigationTrigger;restoredState;constructor(t,i,n="imperative",s=null){super(t,i),this.navigationTrigger=n,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wo=class extends ds{urlAfterRedirects;type=Ri.NavigationEnd;constructor(t,i,n){super(t,i),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$n=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}($n||{}),Om=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Om||{}),Ho=class extends ds{reason;code;type=Ri.NavigationCancel;constructor(t,i,n,s){super(t,i),this.reason=n,this.code=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Yr=class extends ds{reason;code;type=Ri.NavigationSkipped;constructor(t,i,n,s){super(t,i),this.reason=n,this.code=s}},Zu=class extends ds{error;target;type=Ri.NavigationError;constructor(t,i,n,s){super(t,i),this.error=n,this.target=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nm=class extends ds{urlAfterRedirects;state;type=Ri.RoutesRecognized;constructor(t,i,n,s){super(t,i),this.urlAfterRedirects=n,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},QC=class extends ds{urlAfterRedirects;state;type=Ri.GuardsCheckStart;constructor(t,i,n,s){super(t,i),this.urlAfterRedirects=n,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},JC=class extends ds{urlAfterRedirects;state;shouldActivate;type=Ri.GuardsCheckEnd;constructor(t,i,n,s,o){super(t,i),this.urlAfterRedirects=n,this.state=s,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},e0=class extends ds{urlAfterRedirects;state;type=Ri.ResolveStart;constructor(t,i,n,s){super(t,i),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},t0=class extends ds{urlAfterRedirects;state;type=Ri.ResolveEnd;constructor(t,i,n,s){super(t,i),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},i0=class{route;type=Ri.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},n0=class{route;type=Ri.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},s0=class{snapshot;type=Ri.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},o0=class{snapshot;type=Ri.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},r0=class{snapshot;type=Ri.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},a0=class{snapshot;type=Ri.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bm=class{routerEvent;position;anchor;type=Ri.Scroll;constructor(t,i,n){this.routerEvent=t,this.position=i,this.anchor=n}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},qu=class{},Rc=class{url;navigationBehaviorOptions;constructor(t,i){this.url=t,this.navigationBehaviorOptions=i}};function vz(e,t){return e.providers&&!e._injector&&(e._injector=wb(e.providers,t,`Route: ${e.path}`)),e._injector??t}function zs(e){return e.outlet||Ge}function yz(e,t){let i=e.filter(n=>zs(n)===t);return i.push(...e.filter(n=>zs(n)!==t)),i}function nh(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var l0=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return nh(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new sh(this.rootInjector)}},sh=(()=>{class e{rootInjector;contexts=new Map;constructor(i){this.rootInjector=i}onChildOutletCreated(i,n){let s=this.getOrCreateContext(i);s.outlet=n,this.contexts.set(i,s)}onChildOutletDestroyed(i){let n=this.getContext(i);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let n=this.getContext(i);return n||(n=new l0(this.rootInjector),this.contexts.set(i,n)),n}getContext(i){return this.contexts.get(i)||null}static \u0275fac=function(n){return new(n||e)(De(Ps))};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zm=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=c0(t,this._root);return i?i.children.map(n=>n.value):[]}firstChild(t){let i=c0(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=d0(t,this._root);return i.length<2?[]:i[i.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return d0(t,this._root).map(i=>i.value)}};function c0(e,t){if(e===t.value)return t;for(let i of t.children){let n=c0(e,i);if(n)return n}return null}function d0(e,t){if(e===t.value)return[t];for(let i of t.children){let n=d0(e,i);if(n.length)return n.unshift(t),n}return[]}var Un=class{value;children;constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function xc(e){let t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}var Vm=class extends zm{snapshot;constructor(t,i){super(t),this.snapshot=i,b0(this,t)}toString(){return this.snapshot.toString()}};function oI(e){let t=bz(e),i=new Mn([new Xa("",{})]),n=new Mn({}),s=new Mn({}),o=new Mn({}),r=new Mn(""),a=new Ac(i,n,o,r,s,Ge,e,t.root);return a.snapshot=t.root,new Vm(new Un(a,[]),t)}function bz(e){let t={},i={},n={},s="",o=new Mc([],t,n,s,i,Ge,e,null,{});return new Hm("",new Un(o,[]))}var Ac=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,i,n,s,o,r,a,l){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=s,this.dataSubject=o,this.outlet=r,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ie(c=>c[th]))??ue(void 0),this.url=t,this.params=i,this.queryParams=n,this.fragment=s,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ie(t=>_c(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ie(t=>_c(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gm(e,t,i="emptyOnly"){let n,{routeConfig:s}=e;return t!==null&&(i==="always"||s?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:w(w({},t.params),e.params),data:w(w({},t.data),e.data),resolve:w(w(w(w({},e.data),t.data),s?.data),e._resolvedData)}:n={params:w({},e.params),data:w({},e.data),resolve:w(w({},e.data),e._resolvedData??{})},s&&aI(s)&&(n.resolve[th]=s.title),n}var Mc=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[th]}constructor(t,i,n,s,o,r,a,l,c){this.url=t,this.params=i,this.queryParams=n,this.fragment=s,this.data=o,this.outlet=r,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_c(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_c(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},Hm=class extends zm{url;constructor(t,i){super(i),this.url=t,b0(this,i)}toString(){return rI(this._root)}};function b0(e,t){t.value._routerState=e,t.children.forEach(i=>b0(e,i))}function rI(e){let t=e.children.length>0?` { ${e.children.map(rI).join(", ")} } `:"";return`${e.value}${t}`}function UC(e){if(e.snapshot){let t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,ho(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),ho(t.params,i.params)||e.paramsSubject.next(i.params),$B(t.url,i.url)||e.urlSubject.next(i.url),ho(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function u0(e,t){let i=ho(e.params,t.params)&&qB(e.url,t.url),n=!e.parent!=!t.parent;return i&&!n&&(!e.parent||u0(e.parent,t.parent))}function aI(e){return typeof e.title=="string"||e.title===null}var Cz=new Z(""),C0=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ge;activateEvents=new P;deactivateEvents=new P;attachEvents=new P;detachEvents=new P;routerOutletData=At(void 0);parentContexts=_(sh);location=_(Bo);changeDetector=_(Ei);inputBinder=_(Ym,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(i){if(i.name){let{firstChange:n,previousValue:s}=i.name;if(n)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new et(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new et(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new et(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,n){this.activated=i,this._activatedRoute=n,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,n){if(this.isActivated)throw new et(4013,!1);this._activatedRoute=i;let s=this.location,r=i.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new h0(i,a,s.injector,this.routerOutletData);this.activated=s.createComponent(r,{index:s.length,injector:l,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||e)};static \u0275dir=We({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ei]})}return e})(),h0=class e{route;childContexts;parent;outletData;__ngOutletInjector(t){return new e(this.route,this.childContexts,t,this.outletData)}constructor(t,i,n,s){this.route=t,this.childContexts=i,this.parent=n,this.outletData=s}get(t,i){return t===Ac?this.route:t===sh?this.childContexts:t===Cz?this.outletData:this.parent.get(t,i)}},Ym=new Z(""),VE=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:n}=i,s=$l([n.queryParams,n.params,n.data]).pipe(Ni(([o,r,a],l)=>(a=w(w(w({},o),r),a),l===0?ue(a):Promise.resolve(a)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(i);return}let r=g_(n.component);if(!r){this.unsubscribeFromRouteData(i);return}for(let{templateName:a}of r.inputs)i.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(i,s)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})();function wz(e,t,i){let n=Xu(e,t._root,i?i._root:void 0);return new Vm(n,t)}function Xu(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=t.value;let s=xz(e,t,i);return new Un(n,s)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let r=o.route;return r.value._futureSnapshot=t.value,r.children=t.children.map(a=>Xu(e,a)),r}}let n=Sz(t.value),s=t.children.map(o=>Xu(e,o));return new Un(n,s)}}function xz(e,t,i){return t.children.map(n=>{for(let s of i.children)if(e.shouldReuseRoute(n.value,s.value.snapshot))return Xu(e,n,s);return Xu(e,n)})}function Sz(e){return new Ac(new Mn(e.url),new Mn(e.params),new Mn(e.queryParams),new Mn(e.fragment),new Mn(e.data),e.outlet,e.component,e)}var Qu=class{redirectTo;navigationBehaviorOptions;constructor(t,i){this.redirectTo=t,this.navigationBehaviorOptions=i}},lI="ngNavigationCancelingError";function jm(e,t){let{redirectTo:i,navigationBehaviorOptions:n}=Yu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,s=cI(!1,$n.Redirect);return s.url=i,s.navigationBehaviorOptions=n,s}function cI(e,t){let i=new Error(`NavigationCancelingError: ${e||""}`);return i[lI]=!0,i.cancellationCode=t,i}function Mz(e){return dI(e)&&Yu(e.url)}function dI(e){return!!e&&e[lI]}var Dz=(e,t,i,n)=>Ie(s=>(new p0(t,s.targetRouterState,s.currentRouterState,i,n).activate(e),s)),p0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,i,n,s,o){this.routeReuseStrategy=t,this.futureState=i,this.currState=n,this.forwardEvent=s,this.inputBindingEnabled=o}activate(t){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,t),UC(this.futureState.root),this.activateChildRoutes(i,n,t)}deactivateChildRoutes(t,i,n){let s=xc(i);t.children.forEach(o=>{let r=o.value.outlet;this.deactivateRoutes(o,s[r],n),delete s[r]}),Object.values(s).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,i,n){let s=t.value,o=i?i.value:null;if(s===o)if(s.component){let r=n.getContext(s.outlet);r&&this.deactivateChildRoutes(t,i,r.children)}else this.deactivateChildRoutes(t,i,n);else o&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let n=i.getContext(t.value.outlet),s=n&&t.value.component?n.children:i,o=xc(t);for(let r of Object.values(o))this.deactivateRouteAndItsChildren(r,s);if(n&&n.outlet){let r=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:a})}}deactivateRouteAndOutlet(t,i){let n=i.getContext(t.value.outlet),s=n&&t.value.component?n.children:i,o=xc(t);for(let r of Object.values(o))this.deactivateRouteAndItsChildren(r,s);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,i,n){let s=xc(i);t.children.forEach(o=>{this.activateRoutes(o,s[o.value.outlet],n),this.forwardEvent(new a0(o.value.snapshot))}),t.children.length&&this.forwardEvent(new o0(t.value.snapshot))}activateRoutes(t,i,n){let s=t.value,o=i?i.value:null;if(UC(s),s===o)if(s.component){let r=n.getOrCreateContext(s.outlet);this.activateChildRoutes(t,i,r.children)}else this.activateChildRoutes(t,i,n);else if(s.component){let r=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){let a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),r.children.onOutletReAttached(a.contexts),r.attachRef=a.componentRef,r.route=a.route.value,r.outlet&&r.outlet.attach(a.componentRef,a.route.value),UC(a.route.value),this.activateChildRoutes(t,null,r.children)}else r.attachRef=null,r.route=s,r.outlet&&r.outlet.activateWith(s,r.injector),this.activateChildRoutes(t,null,r.children)}else this.activateChildRoutes(t,null,n)}},Wm=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Dc=class{component;route;constructor(t,i){this.component=t,this.route=i}};function _z(e,t,i){let n=e._root,s=t?t._root:null;return ju(n,s,i,[n.value])}function Ez(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Tc(e,t){let i=Symbol(),n=t.get(e,i);return n===i?typeof e=="function"&&!zD(e)?e:t.get(e):n}function ju(e,t,i,n,s={canDeactivateChecks:[],canActivateChecks:[]}){let o=xc(t);return e.children.forEach(r=>{Iz(r,o[r.value.outlet],i,n.concat([r.value]),s),delete o[r.value.outlet]}),Object.entries(o).forEach(([r,a])=>$u(a,i.getContext(r),s)),s}function Iz(e,t,i,n,s={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,r=t?t.value:null,a=i?i.getContext(e.value.outlet):null;if(r&&o.routeConfig===r.routeConfig){let l=Rz(r,o,o.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new Wm(n)):(o.data=r.data,o._resolvedData=r._resolvedData),o.component?ju(e,t,a?a.children:null,n,s):ju(e,t,i,n,s),l&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new Dc(a.outlet.component,r))}else r&&$u(t,a,s),s.canActivateChecks.push(new Wm(n)),o.component?ju(e,null,a?a.children:null,n,s):ju(e,null,i,n,s);return s}function Rz(e,t,i){if(typeof i=="function")return i(e,t);switch(i){case"pathParamsChange":return!Qa(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Qa(e.url,t.url)||!ho(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!u0(e,t)||!ho(e.queryParams,t.queryParams);case"paramsChange":default:return!u0(e,t)}}function $u(e,t,i){let n=xc(e),s=e.value;Object.entries(n).forEach(([o,r])=>{s.component?t?$u(r,t.children.getContext(o),i):$u(r,null,i):$u(r,t,i)}),s.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new Dc(t.outlet.component,s)):i.canDeactivateChecks.push(new Dc(null,s)):i.canDeactivateChecks.push(new Dc(null,s))}function oh(e){return typeof e=="function"}function Az(e){return typeof e=="boolean"}function kz(e){return e&&oh(e.canLoad)}function Tz(e){return e&&oh(e.canActivate)}function Lz(e){return e&&oh(e.canActivateChild)}function Fz(e){return e&&oh(e.canDeactivate)}function Pz(e){return e&&oh(e.canMatch)}function uI(e){return e instanceof FD||e?.name==="EmptyError"}var Am=Symbol("INITIAL_VALUE");function kc(){return Ni(e=>$l(e.map(t=>t.pipe(Oi(1),Dn(Am)))).pipe(Ie(t=>{for(let i of t)if(i!==!0){if(i===Am)return Am;if(i===!1||Oz(i))return i}return!0}),Mt(t=>t!==Am),Oi(1)))}function Oz(e){return Yu(e)||e instanceof Qu}function Nz(e,t){return zn(i=>{let{targetSnapshot:n,currentSnapshot:s,guards:{canActivateChecks:o,canDeactivateChecks:r}}=i;return r.length===0&&o.length===0?ue(A(w({},i),{guardsResult:!0})):Bz(r,n,s,e).pipe(zn(a=>a&&Az(a)?zz(n,o,e,t):ue(a)),Ie(a=>A(w({},i),{guardsResult:a})))})}function Bz(e,t,i,n){return Pi(e).pipe(zn(s=>Wz(s.component,s.route,i,t,n)),Nr(s=>s!==!0,!0))}function zz(e,t,i,n){return Pi(t).pipe(Pr(s=>mg(Gz(s.route.parent,n),Vz(s.route,n),jz(e,s.path,i),Hz(e,s.route,i))),Nr(s=>s!==!0,!0))}function Vz(e,t){return e!==null&&t&&t(new r0(e)),ue(!0)}function Gz(e,t){return e!==null&&t&&t(new s0(e)),ue(!0)}function Hz(e,t,i){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return ue(!0);let s=n.map(o=>Oo(()=>{let r=nh(t)??i,a=Tc(o,r),l=Tz(a)?a.canActivate(t,e):ns(r,()=>a(t,e));return Zr(l).pipe(Nr())}));return ue(s).pipe(kc())}function jz(e,t,i){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(r=>Ez(r)).filter(r=>r!==null).map(r=>Oo(()=>{let a=r.guards.map(l=>{let c=nh(r.node)??i,d=Tc(l,c),u=Lz(d)?d.canActivateChild(n,e):ns(c,()=>d(n,e));return Zr(u).pipe(Nr())});return ue(a).pipe(kc())}));return ue(o).pipe(kc())}function Wz(e,t,i,n,s){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return ue(!0);let r=o.map(a=>{let l=nh(t)??s,c=Tc(a,l),d=Fz(c)?c.canDeactivate(e,t,i,n):ns(l,()=>c(e,t,i,n));return Zr(d).pipe(Nr())});return ue(r).pipe(kc())}function Uz(e,t,i,n){let s=t.canLoad;if(s===void 0||s.length===0)return ue(!0);let o=s.map(r=>{let a=Tc(r,e),l=kz(a)?a.canLoad(t,i):ns(e,()=>a(t,i));return Zr(l)});return ue(o).pipe(kc(),hI(n))}function hI(e){return LD(Ht(t=>{if(typeof t!="boolean")throw jm(e,t)}),Ie(t=>t===!0))}function $z(e,t,i,n){let s=t.canMatch;if(!s||s.length===0)return ue(!0);let o=s.map(r=>{let a=Tc(r,e),l=Pz(a)?a.canMatch(t,i):ns(e,()=>a(t,i));return Zr(l)});return ue(o).pipe(kc(),hI(n))}var Ju=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},eh=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function wc(e){return ka(new Ju(e))}function Yz(e){return ka(new et(4e3,!1))}function Kz(e){return ka(cI(!1,$n.GuardRejected))}var g0=class{urlSerializer;urlTree;constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let n=[],s=i.root;for(;;){if(n=n.concat(s.segments),s.numberOfChildren===0)return ue(n);if(s.numberOfChildren>1||!s.children[Ge])return Yz(`${t.redirectTo}`);s=s.children[Ge]}}applyRedirectCommands(t,i,n,s,o){if(typeof i!="string"){let a=i,{queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,params:p,data:g,title:m}=s,f=ns(o,()=>a({params:p,data:g,queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,title:m}));if(f instanceof jo)throw new eh(f);i=f}let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,n);if(i[0]==="/")throw new eh(r);return r}applyRedirectCreateUrlTree(t,i,n,s){let o=this.createSegmentGroup(t,i.root,n,s);return new jo(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let n={};return Object.entries(t).forEach(([s,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);n[s]=i[a]}else n[s]=o}),n}createSegmentGroup(t,i,n,s){let o=this.createSegments(t,i.segments,n,s),r={};return Object.entries(i.children).forEach(([a,l])=>{r[a]=this.createSegmentGroup(t,l,n,s)}),new vt(o,r)}createSegments(t,i,n,s){return i.map(o=>o.path[0]===":"?this.findPosParam(t,o,s):this.findOrReturn(o,n))}findPosParam(t,i,n){let s=n[i.path.substring(1)];if(!s)throw new et(4001,!1);return s}findOrReturn(t,i){let n=0;for(let s of i){if(s.path===t.path)return i.splice(n),s;n++}return t}},m0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zz(e,t,i,n,s){let o=pI(e,t,i);return o.matched?(n=vz(t,n),$z(n,t,i,s).pipe(Ie(r=>r===!0?o:w({},m0)))):ue(o)}function pI(e,t,i){if(t.path==="**")return qz(i);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||i.length>0)?w({},m0):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let s=(t.matcher||UB)(i,e,t);if(!s)return w({},m0);let o={};Object.entries(s.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let r=s.consumed.length>0?w(w({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:i.slice(s.consumed.length),parameters:r,positionalParamSegments:s.posParams??{}}}function qz(e){return{matched:!0,parameters:e.length>0?$E(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function GE(e,t,i,n){return i.length>0&&Jz(e,i,n)?{segmentGroup:new vt(t,Qz(n,new vt(i,e.children))),slicedSegments:[]}:i.length===0&&eV(e,i,n)?{segmentGroup:new vt(e.segments,Xz(e,i,n,e.children)),slicedSegments:i}:{segmentGroup:new vt(e.segments,e.children),slicedSegments:i}}function Xz(e,t,i,n){let s={};for(let o of i)if(Km(e,t,o)&&!n[zs(o)]){let r=new vt([],{});s[zs(o)]=r}return w(w({},n),s)}function Qz(e,t){let i={};i[Ge]=t;for(let n of e)if(n.path===""&&zs(n)!==Ge){let s=new vt([],{});i[zs(n)]=s}return i}function Jz(e,t,i){return i.some(n=>Km(e,t,n)&&zs(n)!==Ge)}function eV(e,t,i){return i.some(n=>Km(e,t,n))}function Km(e,t,i){return(e.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function tV(e,t,i){return t.length===0&&!e.children[i]}var f0=class{};function iV(e,t,i,n,s,o,r="emptyOnly"){return new v0(e,t,i,n,s,r,o).recognize()}var nV=31,v0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,i,n,s,o,r,a){this.injector=t,this.configLoader=i,this.rootComponentType=n,this.config=s,this.urlTree=o,this.paramsInheritanceStrategy=r,this.urlSerializer=a,this.applyRedirects=new g0(this.urlSerializer,this.urlTree)}noMatchError(t){return new et(4002,`'${t.segmentGroup}'`)}recognize(){let t=GE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Ie(({children:i,rootSnapshot:n})=>{let s=new Un(n,i),o=new Hm("",s),r=dz(n,[],this.urlTree.queryParams,this.urlTree.fragment);return r.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(r),{state:o,tree:r}}))}match(t){let i=new Mc([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Ge,i).pipe(Ie(n=>({children:n,rootSnapshot:i})),Fr(n=>{if(n instanceof eh)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Ju?this.noMatchError(n):n}))}processSegmentGroup(t,i,n,s,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,i,n,o):this.processSegment(t,i,n,n.segments,s,!0,o).pipe(Ie(r=>r instanceof Un?[r]:[]))}processChildren(t,i,n,s){let o=[];for(let r of Object.keys(n.children))r==="primary"?o.unshift(r):o.push(r);return Pi(o).pipe(Pr(r=>{let a=n.children[r],l=yz(i,r);return this.processSegmentGroup(t,l,a,r,s)}),OD((r,a)=>(r.push(...a),r)),pb(null),PD(),zn(r=>{if(r===null)return wc(n);let a=gI(r);return sV(a),ue(a)}))}processSegment(t,i,n,s,o,r,a){return Pi(i).pipe(Pr(l=>this.processSegmentAgainstRoute(l._injector??t,i,l,n,s,o,r,a).pipe(Fr(c=>{if(c instanceof Ju)return ue(null);throw c}))),Nr(l=>!!l),Fr(l=>{if(uI(l))return tV(n,s,o)?ue(new f0):wc(n);throw l}))}processSegmentAgainstRoute(t,i,n,s,o,r,a,l){return zs(n)!==r&&(r===Ge||!Km(s,o,n))?wc(s):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,s,n,o,r,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,s,i,n,o,r,l):wc(s)}expandSegmentAgainstRouteUsingRedirect(t,i,n,s,o,r,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:h}=pI(i,s,o);if(!l)return wc(i);typeof s.redirectTo=="string"&&s.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nV&&(this.allowRedirects=!1));let p=new Mc(o,c,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,HE(s),zs(s),s.component??s._loadedComponent??null,s,jE(s)),g=Gm(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let m=this.applyRedirects.applyRedirectCommands(d,s.redirectTo,u,p,t);return this.applyRedirects.lineralizeSegments(s,m).pipe(zn(f=>this.processSegment(t,n,i,f.concat(h),r,!1,a)))}matchSegmentAgainstRoute(t,i,n,s,o,r){let a=Zz(i,n,s,t,this.urlSerializer);return n.path==="**"&&(i.children={}),a.pipe(Ni(l=>l.matched?(t=n._injector??t,this.getChildConfig(t,n,s).pipe(Ni(({routes:c})=>{let d=n._loadedInjector??t,{parameters:u,consumedSegments:h,remainingSegments:p}=l,g=new Mc(h,u,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,HE(n),zs(n),n.component??n._loadedComponent??null,n,jE(n)),m=Gm(g,r,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:f,slicedSegments:v}=GE(i,h,p,c);if(v.length===0&&f.hasChildren())return this.processChildren(d,c,f,g).pipe(Ie(C=>new Un(g,C)));if(c.length===0&&v.length===0)return ue(new Un(g,[]));let y=zs(n)===o;return this.processSegment(d,c,f,v,y?Ge:o,!0,g).pipe(Ie(C=>new Un(g,C instanceof Un?[C]:[])))}))):wc(i)))}getChildConfig(t,i,n){return i.children?ue({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?ue({routes:i._loadedRoutes,injector:i._loadedInjector}):Uz(t,i,n,this.urlSerializer).pipe(zn(s=>s?this.configLoader.loadChildren(t,i).pipe(Ht(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):Kz(i))):ue({routes:[],injector:t})}};function sV(e){e.sort((t,i)=>t.value.outlet===Ge?-1:i.value.outlet===Ge?1:t.value.outlet.localeCompare(i.value.outlet))}function oV(e){let t=e.value.routeConfig;return t&&t.path===""}function gI(e){let t=[],i=new Set;for(let n of e){if(!oV(n)){t.push(n);continue}let s=t.find(o=>n.value.routeConfig===o.value.routeConfig);s!==void 0?(s.children.push(...n.children),i.add(s)):t.push(n)}for(let n of i){let s=gI(n.children);t.push(new Un(n.value,s))}return t.filter(n=>!i.has(n))}function HE(e){return e.data||{}}function jE(e){return e.resolve||{}}function rV(e,t,i,n,s,o){return zn(r=>iV(e,t,i,n,r.extractedUrl,s,o).pipe(Ie(({state:a,tree:l})=>A(w({},r),{targetSnapshot:a,urlAfterRedirects:l}))))}function aV(e,t){return zn(i=>{let{targetSnapshot:n,guards:{canActivateChecks:s}}=i;if(!s.length)return ue(i);let o=new Set(s.map(l=>l.route)),r=new Set;for(let l of o)if(!r.has(l))for(let c of mI(l))r.add(c);let a=0;return Pi(r).pipe(Pr(l=>o.has(l)?lV(l,n,e,t):(l.data=Gm(l,l.parent,e).resolve,ue(void 0))),Ht(()=>a++),gb(1),zn(l=>a===r.size?ue(i):Fs))})}function mI(e){let t=e.children.map(i=>mI(i)).flat();return[e,...t]}function lV(e,t,i,n){let s=e.routeConfig,o=e._resolve;return s?.title!==void 0&&!aI(s)&&(o[th]=s.title),cV(o,e,t,n).pipe(Ie(r=>(e._resolvedData=r,e.data=Gm(e,e.parent,i).resolve,null)))}function cV(e,t,i,n){let s=KC(e);if(s.length===0)return ue({});let o={};return Pi(s).pipe(zn(r=>dV(e[r],t,i,n).pipe(Nr(),Ht(a=>{if(a instanceof Qu)throw jm(new Ec,a);o[r]=a}))),gb(1),Ie(()=>o),Fr(r=>uI(r)?Fs:ka(r)))}function dV(e,t,i,n){let s=nh(t)??n,o=Tc(e,s),r=o.resolve?o.resolve(t,i):ns(s,()=>o(t,i));return Zr(r)}function $C(e){return Ni(t=>{let i=e(t);return i?Pi(i).pipe(Ie(()=>t)):ue(t)})}var fI=(()=>{class e{buildTitle(i){let n,s=i.root;for(;s!==void 0;)n=this.getResolvedTitleForRoute(s)??n,s=s.children.find(o=>o.outlet===Ge);return n}getResolvedTitleForRoute(i){return i.data[th]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:()=>_(uV),providedIn:"root"})}return e})(),uV=(()=>{class e extends fI{title;constructor(i){super(),this.title=i}updateTitle(i){let n=this.buildTitle(i);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||e)(De(t1))};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rh=new Z("",{providedIn:"root",factory:()=>({})}),hV=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,s){n&1&&ze(0,"router-outlet")},dependencies:[C0],encapsulation:2})}return e})();function w0(e){let t=e.children&&e.children.map(w0),i=t?A(w({},e),{children:t}):w({},e);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==Ge&&(i.component=hV),i}var Um=new Z(""),x0=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=_(Rg);loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return ue(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let n=Zr(i.loadComponent()).pipe(Ie(vI),Ht(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),Or(()=>{this.componentLoaders.delete(i)})),s=new gg(n,()=>new ye).pipe(cb());return this.componentLoaders.set(i,s),s}loadChildren(i,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return ue({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=pV(n,this.compiler,i,this.onLoadEndListener).pipe(Or(()=>{this.childrenLoaders.delete(n)})),r=new gg(o,()=>new ye).pipe(cb());return this.childrenLoaders.set(n,r),r}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pV(e,t,i,n){return Zr(e.loadChildren()).pipe(Ie(vI),zn(s=>s instanceof i_||Array.isArray(s)?ue(s):Pi(t.compileModuleAsync(s))),Ie(s=>{n&&n(e);let o,r,a=!1;return Array.isArray(s)?(r=s,a=!0):(o=s.create(i).injector,r=o.get(Um,[],{optional:!0,self:!0}).flat()),{routes:r.map(w0),injector:o}}))}function gV(e){return e&&typeof e=="object"&&"default"in e}function vI(e){return gV(e)?e.default:e}var S0=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:()=>_(mV),providedIn:"root"})}return e})(),mV=(()=>{class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,n){return i}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yI=new Z(""),bI=new Z("");function fV(e,t,i){let n=e.get(bI),s=e.get(Ne);return e.get(Ce).runOutsideAngular(()=>{if(!s.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,r=new Promise(c=>{o=c}),a=s.startViewTransition(()=>(o(),vV(e))),{onViewTransitionCreated:l}=n;return l&&ns(e,()=>l({transition:a,from:t,to:i})),r})}function vV(e){return new Promise(t=>{No({read:()=>setTimeout(t)},{injector:e})})}var CI=new Z(""),M0=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ye;transitionAbortSubject=new ye;configLoader=_(x0);environmentInjector=_(Ps);destroyRef=_(GD);urlSerializer=_(ih);rootContexts=_(sh);location=_(za);inputBindingEnabled=_(Ym,{optional:!0})!==null;titleStrategy=_(fI);options=_(rh,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=_(S0);createViewTransition=_(yI,{optional:!0});navigationErrorHandler=_(CI,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ue(void 0);rootComponentType=null;destroyed=!1;constructor(){let i=s=>this.events.next(new i0(s)),n=s=>this.events.next(new n0(s));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=i,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(i){let n=++this.navigationId;this.transitions?.next(A(w(w({},this.transitions.value),i),{id:n}))}setupNavigations(i,n,s){return this.transitions=new Mn({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Uu,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mt(o=>o.id!==0),Ie(o=>A(w({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ni(o=>{let r=!1,a=!1;return ue(o).pipe(Ni(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",$n.SupersededByNewNavigation),Fs;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?A(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!c&&d!=="reload"){let u="";return this.events.next(new Yr(l.id,this.urlSerializer.serialize(l.rawUrl),u,Om.IgnoredSameUrlNavigation)),l.resolve(!1),Fs}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ue(l).pipe(Ni(u=>{let h=this.transitions?.getValue();return this.events.next(new Ic(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),h!==this.transitions?.getValue()?Fs:Promise.resolve(u)}),rV(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Ht(u=>{o.targetSnapshot=u.targetSnapshot,o.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=A(w({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let h=new Nm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:u,extractedUrl:h,source:p,restoredState:g,extras:m}=l,f=new Ic(u,this.urlSerializer.serialize(h),p,g);this.events.next(f);let v=oI(this.rootComponentType).snapshot;return this.currentTransition=o=A(w({},l),{targetSnapshot:v,urlAfterRedirects:h,extras:A(w({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,ue(o)}else{let u="";return this.events.next(new Yr(l.id,this.urlSerializer.serialize(l.extractedUrl),u,Om.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Fs}}),Ht(l=>{let c=new QC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Ie(l=>(this.currentTransition=o=A(w({},l),{guards:_z(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),Nz(this.environmentInjector,l=>this.events.next(l)),Ht(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw jm(this.urlSerializer,l.guardsResult);let c=new JC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Mt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",$n.GuardRejected),!1)),$C(l=>{if(l.guards.canActivateChecks.length)return ue(l).pipe(Ht(c=>{let d=new e0(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Ni(c=>{let d=!1;return ue(c).pipe(aV(this.paramsInheritanceStrategy,this.environmentInjector),Ht({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",$n.NoDataFromResolver)}}))}),Ht(c=>{let d=new t0(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),$C(l=>{let c=d=>{let u=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ht(h=>{d.component=h}),Ie(()=>{})));for(let h of d.children)u.push(...c(h));return u};return $l(c(l.targetSnapshot.root)).pipe(pb(null),Oi(1))}),$C(()=>this.afterPreactivation()),Ni(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return d?Pi(d).pipe(Ie(()=>o)):ue(o)}),Ie(l=>{let c=wz(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=A(w({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),Ht(()=>{this.events.next(new qu)}),Dz(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Oi(1),Ht({next:l=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{r=!0}}),Jt(this.transitionAbortSubject.pipe(Ht(l=>{throw l}))),Or(()=>{!r&&!a&&this.cancelNavigationTransition(o,"",$n.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Fr(l=>{if(this.destroyed)return o.resolve(!1),Fs;if(a=!0,dI(l))this.events.next(new Ho(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),Mz(l)?this.events.next(new Rc(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new Zu(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let d=ns(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(d instanceof Qu){let{message:u,cancellationCode:h}=jm(this.urlSerializer,d);this.events.next(new Ho(o.id,this.urlSerializer.serialize(o.extractedUrl),u,h)),this.events.next(new Rc(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return Fs}))}))}cancelNavigationTransition(i,n,s){let o=new Ho(i.id,this.urlSerializer.serialize(i.extractedUrl),n,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yV(e){return e!==Uu}var D0=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:()=>_(bV),providedIn:"root"})}return e})(),y0=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},bV=(()=>{class e extends y0{static \u0275fac=(()=>{let i;return function(s){return(i||(i=rn(e)))(s||e)}})();static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wI=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:()=>_(CV),providedIn:"root"})}return e})(),CV=(()=>{class e extends wI{location=_(za);urlSerializer=_(ih);options=_(rh,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=_(S0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new jo;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=oI(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(n=>{n.type==="popstate"&&i(n.url,n.state)})}handleRouterEvent(i,n){if(i instanceof Ic)this.stateMemento=this.createStateMemento();else if(i instanceof Yr)this.rawUrlTree=n.initialUrl;else if(i instanceof Nm){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??s,n)}}else i instanceof qu?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):i instanceof Ho&&(i.code===$n.GuardRejected||i.code===$n.NoDataFromResolver)?this.restoreHistory(n):i instanceof Zu?this.restoreHistory(n,!0):i instanceof Wo&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,n){let s=i instanceof jo?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(s)||n.extras.replaceUrl){let o=this.browserPageId,r=w(w({},n.extras.state),this.generateNgRouterState(n.id,o));this.location.replaceState(s,"",r)}else{let o=w(w({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,n=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,n){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:n}:{navigationId:i}}static \u0275fac=(()=>{let i;return function(s){return(i||(i=rn(e)))(s||e)}})();static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xI(e,t){e.events.pipe(Mt(i=>i instanceof Wo||i instanceof Ho||i instanceof Zu||i instanceof Yr),Ie(i=>i instanceof Wo||i instanceof Yr?0:(i instanceof Ho?i.code===$n.Redirect||i.code===$n.SupersededByNewNavigation:!1)?2:1),Mt(i=>i!==2),Oi(1)).subscribe(()=>{t()})}var wV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Kr=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=_(xb);stateManager=_(wI);options=_(rh,{optional:!0})||{};pendingTasks=_(bg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=_(M0);urlSerializer=_(ih);location=_(za);urlHandlingStrategy=_(S0);_events=new ye;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=_(D0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=_(Um,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!_(Ym,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}eventsSubscription=new $i;subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(n=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof Ho&&n.code!==$n.Redirect&&n.code!==$n.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Wo)this.navigated=!0;else if(n instanceof Rc){let r=n.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(n.url,s.currentRawUrl),l=w({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||yV(s.source)},r);this.scheduleNavigation(a,Uu,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}MV(n)&&this._events.next(n)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Uu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",n)},0)})}navigateToSyncWithBrowser(i,n,s){let o={replaceUrl:!0},r=s?.navigationId?s:null;if(s){let l=w({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(i);this.scheduleNavigation(a,n,r,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(w0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,n={}){let{relativeTo:s,queryParams:o,fragment:r,queryParamsHandling:a,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:r,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let h=s?s.snapshot:this.routerState.snapshot.root;u=tI(h)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),u=this.currentUrlTree.root}return iI(u,i,d,c??null)}navigateByUrl(i,n={skipLocationChange:!1}){let s=Yu(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Uu,null,n)}navigate(i,n={skipLocationChange:!1}){return SV(i),this.navigateByUrl(this.createUrlTree(i,n),n)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,n){let s;if(n===!0?s=w({},wV):n===!1?s=w({},xV):s=n,Yu(i))return OE(this.currentUrlTree,i,s);let o=this.parseUrl(i);return OE(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((n,[s,o])=>(o!=null&&(n[s]=o),n),{})}scheduleNavigation(i,n,s,o,r){if(this.disposed)return Promise.resolve(!1);let a,l,c;r?(a=r.resolve,l=r.reject,c=r.promise):c=new Promise((u,h)=>{a=u,l=h});let d=this.pendingTasks.add();return xI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function SV(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new et(4008,!1)}function MV(e){return!(e instanceof qu)&&!(e instanceof Rc)}var $m=class{};var DV=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(i,n,s,o,r){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=r}setUpPreloading(){this.subscription=this.router.events.pipe(Mt(i=>i instanceof Wo),Pr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,n){let s=[];for(let o of n){o.providers&&!o._injector&&(o._injector=wb(o.providers,i,`Route: ${o.path}`));let r=o._injector??i,a=o._loadedInjector??r;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(r,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Pi(s).pipe(ub())}preloadConfig(i,n){return this.preloadingStrategy.preload(n,()=>{let s;n.loadChildren&&n.canLoad===void 0?s=this.loader.loadChildren(i,n):s=ue(null);let o=s.pipe(zn(r=>r===null?ue(void 0):(n._loadedRoutes=r.routes,n._loadedInjector=r.injector,this.processRoutes(r.injector??i,r.routes))));if(n.loadComponent&&!n._loadedComponent){let r=this.loader.loadComponent(n);return Pi([o,r]).pipe(ub())}else return o})}static \u0275fac=function(n){return new(n||e)(De(Kr),De(Rg),De(Ps),De($m),De(x0))};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),SI=new Z(""),_V=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(i,n,s,o,r={}){this.urlSerializer=i,this.transitions=n,this.viewportScroller=s,this.zone=o,this.options=r,r.scrollPositionRestoration||="disabled",r.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Ic?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Wo?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Yr&&i.code===Om.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Bm&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Bm(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){Sg()};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})();function EV(e){return e.routerState.root}function ah(e,t){return{\u0275kind:e,\u0275providers:t}}function IV(){let e=_(Rt);return t=>{let i=e.get(zr);if(t!==i.components[0])return;let n=e.get(Kr),s=e.get(MI);e.get(_0)===1&&n.initialNavigation(),e.get(DI,null,vb.Optional)?.setUpPreloading(),e.get(SI,null,vb.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}var MI=new Z("",{factory:()=>new ye}),_0=new Z("",{providedIn:"root",factory:()=>1});function RV(){return ah(2,[{provide:_0,useValue:0},{provide:Mb,multi:!0,deps:[Rt],useFactory:t=>{let i=t.get(v_,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let s=t.get(Kr),o=t.get(MI);xI(s,()=>{n(!0)}),t.get(M0).afterPreactivation=()=>(n(!0),o.closed?ue(void 0):o),s.initialNavigation()}))}}])}function AV(){return ah(3,[{provide:Mb,multi:!0,useFactory:()=>{let t=_(Kr);return()=>{t.setUpLocationChangeListener()}}},{provide:_0,useValue:2}])}var DI=new Z("");function kV(e){return ah(0,[{provide:DI,useExisting:DV},{provide:$m,useExisting:e}])}function TV(){return ah(8,[VE,{provide:Ym,useExisting:VE}])}function LV(e){let t=[{provide:yI,useValue:fV},{provide:bI,useValue:w({skipNextTransition:!!e?.skipInitialTransition},e)}];return ah(9,t)}var FV=[za,{provide:ih,useClass:Ec},Kr,sh,{provide:Ac,useFactory:EV,deps:[Kr]},x0,[]],Yi=(()=>{class e{constructor(){}static forRoot(i,n){return{ngModule:e,providers:[FV,[],{provide:Um,multi:!0,useValue:i},[],n?.errorHandler?{provide:CI,useValue:n.errorHandler}:[],{provide:rh,useValue:n||{}},n?.useHash?OV():NV(),PV(),n?.preloadingStrategy?kV(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?BV(n):[],n?.bindToComponentInputs?TV().\u0275providers:[],n?.enableViewTransitions?LV().\u0275providers:[],zV()]}}static forChild(i){return{ngModule:e,providers:[{provide:Um,multi:!0,useValue:i}]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({})}return e})();function PV(){return{provide:SI,useFactory:()=>{let e=_(S_),t=_(Ce),i=_(rh),n=_(M0),s=_(ih);return i.scrollOffset&&e.setOffset(i.scrollOffset),new _V(s,n,e,t,i)}}}function OV(){return{provide:_b,useClass:b_}}function NV(){return{provide:_b,useClass:y_}}function BV(e){return[e.initialNavigation==="disabled"?AV().\u0275providers:[],e.initialNavigation==="enabledBlocking"?RV().\u0275providers:[]]}var WE=new Z("");function zV(){return[{provide:WE,useFactory:IV},{provide:Db,multi:!0,useExisting:WE}]}var _n=class e{saveDomain(t){localStorage.setItem(t.domain_key,JSON.stringify(t))}getDomain(t){let i=localStorage.getItem(t);return i?JSON.parse(i):null}static \u0275fac=function(i){return new(i||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})};var po=class e{constructor(t,i,n){this.http=t;this.storageService=i;this.sanitizer=n}prediction_data=[];actual_data=[];mlflow_url="";api_res=[];getService(t){return this.http.get(t)}postService(t,i){return this.http.post(t,i)}setResponse(t){this.api_res=t}getResponse(){return this.api_res}getServerURL(){let t=this.storageService.getDomain("mlflow");return t&&(this.mlflow_url=this.sanitizer.bypassSecurityTrustResourceUrl(t.domain_name)),this.mlflow_url}static \u0275fac=function(i){return new(i||e)(De(vu),De(_n),De(Ns))};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})};var GV=["*",[["mat-toolbar-row"]]],HV=["*","mat-toolbar-row"],jV=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=We({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return e})(),_I=(()=>{class e{_elementRef=_(Oe);_platform=_(Tt);_document=_(Ne);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["mat-toolbar"]],contentQueries:function(n,s,o){if(n&1&&Bi(o,jV,5),n&2){let r;Ye(r=Ke())&&(s._toolbarRows=r)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(n,s){n&2&&(Oa(s.color?"mat-"+s.color:""),it("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",s._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:HV,decls:2,vars:0,template:function(n,s){n&1&&(ui(GV),ut(0),ut(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}"],encapsulation:2,changeDetection:0})}return e})();var Zm=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Be,Be]})}return e})();var UV=["*"],qm;function $V(){if(qm===void 0&&(qm=null,typeof window<"u")){let e=window;e.trustedTypes!==void 0&&(qm=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return qm}function ch(e){return $V()?.createHTML(e)||e}function EI(e){return Error(`Unable to find icon with the name "${e}"`)}function YV(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function II(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function RI(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}var Uo=class{url;svgText;options;svgElement;constructor(t,i,n){this.url=t,this.svgText=i,this.options=n}},KV=(()=>{class e{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(i,n,s,o){this._httpClient=i,this._sanitizer=n,this._errorHandler=o,this._document=s}addSvgIcon(i,n,s){return this.addSvgIconInNamespace("",i,n,s)}addSvgIconLiteral(i,n,s){return this.addSvgIconLiteralInNamespace("",i,n,s)}addSvgIconInNamespace(i,n,s,o){return this._addSvgIconConfig(i,n,new Uo(s,null,o))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,n,s,o){let r=this._sanitizer.sanitize(Vn.HTML,s);if(!r)throw RI(s);let a=ch(r);return this._addSvgIconConfig(i,n,new Uo("",a,o))}addSvgIconSet(i,n){return this.addSvgIconSetInNamespace("",i,n)}addSvgIconSetLiteral(i,n){return this.addSvgIconSetLiteralInNamespace("",i,n)}addSvgIconSetInNamespace(i,n,s){return this._addSvgIconSetConfig(i,new Uo(n,null,s))}addSvgIconSetLiteralInNamespace(i,n,s){let o=this._sanitizer.sanitize(Vn.HTML,n);if(!o)throw RI(n);let r=ch(o);return this._addSvgIconSetConfig(i,new Uo("",r,s))}registerFontClassAlias(i,n=i){return this._fontCssClassesByAlias.set(i,n),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){let n=this._sanitizer.sanitize(Vn.RESOURCE_URL,i);if(!n)throw II(i);let s=this._cachedIconsByUrl.get(n);return s?ue(Xm(s)):this._loadSvgIconFromConfig(new Uo(i,null)).pipe(Ht(o=>this._cachedIconsByUrl.set(n,o)),Ie(o=>Xm(o)))}getNamedSvgIcon(i,n=""){let s=AI(n,i),o=this._svgIconConfigs.get(s);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(n,i),o)return this._svgIconConfigs.set(s,o),this._getSvgFromConfig(o);let r=this._iconSetConfigs.get(n);return r?this._getSvgFromIconSetConfigs(i,r):ka(EI(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?ue(Xm(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(Ie(n=>Xm(n)))}_getSvgFromIconSetConfigs(i,n){let s=this._extractIconWithNameFromAnySet(i,n);if(s)return ue(s);let o=n.filter(r=>!r.svgText).map(r=>this._loadSvgIconSetFromConfig(r).pipe(Fr(a=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(Vn.RESOURCE_URL,r.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),ue(null)})));return fg(o).pipe(Ie(()=>{let r=this._extractIconWithNameFromAnySet(i,n);if(!r)throw EI(i);return r}))}_extractIconWithNameFromAnySet(i,n){for(let s=n.length-1;s>=0;s--){let o=n[s];if(o.svgText&&o.svgText.toString().indexOf(i)>-1){let r=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(r,i,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(Ht(n=>i.svgText=n),Ie(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?ue(null):this._fetchIcon(i).pipe(Ht(n=>i.svgText=n))}_extractSvgIconFromSet(i,n,s){let o=i.querySelector(`[id="${n}"]`);if(!o)return null;let r=o.cloneNode(!0);if(r.removeAttribute("id"),r.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(r,s);if(r.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(r),s);let a=this._svgElementFromString(ch("<svg></svg>"));return a.appendChild(r),this._setSvgAttributes(a,s)}_svgElementFromString(i){let n=this._document.createElement("DIV");n.innerHTML=i;let s=n.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(i){let n=this._svgElementFromString(ch("<svg></svg>")),s=i.attributes;for(let o=0;o<s.length;o++){let{name:r,value:a}=s[o];r!=="id"&&n.setAttribute(r,a)}for(let o=0;o<i.childNodes.length;o++)i.childNodes[o].nodeType===this._document.ELEMENT_NODE&&n.appendChild(i.childNodes[o].cloneNode(!0));return n}_setSvgAttributes(i,n){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),n&&n.viewBox&&i.setAttribute("viewBox",n.viewBox),i}_fetchIcon(i){let{url:n,options:s}=i,o=s?.withCredentials??!1;if(!this._httpClient)throw YV();if(n==null)throw Error(`Cannot fetch icon from URL "${n}".`);let r=this._sanitizer.sanitize(Vn.RESOURCE_URL,n);if(!r)throw II(n);let a=this._inProgressUrlFetches.get(r);if(a)return a;let l=this._httpClient.get(r,{responseType:"text",withCredentials:o}).pipe(Ie(c=>ch(c)),Or(()=>this._inProgressUrlFetches.delete(r)),ND());return this._inProgressUrlFetches.set(r,l),l}_addSvgIconConfig(i,n,s){return this._svgIconConfigs.set(AI(i,n),s),this}_addSvgIconSetConfig(i,n){let s=this._iconSetConfigs.get(i);return s?s.push(n):this._iconSetConfigs.set(i,[n]),this}_svgElementFromConfig(i){if(!i.svgElement){let n=this._svgElementFromString(i.svgText);this._setSvgAttributes(n,i.options),i.svgElement=n}return i.svgElement}_getIconConfigFromResolvers(i,n){for(let s=0;s<this._resolvers.length;s++){let o=this._resolvers[s](n,i);if(o)return ZV(o)?new Uo(o.url,null,o.options):new Uo(o,null)}}static \u0275fac=function(n){return new(n||e)(De(vu,8),De(Ns),De(Ne,8),De(Fa))};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Xm(e){return e.cloneNode(!0)}function AI(e,t){return e+":"+t}function ZV(e){return!!(e.url&&e.options)}var qV=new Z("MAT_ICON_DEFAULT_OPTIONS"),XV=new Z("mat-icon-location",{providedIn:"root",factory:QV});function QV(){let e=_(Ne),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var kI=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],JV=kI.map(e=>`[${e}]`).join(", "),eG=/^url\(['"]?#(.*?)['"]?\)$/,TI=(()=>{class e{_elementRef=_(Oe);_iconRegistry=_(KV);_location=_(XV);_errorHandler=_(Fa);_defaultColor;get color(){return this._color||this._defaultColor}set color(i){this._color=i}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(i){let n=this._cleanupFontValue(i);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(i){let n=this._cleanupFontValue(i);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=$i.EMPTY;constructor(){let i=_(new La("aria-hidden"),{optional:!0}),n=_(qV,{optional:!0});n&&(n.color&&(this.color=this._defaultColor=n.color),n.fontSet&&(this.fontSet=n.fontSet)),i||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];let n=i.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let i=this._elementsWithExternalReferences;if(i&&i.size){let n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();let n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){let i=this._elementRef.nativeElement,n=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){let s=i.childNodes[n];(s.nodeType!==1||s.nodeName.toLowerCase()==="svg")&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let i=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>i.classList.remove(s)),n.forEach(s=>i.classList.add(s)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return typeof i=="string"?i.trim().split(" ")[0]:i}_prependPathToReferences(i){let n=this._elementsWithExternalReferences;n&&n.forEach((s,o)=>{s.forEach(r=>{o.setAttribute(r.name,`url('${i}#${r.value}')`)})})}_cacheChildrenWithExternalReferences(i){let n=i.querySelectorAll(JV),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<n.length;o++)kI.forEach(r=>{let a=n[o],l=a.getAttribute(r),c=l?l.match(eG):null;if(c){let d=s.get(a);d||(d=[],s.set(a,d)),d.push({name:r,value:c[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){let[n,s]=this._splitIconName(i);n&&(this._svgNamespace=n),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,n).pipe(Oi(1)).subscribe(o=>this._setSvgElement(o),o=>{let r=`Error retrieving icon ${n}:${s}! ${o.message}`;this._errorHandler.handleError(new Error(r))})}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,s){n&2&&(tt("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),Oa(s.color?"mat-"+s.color:""),it("mat-icon-inline",s.inline)("mat-icon-no-color",s.color!=="primary"&&s.color!=="accent"&&s.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",k],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:UV,decls:1,vars:0,template:function(n,s){n&1&&(ui(),ut(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return e})(),Qm=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Be,Be]})}return e})();function iG(e,t){if(e&1){let i=co();Q(0,"li")(1,"button",7),lt("click",function(){let s=sn(i).$implicit,o=ft();return on(o.navigateTo(s.route))}),kt(2),J(),Q(3,"button",7),lt("click",function(){let s=sn(i).index,o=ft();return on(o.openDomainDialog(s))}),kt(4),J()()}if(e&2){let i=t.$implicit;ie(2),Gn(i.name),ie(2),Gn(i.domain)}}var Jm=class e{constructor(t,i,n,s,o){this.router=t;this.storageService=i;this.restApiService=n;this.dialog=s;this.sanitizer=o}title="CDS_causal_alpha";isMenuVisible=!0;menuItems=[{name:"Home",route:"/home",domain:"+",server:"fast_api"},{name:"Dags",route:"/dags",domain:"+",server:"dag"},{name:"MLflow",route:"/mlflow",domain:"+",server:"mlflow"}];fast_api_url="";ngOnInit(){this.navigateTo("/home");for(let t=0;t<this.menuItems.length;t++){let i=this.getServerURL(this.menuItems[t].server);this.menuItems[t].domain=i}}getServerURL(t){let i=this.storageService.getDomain(t);return i?(t=="mlflow"&&this.connectMLtoFastApi(i.domain_name),i.domain_name):"+"}toggleMenu(){this.isMenuVisible=!this.isMenuVisible}navigateTo(t){this.router.navigate([t])}addDomain(){console.log("domain : ")}openDomainDialog(t){let i=this.menuItems[t].domain!="+"?this.menuItems[t].domain:"";this.dialog.open(bc,{width:"250px",disableClose:!1,data:{domain:i||"",page:this.menuItems[t].server}}).afterClosed().subscribe(s=>{s.server&&(this.menuItems[t].domain=s.server,this.storageService.saveDomain({domain_key:this.menuItems[t].server,domain_name:s.server}),s.page=="mlflow"&&this.connectMLtoFastApi(s.server))})}connectMLtoFastApi(t){let i=this.storageService.getDomain("fast_api");i?(i.domain_name,this.restApiService.postService(i.domain_name+"/mlflow",{mlflow_ip:t}).subscribe(n=>{n.status==200?(console.log(n.data),sessionStorage.setItem("mlflowUrl",t)):console.log("Error : ",n.data)})):console.log("server not connected")}static \u0275fac=function(i){return new(i||e)(Re(Kr),Re(_n),Re(po),Re(TC),Re(Ns))};static \u0275cmp=ge({type:e,selectors:[["app-root"]],standalone:!1,decls:12,vars:5,consts:[["color","primary",1,"header"],["mat-icon-button","",3,"click"],[1,"title"],[1,"content-wrapper"],[1,"sidebar"],[1,"menu"],[4,"ngFor","ngForOf"],["mat-button","",3,"click"]],template:function(i,n){i&1&&(Q(0,"mat-toolbar",0)(1,"button",1),lt("click",function(){return n.toggleMenu()}),Q(2,"mat-icon"),kt(3,"menu"),J()(),Q(4,"span",2),kt(5,"Dashboard"),J()(),Q(6,"div",3)(7,"nav",4)(8,"ul",5),$e(9,iG,5,2,"li",6),J()(),Q(10,"main"),ze(11,"router-outlet"),J()()),i&2&&(ie(7),it("hidden",!n.isMenuVisible),ie(2),Fe("ngForOf",n.menuItems),ie(),it("expanded",!n.isMenuVisible))},dependencies:[w_,C0,_I,TI],styles:[".header[_ngcontent-%COMP%]{display:flex;align-items:center;background:#007bff;color:#fff;padding:10px;position:fixed;width:100%;top:0;z-index:1000}.header-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.toggle-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:20px;cursor:pointer;margin-right:20px}.title[_ngcontent-%COMP%]{font-size:24px}.content-wrapper[_ngcontent-%COMP%]{display:flex;margin-top:50px}.sidebar[_ngcontent-%COMP%]{width:200px;background:#007bff;height:100vh;padding:10px;box-shadow:2px 0 5px #0000001a;transition:width .3s;position:fixed;top:50px;left:0}.sidebar.hidden[_ngcontent-%COMP%]{width:0;overflow:hidden}.menu[_ngcontent-%COMP%]{list-style-type:none;padding:0}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:10px 0}main[_ngcontent-%COMP%]{margin-left:210px;padding:20px;transition:margin-left .3s;width:100%}main.expanded[_ngcontent-%COMP%]{margin-left:10px}"]})};var ll=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){let n=t?this.allAsyncListeners:this.allSyncListeners,s=n.get(e);return!s&&i&&(s=new Set,n.set(e,s)),s}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){let n=this.getListeners(e,i,!1);n&&(n.delete(t),n.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){let i=e.type;if(t&&"event"in e){let a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}let n=(a,l)=>a.forEach(c=>{if(!l.has(c))return;let d=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(e)):()=>c(e);t?this.dispatchAsync(d):d()}),s=this.getListeners(i,t,!1)??new Set,o=new Set(s);o.size>0&&n(o,s),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{let l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(i,e)):()=>a(i,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){let t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;let e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function nG(e,t){return t}function SR(e){return e?.getLocaleTextFunc()??nG}function tr(e,t,i){i==null||typeof i=="string"&&i==""?MR(e,t):vs(e,t,i)}function vs(e,t,i){e.setAttribute(DR(t),i.toString())}function MR(e,t){e.removeAttribute(DR(t))}function DR(e){return`aria-${e}`}function un(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function sG(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function oG(e){return e.getAttribute("aria-label")}function zf(e,t){tr(e,"label",t)}function rw(e,t){tr(e,"labelledby",t)}function _R(e,t){tr(e,"live",t)}function rG(e,t){tr(e,"atomic",t)}function aG(e,t){tr(e,"relevant",t)}function lG(e,t){tr(e,"disabled",t)}function ER(e,t){tr(e,"hidden",t)}function aw(e,t){vs(e,"expanded",t)}function cG(e,t){vs(e,"setsize",t)}function dG(e,t){vs(e,"posinset",t)}function uG(e,t){vs(e,"multiselectable",t)}function hG(e,t){vs(e,"rowcount",t)}function Ow(e,t){vs(e,"rowindex",t)}function pG(e,t){vs(e,"rowspan",t)}function gG(e,t){vs(e,"colcount",t)}function IR(e,t){vs(e,"colindex",t)}function mG(e,t){vs(e,"colspan",t)}function fG(e,t){vs(e,"sort",t)}function vG(e){MR(e,"sort")}function lw(e,t){tr(e,"selected",t)}function yG(e,t){tr(e,"controls",t.id),rw(t,e.id)}function Nw(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var I0,R0,A0,k0,T0,cw,dw,L0;function na(){return I0===void 0&&(I0=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),I0}function RR(){if(R0===void 0){let e=window;R0=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return R0}function AR(){return A0===void 0&&(A0=/(firefox)/i.test(navigator.userAgent)),A0}function kR(){return k0===void 0&&(k0=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),k0}function tl(){return T0===void 0&&(T0=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),T0}function uw(e){if(!e)return null;let t=e.tabIndex,i=e.getAttribute("tabIndex");return t===-1&&(i===null||i===""&&!AR())?null:t.toString()}function bG(){if(L0!==void 0)return L0;if(!document.body)return-1;let e=1e6,t=AR()?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){let n=e*2;if(i.style.height=n+"px",n>t||i.clientHeight!==n)break;e=n}return document.body.removeChild(i),L0=e,e}function CG(){return dw==null&&TR(),dw}function TR(){let e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;i===0&&t.clientWidth===0&&(i=null),t.parentNode&&t.parentNode.removeChild(t),i!=null&&(dw=i,cw=i===0)}function LR(){return cw==null&&TR(),cw}var ef;var wG="[tabindex], input, select, button, textarea, [href]",FR="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Bw(e){let t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),s=t.call(e,FR),o=js(e);return n&&!s&&o}function Nt(e,t,i={}){let{skipAriaHidden:n}=i;e.classList.toggle("ag-hidden",!t),n||ER(e,!t)}function xG(e,t,i={}){let{skipAriaHidden:n}=i;e.classList.toggle("ag-invisible",!t),n||ER(e,!t)}function Mh(e,t){let i="disabled",n=t?s=>s.setAttribute(i,""):s=>s.removeAttribute(i);n(e),VR(e.querySelectorAll("input"),s=>n(s))}function il(e,t,i){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof i=="number"){if(++n>i)break}else if(e===i)break}return!1}function ul(e){let{height:t,width:i,borderTopWidth:n,borderRightWidth:s,borderBottomWidth:o,borderLeftWidth:r,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:u,marginRight:h,marginBottom:p,marginLeft:g,boxSizing:m}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(s||"0"),borderBottomWidth:parseFloat(o||"0"),borderLeftWidth:parseFloat(r||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(u||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(g||"0"),boxSizing:m}}function zw(e){let t=ul(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Dh(e){let t=ul(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function PR(e){let{height:t,marginBottom:i,marginTop:n}=ul(e);return Math.floor(t+i+n)}function vf(e){let{width:t,marginLeft:i,marginRight:n}=ul(e);return Math.floor(t+i+n)}function OR(e){let t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:n,borderRightWidth:s,borderBottomWidth:o}=ul(e);return{top:t.top+(i||0),left:t.left+(n||0),right:t.right+(s||0),bottom:t.bottom+(o||0)}}function yf(){if(typeof ef=="boolean")return ef;let e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,ef=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),ef}function bf(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),RR()&&!yf()&&(i=e.scrollWidth-e.getBoundingClientRect().width-i)),i}function Cf(e,t,i){i&&(yf()?t*=-1:(na()||RR())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function Ki(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function hs(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function NR(e){return!!e.offsetParent}function js(e){let t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!NR(e)||window.getComputedStyle(e).visibility!=="visible")}function _h(e){let t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function BR(e,t,i){i&&i.nextSibling===t||(e.firstChild?i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t):e.appendChild(t))}function zR(e,t){for(let i=0;i<t.length;i++){let n=t[i],s=e.children[i];s!==n&&e.insertBefore(n,s)}}function SG(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}function Oh(e,t){if(t)for(let i of Object.keys(t)){let n=t[i];if(!i||!i.length||n==null)continue;let s=SG(i),o=n.toString(),r=o.replace(/\s*!important/g,""),a=r.length!=o.length?"important":void 0;e.style.setProperty(s,r,a)}}function MG(e){return e.clientWidth<e.scrollWidth}function DG(e){return e.clientHeight<e.scrollHeight}function wf(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):vo(e,t)}function vo(e,t){t=Vw(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function fh(e,t){t=Vw(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function Vw(e){return typeof e=="number"?`${e}px`:e}function Gw(e){return e instanceof Node||e instanceof HTMLElement}function _G(e){if(e==null)return[];let t=[];return VR(e,i=>t.push(i)),t}function EG(e,t){if(e)for(let i=0;i<e.length;i++){let n=e[i];t(n.name,n.value)}}function gs(e,t,i){i==null||i===""?e.removeAttribute(t):e.setAttribute(t,i.toString())}function VR(e,t){if(e!=null)for(let i=0;i<e.length;i++)t(e[i])}function sa(e,t,i){let s=ZR(e).ResizeObserver,o=s?new s(i):null;return o?.observe(t),()=>o?.disconnect()}function Ko(e){return e==null||e===""?null:e}function U(e){return e!=null&&e!==""}function Lt(e){return!U(e)}function hw(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Eh(e,t){let i=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return i===n}function IG(e,t,i=!1){let n=e==null,s=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&s)return 0;if(n)return-1;if(s)return 1;function o(r,a){return r>a?1:r<a?-1:0}if(typeof e!="string"||!i)return o(e,t);try{return e.localeCompare(t)}catch{return o(e,t)}}var GR="https://www.ag-grid.com",LI={};function HR(e,t){LI[t]||(e(),LI[t]=!0)}function ta(e,t,...i){e.get("debug")&&console.log("AG Grid: "+t,...i)}function Nc(e,...t){HR(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function Bc(e,...t){HR(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var F0=[],P0=!1;function FI(e){F0.push(e),!P0&&(P0=!0,window.setTimeout(()=>{let t=F0.slice();F0.length=0,P0=!1,t.forEach(i=>i())},0))}function Vi(e,t,i){let n;return function(...s){let o=this;window.clearTimeout(n),n=window.setTimeout(function(){e.isAlive()&&t.apply(o,s)},i)}}function PI(e,t){let i=0;return function(...n){let s=this,o=new Date().getTime();o-i<t||(i=o,e.apply(s,n))}}function RG(e,t,i=100,n){let s=new Date().getTime(),o=null,r=!1,a=()=>{let l=new Date().getTime()-s>i;(e()||l)&&(t(),r=!0,o!=null&&(window.clearInterval(o),o=null),l&&n&&Nc(n))};a(),r||(o=window.setInterval(a,10))}var Y="33.1.1",OI=2e3,NI=100,jR="_version_",WR=null,AG=!1,nl=`${GR}/javascript-data-grid`;function kG(e){WR=e}function TG(e){nl=e}function UR(e,t,i){return WR?.getConsoleMessage(e,t)??[OG(e,t,i)]}function Hw(e,t,i,n){AG||e(`error #${t}`,...UR(t,i,n))}function LG(e){if(!e)return String(e);let t={};for(let i of Object.keys(e))typeof e[i]!="object"&&typeof e[i]!="function"&&(t[i]=e[i]);return JSON.stringify(t)}function FG(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=LG(e)),t}function xf(e){return e===void 0?"undefined":e===null?"null":e}function pw(e,t){return`${e}?${t.toString()}`}function PG(e,t,i){let n=Array.from(t.entries()).sort((o,r)=>r[1].length-o[1].length),s=pw(e,t);for(let[o,r]of n){if(o===jR)continue;let a=s.length-i;if(a<=0)break;let l="...",c=a+l.length,d=r.length-c>NI?r.slice(0,r.length-c)+l:r.slice(0,NI)+l;t.set(o,d),s=pw(e,t)}return s}function $R(e,t){let i=new URLSearchParams;if(i.append(jR,Y),t)for(let o of Object.keys(t))i.append(o,FG(t[o]));let n=`${nl}/errors/${e}`,s=pw(n,i);return s.length<=OI?s:PG(n,i,OI)}var OG=(e,t,i)=>{let n=$R(e,t);return`${i?i+` 
`:""}Visit ${n}${i?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function z(...e){Hw(Nc,e[0],e[1])}function ht(...e){Hw(Bc,e[0],e[1])}function gw(e,t,i){Hw(Bc,e,t,i)}function NG(e,t){let i=t[0];return`error #${i} `+UR(i,t[1],e).join(" ")}function ea(...e){return NG(void 0,e)}function YR(e,t){return e.get("rowModelType")===t}function cn(e,t){return YR(e,"clientSide")}function Qc(e,t){return YR(e,"serverSide")}function Gi(e,t){return e.get("domLayout")===t}function sl(e){return Mf(e)!==void 0}function KR(e){return typeof e.get("getRowHeight")=="function"}function BG(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Uc(e,t,i=!1,n){let{gos:s,environment:o}=e;if(n==null&&(n=o.getDefaultRowHeight()),KR(s)){if(i)return{height:n,estimated:!0};let l={node:t,data:t.data},c=s.getCallback("getRowHeight")(l);if(mw(c))return c===0&&z(23),{height:Math.max(1,c),estimated:!1}}if(t.detail&&s.get("masterDetail"))return zG(s);let r=s.get("rowHeight");return{height:r&&mw(r)?r:n,estimated:!1}}function zG(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};let t=e.get("detailRowHeight");return mw(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function ol(e){let{environment:t,gos:i}=e,n=i.get("rowHeight");if(!n||Lt(n))return t.getDefaultRowHeight();let s=t.refreshRowHeightVariable();return s!==-1?s:(z(24),t.getDefaultRowHeight())}function mw(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function Sf(e,t,i){let n=t[e.getDomDataKey()];return n?n[i]:void 0}function cl(e,t,i,n){let s=e.getDomDataKey(),o=t[s];Lt(o)&&(o={},t[s]=o),o[i]=n}function Qt(e){let{gos:t,eGridDiv:i}=e,n=null,s=t.get("getDocument");return s&&U(s)?n=s():i&&(n=i.ownerDocument),n&&U(n)?n:document}function ZR(e){return Qt(e).defaultView||window}function Ih(e){return e.eGridDiv.getRootNode()}function Bt(e){return Ih(e).activeElement}function jw(e){let t=null,i=null;try{t=Qt(e).fullscreenElement}catch{}finally{t||(t=Ih(e));let n=t.querySelector("body");n?i=n:t instanceof ShadowRoot?i=t:t instanceof Document?i=t?.documentElement:i=t}return i}function VG(e){return jw(e)?.clientWidth??(window.innerHeight||-1)}function GG(e){return jw(e)?.clientHeight??(window.innerHeight||-1)}function HG(e,t,i){let s=e.getBoundingClientRect().height,o=VG(i)-2,r=GG(i)-2;if(!e.offsetParent)return;let l=OR(e.offsetParent),{clientY:c,clientX:d}=t,u=c-l.top-s/2,h=d-l.left-10,p=Qt(i),g=p.defaultView||window,m=g.pageYOffset||p.documentElement.scrollTop,f=g.pageXOffset||p.documentElement.scrollLeft;o>0&&h+e.clientWidth>o+f&&(h=o+f-e.clientWidth),h<0&&(h=0),r>0&&u+e.clientHeight>r+m&&(u=r+m-e.clientHeight),u<0&&(u=0),e.style.left=`${h}px`,e.style.top=`${u}px`}function qR(e){let t=Qt(e),i=Bt(e);return i===null||i===t.body}function zc(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function XR(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Gi(e,"print"))}function fo(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function fw(e){let t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function jG(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function Ww(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function $c(e){let t=e.getCallback("getRowId");return t===void 0?t:i=>{let n=t(i);return typeof n!="string"&&(z(25,{id:n}),n=String(n)),n}}function WG(e,t){let i=e.get("groupHideParentOfSingleChild");return!!(i===!0||i==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function UG(e){let t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Vc(e){return e?.checkboxes??!0}function uf(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function vw(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function O0(e){return e?.hideDisabledCheckboxes??!1}function $G(e){return typeof e.get("rowSelection")!="string"}function Qo(e){let t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function QR(e){let t=e.get("rowSelection")??"single";if(typeof t=="string"){let i=e.get("suppressRowClickSelection"),n=e.get("suppressRowDeselection");return i&&n?!1:i?"enableDeselection":n?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function YG(e){let t=QR(e);return t===!0||t==="enableSelection"}function KG(e){let t=QR(e);return t===!0||t==="enableDeselection"}function yw(e){let t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function Mf(e){let t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function Rh(e){return Mf(e)==="multiRow"}function ZG(e){let t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function Df(e){let t=e.get("rowSelection");if(typeof t=="string"){let i=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return i&&n?"filteredDescendants":i?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function JR(e,t=!0){let i=e.get("rowSelection");return typeof i!="object"?t?"all":void 0:i.mode==="multiRow"?i.selectAll:"all"}function Ah(e){let t=Df(e);return t==="descendants"||t==="filteredDescendants"}function BI(e){let t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function N0(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function Yn(e){return e.get("columnMenu")==="legacy"}function qG(e){return!Yn(e)}function eA(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function tA(e,t,i){typeof e!="object"&&(e={});let n=w({},e);return i.forEach(s=>{let o=t[s];typeof o<"u"&&(n[s]=o)}),n}function iA(e,t){if(!e)return;let i={},n=!1;if(Object.keys(e).forEach(r=>{i[r]=e[r],n=!0}),!n)return;let s={type:"gridOptionsChanged",options:i};t.dispatchEvent(s);let o=w({type:"componentStateChanged"},i);t.dispatchEvent(o)}function Se(e,t){return e.addGridCommonParams(t)}var nA="__ag_Grid_Stop_Propagation",XG=["touchstart","touchend","touchmove","touchcancel","scroll"],QG=["wheel"],B0={};function Yc(e){e[nA]=!0}function Zo(e){return e[nA]===!0}var sA=(()=>{let e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof B0[i]=="boolean")return B0[i];let n=document.createElement(e[i]||"div");return i="on"+i,B0[i]=i in n}})();function oA(e,t,i){let n=t;for(;n;){let s=Sf(e,n,i);if(s)return s;n=n.parentElement}return null}function JG(e,t){return!t||!e?!1:t6(t).indexOf(e)>=0}function e6(e){let t=[],i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}function t6(e){let t=e;return t.path?t.path:t.composedPath?t.composedPath():e6(t)}function i6(e,t,i,n){let s=rA(i),o;s!=null&&(o={passive:s}),e&&e.addEventListener&&e.addEventListener(t,i,n,o)}var rA=e=>{let t=XG.includes(e),i=QG.includes(e);if(t)return!0;if(i)return!1},O=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){let{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,i){this.localEventService||(this.localEventService=new ll),this.localEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.localEventService?.removeEventListener(e,t,i)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){let i=[];for(let n of Object.keys(t)){let s=t[n];s&&i.push(this._setupListener(e,n,s))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;let n;return n6(e)?(e.__addEventListener(t,i),n=()=>(e.__removeEventListener(t,i),null)):(e instanceof HTMLElement?i6(this.beans.frameworkOverrides,e,t,i):e.addEventListener(t,i),n=()=>(e.removeEventListener(t,i),null)),this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==n),null)}setupGridOptionListener(e,t){let{gos:i}=this;i.addPropertyEventListener(e,t);let n=()=>(i.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==n),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;let i=e.join("-")+this.propertyListenerId++,n=s=>{if(s.changeSet){if(s.changeSet&&s.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=s.changeSet.id}let o={type:"gridPropertyChanged",changeSet:s.changeSet,source:s.source};t(o)};e.forEach(s=>this.setupGridOptionListener(s,n))}getLocaleTextFunc(){return SR(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){let i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function n6(e){return e.__addEventListener!==void 0}var aA=new Set(["__proto__","constructor","prototype"]);function s6(e,t){if(e!=null){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(let i of Object.keys(e))t(i,e[i])}}function Rn(e,t,i=!0,n=!1){U(t)&&s6(t,(s,o)=>{if(aA.has(s))return;let r=e[s];r!==o&&(n&&r==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(r={},e[s]=r),zI(o)&&zI(r)&&!Array.isArray(r)?Rn(r,o,i,n):(i||o!==void 0)&&(e[s]=o))})}function vh(e,t,i){if(!t||!e)return;if(!i)return e[t];let n=t.split("."),s=e;for(let o=0;o<n.length;o++){if(s==null)return;s=s[n[o]]}return s}function zI(e){return typeof e=="object"&&e!==null}var o6=/[&<>"']/g,r6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function qo(e,t){if(e==null)return null;let i=e.toString().toString();return t?i:i.replace(o6,n=>r6[n])}var a6={resizable:!0,sortable:!0},l6=0;function lA(){return l6++}function ia(e){return e instanceof Uw}var Uw=class extends O{constructor(e,t,i,n){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=n,this.isColumn=!0,this.instanceId=lA(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new ll,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=qo(i)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){let{colDef:e,beans:{sortSvc:t,pinnedCols:i,colFlex:n}}=this;t?.initCol(this);let s=e.hide;s!==void 0?this.visible=!s:this.visible=!e.initialHide,i?.initCol(this),n?.initCol(this)}setColDef(e,t,i){let n=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),n&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",i)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){let{gos:e,colDef:{field:t,tooltipField:i}}=this,n=e.get("suppressFieldDotNotation");this.fieldContainsDots=U(t)&&t.indexOf(".")>=0&&!n,this.tooltipFieldContainsDots=U(i)&&i.indexOf(".")>=0&&!n}initMinAndMaxWidths(){let e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}resetActualWidth(e){let t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t,i=e.width,n=e.initialWidth;return i!=null?t=i:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);let i=this.frameworkEventListenerService?.wrap(t)??t;this.colEventSvc.addEventListener(e,i)}removeEventListener(e,t){let i=this.frameworkEventListenerService?.unwrap(t)??t;this.colEventSvc.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return Se(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable(this,e)??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??a6[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){let i=this.createColumnFunctionCallbackParams(e);return t(i)}return!1}createColumnEvent(e,t){return Se(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Lt(this.sort)}isSorting(){return U(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return z(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){let i=e===!0;this.visible!==i&&(this.visible=i,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};let t=e.getPaddingLevel()+1,i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return Se(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Lt(this.colDef.colSpan))return 1;let t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(Lt(this.colDef.rowSpan))return 1;let t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t,i=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,i){let n=this.createColumnEvent(e,t);i&&Rn(n,i),this.colEventSvc.dispatchEvent(n)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function ln(e){return e instanceof hf}var hf=class extends O{constructor(e,t,i,n){super(),this.colGroupDef=e,this.groupId=t,this.padding=i,this.level=n,this.isColumn=!1,this.expandable=!1,this.instanceId=lA(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{ia(t)?e.push(t):ln(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){let e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();let e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1,n=this.findChildrenRemovingPadding();for(let o=0,r=n.length;o<r;o++){let a=n[o];if(!a.isVisible())continue;let l=a.getColumnGroupShow();l==="open"?(e=!0,i=!0):l==="closed"?(t=!0,i=!0):(e=!0,t=!0)}let s=e&&t&&i;this.expandable!==s&&(this.expandable=s,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){let e=[],t=i=>{i.forEach(n=>{ln(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},c6={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},d6=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=hw(e);let i=0;for(;;){let n=e??t;if(n?i!==0&&(n+="_"+i):n=i,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);i++}}},VI=Object.freeze([]);function yt(e){if(e?.length)return e[e.length-1]}function hl(e,t,i){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((n,s)=>i?i(n,t[s]):t[s]===n)}function u6(e){return e.sort((t,i)=>t-i)}function Ws(e,t){let i=e.indexOf(t);i>=0&&e.splice(i,1)}function GI(e,t,i){for(let n=0;n<t.length;n++)Ws(e,t[n]);for(let n=t.length-1;n>=0;n--)e.splice(i,0,t[n])}var Vf="ag-Grid-AutoColumn",cA="ag-Grid-SelectionColumn",h6="ag-Grid-RowNumbersColumn";function dA(e){let t=[],i=n=>{for(let s=0;s<n.length;s++){let o=n[s];ia(o)?t.push(o):ln(o)&&i(o.getChildren())}};return i(e),t}function $o(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}function _f(e,t,i){let n={};if(!t)return;Xo(null,t,o=>{n[o.getInstanceId()]=o}),i&&Xo(null,i,o=>{n[o.getInstanceId()]=null});let s=Object.values(n).filter(o=>o!=null);e.context.destroyBeans(s)}function $w(e){return e.getId().startsWith(Vf)}function Jo(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(cA)??!1}function Nh(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(h6)??!1}function Ef(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function p6(e,t){return hl(e,t,(i,n)=>i.getColId()===n.getColId())}function g6(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function Gc(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function uA(e,t){let i=e===t,n=e.getColDef()===t,s=e.getColId()==t;return i||n||s}var m6=(e,t)=>(i,n)=>{let s={value1:void 0,value2:void 0},o=!1;return e&&(e[i]!==void 0&&(s.value1=e[i],o=!0),U(n)&&e[n]!==void 0&&(s.value2=e[n],o=!0)),!o&&t&&(t[i]!==void 0&&(s.value1=t[i]),U(n)&&t[n]!==void 0&&(s.value2=t[n])),s};function f6(e,t=null,i,n,s){let o=new d6,{existingCols:r,existingGroups:a,existingColKeys:l}=v6(n);o.addExistingKeys(l);let c=hA(e,t,0,i,r,o,a,s),{colGroupSvc:d}=e,u=d?.findMaxDepth(c,0)??0,h=d?d.balanceColumnTree(c,0,u,o):c;return Xo(null,h,(g,m)=>{ln(g)&&g.setupExpandable(),g.originalParent=m}),{columnTree:h,treeDept:u}}function v6(e){let t=[],i=[],n=[];return e&&Xo(null,e,s=>{if(ln(s)){let o=s;i.push(o)}else{let o=s;n.push(o.getId()),t.push(o)}}),{existingCols:t,existingGroups:i,existingColKeys:n}}function hA(e,t,i,n,s,o,r,a){if(!t)return[];let{colGroupSvc:l}=e,c=new Array(t.length);for(let d=0;d<c.length;d++){let u=t[d];l&&S6(u)?c[d]=l.createProvidedColumnGroup(n,u,i,s,o,r,a):c[d]=y6(e,n,u,s,o,a)}return c}function y6(e,t,i,n,s,o){let r=C6(i,n);r&&n?.splice(r.idx,1);let a=r?.column;if(a){let l=bw(e,i,a.getColId());a.setColDef(l,i,o),b6(e,a,l,o)}else{let l=s.getUniqueKey(i.colId,i.field),c=bw(e,i,l);a=new Uw(c,i,l,t),e.context.createBean(a)}return e.dataTypeSvc?.addColumnListeners(a),a}function pA(e,t,i,n,s,o,r,a){let{sortSvc:l,pinnedCols:c,colFlex:d}=e;i!==void 0&&t.setVisible(!i,a),l&&(l.updateColSort(t,n,a),s!==void 0&&l.setColSortIndex(t,s)),o!==void 0&&c?.setColPinned(t,o),r!==void 0&&d?.setColFlex(t,r)}function b6(e,t,i,n){pA(e,t,i.hide,i.sort,i.sortIndex,i.pinned,i.flex,n);let s=t.getFlex();if(!(s!=null&&s>0))if(i.width!=null)t.setActualWidth(i.width,n);else{let o=t.getActualWidth();t.setActualWidth(o,n)}}function C6(e,t){if(t)for(let i=0;i<t.length;i++){let n=t[i].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(e.field!=null){if(n.field===e.field)return{idx:i,column:t[i]};continue}if(n===e)return{idx:i,column:t[i]}}}function bw(e,t,i,n){let{gos:s,dataTypeSvc:o,validation:r}=e,a={},l=s.get("defaultColDef");Rn(a,l,!1,!0);let c=w6(e,a,t,i);c&&x6(e,c,a),Rn(a,t,!1,!0);let d=s.get("autoGroupColumnDef"),u=fo(s);return t.rowGroup&&d&&u&&Rn(a,{sort:d.sort,initialSort:d.initialSort},!1,!0),o?.validateColDef(a),r?.validateColDef(a,i,n),a}function w6(e,t,i,n){let s=e.dataTypeSvc?.updateColDefAndGetColumnType(t,i,n),o=i.type??s??t.type;return t.type=o,o?Ef(o):void 0}function x6(e,t,i){if(!t.length)return;let n=Object.assign({},c6),s=e.gos.get("columnTypes")||{};for(let o of Object.keys(s)){let r=s[o];o in n?z(34,{key:o}):(r.type&&z(35),n[o]=r)}t.forEach(o=>{let r=n[o.trim()];r?Rn(i,r,!1,!0):z(36,{t:o})})}function S6(e){return e.children!==void 0}function Xo(e,t,i){if(t)for(let n=0;n<t.length;n++){let s=t[n];ln(s)&&Xo(s,s.getChildren(),i),i(s,e)}}function gA(e,t){let i=[],n=[],s=[];return e.forEach(r=>{let a=r.getColDef().lockPosition;a==="right"?s.push(r):a==="left"||a===!0?i.push(r):n.push(r)}),t.get("enableRtl")?[...s,...n,...i]:[...i,...n,...s]}function mA(e,t){let i=!0;return Xo(null,t,n=>{if(!ln(n))return;let s=n,o=s.getColGroupDef();if(!(o&&o.marryChildren))return;let a=[];s.getLeafColumns().forEach(h=>{let p=e.indexOf(h);a.push(p)});let l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),d=l-c,u=s.getLeafColumns().length-1;d>u&&(i=!1)}),i}function fA(e,t){if(!e||e.length==0)return;let i=t(e[0]);for(let n=1;n<e.length;n++)if(i!==t(e[n]))return;return i}function vA(e,t,i){if(!t.length)return;let n=t.length===1?t[0]:null,s=fA(t,o=>o.getPinned());e.dispatchEvent({type:"columnPinned",pinned:s??null,columns:t,column:n,source:i})}function M6(e,t,i){if(!t.length)return;let n=t.length===1?t[0]:null,s=fA(t,o=>o.isVisible());e.dispatchEvent({type:"columnVisible",visible:s,columns:t,column:n,source:i})}function D6(e,t,i,n){e.dispatchEvent({type:t,columns:i,column:i&&i.length==1?i[0]:null,source:n})}function Kc(e,t,i,n,s=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:s,finished:i,source:n})}function ms(e,t,i){let{colModel:n,rowGroupColsSvc:s,pivotColsSvc:o,autoColSvc:r,selectionColSvc:a,colAnimation:l,visibleCols:c,pivotResultCols:d,environment:u,valueColsSvc:h,eventSvc:p,gos:g}=e,m=n.getColDefCols()||[];if(!m?.length)return!1;if(t?.state&&!t.state.forEach)return z(32),!1;let f=(S,M,D,E,R)=>{if(!S)return;let I=m6(M,t.defaultState),T=I("flex").value1;if(pA(e,S,I("hide").value1,I("sort").value1,I("sortIndex").value1,I("pinned").value1,T,i),T==null){let F=I("width").value1;if(F!=null){let N=S.getColDef().minWidth??u.getDefaultColumnMinWidth();N!=null&&F>=N&&S.setActualWidth(F,i)}}R||!S.isPrimary()||(h?.syncColumnWithState(S,i,I),s?.syncColumnWithState(S,i,I,D),o?.syncColumnWithState(S,i,I,E))},v=(S,M,D)=>{let E=yA(e,i),R=M.slice(),I={},T={},F=[],N=[],q=[],pe=0,fe=s?.columns.slice()??[],oe=o?.columns.slice()??[];S.forEach(re=>{let ve=re.colId;if(ve.startsWith(Vf)){F.push(re),q.push(re);return}if(Jo(ve)){N.push(re),q.push(re);return}let le=D(ve);le?(f(le,re,I,T,!1),Ws(R,le)):(q.push(re),pe+=1)});let be=re=>f(re,null,I,T,!1);R.forEach(be),s?.sortColumns(HI.bind(s,I,fe)),o?.sortColumns(HI.bind(o,T,oe)),n.refreshCols(!1);let xe=(re,ve,X=[])=>{ve.forEach(le=>{let ae=re(le.colId);Ws(X,ae),f(ae,le,null,null,!0)}),X.forEach(be)};return xe(re=>r?.getColumn(re)??null,F,r?.getColumns()?.slice()),xe(re=>a?.getColumn(re)??null,N,a?.getColumns()?.slice()),E6(t,n,g),c.refresh(i),p.dispatchEvent({type:"columnEverythingChanged",source:i}),E(),{unmatchedAndAutoStates:q,unmatchedCount:pe}};l?.start();let{unmatchedAndAutoStates:y,unmatchedCount:C}=v(t.state||[],m,S=>n.getColDefCol(S));if(y.length>0||U(t.defaultState)){let S=d?.getPivotResultCols()?.list??[];C=v(y,S,M=>d?.getPivotResultCol(M)??null).unmatchedCount}return l?.finish(),C===0}function _6(e,t){let{colModel:i,autoColSvc:n}=e;if(!i.getColDefCols()?.length)return;let o=i.getColDefColTree(),r=dA(o),a=[],l=1e3,c=1e3,d=[],u=n?.getColumns();u&&(d=d.concat(u)),r&&(d=d.concat(r)),d.forEach(h=>{let p=bA(h);Lt(p.rowGroupIndex)&&p.rowGroup&&(p.rowGroupIndex=l++),Lt(p.pivotIndex)&&p.pivot&&(p.pivotIndex=c++),a.push(p)}),ms(e,{state:a,applyOrder:!0},t)}function yA(e,t){let{rowGroupColsSvc:i,pivotColsSvc:n,valueColsSvc:s,colModel:o,sortSvc:r,eventSvc:a}=e,l={rowGroupColumns:i?.columns.slice()??[],pivotColumns:n?.columns.slice()??[],valueColumns:s?.columns.slice()??[]},c=kh(e),d={};return c.forEach(u=>{d[u.colId]=u}),()=>{let u=o.getAllCols(),h=(E,R,I,T)=>{let F=R.map(T),N=I.map(T);if(hl(F,N))return;let pe=new Set(R);I.forEach(oe=>{pe.delete(oe)||pe.add(oe)});let fe=[...pe];a.dispatchEvent({type:E,columns:fe,column:fe.length===1?fe[0]:null,source:t})},p=E=>{let R=[];return u.forEach(I=>{let T=d[I.getColId()];T&&E(T,I)&&R.push(I)}),R},g=E=>E.getColId();h("columnRowGroupChanged",l.rowGroupColumns,i?.columns??[],g),h("columnPivotChanged",l.pivotColumns,n?.columns??[],g);let f=p((E,R)=>{let I=E.aggFunc!=null,T=I!=R.isValueActive(),F=I&&E.aggFunc!=R.getAggFunc();return T||F});f.length>0&&D6(a,"columnValueChanged",f,t),Kc(a,p((E,R)=>E.width!=R.getActualWidth()),!0,t),vA(a,p((E,R)=>E.pinned!=R.getPinned()),t),M6(a,p((E,R)=>E.hide==R.isVisible()),t);let M=p((E,R)=>E.sort!=R.getSort()||E.sortIndex!=R.getSortIndex());M.length>0&&r?.dispatchSortChangedEvents(t,M);let D=kh(e);R6(c,D,t,o,a)}}function kh(e){let{colModel:t,rowGroupColsSvc:i,pivotColsSvc:n}=e,s=t.getColDefCols();if(Lt(s)||!t.isAlive())return[];let o=t.getAllCols(),r=i?.columns,a=n?.columns,l=u=>{let h=u.isRowGroupActive()&&r?r.indexOf(u):null,p=u.isPivotActive()&&a?a.indexOf(u):null,g=u.isValueActive()?u.getAggFunc():null,m=u.getSort()!=null?u.getSort():null,f=u.getSortIndex()!=null?u.getSortIndex():null;return{colId:u.getColId(),width:u.getActualWidth(),hide:!u.isVisible(),pinned:u.getPinned(),sort:m,sortIndex:f,aggFunc:g,rowGroup:u.isRowGroupActive(),rowGroupIndex:h,pivot:u.isPivotActive(),pivotIndex:p,flex:u.getFlex()??null}},c=o.map(u=>l(u)),d=new Map(t.getCols().map((u,h)=>[u.getColId(),h]));return c.sort((u,h)=>{let p=d.has(u.colId)?d.get(u.colId):-1,g=d.has(h.colId)?d.get(h.colId):-1;return p-g}),c}function bA(e){let t=(g,m)=>g??m??null,i=e.getColDef(),n=t(i.sort,i.initialSort),s=t(i.sortIndex,i.initialSortIndex),o=t(i.hide,i.initialHide),r=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),l=t(i.flex,i.initialFlex),c=t(i.rowGroupIndex,i.initialRowGroupIndex),d=t(i.rowGroup,i.initialRowGroup);c==null&&(d==null||d==!1)&&(c=null,d=null);let u=t(i.pivotIndex,i.initialPivotIndex),h=t(i.pivot,i.initialPivot);u==null&&(h==null||h==!1)&&(u=null,h=null);let p=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:s,hide:o,pinned:r,width:a,flex:l,rowGroup:d,rowGroupIndex:c,pivot:h,pivotIndex:u,aggFunc:p}}function E6(e,t,i){if(!e.applyOrder||!e.state)return;let n=[];e.state.forEach(s=>{s.colId!=null&&n.push(s.colId)}),I6(t.cols,n,t,i)}function I6(e,t,i,n){if(e==null)return;let s=[],o={};t.forEach(a=>{if(o[a])return;let l=e.map[a];l&&(s.push(l),o[a]=!0)});let r=0;if(e.list.forEach(a=>{let l=a.getColId();if(o[l]!=null)return;l.startsWith(Vf)?s.splice(r++,0,a):s.push(a)}),s=gA(s,n),!mA(s,i.getColTree())){z(39);return}e.list=s}function R6(e,t,i,n,s){let o={};t.forEach(d=>o[d.colId]=d);let r={};e.forEach(d=>{o[d.colId]&&(r[d.colId]=!0)});let a=e.filter(d=>r[d.colId]),l=t.filter(d=>r[d.colId]),c=[];l.forEach((d,u)=>{let h=a&&a[u];if(h&&h.colId!==d.colId){let p=n.getCol(h.colId);p&&c.push(p)}}),c.length&&s.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,finished:!0,source:i})}var HI=(e,t,i,n)=>{let s=e[i.getId()],o=e[n.getId()],r=s!=null,a=o!=null;if(r&&a)return s-o;if(r)return-1;if(a)return 1;let l=t.indexOf(i),c=t.indexOf(n),d=l>=0,u=c>=0;return d&&u?l-c:d?-1:1},A6=class extends O{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(Gc(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Gc(e.source)))}createColsFromColDefs(e){let{beans:t}=this,{valueCache:i,colAutosize:n,rowGroupColsSvc:s,pivotColsSvc:o,valueColsSvc:r,visibleCols:a,colViewport:l,eventSvc:c}=t,d=this.colDefs?yA(t,e):void 0;i?.expire();let u=this.colDefCols?.list,h=this.colDefCols?.tree,p=f6(t,this.colDefs,!0,h,e);_f(t,this.colDefCols?.tree,p.columnTree);let g=p.columnTree,m=p.treeDept,f=dA(g),v={};f.forEach(y=>v[y.getId()]=y),this.colDefCols={tree:g,treeDepth:m,list:f,map:v},s?.extractCols(e,u),o?.extractCols(e,u),r?.extractCols(e,u),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.checkViewportColumns(),c.dispatchEvent({type:"columnEverythingChanged",source:e}),d&&(this.changeEventsDispatching=!0,d(),this.changeEventsDispatching=!1),c.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&n?.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;let t=this.cols?.tree;this.saveColOrder();let{autoColSvc:i,selectionColSvc:n,rowNumbersSvc:s,quickFilter:o,pivotResultCols:r,showRowGroupCols:a,rowAutoHeight:l,visibleCols:c,colViewport:d,eventSvc:u}=this.beans,h=this.selectCols(r,this.colDefCols);this.createColumnsForService([i,n,s],h);let p=BG(this.gos,this.showingPivotResult);(!e||p)&&this.restoreColOrder(h),this.positionLockedCols(h),a?.refresh(),o?.refreshCols(),this.setColSpanActive(),l?.setAutoHeightActive(h),c.clear(),d.clear(),!hl(t,this.cols.tree)&&u.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(let i of e)i&&(i.createColumns(t,n=>{this.lastOrder=n(this.lastOrder),this.lastPivotOrder=n(this.lastPivotOrder)}),i.addColumns(t))}selectCols(e,t){let i=e?.getPivotResultCols()??null;this.showingPivotResult=i!=null;let{map:n,list:s,tree:o,treeDepth:r}=i??t;return this.cols={list:s.slice(),map:w({},n),tree:o.slice(),treeDepth:r},i&&(i.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];let e=this.isPivotMode()&&!this.showingPivotResult,t=this.beans.valueColsSvc?.columns;return this.cols.list.filter(n=>{let s=$w(n);if(e){let o=t?.includes(n);return s||o}else return s||n.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,i){ms(this.beans,{state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},i)}restoreColOrder(e){let t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;let i=new Map(t.map((c,d)=>[c,d]));if(!e.list.some(c=>i.has(c)))return;let s=new Map(e.list.map(c=>[c,!0])),o=t.filter(c=>s.has(c)),r=new Map(o.map(c=>[c,!0])),a=e.list.filter(c=>!r.has(c)),l=o.slice();a.forEach(c=>{let d=c.getOriginalParent();if(!d){l.push(c);return}let u=[];for(;!u.length&&d;)d.getLeafColumns().forEach(m=>{let f=l.indexOf(m)>=0,v=u.indexOf(m)<0;f&&v&&u.push(m)}),d=d.getOriginalParent();if(!u.length){l.push(c);return}let h=u.map(g=>l.indexOf(g)),p=Math.max(...h);l.splice(p+1,0,c)}),e.list=l}positionLockedCols(e){e.list=gA(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);let{visibleCols:i,eventSvc:n}=this.beans;i.refresh(t),n.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){let e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);let t=Gc(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){_f(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}getAllCols(){let{pivotResultCols:e,autoColSvc:t,selectionColSvc:i}=this.beans,n=e?.getPivotResultCols()?.list;return[this.colDefCols?.list??[],t?.columns?.list??[],i?.columns?.list??[],n??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(t==null)return null;let{map:i,list:n}=t;if(typeof e=="string"&&i[e])return i[e];for(let s=0;s<n.length;s++)if(uA(n[s],e))return n[s];return this.beans.autoColSvc?.getColumn(e)??this.beans.selectionColSvc?.getColumn(e)??null}};var CA=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){let t=this.existingIds[e],i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i}};function Bh(e,t,i){return i&&e.addDestroyFunc(()=>t.destroyBean(i)),i??e}var wA=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){this.addOrRemoveCssClass(e,!0)}removeCssClass(e){this.addOrRemoveCssClass(e,!1)}containsCssClass(e){let t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){let n=(e||"").split(" ");if(n.length>1){n.forEach(s=>this.addOrRemoveCssClass(s,t));return}}if(this.cssClassStates[e]!==t&&e.length){let n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}},k6=0,K=null,st=class extends O{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=k6++,this.cssClassManager=new wA(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(i=>[i.selector,i])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());let e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute("data-ref"):null}applyElementsToComponent(e,t,i,n=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){let s=this[t];if(s===K)this[t]=n??e;else{let o=i&&i[t];if(!this.suppressDataRefValidation&&!o)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${s}`)}}}createChildComponentsFromTags(e,t){_G(e.childNodes).forEach(n=>{if(!(n instanceof HTMLElement))return;let s=this.createComponentFromElement(n,o=>{o.getGui()&&this.copyAttributesFromNode(n,o.getGui())},t);if(s){if(s.addItems&&n.children.length){this.createChildComponentsFromTags(n,t);let o=Array.prototype.slice.call(n.children);s.addItems(o)}this.swapComponentForNode(s,e,n)}else n.childNodes&&this.createChildComponentsFromTags(n,t)})}createComponentFromElement(e,t,i){let n=e.nodeName,s=this.getDataRefAttribute(e),o=n.indexOf("AG-")===0,r=o?this.componentSelectors.get(n):null,a=null;if(r){let l=i&&s?i[s]:void 0;a=new r.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(o)throw new Error(`selector: ${n}`);return this.applyElementsToComponent(e,s,i,a),a}copyAttributesFromNode(e,t){EG(e.attributes,(i,n)=>t.setAttribute(i,n))}swapComponentForNode(e,t,i){let n=e.getGui();t.replaceChild(n,i),t.insertBefore(document.createComment(i.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){let t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(i=>i.setAttribute("tabindex",t.toString()))}setTemplate(e,t,i){let n=_h(e);this.setTemplateFromElement(n,t,i)}setTemplateFromElement(e,t,i,n=!1){if(this.eGui=e,this.suppressDataRefValidation=n,t)for(let s=0;s<t.length;s++){let o=t[s];this.componentSelectors.set(o.selector,o)}this.wireTemplate(e,i)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let i=t;return e==null?null:(i||(i=this.eGui),Gw(e)?{element:e,parent:i}:{element:e.getGui(),parent:i})}prependChild(e,t){let{element:i,parent:n}=this.getContainerAndElement(e,t)||{};!i||!n||n.insertAdjacentElement("afterbegin",i)}appendChild(e,t){let{element:i,parent:n}=this.getContainerAndElement(e,t)||{};!i||!n||n.appendChild(i)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;let{skipAriaHidden:i}=t;xG(this.eGui,e,{skipAriaHidden:i})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;let{skipAriaHidden:i}=t;Nt(this.eGui,e,{skipAriaHidden:i});let n={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,i){this.eGui.addEventListener(e,t,i),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};var dn=class gh{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return t.length?new gh(i=>{let n=t.length,s=new Array(n);t.forEach((o,r)=>{o.then(a=>{s[r]=a,n--,n===0&&i(s)})})}):gh.resolve()}static resolve(t=null){return new gh(i=>i(t))}then(t){return new gh(i=>{this.status===1?i(t(this.resolution)):this.waiters.push(n=>i(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){}};function T6(e){return e?e.prototype&&"getGui"in e.prototype:!1}function xA(e,t,i,n){let{name:s}=i,o,r,a,l,c,d;if(t){let u=t,h=u[s+"Selector"],p=h?h(n):null,g=m=>{typeof m=="string"?o=m:m!=null&&m!==!0&&(e.isFrameworkComponent(m)?a=m:r=m)};p?(g(p.component),l=p.params,c=p.popup,d=p.popupPosition):g(u[s])}return{compName:o,jsComp:r,fwComp:a,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:d}}var L6=class extends O{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,i,n=!1){return this.getCompDetails(this.gridOptions,e,t,i,n)}getCompDetails(e,t,i,n,s=!1){let{name:o,cellRenderer:r}=t,{compName:a,jsComp:l,fwComp:c,paramsFromSelector:d,popupFromSelector:u,popupPositionFromSelector:h}=xA(this.beans.frameworkOverrides,e,t,n),p,g=y=>{let C=this.registry.getUserComponent(o,y);C&&(l=C.componentFromFramework?void 0:C.component,c=C.componentFromFramework?C.component:void 0,p=C.params)};if(a!=null&&g(a),l==null&&c==null&&i!=null&&g(i),l&&r&&!T6(l)&&(l=this.agCompUtils?.adaptFunction(t,l)),!l&&!c){let{validation:y}=this.beans;s&&(a!==i||!i)?a?y?.isProvidedUserComp(a)||ht(50,{compName:a}):i?y||ht(260,A(w({},this.gos.getModuleErrorParams()),{propName:o,compName:i})):ht(216,{name:o}):i&&!y&&ht(146,{comp:i});return}let m=this.mergeParams(e,t,n,d,p),f=l==null,v=l??c;return{componentFromFramework:f,componentClass:v,params:m,type:t,popupFromSelector:u,popupPositionFromSelector:h,newAgStackInstance:()=>this.newAgStackInstance(v,f,m,t)}}newAgStackInstance(e,t,i,n){let s=!t,o;s?o=new e:o=this.frameworkCompWrapper.wrap(e,n.mandatoryMethods,n.optionalMethods,n),this.createBean(o);let r=o.init?.(i);return r==null?dn.resolve(o):r.then(()=>o)}mergeParams(e,t,i,n=null,s){let o=w(w({},i),s),r=e,a=r&&r[t.name+"Params"];if(typeof a=="function"){let l=a(i);Rn(o,l)}else typeof a=="object"&&Rn(o,a);return Rn(o,n),o}},F6={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},P6={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},O6={name:"headerComponent",optionalMethods:["refresh"]},N6={name:"innerHeaderComponent"},B6={name:"innerHeaderGroupComponent"},z6={name:"headerGroupComponent"};var V6={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0};var G6={name:"loadingCellRenderer",cellRenderer:!0},H6={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},j6={name:"loadingOverlayComponent",optionalMethods:["refresh"]},W6={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},U6={name:"tooltipComponent"},Yw={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},$6={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},Y6={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},K6={name:"loadingCellRenderer",cellRenderer:!0},Z6={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},q6={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function X6(e,t){return e.getCompDetailsFromGridOptions(P6,"agDragAndDropImage",t,!0)}function Q6(e,t,i){return e.getCompDetails(t,O6,"agColumnHeader",i)}function J6(e,t,i){return e.getCompDetails(t,N6,void 0,i)}function eH(e,t){let i=t.columnGroup.getColGroupDef();return e.getCompDetails(i,z6,"agColumnGroupHeader",t)}function tH(e,t,i){return e.getCompDetails(t,B6,void 0,i)}function iH(e,t){return e.getCompDetailsFromGridOptions(Y6,void 0,t,!0)}function nH(e,t){return e.getCompDetailsFromGridOptions(K6,"agLoadingCellRenderer",t,!0)}function sH(e,t){return e.getCompDetailsFromGridOptions(Z6,"agGroupRowRenderer",t,!0)}function oH(e,t){return e.getCompDetailsFromGridOptions(q6,"agDetailCellRenderer",t,!0)}function rH(e,t,i){return e.getCompDetails(t,V6,void 0,i)}function aH(e,t,i){return e.getCompDetails(t,G6,"agSkeletonCellRenderer",i,!0)}function jI(e,t,i){return e.getCompDetails(t,H6,"agCellEditor",i,!0)}function lH(e,t,i,n){return e.getCompDetails(t,Yw,n,i,!0)}function cH(e,t){return e.getCompDetailsFromGridOptions(F6,"agDateInput",t,!0)}function dH(e,t){return e.getCompDetailsFromGridOptions(j6,"agLoadingOverlay",t,!0)}function uH(e,t){return e.getCompDetailsFromGridOptions(W6,"agNoRowsOverlay",t,!0)}function hH(e,t){return e.getCompDetails(t.colDef,U6,"agTooltipComponent",t,!0)}function pH(e,t,i,n){return e.getCompDetails(t,$6,n,i)}function gH(e,t){return xA(e,t,Yw)}function mH(e,t,i){return e.mergeParams(t,Yw,i)}function Th(e){let t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var SA=new Set,If={},Hc={},pf,MA=!1,fH=!1;function vH(e){let[t,i]=e.version.split(".")||[],[n,s]=pf.split(".")||[];return t===n&&i===s}function yH(e){pf||(pf=e.version);let t=i=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${i} Please update all modules to the same version.`;if(e.version?vH(e)||Bc(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${pf}.`)):Bc(t(`'${e.moduleName}' is incompatible.`)),e.validate){let i=e.validate();i.isValid||Bc(`${i.message}`)}}function Lh(e,t){yH(e);let i=e.rowModels??["all"];SA.add(e);let n;t!==void 0?(MA=!0,Hc[t]===void 0&&(Hc[t]={}),n=Hc[t]):n=If,i.forEach(s=>{n[s]===void 0&&(n[s]={}),n[s][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(s=>Lh(s,t))}function bH(e){delete Hc[e]}function DA(e,t,i){let n=s=>!!If[s]?.[e]||!!Hc[t]?.[s]?.[e];return n(i)||n("all")}function Kw(){return MA}function CH(e,t){let i=Hc[e]??{};return[...Object.values(If.all??{}),...Object.values(i.all??{}),...Object.values(If[t]??{}),...Object.values(i[t]??{})]}function wH(){return new Set(SA)}function xH(){return fH}var _A=class{static register(e){Lh(e,void 0)}static registerModules(e){e.forEach(t=>Lh(t,void 0))}},SH=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){for(let t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];e.beanClasses.forEach(t=>{let i=new t;i.beanName?this.beans[i.beanName]=i:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(i)}),e.derivedBeans?.forEach(t=>{let{beanName:i,bean:n}=t(this);this.beans[i]=n,this.createdBeans.push(n)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(i=>{i.preWireBeans?.(this.beans),i.wireBeans?.(this.beans)}),e.forEach(i=>i.preConstruct?.()),t&&e.forEach(t),e.forEach(i=>i.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;let e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},MH=class extends SH{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){super.destroy(),bH(this.gridId),this.destroyCallback?.()}getGridId(){return this.gridId}},DH="ag-column-first",_H="ag-column-last";function EA(e,t,i,n){return Lt(e)?[]:IH(e.headerClass,e,t,i,n)}function IA(e,t,i){e.addOrRemoveCssClass(DH,i.isColAtEdge(t,"first")),e.addOrRemoveCssClass(_H,i.isColAtEdge(t,"last"))}function EH(e,t,i,n){return Se(t,{colDef:e,column:i,columnGroup:n})}function IH(e,t,i,n,s){if(Lt(e))return[];let o;if(typeof e=="function"){let r=EH(t,i,n,s);o=e(r)}else o=e;return typeof o=="string"?[o]:Array.isArray(o)?[...o]:[]}function ir(e,t){let i=ZR(e);i.requestAnimationFrame?i.requestAnimationFrame(t):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(t):i.setTimeout(t,0)}var RH=class extends O{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){let{gos:t,pagination:i}=this.beans,n=t.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,n&&e===0){let s=i?.getCurrentPage()??0;s!==this.lastPage&&(this.lastPage=s,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame")}verifyAnimationFrameOn(e){this.active===!1&&z(92,{methodName:e})}createTask(e,t,i){this.verifyAnimationFrameOn(i);let n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;let t=this.scrollGoingDown?1:-1;e.list.sort((i,n)=>i.index!==n.index?t*(n.index-i.index):n.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");let t=this.createTasksP1,i=t.list,n=this.createTasksP2,s=n.list,o=this.destroyTasks,r=new Date().getTime(),a=new Date().getTime()-r,l=e<=0,c=this.beans.ctrlsSvc.getScrollFeature();for(;l||a<e;){if(!c.scrollGridIfNeeded()){let u;if(i.length)this.sortTaskList(t),u=i.pop().task;else if(s.length)this.sortTaskList(n),u=s.pop().task;else if(o.length)u=o.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(u)||u()}a=new Date().getTime()-r}i.length||s.length||o.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){let e=this.executeFrame.bind(this,60);ir(this.beans,e)}isQueueEmpty(){return!this.ticking}},L={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},Cw=!1,Rf=0;function AH(e){Rf>0||(e.addEventListener("keydown",Af),e.addEventListener("mousedown",Af))}function kH(e){Rf>0||(e.removeEventListener("keydown",Af),e.removeEventListener("mousedown",Af))}function Af(e){let t=Cw,i=e.type==="keydown";i&&(e.ctrlKey||e.metaKey||e.altKey)||t!==i&&(Cw=i)}function TH(e){let t=Qt(e);return AH(t),Rf++,()=>{Rf--,kH(t)}}function LH(){return Cw}function FH(e,t,i){t.addManagedElementListeners(i,{keydown:n=>{if(!n.defaultPrevented&&n.key===L.TAB){let s=n.shiftKey;pl(e,i,!1,s)||Zc(e,s)&&n.preventDefault()}}})}function jc(e,t,i=!1){let n=wG,s=FR;t&&(s+=", "+t),i&&(s+=', [tabindex="-1"]');let o=Array.prototype.slice.apply(e.querySelectorAll(n)).filter(l=>js(l)),r=Array.prototype.slice.apply(e.querySelectorAll(s));return r.length?((l,c)=>l.filter(d=>c.indexOf(d)===-1))(o,r):o}function dl(e,t=!1,i=!1,n=!1){let s=jc(e,n?".ag-tab-guard":null,i),o=t?yt(s):s[0];return o?(o.focus({preventScroll:!0}),!0):!1}function pl(e,t,i,n){let s=jc(t,i?':not([tabindex="-1"])':null),o=Bt(e),r;i?r=s.findIndex(l=>l.contains(o)):r=s.indexOf(o);let a=r+(n?-1:1);return a<0||a>=s.length?null:s[a]}function RA(e,t=5){let i=0;for(;e&&uw(e)===null&&++i<=t;)e=e.parentElement;return uw(e)===null?null:e}function PH(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function rl(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function Gf(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function Zc(e,t,i=!1){let n=e.ctrlsSvc.get("gridCtrl");return!i&&n.focusNextInnerContainer(t)?!0:((i||!t&&!n.isDetailGrid())&&n.forceFocusOutOfContainer(t),!1)}function OH(e,t=!1){return e===L.DELETE?!0:!t&&e===L.BACKSPACE?kR():!1}var NH=class extends O{constructor(e,t,i,n){super(),this.cellCtrl=e,this.rowNode=i,this.rowCtrl=n,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){let t=e.key;switch(t){case L.ENTER:this.onEnterKeyDown(e);break;case L.F2:this.onF2KeyDown(e);break;case L.ESCAPE:this.onEscapeKeyDown(e);break;case L.TAB:this.onTabKeyDown(e);break;case L.BACKSPACE:case L.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case L.DOWN:case L.UP:case L.RIGHT:case L.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){if(!this.cellCtrl.editing){if(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{let i=this.cellCtrl.getFocusedCellPosition();this.beans.navigation?.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){let{rangeSvc:t,navigation:i}=this.beans;if(!t)return;let n=t.extendLatestRangeInDirection(e);n&&i?.ensureCellVisible(n)}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){let{cellCtrl:i,beans:n,rowNode:s}=this,{gos:o,rangeSvc:r,eventSvc:a}=n;if(!i.editing){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),OH(e,o.get("enableCellEditingOnBackspace"))){if(r&&Qo(o))r.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){let{column:l}=i,c=this.beans.valueSvc.getDeleteValue(l,s);s.setDataValue(l,c,"cellClear")}}else n.editSvc?.startRowOrCellEdit(i,e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){let{cellCtrl:t,beans:i}=this;if(t.editing||this.rowCtrl.editing)t.stopEditingAndFocus(!1,e.shiftKey);else if(i.gos.get("enterNavigatesVertically")){let n=e.shiftKey?L.UP:L.DOWN;i.navigation?.navigateToNextCell(null,n,t.cellPosition,!1)}else i.editSvc?.startRowOrCellEdit(t,L.ENTER,e),t.editing&&e.preventDefault()}onF2KeyDown(e){let{cellCtrl:t,beans:i}=this;t.editing||i.editSvc?.startRowOrCellEdit(t,L.F2,e)}onEscapeKeyDown(e){let{cellCtrl:t,beans:i}=this;t.editing&&(i.editSvc?.stopRowOrCellEdit(t,!0),t.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.editing)return;let n=e.key;n===L.SPACE?this.onSpaceKeyDown(e):this.beans.editSvc?.startRowOrCellEdit(this.cellCtrl,n,e)&&e.preventDefault()}onSpaceKeyDown(e){let{gos:t}=this.beans;!this.cellCtrl.editing&&sl(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,this.rowNode,"spaceKey"),e.preventDefault()}destroy(){super.destroy()}},BH=class extends O{constructor(e,t,i){super(),this.cellCtrl=e,this.column=i,this.beans=t}onMouseEvent(e,t){if(!Zo(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;let{eventSvc:t,rangeSvc:i,gos:n,editSvc:s}=this.beans,o=e.ctrlKey||e.metaKey;i&&o&&i.getCellRangeCount(this.cellCtrl.cellPosition)>1&&i.intersectLastRange(!0);let r=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(r);let a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{a.onCellClicked(r)})},0),(n.get("singleClickEdit")||a.singleClickEdit)&&!n.get("suppressClickEdit")&&!(e.shiftKey&&i?.getCellRanges().length!=0)&&s?.startRowOrCellEdit(this.cellCtrl,void 0,e)}onCellDoubleClicked(e){let{column:t,beans:i,cellCtrl:n}=this,{eventSvc:s,frameworkOverrides:o,gos:r,editSvc:a}=i,l=t.getColDef(),c=n.createEvent(e,"cellDoubleClicked");s.dispatchEvent(c),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{o.wrapOutgoing(()=>{l.onCellDoubleClicked(c)})},0),!r.get("singleClickEdit")&&!r.get("suppressClickEdit")&&a?.startRowOrCellEdit(n,null,e)}onMouseDown(e){let{ctrlKey:t,metaKey:i,shiftKey:n}=e,s=e.target,{cellCtrl:o,beans:r}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:c,focusSvc:d,gos:u}=r;if(this.isRightClickInExistingRange(e))return;let h=l&&!l.isEmpty(),p=this.containsWidget(s),{cellPosition:g}=o,m=Nh(g.column);if(c&&m&&!c.handleMouseDownOnCell(g,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!n||!h){let v=u.get("enableCellTextSelection")&&e.defaultPrevented,y=(na()||v)&&!o.editing&&!Bw(s)&&!p;o.focusCell(y)}if(n&&h&&!d.isCellFocused(g)){e.preventDefault();let f=d.getFocusedCell();if(f){let{column:v,rowIndex:y,rowPinned:C}=f,M=r.rowRenderer.getRowByPosition({rowIndex:y,rowPinned:C})?.getCellCtrl(v);M?.editing&&M.stopEditing(),d.setFocusedCell({column:v,rowIndex:y,rowPinned:C,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!p){if(l)if(m&&e.preventDefault(),n)l.extendLatestRangeToCell(g);else{let f=t||i;l.setRangeToCell(g,f)}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){let{rangeSvc:t}=this.beans;if(t){let i=t.isCellInAnyRange(this.cellCtrl.cellPosition),n=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&n)return!0}return!1}containsWidget(e){return il(e,"ag-selection-checkbox",3)||il(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:i}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),i?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:i}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),i?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;let t=this.cellCtrl.eGui,i=t.contains(e.target),n=t.contains(e.relatedTarget);return i&&n}destroy(){super.destroy()}},zH=class extends O{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;let e=this.cellCtrl.getCellSpan();e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e&&(this.refreshSpanHeight(e),this.addManagedListeners(this.beans.eventSvc,{modelUpdated:this.refreshSpanHeight.bind(this,e),recalculateRowBounds:this.refreshSpanHeight.bind(this,e)}))}refreshSpanHeight(e){let t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){let e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){let e=this.getColSpanningList();hl(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;let e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){let{column:e,rowNode:t}=this,i=e.getColSpan(t),n=[];if(i===1)n.push(e);else{let s=e,o=e.getPinned();for(let r=0;s&&r<i&&(n.push(s),s=this.beans.visibleCols.getColAfter(s),!(!s||Lt(s)||o!==s.getPinned()));r++);}return n}onLeftChanged(){if(!this.eSetLeft)return;let e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=yt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;let{visibleCols:t}=this.beans,i=t.getColsLeftWidth();if(this.column.getPinned()==="right"){let n=t.bodyWidth;return i+n+(e||0)}return i+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;let i=ol(this.beans)*this.rowSpan;this.eContent.style.height=`${i}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},VH="ag-cell",GH="ag-cell-auto-height",HH="ag-cell-normal-height",jH="ag-cell-focus",WH="ag-cell-first-right-pinned",UH="ag-cell-last-left-pinned",$H="ag-cell-not-inline-editing",YH="ag-cell-wrap-text",kf="cellCtrl";function AA(e,t){return oA(e,t,kf)}var KH=0,yh=class extends O{constructor(e,t,i,n){super(),this.column=e,this.rowNode=t,this.rowCtrl=n,this.rangeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.beans=i;let{colId:s,colIdSanitised:o}=e;this.instanceId=s+"-"+KH++,this.colIdSanitised=o,this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusSvc.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusSvc.clearRestoreFocus()}addFeatures(){let{beans:e}=this;this.positionFeature=new zH(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.mouseListener=new BH(this,e,this.column),this.keyboardListener=new NH(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();let{rangeSvc:t}=e;t&&Qo(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){let e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,i,n,s,o,r){this.comp=e,this.eGui=t,this.printLayout=s,r??(r=this),this.addDomData(r),this.addFeatures(),r.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n,r),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),o&&this.isCellEditable()?this.beans.editSvc?.startEditing(this):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(a=>a()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){let e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e,t){let{beans:i,column:n,rowNode:s,rangeFeature:o}=this,{userCompFactory:r}=i,a=this.getValueToDisplay(),l;if(s.stub&&s.groupData?.[n.getId()]==null){let d=this.createCellRendererParams();l=aH(r,n.getColDef(),d)}else if(this.isCellRenderer()){let d=this.createCellRendererParams();l=rH(r,n.getColDef(),d)}this.comp.setRenderDetails(l,a,e),!t&&o&&ir(i,()=>o?.refreshHandle())}setupControlComps(){let e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}isCheckboxSelection(e){let{rowSelection:t}=this.beans.gridOptions;return e.checkboxSelection||Jo(this.column)&&t&&typeof t!="string"&&Vc(t)}refreshShouldDestroy(){let e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource),s=this.isAutoHeight!=this.column.isAutoHeight();return t||i||n||s}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(e=!1){return this.beans.editSvc?.stopEditing(this,e)??!1}createCellRendererParams(){let{value:e,valueFormatted:t,column:i,rowNode:n,comp:s,eGui:o,beans:{valueSvc:r,gos:a}}=this;return Se(a,{value:e,valueFormatted:t,getValue:()=>r.getValueForDisplay(i,n),setValue:c=>r.setValue(n,i,c),formatValue:this.formatValue.bind(this),data:n.data,node:n,pinned:i.getPinned(),colDef:i.getColDef(),column:i,refreshCell:this.refreshCell.bind(this),eGridCell:o,eParentOfValue:s.getParentOfValue(),registerRowDragger:(c,d,u,h)=>this.registerRowDragger(c,d,h),setTooltip:(c,d)=>{a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(c,d),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell(e){if(this.suppressRefreshCell||this.editing)return;let t=this.column.getColDef(),i=e!=null&&!!e.newData,n=e!=null&&!!e.suppressFlash,s=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,o=e&&e.forceRefresh||s||i,r=!!this.comp,a=this.updateAndFormatValue(r),l=o||a;if(r){if(l){this.showValue(i,!1);let c=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!n&&!c&&t.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}stopEditingAndFocus(e=!1,t=!1){this.beans.editSvc?.stopEditingAndFocus(this,e,t)}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){let t=this.value,i=this.valueFormatted;return this.value=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=i:!0}valuesAreEqual(e,t){let i=this.column.getColDef();return i.equals?i.equals(e,t):e===t}addDomData(e){let t=this.eGui;cl(this.beans.gos,t,kf,this),e.addDestroyFunc(()=>cl(this.beans.gos,t,kf,null))}createEvent(e,t){let{rowNode:i,column:n,value:s,beans:o}=this;return Se(o.gos,{type:t,node:i,data:i.data,value:s,column:n,colDef:n.getColDef(),rowPinned:i.rowPinned,event:e,rowIndex:i.rowIndex})}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){let{comp:e,column:t,beans:i}=this;IA(e,t,i.visibleCols)}refreshAriaColIndex(){let e=this.beans.visibleCols.getAriaColIndex(this.column);IR(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){let{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1){this.beans.focusSvc.setFocusedCell(A(w({},this.getFocusedCellPosition()),{forceBrowserFocus:e}))}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.rangeFeature?.onCellSelectionChanged()}onSuppressCellFocusChanged(e){let t=this.eGui;t&&(Nh(this.column)&&(e=!0),gs(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;let e=this.column.isFirstRightPinned();this.comp.addOrRemoveCssClass(WH,e)}onLastLeftPinnedChanged(){if(!this.comp)return;let e=this.column.isLastLeftPinned();this.comp.addOrRemoveCssClass(UH,e)}isCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}onCellFocused(e){let{beans:t}=this;if(Gf(t))return;let i=this.isCellFocused();if(!this.comp){i&&e?.forceBrowserFocus&&(this.focusEventToRestore=e);return}if(this.focusEventToRestore=void 0,this.comp.addOrRemoveCssClass(jH,i),i&&e&&e.forceBrowserFocus){let s=this.comp.getFocusableElement();if(this.editing){let o=jc(s,null,!0);o.length&&(s=o[0])}s.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}let n=t.gos.get("editType")==="fullRow";!i&&!n&&this.editing&&t.editSvc?.stopRowOrCellEdit(this),i&&this.rowCtrl.announceDescription()}createCellPosition(){let{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Ko(t),column:this.column}}setInlineEditingCss(){this.beans.editSvc?.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){let{comp:e}=this;e.addOrRemoveCssClass(VH,!0),e.addOrRemoveCssClass($H,!0);let t=this.column.isAutoHeight()==!0;e.addOrRemoveCssClass(GH,t),e.addOrRemoveCssClass(HH,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){let e=this.column.getColDef().wrapText==!0;this.comp.addOrRemoveCssClass(YH,e)}dispatchCellContextMenuEvent(e){let t=this.column.getColDef(),i=this.createEvent(e,"cellContextMenu"),{beans:n}=this;n.eventSvc.dispatchEvent(i),t.onCellContextMenu&&window.setTimeout(()=>{n.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(i)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){let e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){let e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,i){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}let n=this.createRowDragComp(e,t,i);n&&(this.customRowDragComp=n,this.addDestroyFunc(()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null}))}createRowDragComp(e,t,i){let n=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,i);if(n)return this.beans.context.createBean(n),n}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},kA="__ag_grid_instance";function TA(e,t){t[kA]=e.gridInstanceId}function Tf(e,t){return LA(e,t.target)}function LA(e,t){let i=t;for(;i;){let n=i[kA];if(U(n))return n===e.gridInstanceId;i=i.parentElement}return!1}function ZH(e,t){return AA(e,t.target)?.getFocusedCellPosition()??null}function z0(e,t){let i=Gi(e.gos,"normal"),n=t,s,o;if(n.clientX!=null||n.clientY!=null?(s=n.clientX,o=n.clientY):(s=n.x,o=n.y),i){let r=e.ctrlsSvc.getScrollFeature(),a=r.getVScrollPosition(),l=r.getHScrollPosition();s+=l.left,o+=a.top}return{x:s,y:o}}var qH=class extends O{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){let i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragSvc.addDragSource(i)}getDragAndDropImageComponent(){let{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){let{dragSourceAndParamsList:t,dragSvc:i}=this,n=t.find(s=>s.dragSource===e);n&&(i.removeDragSource(n.params),Ws(t,n))}destroy(){let{dragSourceAndParamsList:e,dragSvc:t,dropTargets:i}=this;e.forEach(n=>t.removeDragSource(n.params)),e.length=0,i.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){this.dragSource?.onDragStopped?.();let{lastDropTarget:t}=this;if(t?.onDragStop){let i=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(i)}this.clearDragAndDropProperties()}onDragCancel(){let{dragSource:e,lastDropTarget:t}=this;e?.onDragCancelled?.(),t?.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){let i=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);let s=this.dropTargets.filter(d=>this.isMouseOnDropTarget(e,d)),o=this.findCurrentDropTarget(e,s),{lastDropTarget:r,dragSource:a,dragAndDropImageComp:l,dragItem:c}=this;if(o!==r){if(this.leaveLastTargetIfExists(e,i,n,t),r!==null&&o===null&&a?.onGridExit?.(c),r===null&&o!==null&&a?.onGridEnter?.(c),this.enterDragTargetIfExists(o,e,i,n,t),o&&l){let{comp:d,promise:u}=l;d?d.setIcon(o.getIconName?o.getIconName():null,!1):u.then(h=>{h&&h.setIcon(o.getIconName?o.getIconName():null,!1)})}this.lastDropTarget=o}else if(o&&o.onDragging){let d=this.createDropTargetEvent(o,e,i,n,t);o.onDragging(d)}}getAllContainersFromDropTarget(e){let t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}isMouseOnDropTarget(e,t){let i=this.getAllContainersFromDropTarget(t),n=!1,s=(a,l)=>{for(let c of l){let{width:d,height:u,left:h,right:p,top:g,bottom:m}=c.getBoundingClientRect();if(d===0||u===0)return!1;let f=a.clientX>=h&&a.clientX<p,v=a.clientY>=g&&a.clientY<m;if(!f||!v)return!1}return!0};for(let a of i)if(s(e,a)){n=!0;break}let{eElement:o,type:r}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(o)?!1:n&&t.isInterestedIn(r,o)}findCurrentDropTarget(e,t){let i=t.length;if(i===0)return null;if(i===1)return t[0];let s=Ih(this.beans).elementsFromPoint(e.clientX,e.clientY);for(let o of s)for(let r of t)if(this.getAllContainersFromDropTarget(r).flatMap(l=>l).indexOf(o)!==-1)return r;return null}enterDragTargetIfExists(e,t,i,n,s){if(e&&e.onDragEnter){let o=this.createDropTargetEvent(e,t,i,n,s);e.onDragEnter(o)}}leaveLastTargetIfExists(e,t,i,n){let{lastDropTarget:s}=this;if(!s)return;if(s.onDragLeave){let r=this.createDropTargetEvent(s,e,t,i,n);s.onDragLeave(r)}let o=this.getDragAndDropImageComponent();o&&o.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){let i=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:n}=e;return i.contains(n)}getHorizontalDirection(e){let t=this.eventLastTime?.clientX,i=e.clientX;return t===i?null:t>i?"left":"right"}getVerticalDirection(e){let t=this.eventLastTime?.clientY,i=e.clientY;return t===i?null:t>i?"up":"down"}createDropTargetEvent(e,t,i,n,s){let o=e.getContainer(),r=o.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:c}=this,d=t.clientX-r.left,u=t.clientY-r.top;return Se(c,{event:t,x:d,y:u,vDirection:n,hDirection:i,dragSource:l,fromNudge:s,dragItem:a,dropZoneTarget:o})}positionDragAndDropImageComp(e){let t=this.getDragAndDropImageComponent();t&&HG(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){let{dragAndDropImageComp:e}=this;if(e){let{comp:t}=e;if(t){let i=t.getGui();this.dragAndDropImageParent?.removeChild(i),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){let{dragSource:e,gos:t,userCompFactory:i}=this;if(!e)return;let n=X6(i,Se(t,{dragSource:e}));if(!n)return;let s=n.newAgStackInstance();this.dragAndDropImageComp={promise:s},s.then(o=>{!o||!this.isAlive()||(this.processDragAndDropImageComponent(o),this.dragAndDropImageComp.comp=o)})}processDragAndDropImageComponent(e){let{dragSource:t,environment:i}=this;if(!t)return;let n=e.getGui();n.style.setProperty("position","absolute"),n.style.setProperty("z-index","9999"),TA(this.gos,n),i.applyThemeClasses(n),e.setIcon(null,!1);let{dragItemName:s}=t;typeof s=="function"&&(s=s()),e.setLabel(s||""),n.style.top="20px",n.style.left="20px";let o=jw(this.beans);this.dragAndDropImageParent=o,o?o.appendChild(n):z(54)}registerGridDropTarget(e,t){let i={getContainer:e,isInterestedIn:n=>n===1||n===0,getIconName:()=>"notAllowed"};this.addDropTarget(i),t.addDestroyFunc(()=>this.removeDropTarget(i))}},XH=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){let i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;let n=this.scrollContainer.getBoundingClientRect(),s=this.scrollByTick;this.tickLeft=e.clientX<n.left+s,this.tickRight=e.clientX>n.right-s,this.tickUp=e.clientY<n.top+s&&!i,this.tickDown=e.clientY>n.bottom-s&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){let t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){let t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};function QH(e){let{rowIndex:t,rowPinned:i,column:n}=e;return`${t}.${i??"null"}.${n.getId()}`}function ww(e,t){let i=e.column===t.column,n=e.rowPinned===t.rowPinned,s=e.rowIndex===t.rowIndex;return i&&n&&s}function JH(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(U(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function e5(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function t5(e){let t=0,i,{pinnedRowModel:n,rowModel:s,pageBounds:o}=e;return n?.getPinnedTopRowCount()?i="top":s.getRowCount()?(i=null,t=o.getFirstRow()):n?.getPinnedBottomRowCount()&&(i="bottom"),i===void 0?null:{rowIndex:t,rowPinned:i}}function i5(e){let t,i=null,{pinnedRowModel:n,pageBounds:s}=e,o=n?.getPinnedBottomRowCount(),r=n?.getPinnedTopRowCount();return o?(i="bottom",t=o-1):e.rowModel.getRowCount()?(i=null,t=s.getLastRow()):r&&(i="top",t=r-1),t===void 0?null:{rowIndex:t,rowPinned:i}}function Lf(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function Pc(e,t){let i=e.spannedRowRenderer?.getCellByPosition(t);if(i)return i;let n=e.rowRenderer.getRowByPosition(t);return n?n.getCellCtrl(t.column):null}var n5=class extends O{constructor(e){super(),this.eContainer=e}postConstruct(){let{rowModel:e,gos:t,ctrlsSvc:i}=this.beans;cn(t,e)&&(this.clientSideRowModel=e),i.whenReady(this,n=>{let s=n.gridBodyCtrl;this.autoScrollService=new XH({scrollContainer:s.eBodyViewport,scrollAxis:"y",getVerticalPosition:()=>s.scrollFeature.getVScrollPosition().top,setVerticalPosition:o=>s.scrollFeature.setVerticalScrollPosition(o),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){let{rowGroupColsSvc:e,filterManager:t,sortSvc:i}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||i?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];let t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){let n=[...this.beans.selectionSvc?.getSelectedNodes()??[]].sort((s,o)=>s.rowIndex==null||o.rowIndex==null?0:this.getRowIndexNumber(s)-this.getRowIndexNumber(o));if(n.indexOf(t)!==-1)return n}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){let{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;let t=z0(this.beans,e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){let{dragAndDrop:i,gos:n}=this.beans,s=this.isFromThisGrid(e),o=n.get("rowDragManaged"),r=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(n.get("suppressMoveWhenRowDragging")||!s?i.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(r[0],t):this.moveRows(r,t))}getRowIndexNumber(e){let t=e.getRowIndexString();return parseInt(yt(t.split("-")),10)}moveRowAndClearHighlight(e){let t=this.clientSideRowModel,i=t.getLastHighlightedRowNode(),n=i&&i.highlighted==="Below",s=z0(this.beans,e).y,o=e.dragItem.rowNodes,r=n?1:0;if(this.isFromThisGrid(e))o.forEach(a=>{a.rowTop<s&&(r-=1)}),this.moveRows(o,s,r);else{let a=$c(this.gos),l=t.getRowIndexAtPixel(s)+1;t.getHighlightPosition(s)==="Above"&&l--,t.updateRowData({add:o.filter(c=>!t.getRowNode(a?.({data:c.data,level:0,rowPinned:c.rowPinned})??c.data.id)).map(c=>c.data),addIndex:l})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){let n=this.beans.focusSvc,s=n.getFocusedCell(),o=s&&Pc(this.beans,s);this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(o?o.focusCell():n.clearFocusedCell())}addRowDropZone(e){if(!e.getContainer()){z(55);return}let t=this.beans.dragAndDrop;if(t.findExternalZone(e)){z(56);return}let i={getContainer:e.getContainer};e.fromGrid?i=e:(e.onDragEnter&&(i.onDragEnter=s=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",s))}),e.onDragLeave&&(i.onDragLeave=s=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",s))}),e.onDragging&&(i.onDragging=s=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",s))}),e.onDragStop&&(i.onDragStop=s=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",s))}),e.onDragCancel&&(i.onDragCancel=s=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",s))}));let n=w({isInterestedIn:s=>s===2,getIconName:()=>"move",external:!0},i);t.addDropTarget(n),this.addDestroyFunc(()=>t.removeDropTarget(n))}getRowDropZone(e){let t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),s=this.onDragging.bind(this),o=this.onDragStop.bind(this),r=this.onDragCancel.bind(this),a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{i(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:i,onDragLeave:e.onDragLeave?l=>{n(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:n,onDragging:e.onDragging?l=>{s(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:s,onDragStop:e.onDragStop?l=>{o(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:o,onDragCancel:e.onDragCancel?l=>{r(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:r,fromGrid:!0}:a={getContainer:t,onDragEnter:i,onDragLeave:n,onDragging:s,onDragStop:o,onDragCancel:r,fromGrid:!0},a}draggingToRowDragEvent(e,t){let i=this.beans,{pageBounds:n,rowModel:s,gos:o}=i,r=z0(i,t).y,a=r>n.getCurrentPageHeight(),l=-1,c;return a||(l=s.getRowIndexAtPixel(r),c=s.getRow(l)),Se(o,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:c,y:r,vDirection:t.vDirection})}dispatchGridEvent(e,t){let i=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);let{dragAndDrop:t,gos:i}=this.beans;i.get("rowDragManaged")&&(i.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);let{dragAndDrop:t,gos:i}=this.beans;i.get("rowDragManaged")&&(i.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}};function FA(e,t,i){if(i===0)return!1;let n=Math.abs(e.clientX-t.clientX),s=Math.abs(e.clientY-t.clientY);return Math.max(n,s)<=i}var s5=class extends O{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){let{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){let t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){let n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){let{dragSources:t}=this,i=t.find(n=>n.dragSource===e);i&&(this.removeListener(i),Ws(t,i))}addDragSource(e){let t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:n,stopPropagationForTouch:s}=e;i.addEventListener("mousedown",t);let o=null,r=this.gos.get("suppressTouch");n&&!r&&(o=a=>{Bw(a.target)||(s&&a.stopPropagation(),this.onTouchStart(e,a))},i.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:o,touchEnabled:!!n})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;let i=t.touches[0];this.touchLastTime=i,this.touchStart=i;let n=l=>this.onTouchMove(l,e.eElement),s=l=>this.onTouchUp(l,e.eElement),o=l=>{l.cancelable&&l.preventDefault()},r=t.target,a=[{target:Ih(this.beans),type:"touchmove",listener:o,options:{passive:!1}},{target:r,type:"touchmove",listener:n,options:{passive:!0}},{target:r,type:"touchend",listener:s,options:{passive:!0}},{target:r,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){let i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;let n=c=>this.onMouseMove(c,e.eElement),s=c=>this.onMouseUp(c,e.eElement),o=c=>c.preventDefault(),r=c=>{c.key===L.ESCAPE&&this.cancelDrag(e.eElement)},a=Ih(this.beans),l=[{target:a,type:"mousemove",listener:n},{target:a,type:"mouseup",listener:s},{target:a,type:"contextmenu",listener:o},{target:a,type:"keydown",listener:r}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{let{target:i,type:n,listener:s,options:o}=t;i.addEventListener(n,s,o)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{let{target:i,type:n,listener:s,options:o}=t;i.removeEventListener(n,s,o)})})}isEventNearStartEvent(e,t){let{dragStartPixels:i}=this.currentDragParams,n=U(i)?i:4;return FA(e,t,n)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:i}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){let i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){na()&&Qt(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){let{gos:t}=this,i=t.get("enableCellTextSelection"),n=e.type==="mousemove",s=o=>!!o.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return i&&n&&e.cancelable&&Tf(t,e)&&!s(e)}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;let{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function PA(e,t){return e+"_"+t}function jt(e){return e instanceof OA}var OA=class extends O{constructor(e,t,i,n){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=i,this.pinned=n,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return PA(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){let e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{jt(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){let t=yt(this.displayedChildren).getLeft();this.setLeft(t)}else{let e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){let e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{ia(t)?e.push(t):jt(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{ia(t)?e.push(t):jt(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){let e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(i=>{if(jt(i)&&(!i.displayedChildren||!i.displayedChildren.length))return;switch(i.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},xw="row-group-",NA="t-",BA="b-",o5=0,qc=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=o5++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){let{valueCache:i,selectionSvc:n,rowSpanSvc:s}=this.beans,o=this.data;this.data=e,i?.onDataChanged(),this.updateDataOnDetailNode(),n?.updateRowSelectable(this),this.resetQuickFilterAggregateText();let r=this.createDataChangedEvent(e,o,t);this.__localEventService?.dispatchEvent(r),s?.onRowDataUpdated(this)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,i){return{type:"dataChanged",node:this,oldData:t,newData:e,update:i}}getRowIndexString(){return this.rowIndex==null?(ht(13),null):this.rowPinned==="top"?NA+this.rowIndex:this.rowPinned==="bottom"?BA+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){let{selectionSvc:i}=this.beans,n=i?.createDaemonNode?.(this),s=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),i&&(i.updateRowSelectable(this),i.syncInRowNode(this,n));let o=this.createDataChangedEvent(e,s,!1);this.__localEventService?.dispatchEvent(o)}setId(e){let t=$c(this.beans.gos);if(t)if(this.data){let i=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(xw)&&ht(14,{groupPrefix:xw})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,i){this.beans.expansionSvc?.setExpanded(this,e,t,i)}setDataValue(e,t,i){let{colModel:n,valueSvc:s,gos:o,selectionSvc:r,rowSpanSvc:a}=this.beans,l=typeof e!="string"?e:n.getCol(e)??n.getColDefCol(e);if(!l)return!1;let c=s.getValueForDisplay(l,this);if(o.get("readOnlyEdit")){let{beans:{eventSvc:u},data:h,rowIndex:p,rowPinned:g}=this;return u.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:p,rowPinned:g,column:l,colDef:l.colDef,data:h,node:this,oldValue:c,newValue:t,value:t,source:i}),!1}let d=s.setValue(this,l,t,i);return this.dispatchCellChangedEvent(l,t,c),r?.updateRowSelectable(this),a?.onRowDataUpdated(this),d}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,i){let n={type:"cellChanged",node:this,column:e,newValue:t,oldValue:i};this.__localEventService?.dispatchEvent(n)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.__selected}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,i="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:i})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new ll),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new ll),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);let i=this.frameworkEventListenerService?.wrap(t)??t;this.__localEventService.addEventListener(e,i)}removeEventListener(e,t){let i=this.frameworkEventListenerService?.unwrap(t)??t;this.removeLocalListener(e,i)}removeLocalListener(e,t){this.__localEventService?.removeEventListener(e,t),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(z(61),this.detail)return!0;let e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;let e=[],t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};function r5(e,t,i){return Se(t,{type:i,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var a5=class extends st{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){return this.filterWrapper?.filterPromise??null}afterInit(){return this.filterWrapper?.filterPromise?.then(()=>{})??dn.resolve()}afterGuiAttached(e){this.filterWrapper?.filterPromise?.then(t=>{t?.afterGuiAttached?.(e)})}afterGuiDetached(){this.filterWrapper?.filterPromise?.then(e=>{e?.afterGuiDetached?.()})}createFilter(e){let{column:t,source:i}=this;this.filterWrapper=this.beans.filterManager?.getOrCreateFilterWrapper(t)??null,this.filterWrapper?.filterPromise&&this.filterWrapper.filterPromise.then(n=>{let s=n.getGui();U(s)||z(69,{guiFromFilter:s}),this.appendChild(s),e&&this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:i,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(Ki(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},zA="ag-resizer-wrapper",qr=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,l5=`<div class="${zA}">
        ${qr("eTopLeft","topLeft")}
        ${qr("eTop","top")}
        ${qr("eTopRight","topRight")}
        ${qr("eRight","right")}
        ${qr("eBottomRight","bottomRight")}
        ${qr("eBottom","bottom")}
        ${qr("eBottomLeft","bottomLeft")}
        ${qr("eLeft","left")}
    </div>`,c5=class extends O{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){let{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(i,n)}initialisePosition(){if(this.positioned)return;let{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:n,minHeight:s,height:o,x:r,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0,d=js(this.element);if(d){let u=this.findBoundaryElement(),h=window.getComputedStyle(u);if(h.minWidth!=null){let p=u.offsetWidth-this.element.offsetWidth;c=parseInt(h.minWidth,10)-p}if(h.minHeight!=null){let p=u.offsetHeight-this.element.offsetHeight;l=parseInt(h.minHeight,10)-p}}if(this.minHeight=s||l,this.minWidth=i||c,n&&this.setWidth(n),o&&this.setHeight(o),(!n||!o)&&this.refreshSize(),e)this.center();else if(r||a)this.offsetElement(r,a);else if(d&&t){let u=this.boundaryEl,h=!0;if(u||(u=this.findBoundaryElement(),h=!1),u){let p=parseFloat(u.style.top),g=parseFloat(u.style.left);h?this.offsetElement(isNaN(g)?0:g,isNaN(p)?0:p):this.setPosition(g,p)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;let i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(i),this.moveElementDragListener=i):(this.dragSvc?.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{let n=!!e[t],s=this.getResizerElement(t),o={dragStartPixels:0,eElement:s,onDragStart:r=>this.onResizeStart(r,t),onDragging:this.onResize.bind(this),onDragStop:r=>this.onResizeEnd(r,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragSvc?.addDragSource(o),this.resizeListeners.push(o),s.style.pointerEvents="all"):s.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";let{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){let{popup:t}=this.config,i=this.element,n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)fh(i,e),e=PR(i),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){let s=this.getAvailableHeight();s&&e>s&&(e=s)}this.getHeight()!==e&&(n?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?fh(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){let{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();let{clientHeight:i}=this.offsetParent;if(!i)return null;let n=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:n.top,r=e?0:s.top,a=0;if(t){let c=this.element.parentElement;if(c){let{bottom:d}=c.getBoundingClientRect();a=d-n.bottom}}return i+r-o-a}getWidth(){return this.element.offsetWidth}setWidth(e){let t=this.element,{popup:i}=this.config,n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)vo(t,e),e=vf(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);let{clientWidth:s}=this.offsetParent,o=i?this.position.x:this.element.getBoundingClientRect().left;s&&e+o>s&&(e=s-o)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?vo(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){let{forcePopupParentAsOffsetParent:i}=this.config,n=i?this.boundaryEl:this.element;n&&(this.popupSvc?.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;let t=()=>{let i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e&&this.popupSvc?this.resizeObserverSubscriber=sa(this.beans,this.popupSvc?.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){let{e:t,isLeft:i,isTop:n,anywhereWithin:s,topBuffer:o}=e,r=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!i,!!s,r)?0:r,c=this.shouldSkipY(t,!!n,o,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,i,n){let s=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:s.left,l=a<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=r.right;return l?!0:(t?l=n<0&&e.clientX>a+o.left||n>0&&e.clientX<a+o.left:i?l=n<0&&e.clientX>r.right||n>0&&e.clientX<a+o.left:l=n<0&&e.clientX>r.right||n>0&&e.clientX<r.right,l)}shouldSkipY(e,t,i=0,n){let s=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:s.top,l=a<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=r.bottom;return l?!0:(t?l=n<0&&e.clientY>a+o.top+i||n>0&&e.clientY<a+o.top:l=n<0&&e.clientY>r.bottom||n>0&&e.clientY<r.bottom,l)}createResizeMap(){let e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;let e=this.element;if(!e)return;let i=new DOMParser().parseFromString(l5,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;let e=this.element.querySelector(`.${zA}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");let{popup:i,forcePopupParentAsOffsetParent:n}=this.config;!i&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){let t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){let e=this.getSiblings()||[],t=0,i=0;for(let n=0;n<e.length;n++){let s=e[n],o=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s===this.element)continue;let r=this.minHeight||0,a=this.minWidth||0;if(o){let l=window.getComputedStyle(s);l.minHeight&&(r=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else r=s.offsetHeight,a=s.offsetWidth;t+=r,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null,i=this.getSiblings();if(i){for(let n=0;n<i.length;n++){let s=i[n];s!==t&&(e?s.style.height=`${s.offsetHeight}px`:s.style.width=`${s.offsetWidth}px`,s.style.flex="0 0 auto",s===this.element&&(t=i[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;let{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:n,isRight:s,isBottom:o,isLeft:r}=this.currentResizer,a=s||r,l=o||n,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:r,isTop:n}),u=this.position.x,h=this.position.y,p=0,g=0;if(a&&c){let m=r?-1:1,f=this.getWidth(),v=f+c*m,y=!1;r&&(p=f-v,(u+p<=0||v<=this.minWidth)&&(y=!0,p=0)),y||this.setWidth(v)}if(l&&d){let m=n?-1:1,f=this.getHeight(),v=f+d*m,y=!1;n?(g=f-v,(h+g<=0||v<=this.minHeight)&&(y=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&f<v&&this.getMinSizeOfSiblings().height+v>this.element.parentElement.offsetHeight&&(y=!0),y||this.setHeight(v)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&p||g)&&this.offsetElement(u+p,h+g)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){let e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;let{x:t,y:i}=this.position,n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());let{movementX:s,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+s,i+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){let e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},d5="ag-focus-managed",Jc=class extends O{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks=w({shouldStopEventPropagation:()=>!1,onTabKeyDown:i=>{if(i.defaultPrevented)return;let n=pl(this.beans,this.eFocusable,!1,i.shiftKey);n&&(n.focus(),i.preventDefault())}},t)}postConstruct(){let{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:i}}=this;e.classList.add(d5),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),i&&this.addManagedElementListeners(e,{focusout:i})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Zo(t))return;let{callbacks:i}=this;if(i.shouldStopEventPropagation(t)){Yc(t);return}t.key===L.TAB?i.onTabKeyDown(t):i.handleKeyDown&&i.handleKeyDown(t)}})}},VA={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function Zw(e,t){let{debounceMs:i}=e;return Ff(e)?(i!=null&&z(71),0):i??t}function Ff(e){return(e.buttons?.indexOf("apply")??-1)>=0}var u5=class extends st{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=K,this.buttonListeners=[],this.defaultDebounceMs=0}postConstruct(){this.resetTemplate(),this.createManagedBean(new Jc(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new c5(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);let i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(i,this.getAgComponents(),e),t=this.getGui(),t?.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.params.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.params=e,this.applyActive=Ff(e),this.resetButtonsPanel(e)}updateParams(e){this.params=e,this.applyActive=Ff(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){let{buttons:i,readOnly:n}=t??{},{buttons:s,readOnly:o}=e;if(n===o&&Eh(i,s))return;let r=s&&s.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Ki(this.eButtonsPanel),this.buttonListeners.forEach(c=>c()),this.buttonListeners=[]):r&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!r){this.eButtonsPanel&&hs(this.eButtonsPanel);return}let a=document.createDocumentFragment(),l=c=>{let d,u=c?this.translate(`${c}Filter`):void 0;switch(c){case"apply":d=g=>this.onBtApply(!1,!1,g);break;case"clear":d=()=>this.onBtClear();break;case"reset":d=()=>this.onBtReset();break;case"cancel":d=g=>{this.onBtCancel(g)};break;default:z(75);return}let p=_h(`<button
                    type="${c==="apply"?"submit":"button"}"
                    data-ref="${c}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${u}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(p,{click:d})),a.append(p)};s.forEach(c=>l(c)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}setupOnBtApplyDebounce(){let e=Zw(this.params,this.defaultDebounceMs),t=Vi(this,this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel??null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.params.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){let i=()=>{this.onUiChanged(!1,"prevent"),t?.()};e!=null?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){let t=this.getModelFromUi();if(!this.isModelValid(t))return!1;let i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,i){i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.params.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});let{closeOnApply:n}=this.params;n&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;let t=e,i=t&&t.key,n;(i==="Enter"||i==="Space")&&(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.params.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){let i=this.isModelValid(this.getModelFromUi()),n=this.queryForHtmlElement('[data-ref="applyFilterButton"]');n&&Mh(n,!i)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){let{positionableFeature:t,gos:i}=this;if(!t||e==="toolPanel")return;e==="floatingFilter"||e==="columnFilter"?(t.restoreLastSize(),t.setResizable(i.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}refresh(e){let t=this.params;return this.params=e,this.resetButtonsPanel(e,t),!0}destroy(){let e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.getLocaleTextFunc()(e,VA[e])}getCellValue(e){return this.params.getValue(e)}getPositionableElement(){return this.eFilterBody}};function h5(e,t,i){if(t==null)return null;let n=null,{compName:s,jsComp:o,fwComp:r}=gH(e,t);return s?n={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[s]:o==null&&r==null&&t.filter===!0&&(n=i()),n}var Vs={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},qw=class extends O{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){let e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=t.autoHeight?Vs.AUTO_HEIGHT:t.print?Vs.PRINT:Vs.NORMAL;this.view.updateLayoutClasses(i,t)}},Xr="Viewport",WI="fakeVScrollComp",UI=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],$I=100,V0=150,p5=class extends O{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.scrollTimer=0,this.needsRefreshedScrollPosition=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Vi(this,()=>this.lastScrollSource[1]=null,V0),this.resetLastVScrollDebounced=Vi(this,()=>this.lastScrollSource[0]=null,V0)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");let e=this.requireUpdatedScrollPosition.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,t=>{this.centerRowsCtrl=t.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}requireUpdatedScrollPosition(){this.needsRefreshedScrollPosition=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Xr)});for(let e of UI){let t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){let e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),i=t?Vi(this,this.onVScroll.bind(this,Xr),$I):this.onVScroll.bind(this,Xr),n=t?Vi(this,this.onVScroll.bind(this,WI),$I):this.onVScroll.bind(this,WI);this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(let t of[...UI,Xr]){if(this.lastScrollSource[1]===t)continue;let i=this.getViewportForSource(t);Cf(i,e,this.enableRtl)}}getViewportForSource(e){return e===Xr?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;let t=this.centerRowsCtrl.eViewport,{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;let n=bf(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Xr?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;let{animationFrameSvc:i}=this;i?.setScrollTop(t),this.nextScrollTop=t,e===Xr?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,!i||this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded(!0):i.schedule(),this.resetLastVScrollDebounced()}doHorizontalScroll(e){let t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){let t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent(A(w({},t),{type:"bodyScrollEnd"}))},V0)}shouldBlockScrollUpdate(e,t,i=!1){return i&&!tl()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){let t=zw(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){let t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.eViewport;if(this.enableRtl&&yf()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(Xr)}scrollGridIfNeeded(e=!1){let t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.requireUpdatedScrollPosition(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){let n=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&yf()?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),Cf(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.requireUpdatedScrollPosition(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.needsRefreshedScrollPosition){let{lastOffsetHeight:i,lastScrollTop:n}=this;return{top:n,bottom:n+i}}this.needsRefreshedScrollPosition=!1;let{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){let t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){let{rowModel:i}=this.beans,n=i.getRowCount(),s=-1;for(let o=0;o<n;o++){let r=i.getRow(o);if(typeof e=="function"){if(r&&e(r)){s=o;break}}else if(e===r||e===r.data){s=o;break}}s>=0&&this.ensureIndexVisible(s,t)}ensureIndexVisible(e,t){if(Gi(this.gos,"print"))return;let{rowModel:i}=this.beans,n=i.getRowCount();if(typeof e!="number"||e<0||e>=n){z(88,{index:e});return}let o=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel"),{frameworkOverrides:r,pagination:a,pageBounds:l,rowContainerHeight:c,rowRenderer:d}=this.beans;r.wrapIncoming(()=>{o||a?.goToPageWithIndex(e);let u=this.ctrlsSvc.getGridBodyCtrl(),h=u.stickyTopHeight,p=u.stickyBottomHeight,g=i.getRow(e),m;do{let f=g.rowTop,v=g.rowHeight,y=l.getPixelOffset(),C=g.rowTop-y,S=C+g.rowHeight,M=this.getVScrollPosition(),D=c.divStretchOffset,E=M.top+D,R=M.bottom+D,I=R-E,T=c.getScrollPositionForPixel(C),F=c.getScrollPositionForPixel(S-I),N=Math.min((T+F)/2,C),q=E+h>C,pe=R-p<S,fe=null;t==="top"?fe=T:t==="bottom"?fe=F:t==="middle"?fe=N:q?fe=T-h:pe&&(fe=F+p),fe!==null&&(this.setVerticalScrollPosition(fe),d.redraw({afterScroll:!0})),m=f!==g.rowTop||v!==g.rowHeight}while(m);this.animationFrameSvc?.flushAllFrames()})}ensureColumnVisible(e,t="auto"){let{colModel:i,frameworkOverrides:n}=this.beans,s=i.getCol(e);if(!s||s.isPinned()||!this.visibleCols.isColDisplayed(s))return;let o=this.getPositionedHorizontalScroll(s,t);n.wrapIncoming(()=>{o!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){let{columnBeforeStart:i,columnAfterEnd:n}=this.isColumnOutsideViewport(e),s=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),r=this.enableRtl,a=(r?i:n)||s,l=r?n:i;t!=="auto"&&(a=t==="start",l=t==="end");let c=t==="middle";if(a||l||c){let{colLeft:d,colMiddle:u,colRight:h}=this.getColumnBounds(e);return c?u-o/2:a?r?h:d:r?d-o:h-o}return null}isColumnOutsideViewport(e){let{start:t,end:i}=this.getViewportBounds(),{colLeft:n,colRight:s}=this.getColumnBounds(e),o=this.enableRtl,r=o?t>s:i<s,a=o?i<n:t>n;return{columnBeforeStart:r,columnAfterEnd:a}}getColumnBounds(e){let t=this.enableRtl,i=this.visibleCols.bodyWidth,n=e.getActualWidth(),s=e.getLeft(),o=t?-1:1,r=t?i-s:s,a=r+n*o,l=r+n/2*o;return{colLeft:r,colMiddle:l,colRight:a}}getViewportBounds(){let e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),i=t,n=e+t;return{start:i,end:n,width:e}}},Xw=class extends O{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){let e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){let e=Gi(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:i}=this.beans,n=t.bodyWidth,s=t.getColsLeftWidth(),o=t.getDisplayedColumnsRightWidth(),r;e?r=n+s+o:(r=n,this.addSpacer&&(this.gos.get("enableRtl")?s:o)===0&&i.verticalScrollShowing&&(r+=i.getScrollbarWidth())),this.callback(r)}},g5=class extends O{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){let{beans:e,centerContainerCtrl:t,gridBodyCtrl:i}=this,n=()=>{ir(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(n),i.registerBodyViewportResizeListener(n)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){let{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();let i=this.centerContainerCtrl.getCenterWidth();i!==this.centerWidth&&(this.centerWidth=i,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){let e=this.gridBodyCtrl.eBodyViewport,t=zw(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){let e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){let e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function Qw(e,t,i,n,s,o){if(i==null&&t==null)return;let r={},a={},l=(c,d)=>{c.split(" ").forEach(u=>{u.trim()!=""&&d(u)})};if(i){let c=Object.keys(i);for(let d=0;d<c.length;d++){let u=c[d],h=i[u],p;typeof h=="string"?p=e?e.evaluate(h,n):!0:typeof h=="function"&&(p=h(n)),l(u,g=>{p?r[g]=!0:a[g]=!0})}}t&&o&&Object.keys(t).forEach(c=>l(c,d=>{r[d]||(a[d]=!0)})),o&&Object.keys(a).forEach(o),Object.keys(r).forEach(s)}function YI(e){if(e.group)return e.level;let t=e.parent;return t?t.level+1:0}var m5=class extends O{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){let i=this.gos,n=r=>{typeof r=="string"?e.push(r):Array.isArray(r)&&r.forEach(a=>e.push(a))},s=i.get("rowClass");s&&n(s);let o=i.getCallback("getRowClass");if(o){let r={data:t.data,node:t,rowIndex:t.rowIndex},a=o(r);n(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,i=>{e.push(i)},()=>{})}processRowClassRules(e,t,i){let{gos:n,expressionSvc:s}=this.beans,o=Se(n,{data:e.data,node:e,rowIndex:e.rowIndex});Qw(s,void 0,n.get("rowClassRules"),o,t,i)}processStylesFromGridOptions(e){let t=this.gos,i=t.get("rowStyle"),n=t.getCallback("getRowStyle"),s;if(n){let o={data:e.data,node:e,rowIndex:e.rowIndex};s=n(o)}if(s||i)return Object.assign({},i,s)}},f5=0,Fh="renderedRow",Pf=class extends O{constructor(e,t,i,n,s){super(),this.rowNode=e,this.useAnimationFrameForCreate=n,this.printLayout=s,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+f5++,this.rowId=qo(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=YI(this.rowNode),this.setRowType(),this.setAnimateFlags(i),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;let e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=qo(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,i,n){n=Bh(this,this.beans.context,n);let s={rowComp:e,element:t,containerType:i,compBean:n};this.allRowGuis.push(s),this.updateGui(i,s),this.initialiseRowComp(s),!(this.rowType==="FullWidthLoading"||this.rowNode.stub)&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){let t=e?"none":"";this.allRowGuis.forEach(i=>i.element.style.display=t)}initialiseRowComp(e){let t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),sl(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);let i=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(s=>i.addOrRemoveCssClass(s,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&aw(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(i),this.setRowCompRowBusinessKey(i),cl(t,e.element,Fh,this),e.compBean.addDestroyFunc(()=>cl(t,e.element,Fh,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){let t=qo(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){let{containerType:t}=e;this.slideInAnimation[t]&&(FI(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(FI(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){let t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;let i=this.createBean(t,this.beans.context);this.rowDragComps.push(i),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(n=>n!==i),this.destroyBean(i,this.beans.context)})}setupFullWidth(e){let t=this.getPinnedForContainer(e.containerType),i=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(i)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){let e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;let t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){let{leftGui:e,centerGui:t,rightGui:i,beans:{visibleCols:n}}=this,s=!!e||!n.isPinningLeft(),o=!!t,r=!!i||!n.isPinningRight();return s&&o&&r}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;let e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){let e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),i=this.gos.get("masterDetail")&&this.rowNode.detail,n=this.beans.colModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&Ww(this.gos,n);e?this.rowType="FullWidthLoading":i?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;let{animationFrameSvc:i}=this.beans;if(!i||e||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(i.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new yh(e,this.rowNode,this.beans,this)}shouldRecreateCellCtrl(e){return!!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,i=null){let n={list:[],map:{}},s=(r,a,l)=>{l!=null?n.list.splice(l,0,a):n.list.push(a),n.map[r]=a},o=[];for(let r of t){let a=r.getInstanceId(),l=e.map[a];l&&this.shouldRecreateCellCtrl(l)&&(l.destroy(),l=void 0),l||(l=this.getNewCellCtrl(r)),l&&s(a,l)}for(let r of e.list){let a=r.column.getInstanceId();if(n.map[a]!=null)continue;!this.isCellEligibleToBeRemoved(r,i)?o.push([a,r]):r.destroy()}if(o.length)for(let[r,a]of o){let l=n.list.findIndex(d=>d.column.getLeft()>a.column.getLeft()),c=l===-1?void 0:Math.max(l-1,0);s(r,a,c)}return n}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{let i=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(i,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){let e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{let i=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);let n=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");let s=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,s,"right")}}isCellEligibleToBeRemoved(e,t){let{column:s}=e;if(s.getPinned()!=t)return!0;let{editing:o,cellPosition:r}=e,{focusSvc:a,visibleCols:l}=this.beans,c=a.isCellFocused(r);return o||c?!(l.allCols.indexOf(s)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Gi(this.gos,"print")}listenOnDomOrder(e){let t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;let t=U(this.rowNode.oldRowTop),{visibleCols:i}=this.beans,n=i.isPinningLeft(),s=i.isPinningRight();if(t){let{slideInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=n,o.right=s}else{let{fadeInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=n,o.right=s}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){let e=(r,a)=>r?r.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(r.element,a).params):!0,t=e(this.fullWidthGui,null),i=e(this.centerGui,null),n=e(this.leftGui,"left"),s=e(this.rightGui,"right");return t&&i&&n&&s}addListeners(){this.addManagedListeners(this.rowNode,w({heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this)},this.beans.expansionSvc?.getRowExpandedListeners(this)??{})),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.beans.rowSpanSvc&&this.addManagedListeners(this.beans.rowSpanSvc,{spannedCellsUpdated:({pinned:e})=>{e&&!this.rowNode.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(t=>{this.addRowDraggerToRow(t)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(i=>i.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(i=>{this.setRowCompRowId(i.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(i.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){let e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{let i=e==="Above",n=e==="Below";t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",n)})}postProcessRowDragging(){let e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}verifyCells(){this.onDisplayedColumnsChanged()}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Ko(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){let t=this.findFullWidthInfoForEvent(e);if(!t)return;let{rowGui:i,column:n}=t;if(!(i.element===e.target))return;let r=this.rowNode,{focusSvc:a,navigation:l}=this.beans,c=a.getFocusedCell(),d={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:c?.column??n};l?.navigateToNextCell(e,e.key,d,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Zo(e))return;let t=this.allRowGuis.find(a=>a.element.contains(e.target)),i=t?t.element:null,n=i===e.target,s=Bt(this.beans),o=!1;i&&s&&(o=i.contains(s)&&s.classList.contains("ag-cell"));let r=null;!n&&!o&&(r=pl(this.beans,i,!1,e.shiftKey)),(this.isFullWidth()&&n||!r)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){let e=this.allRowGuis.find(t=>js(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){let t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(i=>{gs(i.element,"tabindex",t)})}onFullWidthRowFocused(e){let t=this.rowNode,i=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1,n=this.fullWidthGui?this.fullWidthGui.element:this.centerGui?.element;n&&(n.classList.toggle("ag-full-width-focus",i),i&&e?.forceBrowserFocus&&n.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){let i={list:[],map:{}};return e.list.forEach(n=>{n!==t&&(i.list.push(n),i.map[n.column.getInstanceId()]=n)}),i}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){let{rowNode:i}=this;return Se(this.gos,{type:e,node:i,data:i.data,rowIndex:i.rowIndex,rowPinned:i.rowPinned,event:t})}createRowEventWithSource(e,t){let i=this.createRowEvent(e,t);return i.source=this,i}onRowDblClick(e){Zo(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;let t=this.findFullWidthRowGui(e.target),i=this.getColumnForFullWidth(t);if(!(!t||!i))return{rowGui:t,column:i}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){let{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=il(e.target,"ag-row-drag",3),!this.isFullWidth())return;let t=this.rowNode,{rangeSvc:i,focusSvc:n}=this.beans;i?.removeAllCellRanges();let s=this.findFullWidthInfoForEvent(e);if(!s)return;let{rowGui:o,column:r}=s,a=o.element,l=e.target,c=e.defaultPrevented||na();a&&a.contains(l)&&Bw(l)&&(c=!1),n.setFocusedCell({rowIndex:t.rowIndex,column:r,rowPinned:t.rowPinned,forceBrowserFocus:c})}onRowClick(e){if(Zo(e)||this.lastMouseDownOnDragger)return;let{eventSvc:i,selectionSvc:n}=this.beans;i.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),n?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){let{gos:i,rowNode:n}=this,s=Se(i,{fullWidth:!0,data:n.data,node:n,value:n.key,valueFormatted:n.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(r,a,l,c)=>this.addFullWidthRowDragging(r,a,l,c),setTooltip:(r,a)=>{i.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(r,a)}}),o=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return oH(o,s);case"FullWidthGroup":return sH(o,s);case"FullWidthLoading":return nH(o,s);default:return iH(o,s)}}refreshRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.refreshRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,i="",n){let{rowDragSvc:s,context:o}=this.beans;if(!s||!this.isFullWidth())return;let r=s.createRowDragComp(()=>i,this.rowNode,void 0,e,t,n);this.createBean(r,o),this.addDestroyFunc(()=>{this.destroyBean(r,o)})}onUiLevelChanged(){let e=YI(this.rowNode);if(this.rowLevel!=e){let t="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass(t,!0),n.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){let e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){let e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!0))})}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,i=>i.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){let t=this.getPinnedForContainer(e),i=this.isFullWidth(),{rowNode:n,beans:s}=this,o=[];o.push("ag-row"),o.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&o.push("ag-opacity-zero"),o.push(n.rowIndex%2===0?"ag-row-even":"ag-row-odd"),n.isRowPinned()&&o.push("ag-row-pinned"),n.isSelected()&&o.push("ag-row-selected"),n.footer&&o.push("ag-row-footer"),o.push("ag-row-level-"+this.rowLevel),n.stub&&o.push("ag-row-loading"),i&&o.push("ag-full-width-row"),s.expansionSvc?.addExpandedCss(o,n),n.dragging&&o.push("ag-row-dragging");let{rowStyleSvc:r}=s;return r&&(r.processClassesFromGridOptions(o,n),r.preProcessRowClassRules(o,n)),o.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&o.push("ag-row-first"),this.isLastRowOnPage()&&o.push("ag-row-last"),i&&(t==="left"&&o.push("ag-cell-last-left-pinned"),t==="right"&&o.push("ag-cell-first-right-pinned")),o}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;let{element:t,compBean:i}=e,{rowNode:n,beans:s,gos:o}=this;i.addManagedListeners(t,{mouseenter:()=>n.dispatchRowEvent("mouseEnter"),mouseleave:()=>n.dispatchRowEvent("mouseLeave")}),i.addManagedListeners(n,{mouseEnter:()=>{!s.dragSvc?.dragging&&!o.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),n.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){let t=e?[e]:this.allRowGuis.map(i=>i.element);for(let i of t)i.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){let t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(t.top,!0)-100,n=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(i,e),n)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;let t=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),s=KR(this.gos)?Uc(this.beans,this.rowNode).height:void 0,o=s?`${Math.min(i,s)-2}px`:void 0;this.forEachGui(e,r=>{r.element.style.height=`${t}px`,o&&r.element.style.setProperty("--ag-line-height",o)})}destroyFirstPass(e=!1){this.active=!1;let{rowNode:t}=this;if(!e&&zc(this.gos)&&!t.sticky)if(t.rowTop!=null){let s=this.roundRowTopToBounds(t.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));t.setHovered(!1);let i=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(i),this.beans.eventSvc.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.beans.editSvc?.stopRowEditing(this);let e=t=>(t.list.forEach(i=>i.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){let{focusSvc:e,editSvc:t}=this.beans,i=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);i!==this.rowFocused&&(this.rowFocused=i,this.setFocusedClasses()),!i&&this.editing&&t?.stopRowEditing(this,!1)}onPaginationChanged(){let e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;let i=this.beans.pageBounds.getPixelOffset();return e+i*(t?1:-1)}setRowTop(e){if(!this.printLayout&&U(e)){let t=this.applyPaginationOffset(e),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(s)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";let t=this.rowNode,i;if(t.sticky)i=t.stickyRowTop;else{let n=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,s=this.applyPaginationOffset(n);i=t.isRowPinned()?s:this.beans.rowContainerHeight.getRealPixelPosition(s)}return i+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let i=null;return this.getAllCellCtrls().forEach(n=>{n.column==e&&(i=n)}),i!=null||t||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(e)>=0&&(i=n)}),i}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){let t=this.rowNode.getRowIndexString();if(t===null)return;let i=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),n=this.rowNode.rowIndex%2===0,s=i+this.rowNode.rowIndex+1;this.forEachGui(e,o=>{o.rowComp.setRowIndex(t),o.rowComp.addOrRemoveCssClass("ag-row-even",n),o.rowComp.addOrRemoveCssClass("ag-row-odd",!n),Ow(o.element,s)})}};function GA(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function Sw(e,t,i,n,s){let o=n?n.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;let r=Se(e,{event:t,editing:s,column:n,node:i,data:i.data,colDef:n.getColDef()});return!!(o&&o(r))}function v5(e){let{pinnedRowModel:t,rowModel:i}=e,[n,s]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],o=n?null:"top",r,a;s?(r=null,a=i.getRowCount()-1):(r="bottom",a=t?.getPinnedBottomRowCount()??-1);let{visibleCols:l,rangeSvc:c}=e,d=l.allCols;!c||!d?.length||c.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:a,rowEndPinned:r})}var y5=65,b5=67,C5=86,w5=68,x5=90,S5=89;function M5(e){let{keyCode:t}=e,i;switch(t){case y5:i=L.A;break;case b5:i=L.C;break;case C5:i=L.V;break;case w5:i=L.D;break;case x5:i=L.Z;break;case S5:i=L.Y;break;default:i=e.code}return i}var D5=class extends O{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this)}addKeyboardListeners(){let e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",sA("touchstart")?"touchstart":"mousedown"].forEach(i=>{let n=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:n})})}processMouseEvent(e,t){if(!Tf(this.gos,t)||Zo(t))return;let{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(i?.column&&i.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,n,i)):(i&&i.onMouseEvent(e,t),n&&n.onMouseEvent(e,t))}getControlsForEventTarget(e){let{gos:t}=this;return{cellCtrl:AA(t,e),rowCtrl:oA(t,e,Fh)}}processKeyboardEvent(e,t){let{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,i){let{rowNode:n,column:s,editing:o}=e;!Sw(this.gos,i,n,s,o)&&t==="keydown"&&(!o&&this.beans.navigation?.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.editing),GA(i)&&e.processCharacter(i)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,i){let{rowNode:n}=e,{focusSvc:s,navigation:o}=this.beans,r=s.getFocusedCell(),a=r&&r.column;if(!Sw(this.gos,i,n,a,!1)){let c=i.key;if(t==="keydown")switch(c){case L.PAGE_HOME:case L.PAGE_END:case L.PAGE_UP:case L.PAGE_DOWN:o?.handlePageScrollingKey(i,!0);break;case L.UP:case L.DOWN:e.onKeyboardNavigate(i);break;case L.TAB:e.onTabKeyDown(i);break;default:}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",i))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!Tf(this.gos,e))return;let i=M5(e),{clipboardSvc:n,undoRedo:s}=this.beans;if(i===L.A)return this.onCtrlAndA(e);if(i===L.C)return this.onCtrlAndC(n,e);if(i===L.D)return this.onCtrlAndD(n,e);if(i===L.V)return this.onCtrlAndV(n,e);if(i===L.X)return this.onCtrlAndX(n,e);if(i===L.Y)return this.onCtrlAndY(s);if(i===L.Z)return this.onCtrlAndZ(s,e)}onCtrlAndA(e){let{beans:{rowModel:t,rangeSvc:i,selectionSvc:n},gos:s}=this;i&&Qo(s)&&t.isRowsToRender()?v5(this.beans):n&&n?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:JR(s)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;let{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);i?.editing||n?.editing||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;let{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);i?.editing||n?.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){let{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);i?.editing||n?.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},HA=class extends O{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){let t=e.uiContainerHeight,i=t!=null?`${t}px`:"";this.eContainer.style.height=i,this.eViewport&&(this.eViewport.style.height=i)}},tf=e=>e.topRowCtrls,nf=e=>e.getStickyTopRowCtrls(),sf=e=>e.getStickyBottomRowCtrls(),of=e=>e.bottomRowCtrls,rf=e=>e.allRowCtrls,G0=e=>e.getCtrls("top"),H0=e=>e.getCtrls("center"),j0=e=>e.getCtrls("bottom"),_5={center:{type:"center",name:"center-cols",getRowCtrls:rf,getSpannedRowCtrls:H0},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:rf,getSpannedRowCtrls:H0},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:rf,getSpannedRowCtrls:H0},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:rf},topCenter:{type:"center",name:"floating-top",getRowCtrls:tf,getSpannedRowCtrls:G0},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:tf,getSpannedRowCtrls:G0},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:tf,getSpannedRowCtrls:G0},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:tf},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:nf},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:nf},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:nf},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:nf},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:sf},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:sf},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:sf},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:sf},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:of,getSpannedRowCtrls:j0},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:of,getSpannedRowCtrls:j0},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:of,getSpannedRowCtrls:j0},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:of}};function jA(e){return`ag-${zh(e).name}-viewport`}function gf(e){let t=zh(e);return t.container??`ag-${t.name}-container`}function E5(e){return`ag-${zh(e).name}-spanned-cells-container`}function zh(e){return _5[e]}var I5=["topCenter","topLeft","topRight"],R5=["bottomCenter","bottomLeft","bottomRight"],A5=["center","left","right"],k5=["center","left","right","fullWidth"],T5=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],L5=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],F5=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],WA=["stickyTopCenter","stickyTopLeft","stickyTopRight"],UA=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],P5=[...WA,"stickyTopFullWidth",...UA,"stickyBottomFullWidth"],O5=[...I5,...R5,...A5,...WA,...UA],N5=class extends O{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=zh(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new g5(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,i,n){this.comp=e,this.eContainer=t,this.eSpannedContainer=i,this.eViewport=n,this.createManagedBean(new D5(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();let{pinnedCols:s,rangeSvc:o}=this.beans,r=()=>this.onPinnedWidthChanged();this.forContainers(L5,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(s?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:r})}),this.forContainers(F5,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(s?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:r})}),this.forContainers(k5,()=>this.createManagedBean(new HA(this.eContainer,this.name==="center"?n:void 0))),o&&this.forContainers(O5,()=>this.createManagedBean(o.createDragListenerFeature(this.eContainer))),this.forContainers(T5,()=>this.createManagedBean(new Xw(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){let{spannedRowRenderer:e,gos:t}=this.beans;this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsChanged.bind(this),displayedRowsChanged:i=>this.onDisplayedRowsChanged(i.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{let i=this.options.getSpannedRowCtrls(e);i&&this.comp.setSpannedRowCtrls(i,!1)}})}listenOnDomOrder(){if(P5.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}let t=()=>{let i=this.gos.get("ensureDomOrder"),n=Gi(this.gos,"print");this.comp.setDomOrder(i||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){let{dragSvc:e}=this.beans;if(!e)return;let t=i=>{e.dragging&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){let t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,i,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Dh(this.eViewport)}getCenterViewportScrollLeft(){return bf(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){let t=sa(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return NR(this.eViewport)}getViewportScrollLeft(){return bf(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||MG(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Cf(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){let e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){let t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}let i=Gi(this.gos,"print"),s=this.gos.get("embedFullWidthRows")||i,o=t.filter(r=>{let a=r.isFullWidth();return this.options.fullWidth?!s&&a:s||!a});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:e})}},$A="ag-force-vertical-scroll",B5="ag-selectable",z5="ag-column-moving",V5=class extends O{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,i,n,s,o,r){this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=n,this.eBottom=s,this.eStickyTop=o,this.eStickyBottom=r,this.eCenterColsViewport=i.querySelector(`.${jA("center")}`),this.eFullWidthContainer=i.querySelector(`.${gf("fullWidth")}`),this.eStickyTopFullWidthContainer=o.querySelector(`.${gf("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=r.querySelector(`.${gf("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new qw(this.comp)),this.scrollFeature=this.createManagedBean(new p5(this.eBodyViewport)),this.beans.rowDragSvc?.setupRowDrag(this.eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,i,s,o,r]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(n),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){let e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t}),this.addManagedPropertyListener("treeData",t)}onGridColumnsChanged(){let e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){let{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();let i=t&&e.getScrollbarWidth()||0,n=LR()?16:0,s=`calc(100% + ${i+n}px)`;ir(this.beans,()=>this.comp.setBodyViewportWidth(s)),this.updateScrollingClasses()}setGridRootRole(){let{rowGroupColsSvc:e,colModel:t}=this,i=this.gos.get("treeData");if(!i){let n=t.isPivotMode();i=(e?e.columns.length:0)>=(n?2:1)}this.comp.setGridRootRole(i?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:i=>{let{target:n}=i,s=il(n,"ag-root",t);t.classList.toggle("ag-has-focus",!s)},focusout:i=>{let{target:n,relatedTarget:s}=i,o=t.contains(s),r=il(s,"ag-root",t);il(n,"ag-root",t)||(!o||r)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(z5,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(B5,e)}updateScrollingClasses(){let{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){let e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,i=t.isLastRowIndexKnown()?t.getRowCount():-1,n=i===-1?-1:e+i;this.comp.setRowCount(n)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){let t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){let e=this.gos.get("alwaysShowVerticalScroll"),t=e?$A:null,i=Gi(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&DG(this.eBodyViewport)}setupRowAnimationCssClass(){let{rowContainerHeight:e,environment:t}=this.beans,i=t.sizesMeasured,n=()=>{let s=i&&zc(this.gos)&&!e.stretching,o=s?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(o,s)};n(),this.addManagedEventListeners({heightScaleChanged:n}),this.addManagedPropertyListener("animateRows",n),this.addManagedEventListeners({gridStylesChanged:()=>{!i&&t.sizesMeasured&&(i=!0,n())}})}addBodyViewportListener(){let{popupSvc:e,touchSvc:t}=this.beans,i=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:i}),t?.mockBodyContextMenu(this,i),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,e)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){let{deltaX:t,deltaY:i,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(i))&&Tf(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){let{deltaX:t,deltaY:i,shiftKey:n}=e,s=n||Math.abs(t)>Math.abs(i),o=e.target;s?(this.eStickyTopFullWidthContainer.contains(o)||this.eStickyBottomFullWidthContainer.contains(o))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(i))}scrollGridBodyToMatchEvent(e){let{deltaX:t,deltaY:i}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||i})}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();let{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){let t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){let{pinnedRowModel:e}=this,t=e?.getPinnedTopTotalHeight()??0,i=e?.getPinnedBottomTotalHeight()??0;this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{let t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){let t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),i=this.pinnedRowModel?.getPinnedTopTotalHeight()??0,n=0;t>0&&(n+=t),i>0&&(n+=i),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){let{pinnedRowModel:e,scrollVisibleSvc:t,comp:i}=this,n=e?.getPinnedBottomTotalHeight()??0,o=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,r=n+o;i.setStickyBottomBottom(`${r}px`)}},YA=class extends st{constructor(e,t){super(),this.direction=t,this.eViewport=K,this.eContainer=K,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",kR()||tl())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=LR(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){let e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),ir(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){let t=this.eViewport;RG(()=>js(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},G5=class extends YA{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=K,this.eRightSpacer=K,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();let e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new Xw(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;let e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){let e=this.scrollVisibleSvc.verticalScrollShowing,t=this.visibleCols.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&e,n=this.scrollVisibleSvc.getScrollbarWidth();i&&(t+=n),vo(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let s=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(s+=n),vo(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=n)}setScrollVisible(){let e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,o=i?0:n===0&&t?16:n,r=()=>{this.setScrollVisibleDebounce=0,this.addOrRemoveCssClass("ag-scrollbar-invisible",t),fh(this.getGui(),o),fh(this.eViewport,o),fh(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(r,100):r()}getScrollPosition(){return bf(this.eViewport,this.enableRtl)}setScrollPosition(e){js(this.eViewport)||this.attemptSettingScrollPosition(e),Cf(this.eViewport,e,this.enableRtl)}},H5={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:G5},j5=class extends YA{constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new HA(this.eContainer));let{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){let{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,i=this.invisibleScrollbar,n=t&&e.getScrollbarWidth()||0,s=n===0&&i?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),vo(this.getGui(),s),vo(this.eViewport,s),vo(this.eContainer,s),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){let i=e.getGridBodyCtrl().eBodyViewport,n=this.getScrollPosition(),s=i.scrollTop;n!=s&&this.setScrollPosition(s,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!js(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},W5={selector:"AG-FAKE-VERTICAL-SCROLL",component:j5};function U5(e){return e.cols?e.cols.treeDepth+1:-1}function Yo(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function Jw(e){let t=[],i=e.ctrlsSvc.getHeaderRowContainerCtrls();for(let n of i){if(!n)continue;let s=n.getGroupRowCount()||0;for(let o=0;o<s;o++){let r=n.getGroupRowCtrlAtIndex(o),a=t[o];if(r){let l=$5(e,r);(a==null||l>a)&&(t[o]=l)}}}return t}function $5(e,t){let i=e.colModel.isPivotMode()?K5(e):ZA(e),n=0,s=t.getHeaderCtrls();for(let o of s){let{column:r}=o;if(r.isAutoHeaderHeight()){let a=r.getAutoHeaderHeight();a!=null&&a>n&&(n=a)}}return Math.max(i,n)}function ex(e){let t=e.colModel.isPivotMode()?Y5(e):Vh(e),n=e.visibleCols.allCols.filter(s=>s.isAutoHeaderHeight()).map(s=>s.getAutoHeaderHeight()||0);return Math.max(t,...n)}function Vh(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function KA(e){return e.gos.get("floatingFiltersHeight")??Vh(e)}function ZA(e){return e.gos.get("groupHeaderHeight")??Vh(e)}function Y5(e){return e.gos.get("pivotHeaderHeight")??Vh(e)}function K5(e){return e.gos.get("pivotGroupHeaderHeight")??ZA(e)}var Z5=class extends O{setComp(e,t,i){this.comp=e,this.eGui=t;let{beans:n}=this,{headerNavigation:s,touchSvc:o,ctrlsSvc:r}=n;s&&this.createManagedBean(new Jc(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,n),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,n)}),this.onPivotModeChanged(n),this.setupHeaderHeight();let a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),o?.mockHeaderContextMenu(this,a),r.register("gridHeaderCtrl",this)}setupHeaderHeight(){let e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>ir(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){let{beans:e}=this,t=0,i=Jw(e).reduce((o,r)=>o+r,0),n=ex(e);if(e.filterManager?.hasFloatingFilters()&&(t+=KA(e)),t+=i,t+=n,this.headerHeight===t)return;this.headerHeight=t;let s=`${t+1}px`;this.comp.setHeightAndMinHeight(s),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){let t=e.colModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){let i=e.visibleCols.allCols.some(n=>n.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",i)}onTabKeyDown(e){let t=this.gos.get("enableRtl"),i=e.shiftKey,n=i!==t?"LEFT":"RIGHT",{beans:s}=this,{headerNavigation:o,focusSvc:r}=s;(o.navigateHorizontally(n,!0,e)||!i&&r.focusOverlay(!1)||Zc(s,i,!0))&&e.preventDefault()}handleKeyDown(e){let t=null,{headerNavigation:i}=this.beans;switch(e.key){case L.LEFT:t="LEFT";case L.RIGHT:{U(t)||(t="RIGHT"),i.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case L.UP:t="UP";case L.DOWN:{U(t)||(t="DOWN"),i.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){let{relatedTarget:t}=e,{eGui:i,beans:n}=this;!t&&i.contains(Bt(n))||i.contains(t)||(n.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,i){let{menuSvc:n,ctrlsSvc:s}=this.beans;if(!e&&!i||!n?.isHeaderContextMenuEnabled())return;let{target:o}=e??t;(o===this.eGui||o===s.getHeaderRowContainerCtrl()?.eViewport)&&n.showHeaderContextMenu(void 0,e,i)}},tx=class extends st{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},q5=class extends tx{constructor(e){super(`<div class="ag-header-cell" role="columnheader">
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,e),this.eResize=K,this.eHeaderCompWrapper=K,this.headerCompVersion=0}postConstruct(){let e=this.getGui();((s,o)=>{o!=null&&o!=""?e.setAttribute(s,o):e.removeAttribute(s)})("col-id",this.ctrl.column.getColId());let i={setWidth:s=>e.style.width=s,addOrRemoveCssClass:(s,o)=>this.addOrRemoveCssClass(s,o),setUserStyles:s=>Oh(e,s),setAriaSort:s=>s?fG(e,s):vG(e),setUserCompDetails:s=>this.setUserCompDetails(s),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);let n=this.ctrl.getSelectAllGui();n&&this.eResize.insertAdjacentElement("afterend",n)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;let t=this.headerCompVersion;e.newAgStackInstance().then(i=>this.afterCompCreated(t,i))}afterCompCreated(e,t){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(t);return}this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},X5=class extends tx{constructor(e){super(`<div class="ag-header-group-cell" role="columnheader">
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,e),this.eResize=K,this.eHeaderCompWrapper=K}postConstruct(){let e=this.getGui(),t=(n,s)=>s!=null?e.setAttribute(n,s):e.removeAttribute(n);e.setAttribute("col-id",this.ctrl.column.getUniqueId());let i={addOrRemoveCssClass:(n,s)=>this.addOrRemoveCssClass(n,s),setUserStyles:n=>Oh(e,n),setHeaderWrapperHidden:n=>{n?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:n=>{n!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${n}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",n!=null)},setResizableDisplayed:n=>Nt(this.eResize,n),setWidth:n=>e.style.width=n,setAriaExpanded:n=>t("aria-expanded",n),setUserCompDetails:n=>this.setUserCompDetails(n),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(i,e,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){let t=()=>this.destroyBean(e);if(!this.isAlive()){t();return}let i=this.getGui(),n=e.getGui();this.eHeaderCompWrapper.appendChild(n),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(i)}addOrRemoveHeaderWrapperStyle(e,t){let{eHeaderCompWrapper:i}=this;t?i.style.setProperty(e,t):i.style.removeProperty(e)}},Q5=class extends tx{constructor(e){super(`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div data-ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" data-ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" data-ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,e),this.eFloatingFilterBody=K,this.eButtonWrapper=K,this.eButtonShowMainFilter=K}postConstruct(){let e=this.getGui(),t={addOrRemoveCssClass:(i,n)=>this.addOrRemoveCssClass(i,n),setUserStyles:i=>Oh(e,i),addOrRemoveBodyCssClass:(i,n)=>this.eFloatingFilterBody.classList.toggle(i,n),setButtonWrapperDisplayed:i=>Nt(this.eButtonWrapper,i),setCompDetails:i=>this.setCompDetails(i),getFloatingFilterComp:()=>this.compPromise,setWidth:i=>e.style.width=i,setMenuIcon:i=>this.eButtonShowMainFilter.appendChild(i)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}},J5=class extends st{constructor(e){super(),this.ctrl=e,this.headerComps={},this.setTemplate(`<div class="${this.ctrl.headerRowClass}" role="row"></div>`)}postConstruct(){Ow(this.getGui(),this.ctrl.getAriaRowIndex());let e={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,i)=>this.setHeaderCtrls(t,i),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(e,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,t){if(!this.isAlive())return;let i=this.headerComps;if(this.headerComps={},e.forEach(n=>{let s=n.instanceId,o=i[s];delete i[s],o==null&&(o=this.createHeaderComp(n),this.getGui().appendChild(o.getGui())),this.headerComps[s]=o}),Object.values(i).forEach(n=>{this.getGui().removeChild(n.getGui()),this.destroyBean(n)}),t){let n=Object.values(this.headerComps);n.sort((o,r)=>{let a=o.getCtrl().column.getLeft(),l=r.getCtrl().column.getLeft();return a-l});let s=n.map(o=>o.getGui());zR(this.getGui(),s)}}createHeaderComp(e){let t;switch(this.ctrl.type){case"group":t=new X5(e);break;case"filter":t=new Q5(e);break;default:t=new q5(e);break}return this.createBean(t),t.setParentComponent(this),t}},ix=class extends O{constructor(e,t,i,n){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=n,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){let{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?yt(t):this.columnOrGroup}postConstruct(){let e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){let{gos:e,colAnimation:t}=this.beans,i=e.get("suppressColumnMoveAnimation"),n=U(this.columnOrGroup.getOldLeft());t?.isActive()&&n&&!i?this.animateInLeft():this.onLeftChanged()}animateInLeft(){let e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),i=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=i,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===i&&this.setLeft(i)})}onLeftChanged(){let e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){let{gos:i,visibleCols:n}=this.beans;if(!Gi(i,"print")||e.getPinned()==="left")return t;let o=n.getColsLeftWidth();if(e.getPinned()==="right"){let r=n.bodyWidth;return o+r+t}return o+t}setLeft(e){if(U(e)&&(this.eCell.style.left=`${e}px`),jt(this.columnOrGroup)){let t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&mG(this.ariaEl,t.length)}}},ej=0,qA="headerCtrl",nx=class extends O{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+ej++}postConstruct(){let e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){let{headerRowIndex:t,column:i}=this.beans.focusSvc.focusedHeader,n=i.getDefinition(),s=n&&n.suppressHeaderKeyboardEvent;if(!U(s))return!1;let o=Se(this.gos,{colDef:n,column:i,headerRowIndex:t,event:e});return!!s(o)}getWrapperHasFocus(){return Bt(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){let e=this.column.getDefinition();if(!e)return;let{headerStyle:t}=e,i;if(typeof t=="function"){let n=this.getHeaderClassParams();i=t(n)}else i=t;i&&this.comp.setUserStyles(i)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){let{wrapperElement:t,checkMeasuringCallback:i,compBean:n}=e,{beans:s}=this,o=u=>{if(!this.isAlive()||!n.isAlive())return;let{paddingTop:h,paddingBottom:p,borderBottomWidth:g,borderTopWidth:m}=ul(this.eGui),f=h+p+g+m,y=t.offsetHeight+f;if(u<5){let C=Qt(s),S=!C||!C.contains(t),M=y==0;if(S||M){ir(s,()=>o(u+1));return}}this.setColHeaderHeight(this.column,y)},r=!1,a,l=()=>{let u=this.column.isAutoHeaderHeight();u&&!r&&c(),!u&&r&&d()},c=()=>{r=!0,o(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),a=sa(this.beans,t,()=>o(0))},d=()=>{r=!1,a&&a(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),a=void 0};l(),n.addDestroyFunc(()=>d()),n.addManagedListeners(this.column,{widthChanged:()=>r&&o(0)}),n.addManagedEventListeners({sortChanged:()=>{r&&window.setTimeout(()=>o(0))}}),i&&i(l)}onDisplayedColumnsChanged(){let{comp:e,column:t,beans:i,eGui:n}=this;!e||!t||!n||(IA(e,t,i.visibleCols),IR(n,i.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){let e=rl(this.beans);this.eGui&&gs(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){let t=Bt(this.beans),i=e.key===L.LEFT||e.key===L.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||i)&&(e.preventDefault(),e.stopImmediatePropagation()),!i))return;let s=e.key===L.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;let o=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(o,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(s)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){let t=this.getResizeDiff(e),{pinnedCols:i}=this.beans;return i?i.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){let{gos:t,column:i}=this,n=e.key===L.LEFT!==t.get("enableRtl"),s=i.getPinned(),o=t.get("enableRtl");return s&&o!==(s==="right")&&(n=!n),(n?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){let t=this.getWrapperHasFocus();switch(e.key){case L.PAGE_DOWN:case L.PAGE_UP:case L.PAGE_HOME:case L.PAGE_END:t&&e.preventDefault()}}addDomData(e){let t=qA,{eGui:i,gos:n}=this;cl(n,i,t,this),e.addDestroyFunc(()=>cl(n,i,t,null))}focus(e){let{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,i){let n=e??t,{menuSvc:s,gos:o}=this.beans;o.get("preventDefaultOnContextMenu")&&n.preventDefault(),s?.isHeaderContextMenuEnabled(i)&&s.showHeaderContextMenu(i,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",i)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;let{eventSvc:i}=this;e.isColumn?i.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):i.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},tj=class extends nx{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,i,n,s){this.comp=e;let{rowCtrl:o,column:r,beans:a}=this,{colResize:l,context:c,colHover:d,rangeSvc:u}=a,h=Bh(this,c,s);this.setGui(t,h),this.updateState(),this.setupWidth(h),this.setupMovingCss(h),this.setupMenuClass(h),this.setupSortableClass(h),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:g=>this.setRefreshFunction("measuring",g),compBean:h}),this.addColumnHoverListener(h),this.setupFilterClass(h),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(h),this.setupSelectAll(h),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=h.createManagedBean(l.createResizeFeature(o.pinned,r,i,e,this)):Nt(i,!1),d?.createHoverFeature(h,[r],t),u?.createRangeHighlightFeature(h,r,e),h.createManagedBean(new ix(r,t,a)),h.createManagedBean(new Jc(t,{shouldStopEventPropagation:g=>this.shouldStopEventPropagation(g),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(h),h.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),h.addManagedListeners(r,{colDefChanged:()=>this.refresh()}),h.addManagedListeners(r,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});let p=()=>this.checkDisplayName();h.addManagedEventListeners({columnValueChanged:p,columnRowGroupChanged:p,columnPivotChanged:p,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),h.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){let{column:e,beans:t}=this,i=e.colDef;return Se(t.gos,{colDef:i,column:e,floatingFilter:!1})}setupUserComp(){let e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){let e=this.createParams(),t=this.column.getColDef();return Q6(this.beans.userCompFactory,t,e)}createParams(){let{menuSvc:e,sortSvc:t,colFilter:i,gos:n}=this.beans;return Se(n,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!i&&(!this.openFilterEnabled||Yn(this.gos)),showColumnMenu:(o,r)=>{e?.showColumnMenu({column:this.column,buttonElement:o,positionBy:"button",onClosedCallback:r})},showColumnMenuAfterMouseClick:(o,r)=>{e?.showColumnMenu({column:this.column,mouseEvent:o,positionBy:"mouse",onClosedCallback:r})},showFilter:o=>{e?.showFilterMenu({column:this.column,buttonElement:o,containerType:"columnFilter",positionBy:"button"})},progressSort:o=>{t?.progressSort(this.column,!!o,"uiColumnSorted")},setSort:(o,r)=>{t?.setSortForColumn(this.column,o,!!r,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(o,r)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,r)}})}setupSelectAll(e){let{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===L.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===L.ENTER&&this.onEnterKeyDown(e),e.key===L.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){let i=this.comp.getUserCompInstance();KI(i)&&i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),LH()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){let e=()=>{let t=this.column.getColDef(),i=EA(t,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(s=>{n.has(s)?n.delete(s):this.comp.addOrRemoveCssClass(s,!0)}),n.forEach(s=>this.comp.addOrRemoveCssClass(s,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){let{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){let e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){let t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){let e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){let t=()=>{let i=this.column.getActualWidth();this.comp.setWidth(`${i}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){let t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){let t=()=>{this.comp?.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){let t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){let t=()=>{let i=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){let e=()=>{let t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){let e=this.column.getHighlighted(),t=e===0,i=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",i)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){let{eGui:e,column:t,comp:i,beans:n}=this,s=Jw(this.beans),o=s.reduce((d,u)=>d+=u,0)===0;if(i.addOrRemoveCssClass("ag-header-parent-hidden",o),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}let{numberOfParents:r,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",r>0);let l=ex(n);if(r===0){i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}i.addOrRemoveCssClass("ag-header-span-total",a);let c=0;for(let d=0;d<r;d++)c+=s[s.length-1-d];e.style.setProperty("top",`${-c}px`),e.style.setProperty("height",`${l+c}px`)}refreshAriaSort(){if(this.sortable){let e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(sG(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){let e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!Yn(this.gos)){let e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){let e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Bt(this.beans)))return;let e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,i)=>t==="filter"?-1:i.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){let t=s=>this.handleMouseOverChange(s.type==="mouseenter"),i=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},n=s=>this.handleContextMenuMouseEvent(s,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:i,contextmenu:n})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){let t=this.comp.getUserCompInstance();return KI(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function KI(e){return typeof e.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var ij=0,W0=class extends O{constructor(e,t,i){super(),this.rowIndex=e,this.pinned=t,this.type=i,this.instanceId=ij++;let n=i=="group"?"ag-header-row-column-group":i=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}postConstruct(){this.isPrintLayout=Gi(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.eGui!=null):!1}setComp(e,t,i=!0){this.comp=e,t=Bh(this,this.beans.context,t),i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){let t=this.onRowHeightChanged.bind(this),i=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:i,virtualColumnsChanged:n=>this.onVirtualColumnsChanged(n.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",i),e.addManagedPropertyListener("ensureDomOrder",n=>this.isEnsureDomOrder=n.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls){for(let t of this.headerCellCtrls.values())if(t.column===e)return t}}onDisplayedColumnsChanged(){this.isPrintLayout=Gi(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){let e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){let{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){let{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let{filterManager:e}=this.beans,t=[],i=Jw(this.beans),n=ex(this.beans);t.push(...i),t.push(n),e?.hasFloatingFilters()&&t.push(KA(this.beans));let s=0;for(let r=0;r<this.rowIndex;r++)s+=t[r];let o=t[this.rowIndex];return{topOffset:s,rowHeight:o}}onVirtualColumnsChanged(e=!1){let t=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getHeaderCtrls(){let e=this.headerCellCtrls;this.headerCellCtrls=new Map;let t=this.getColumnsInViewport();for(let n of t)this.recycleAndCreateHeaderCtrls(n,e);let i=n=>{let{focusSvc:s,visibleCols:o}=this.beans;return s.isHeaderWrapperFocused(n)?o.isVisible(n.column):!1};if(e)for(let[n,s]of e)i(s)?this.headerCellCtrls.set(n,s):this.destroyBean(s);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){return Array.from(this.headerCellCtrls?.values()??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;let i=e.getUniqueId(),n;if(t&&(n=t.get(i),t.delete(i)),n&&n.column!=e&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":{n=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":n=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:n=this.createBean(new tj(e,this));break}this.headerCellCtrls.set(i,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[],t=this.getActualDepth(),{colViewport:i}=this.beans;return["left",null,"right"].forEach(n=>{let s=i.getHeadersToRender(n,t);e=e.concat(s)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;let t=this.getHeaderCellCtrls(),i;return typeof e=="function"?i=t.find(e):i=t.find(n=>n.column==e),i}focusHeader(e,t){let i=this.findHeaderCellCtrl(e);return i?i.focus(t):!1}destroy(){this.headerCellCtrls?.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}},nj=class extends O{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;let{pinnedCols:i,ctrlsSvc:n,colModel:s,colMoves:o,filterManager:r}=this.beans;this.setupCenterWidth(),i?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(o,this.eViewport);let a=this.onDisplayedColumnsChanged.bind(this,r);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:a,advancedFilterEnabledChanged:a});let l=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;n.register(l,this),s.ready&&this.refresh()}getAllCtrls(){let e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){let{focusSvc:t,colModel:i,filterManager:n}=this.beans,s=0,o=t.getFocusHeaderToUseAfterRefresh(),r=()=>{let d=U5(i)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let u=0;u<d;u++){let h=this.createBean(new W0(s++,this.pinned,"group"));this.groupsRowCtrls.push(h)}},a=()=>{let d=s++,u=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==d);(u||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),u&&(this.columnsRowCtrl=this.createBean(new W0(d,this.pinned,"column")))},l=()=>{this.includeFloatingFilter=!!n?.hasFloatingFilters()&&!this.hidden;let d=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){d();return}let u=s++;if(this.filtersRowCtrl){let h=this.filtersRowCtrl.rowIndex!==u;(!e||h)&&d()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new W0(u,this.pinned,"filter")))};r(),a(),l();let c=this.getAllCtrls();this.comp.setCtrls(c),this.restoreFocusOnHeader(t,o)}getHeaderCtrlForColumn(e){if(ia(e))return this.columnsRowCtrl?.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let t=0;t<this.groupsRowCtrls.length;t++){let i=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(i)return i}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,i){let s=this.getAllCtrls()[e];return s?s.focusHeader(t,i):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){let i=e?.createBodyDropTarget(this.pinned,t);i&&this.createManagedBean(i)}restoreFocusOnHeader(e,t){if(!t)return;let{column:i}=t;i.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){let t=!!e?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Xw(e=>this.comp.setCenterWidth(`${e}px`),!0))}},sj=class extends O{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){let{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){let{enterpriseMenuFactory:t,filterMenuFactory:i}=this.beans,n=t&&Yn(this.gos)?t:i;this.showColumnMenuCommon(n,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,i)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){let{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(Yn(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&ia(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){let e=!this.isSuppressMenuHide();return!(tl()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!Yn(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!Yn(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){let e=this.gos,t=e.get("suppressMenuHide");return Yn(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,i,n){let{positionBy:s,onClosedCallback:o}=t,r=t.column;if(s==="button"){let{buttonElement:a}=t;e?.showMenuAfterButtonClick(r,a,i,o,n)}else if(s==="mouse"){let{mouseEvent:a}=t;e?.showMenuAfterMouseEvent(r,a,i,o,n)}else if(r){let a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(r,"auto"),ir(a,()=>{let c=l.getHeaderRowContainerCtrl(r.getPinned())?.getHeaderCtrlForColumn(r);c&&e?.showMenuAfterButtonClick(r,c.getAnchorElementForMenu(n),i,o,!0)})}}};function ZI(e,t,i){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",i))}var XA=class extends st{constructor(){super()}},oj=class extends XA{init(){let e=Ko(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){let t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},rj=class extends XA{init(){let e=Ko(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){let t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}};function aj(e,t,i){let n=ps(e,t,i);if(n){let{className:o}=n;if(typeof o=="string"&&o.indexOf("ag-icon")>-1||typeof o=="object"&&o["ag-icon"])return n}let s=document.createElement("span");return s.appendChild(n),s}function ps(e,t,i){let n=null;e==="smallDown"?z(262):e==="smallLeft"?z(263):e==="smallRight"&&z(264);let s=i&&i.getColDef().icons;if(s&&(n=s[e]),t.gos&&!n){let o=t.gos.get("icons");o&&(n=o[e])}if(n){let o;if(typeof n=="function")o=n();else if(typeof n=="string")o=n;else{z(38,{iconName:e});return}if(typeof o=="string")return _h(o);if(Gw(o))return o;z(133,{iconName:e});return}else{let o=document.createElement("span"),r=t.registry.getIcon(e);r||t.validation?.validateIcon(e);let a=r??e;return o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),un(o,"presentation"),o}}var lj=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",cj=class extends st{constructor(){super(),this.dragSource=null,this.eIcon=K,this.eLabel=K,this.registerCSS(lj)}postConstruct(){let e=t=>aj(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){let{eIcon:i,dragSource:n,dropIconMap:s,gos:o}=this;Ki(i);let r=null;e||(e=n?.getDefaultIconName?n.getDefaultIconName():"notAllowed"),r=s[e],i.classList.toggle("ag-shake-left-to-right",t),!(r===s.hide&&o.get("suppressDragLeaveHidesColumns"))&&r&&i.appendChild(r)}setLabel(e){this.eLabel.textContent=e}},dj=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",uj=class extends st{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(dj)}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");let{labelSeparator:e,label:t,labelWidth:i,labelAlignment:n,disabled:s}=this.config;s!=null&&this.setDisabled(s),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){let{label:e,eLabel:t}=this;Ki(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Nt(t,!1),un(t,"presentation")):(Nt(t,!0),un(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){let e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){let i=this.getGui().classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(wf(this.eLabel,e),this)}setDisabled(e){e=!!e;let t=this.getGui();return Mh(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},QA=class extends uj{constructor(e,t,i,n){super(e,t,i),this.className=n}postConstruct(){super.postConstruct();let{width:e,value:t,onValueChange:i}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),i!=null&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){let e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();i==null||i==""||oG(e)!==null?rw(e,""):rw(e,t??"")}setAriaLabel(e){return zf(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return vo(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},el=class extends QA{constructor(e,t,i="text",n="input"){super(e,e?.template??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${n} data-ref="eInput" class="ag-input-field-input"></${n}>
                </div>
            </div>`,[],t),this.inputType=i,this.displayFieldTag=n,this.eLabel=K,this.eWrapper=K,this.eInput=K}postConstruct(){super.postConstruct(),this.setInputType();let{eLabel:e,eWrapper:t,eInput:i,className:n}=this;e.classList.add(`${n}-label`),t.classList.add(`${n}-input-wrapper`),i.classList.add(`${n}-input`),this.addCssClass("ag-input-field"),i.id=i.id||`ag-${this.getCompId()}-input`;let{inputName:s,inputWidth:o}=this.config;s!=null&&this.setInputName(s),o!=null&&this.setInputWidth(o),this.addInputListeners(),this.activateTabIndex([i])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return wf(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){let t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return gs(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return zf(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Mh(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)gs(this.eInput,"autocomplete",null);else{let t=typeof e=="string"?e:"off";gs(this.eInput,"autocomplete",t)}return this}},sx=class extends el{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();let{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;let e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){let t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;let i=this.eInput;i.checked=e,i.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});let n=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;let t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){let t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},ox={selector:"AG-CHECKBOX",component:sx},hj=".ag-checkbox-cell{height:100%}",pj=class extends st{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[ox]),this.eCheckbox=K,this.registerCSS(hj)}init(e){this.refresh(e);let{eCheckbox:t,beans:i}=this,n=t.getInputElement();n.setAttribute("tabindex","-1"),_R(n,"polite"),this.addManagedListeners(n,{click:s=>{if(Yc(s),t.isDisabled())return;let o=t.getValue();this.onCheckboxChanged(o)},dblclick:s=>{Yc(s)}}),this.addManagedElementListeners(e.eGridCell,{keydown:s=>{if(s.key===L.SPACE&&!t.isDisabled()){e.eGridCell===Bt(i)&&t.toggle();let o=t.getValue();this.onCheckboxChanged(o),s.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,i=!0,{value:n,column:s,node:o}=e;if(o.group&&s)if(typeof n=="boolean")t=n;else{let u=s.getColId();u.startsWith(Vf)?t=n==null||n===""?void 0:n==="true":o.aggData&&o.aggData[u]!==void 0?t=n??void 0:i=!1}else t=n??void 0;let{eCheckbox:r}=this;if(!i){r.setDisplayed(!1);return}r.setValue(t);let a=e.disabled??!s?.isCellEditable(o);r.setDisabled(a);let l=this.getLocaleTextFunc(),c=Nw(l,t),d=a?c:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;r.setInputAriaLabel(d)}onCheckboxChanged(e){let{eventSvc:t,params:i}=this,{column:n,node:s,value:o}=i,r={column:n,colDef:n.getColDef(),data:s.data,node:s,rowIndex:s.rowIndex,rowPinned:s.rowPinned,value:o};t.dispatchEvent(w({type:"cellEditingStarted"},r));let a=s.setDataValue(n,e,"edit");t.dispatchEvent(A(w({type:"cellEditingStopped"},r),{oldValue:o,newValue:e,valueChanged:a})),a||this.updateCheckbox(i)}},gj="ROOT_NODE_ID",mj=class extends O{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}get treeData(){return!1}getRowNode(e){return this.allNodesMap[e]}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=gj,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){let t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){let t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,i)=>this.createRowNode(t,i))??[]}setImmutableRowData(e,t){let i=$c(this.gos),n=!this.gos.get("suppressMaintainUnsortedOrder"),s=e.changedRowNodes,o=new Set,r=this.rootNode,a=r.allLeafChildren,l=a.length,c=!1,d=!1,u=!1,h=!1;for(let g=0,m=-1,f=t.length;g<f;g++){let v=t[g],y=this.getRowNode(i({data:v,level:0}));if(!y)c=!0,y=this.createRowNode(v,-1),s.add(y);else{if(n){let C=y.sourceRowIndex;h||(h=C<=m||c),m=C}y.data!==v&&(u=!0,y.updateData(v),s.update(y))}o.add(y)}let p=[];for(let g=0;g<l;g++){let m=a[g];o.has(m)||(d=!0,m.isSelected()&&p.push(m),this.rowNodeDeleted(m),s.remove(m))}if(c||d||h){let g=new Array(o.size),m=0;if(!n)for(let v=0;v<l;++v){let y=a[v];o.delete(y)&&(y.sourceRowIndex=m,g[m++]=y)}for(let v of o)v.sourceRowIndex=m,g[m++]=v;r.allLeafChildren=g;let f=r.sibling;f&&(f.allLeafChildren=g),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=h)}(c||d||h||u)&&(this.deselectNodes(p),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();let t=e.id,i=this.allNodesMap;i[t]===e&&delete i[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);let i={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},n=[],s=$c(this.gos);return this.executeRemove(s,e,i,n),this.executeUpdate(s,e,i,n),this.executeAdd(e,i),this.deselectNodes(n),i}executeAdd(e,t){let i=e.add;if(!i?.length)return;let n=this.rootNode.allLeafChildren,s=n.length;if(typeof e.addIndex=="number"&&(s=this.sanitizeAddIndex(e.addIndex),s>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let u=0;u<n.length;u++)if(n[u]?.rowIndex==s-1){s=u+1;break}}let o=i.length,r=t.changedRowNodes,a=new Array(o);for(let d=0;d<o;d++){let u=this.createRowNode(i[d],s+d);r.add(u),a[d]=u}let l=this.rootNode;if(s<n.length){let d=n.slice(0,s),u=n.slice(s,n.length),h=d.length+a.length;for(let p=0,g=u.length;p<g;++p)u[p].sourceRowIndex=h+p;n=[...d,...a,...u],t.rowsInserted=!0}else n=n.concat(a);l.allLeafChildren=n;let c=l.sibling;c&&(c.allLeafChildren=n),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:i,rowNodeTransaction:n},s){let{remove:o}=t;if(!o?.length)return;let r={};o.forEach(c=>{let d=this.lookupRowNode(e,c);d&&(d.isSelected()&&s.push(d),d.clearRowTopAndRowIndex(),r[d.id]=!0,delete this.allNodesMap[d.id],n.remove.push(d),i.remove(d))});let a=this.rootNode;a.allLeafChildren=a.allLeafChildren?.filter(c=>!r[c.id])??null,a.allLeafChildren?.forEach((c,d)=>{c.sourceRowIndex=d});let l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:i,rowNodeTransaction:n},s){let{update:o}=t;o?.length&&o.forEach(r=>{let a=this.lookupRowNode(e,r);a&&(a.updateData(r),!a.selectable&&a.isSelected()&&s.push(a),n.update.push(a),i.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselectNodes(e){let t="rowDataChanged",i=this.beans.selectionSvc,n=e.length>0;n&&i?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),i?.updateGroupsFromChildrenSelections?.(t),n&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t})}sanitizeAddIndex(e){let t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){let i=new qc(this.beans);return i.parent=this.rootNode,i.level=0,i.group=!1,i.expanded=!1,i.sourceRowIndex=t,i.setDataAndId(e,String(this.nextId)),this.allNodesMap[i.id]&&z(2,{nodeId:i.id}),this.allNodesMap[i.id]=i,this.nextId++,i}lookupRowNode(e,t){let i;if(e){let n=e({data:t,level:0});if(i=this.allNodesMap[n],!i)return ht(4,{id:n}),null}else if(i=this.rootNode?.allLeafChildren?.find(n=>n.data===t),!i)return ht(5,{data:t}),null;return i||null}};var fj=class extends st{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[ox]),this.eCheckbox=K}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){let e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:i}=this,n=t.isSelected(),s=Nw(e,n),[o,r]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(o,r);i.setValue(n,!0),i.setInputAriaLabel(`${a} (${s})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:Yc,click:n=>{Yc(n),this.beans.selectionSvc?.handleSelectionEvent(n,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:s})=>{let o=typeof n=="object"?O0(n):void 0,r=typeof s=="object"?O0(s):void 0;o!==r&&this.onSelectableChanged()}),yw(this.gos)||typeof this.getIsVisible()=="function"){let n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){let{column:e,rowNode:t,overrides:i,gos:n}=this,s=t.selectable,o=this.getIsVisible();if(s)if(typeof o=="function"){let l=i?.callbackParams;if(!e)s=o(A(w({},l),{node:t,data:t.data}));else{let c=e.createColumnFunctionCallbackParams(t);s=o(w(w({},l),c))}}else s=o??!1;let r=n.get("rowSelection");if(r&&typeof r!="string"?!O0(r):e?.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!s),this.setVisible(!0),this.setDisplayed(!0);return}if(i?.removeHidden){this.setDisplayed(s);return}this.setVisible(s)}getIsVisible(){let e=this.overrides;if(e)return e.isVisible;let t=this.gos.get("rowSelection");return t&&typeof t!="string"?Vc(t):this.column?.getColDef()?.checkboxSelection}},vj=class{constructor(e){this.rowModel=e,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){let e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){return this.rootId?this.rowModel.getRowNode(this.rootId)??null:e?(this.setRoot(e),e):null}getEnd(){return this.endId?this.rowModel.getRowNode(this.endId)??null:null}truncate(e){let t=this.getRange();if(t.length===0)return{keep:[],discard:[]};let i=t[0].id===this.rootId,n=t.findIndex(s=>s.id===e.id);if(n>-1){let s=t.slice(0,n),o=t.slice(n+1);return this.setEndRange(e),i?{keep:s,discard:o}:{keep:o,discard:s}}else return{keep:t,discard:[]}}extend(e,t=!1){let i=this.getRoot();if(i==null){let s=this.getRange().slice();return t&&e.depthFirstSearch(o=>!o.group&&s.push(o)),s.push(e),this.setRoot(e),{keep:s,discard:[]}}let n=this.rowModel.getNodesInRangeForSelection(i,e);if(!n)return this.setRoot(e),{keep:[e],discard:[]};if(n.find(s=>s.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{let s=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:s}}}},yj=class extends O{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){let t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Bt(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;let t=this.createManagedBean(new sx);this.cbSelectAll=t,t.addCssClass("ag-header-select-all"),un(t.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:n})=>{let s=o=>typeof o=="string"||!o||o.mode==="singleRow"?void 0:o.selectAll;s(i)!==s(n)&&this.showOrHideSelectAll()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){let t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;let e=this.getSelectAllMode(),t=this.beans.selectionSvc,i=this.cbSelectAll,n=t.getSelectAllState(e);i.setValue(n);let s=t.hasNodesToSelect(e);i.setDisabled(!s),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){let t=this.getLocaleTextFunc(),{headerCellCtrl:i,cbSelectAll:n,cbSelectAllVisible:s}=this,r=n.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");i.setAriaDescriptionProperty("selectAll",s?`${a} (${r})`:null),n.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||i.announceAriaDescription()}checkSelectionType(e){return Rh(this.gos)?!0:(z(128,{feature:e}),!1)}checkRightRowModelType(e){let{gos:t,rowModel:i}=this.beans;return cn(t)||Qc(t)?!0:(z(129,{feature:e,rowModel:i.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;let e=this.cbSelectAll.getValue(),t=this.getSelectAllMode(),i="uiSelectAll";t==="currentPage"?i="uiSelectAllCurrentPage":t==="filtered"&&(i="uiSelectAllFiltered");let n={source:i,selectAll:t},s=this.beans.selectionSvc;e?s.selectAllRowNodes(n):s.deselectAllRowNodes(n)}isCheckboxSelection(){let{column:e,gos:t,beans:i}=this,n=t.get("rowSelection"),s=e.getColDef(),{headerCheckboxSelection:o}=s,r=!1,a=typeof n=="object";if(a){let c=Jo(e),d=$w(e);(vw(n)==="autoGroupColumn"&&d||c&&i.selectionColSvc?.isSelectionColumnEnabled())&&(r=uf(n))}else typeof o=="function"?r=o(Se(t,{column:e,colDef:s})):r=!!o;let l=a?"headerCheckbox":"headerCheckboxSelection";return r&&this.checkRightRowModelType(l)&&this.checkSelectionType(l)}getSelectAllMode(){let e=JR(this.gos,!1);if(e)return e;let{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:i}=this.column.getColDef();return t?"currentPage":i?"filtered":"all"}},bj=class extends O{postConstruct(){let{gos:e,beans:t}=this;this.selectionCtx=new vj(t.rowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{let i=yw(e);i!==this.isRowSelectable&&(this.isRowSelectable=i,this.updateSelectable())}),this.isRowSelectable=yw(e)}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new fj}createSelectAllFeature(e){return new yj(e)}isMultiSelect(){return Rh(this.gos)}onRowCtrlSelected(e,t,i){let n=!!e.rowNode.isSelected();e.forEachGui(i,s=>{s.rowComp.addOrRemoveCssClass("ag-row-selected",n);let o=s.element;lw(o,n),o.contains(Bt(this.beans))&&t(s)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;let t=e.isSelected();if(!e.selectable)return;let n=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(n,"rowSelection")}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e})}isRowSelectionBlocked(e){return!e.selectable||!!e.rowPinned||!sl(this.gos)}updateRowSelectable(e,t){let i=this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,i,t),i}setRowSelectable(e,t,i){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),i)return;if(Ah(this.gos)){let s=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:s??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,i=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let n=0;n<e.childrenAfterGroup.length;n++){let s=e.childrenAfterGroup[n],o=s.isSelected();if(!s.selectable){let r=this.calculateSelectedFromChildren(s);if(r===null)continue;o=r}switch(o){case!0:t=!0;break;case!1:i=!0;break;default:return}}if(!(t&&i))return t?!0:i?!1:e.selectable?e.__selected:null}selectRowNode(e,t,i,n="api"){let s=!e.selectable&&t,o=e.__selected===t;if(s||o)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");let r=e.sibling;return r&&r.footer&&r.__localEventService&&r.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent(A(w({},r5(e,this.gos,"rowSelected")),{event:i||null,source:n})),!0}isCellCheckboxSelection(e,t){let i=this.gos.get("rowSelection");if(i&&typeof i!="string"){let n=Jo(e)&&Vc(i);return e.isColumnFunc(t,n)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,i,n){let{gos:s,selectionCtx:o}=this,r=e.isSelected(),a=Ah(s),l=YG(s),c=KG(s),d=this.isMultiSelect(),u=n==="rowClicked";if(u&&a&&e.group||u&&!(l||c))return null;if(t&&i&&d){let h=o.getRoot();if(h)if(h.isSelected()){let p=o.isInRange(e)?o.truncate(e):o.extend(e,a);return{deselect:p.discard,select:p.keep,reset:!1}}else{let p=o.extend(e,a);return{select:[],deselect:p.keep,reset:!1}}else return null}else if(t&&d){let h=o.selectAll?this.beans.rowModel.getRow(0):void 0,p=o.getRoot(h),g=o.isInRange(e)?o.truncate(e):o.extend(e,a);return{select:g.keep,deselect:g.discard,reset:o.selectAll||!!(p&&!p.isSelected())}}else{if(i)return o.setRoot(e),u&&r&&!c?null:{node:e,newValue:!r,clearSelection:!d};{o.setRoot(e);let h=ZG(s),p=Df(s)==="filteredDescendants",g=u&&(!h||!l);if(p&&r===void 0&&cn(s))return{node:e,newValue:!1,clearSelection:!d||g};if(u){let m=r?!h:l;return m===r&&!g||m&&!l||!m&&!c?null:{node:e,newValue:m,clearSelection:!d||g}}return{node:e,newValue:!r,clearSelection:!d||g}}}}},Cj=class extends sx{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){let t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}};var gl=class extends el{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){let i=this.eInput;return i.value!==e&&(i.value=U(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){let e=new RegExp(`[${this.config.allowedCharPattern}]`),t=i=>{GA(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:i=>{let n=i.clipboardData?.getData("text");n&&n.split("").some(s=>!e.test(s))&&i.preventDefault()}})}},Hf={selector:"AG-INPUT-TEXT-FIELD",component:gl},wj=class extends el{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){let i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},xj={selector:"AG-INPUT-TEXT-AREA",component:wj},rx=class extends gl{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();let e=this.eInput;this.addManagedListeners(e,{blur:()=>{let o=parseFloat(e.value),r=isNaN(o)?"":this.normalizeValue(o.toString());this.value!==r&&this.setValue(r)},wheel:this.onWheel.bind(this)}),e.step="any";let{precision:t,min:i,max:n,step:s}=this.config;typeof t=="number"&&this.setPrecision(t),typeof i=="number"&&this.setMin(i),typeof n=="number"&&this.setMax(n),typeof s=="number"&&this.setStep(s)}onWheel(e){Bt(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));let t=parseFloat(e),{min:i,max:n}=this;return i!=null&&t<i?e=i.toString():n!=null&&t>n&&(e=n.toString()),e}adjustPrecision(e,t){let i=this.precision;if(i==null)return e;if(t){let s=parseFloat(e).toFixed(i);return parseFloat(s).toString()}let n=String(e).split(".");if(n.length>1){if(n[1].length<=i)return e;if(i>0)return`${n[0]}.${n[1].slice(0,i)}`}return n[0]}setMin(e){return this.min===e?this:(this.min=e,gs(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,gs(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,gs(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(U(i)){let n=this.isScientificNotation(i);if(n&&this.eInput.validity.valid)return e(i);if(!n){i=this.adjustPrecision(i);let s=this.normalizeValue(i);n=i!=s}if(n)return t(i)}return e(i)}getValue(){let e=this.eInput;if(!e.validity.valid)return;let t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},Sj={selector:"AG-INPUT-NUMBER-FIELD",component:rx};function bh(e,t){return e.toString().padStart(t,"0")}function fs(e,t=!0,i="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(s=>bh(s,2)).join(i);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(s=>bh(s,2)).join(":")),n}var U0=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Ch(e,t="YYYY-MM-DD"){let i=bh(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>bh(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${U0(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${U0(e.getDate())}`,DD:()=>bh(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>s[e.getDay()],ddd:()=>s[e.getDay()].slice(0,3),dd:()=>s[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${U0(e.getDay())}`,d:()=>`${e.getDay()}`},r=new RegExp(Object.keys(o).join("|"),"g");return t.replace(r,a=>a in o?o[a]():a)}function In(e){if(!e)return null;let[t,i]=e.split(" ");if(!t)return null;let n=t.split("-").map(u=>parseInt(u,10));if(n.filter(u=>!isNaN(u)).length!==3)return null;let[s,o,r]=n,a=new Date(s,o-1,r);if(a.getFullYear()!==s||a.getMonth()!==o-1||a.getDate()!==r)return null;if(!i||i==="00:00:00")return a;let[l,c,d]=i.split(":").map(u=>parseInt(u,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),d>=0&&d<60&&a.setSeconds(d),a}var Mj=class extends gl{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();let e=na();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Bt(this.beans)===this.eInput&&e.preventDefault()}setMin(e){let t=e instanceof Date?fs(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,gs(this.eInput,"min",t),this)}setMax(e){let t=e instanceof Date?fs(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,gs(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,gs(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return In(this.getValue())??void 0}setDate(e,t){this.setValue(fs(e??null,!1),t)}},JA={selector:"AG-INPUT-DATE-FIELD",component:Mj},Dj=1e3,_j=1e3,qI=100,XI,af=!1,Ej=class extends O{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");let e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){let t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){let e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!tl()&&(af?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},qI):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){let t=e.relatedTarget,i=this.tooltipCtrl.getGui(),n=this.tooltipComp?.getGui();this.isInteractingWithTooltip||i.contains(t)||this.interactionEnabled&&n?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||af)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return new Date().getTime()-XI<Dj}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){let e=this.getTooltipValue(),t=this.tooltipCtrl;if(!U(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}let i=t.getRowNode?.(),n=Se(this.gos,w({location:t.getLocation?.()??"UNKNOWN",colDef:t.getColDef?.(),column:t.getColumn?.(),rowIndex:t.getRowIndex?.(),node:i,data:i?.data,value:e,valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.hideTooltip(!0)},t.getAdditionalParams?.()??{}));this.state=2,this.tooltipInstanceCount++;let s=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);hH(this.userCompFactory,n)?.newAgStackInstance().then(s)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),XI=new Date().getTime()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}let n=t.getGui();this.tooltipComp=t,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&n.classList.add("ag-tooltip-animate"),this.interactionEnabled&&n.classList.add("ag-tooltip-interactive");let s=this.getLocaleTextFunc(),o=this.popupSvc?.addPopup({eChild:n,ariaLabel:s("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){let r=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:r,columnMoved:r})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(n,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Qt(this.beans),{keydown:r=>{n.contains(r?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(n,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:n,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){let e=this.tooltipComp?.getGui(),t=Bt(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){let t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){let e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent(A(w({},e),{mouseEvent:this.lastMouseEvent})):this.popupSvc?.positionPopupByComponent(A(w({},e),{eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");let e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,i=this.tooltipTrigger===0?_j:0;window.setTimeout(()=>{e(),this.destroyBean(t)},i),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){af=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},qI)}unlockService(){af=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function $0(e){return e.get("tooltipShowMode")==="whenTruncated"}function mf(e){return()=>{let t=e();return t?t.scrollWidth>t.clientWidth:!0}}var Ij=class extends O{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e){let t="title",i=this.ctrl.getGui();i&&(e!=null&&e!=""?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){let{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new Ej(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},Rj=class extends st{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){let e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){let t=e.key;switch(t){case L.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{let i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case L.DOWN:case L.UP:e.preventDefault(),this.navigate(t);break;case L.PAGE_DOWN:case L.PAGE_UP:case L.PAGE_HOME:case L.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){let t=e===L.DOWN,i,{itemEls:n,highlightedEl:s}=this;if(!s)i=n[t?0:n.length-1];else{let r=n.indexOf(s)+(t?1:-1);r=Math.min(Math.max(r,0),n.length-1),i=n[r]}this.highlightItem(i)}navigateToPage(e){let{itemEls:t,highlightedEl:i}=this;if(!i||t.length===0)return;let n=t.indexOf(i),s=this.options.length-1,o=t[0].clientHeight,r=Math.floor(this.getGui().clientHeight/o),a=-1;e===L.PAGE_HOME?a=0:e===L.PAGE_END?a=s:e===L.PAGE_DOWN?a=Math.min(n+r,s):e===L.PAGE_UP&&(a=Math.max(n-r,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){let{value:t,text:i}=e,n=i||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{hs(e)}),this.itemEls=[]}updateIndices(){let e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,i)=>{dG(t,i+1),cG(t,e.length)})}renderOption(e,t){let i=Qt(this.beans),n=i.createElement("div");un(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);let s=i.createElement("span");n.appendChild(s),s.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:o=>{o.preventDefault(),o.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>s.scrollWidth>s.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;let i=this.options.findIndex(n=>n.value===e);if(i!==-1){let n=this.options[i];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();let e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!js(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),lw(e,!0);let t=this.getGui(),{scrollTop:i,clientHeight:n}=t,{offsetTop:s,offsetHeight:o}=e;(s+o>i+n||s<i)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){let e=this.highlightedEl;!e||!js(e)||(e.classList.remove(this.activeClass),lw(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},Aj=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow)}}",kj=class extends QA{constructor(e){if(super(e,e?.template||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=K,this.eWrapper=K,this.eDisplayField=K,this.eIcon=K,this.registerCSS(Aj),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;let{pickerGap:t,maxPickerHeight:i,variableWidth:n,minPickerWidth:s,maxPickerWidth:o}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,i!=null&&this.setPickerMaxHeight(i),s!=null&&this.setPickerMinWidth(s),o!=null&&this.setPickerMaxWidth(o)}postConstruct(){super.postConstruct(),this.setupAria();let e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);let t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});let{pickerIcon:i,inputWidth:n}=this.config;if(i){let s=ps(i,this.beans);s&&this.eIcon.appendChild(s)}n!=null&&this.setInputWidth(n)}setupAria(){let e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),aw(e,!1),this.ariaRole&&un(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){let t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case L.UP:case L.DOWN:case L.ENTER:case L.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case L.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());let e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){let e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));let t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:i,pickerAriaLabelValue:n,modalPicker:s=!0},maxPickerHeight:o,minPickerWidth:r,maxPickerWidth:a,variableWidth:l,beans:c,eWrapper:d}=this,u={modal:s,eChild:e,closeOnEsc:!0,closedCallback:()=>{let m=qR(c);this.beforeHidePicker(),m&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(i,n),anchorToElement:d};e.style.position="absolute";let h=c.popupSvc,p=h.addPopup(u);l?(r&&(e.style.minWidth=r),e.style.width=Vw(vf(d)),a&&(e.style.maxWidth=a)):wf(e,a??vf(d));let g=o??`${zw(h.getPopupParent())}px`;return e.style.setProperty("max-height",g),this.alignPickerToComponent(),p.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;let{pickerGap:e,config:{pickerType:t},beans:{popupSvc:i,gos:n},eWrapper:s,pickerComponent:o}=this,r=n.get("enableRtl")?"right":"left";i.positionPopupByComponent({type:t,eventSource:s,ePopup:o.getGui(),position:"under",alignSide:r,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);let e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;let t=this.getAriaElement();aw(t,e);let i=this.eWrapper.classList;i.toggle("ag-picker-expanded",e),i.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker?.()}setInputWidth(e){return wf(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},Tj=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",ax=class extends kj{constructor(e){super(w({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox"},e)),this.registerCSS(Tj)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:mf(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");let{options:e,value:t,placeholder:i}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),i&&t==null&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){let e=this.createBean(new Rj("select",!0));this.listComponent=e,e.setParentComponent(this);let t=e.getAriaElement(),i=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",i),yG(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:n=>{n?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){let{key:t}=e;switch(t===L.TAB&&this.hidePicker(),t){case L.ENTER:case L.UP:case L.DOWN:case L.PAGE_UP:case L.PAGE_DOWN:case L.PAGE_HOME:case L.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case L.ESCAPE:super.onKeyDown(e);break;case L.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){let e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this}setValue(e,t,i){let{listComponent:n,config:{placeholder:s},eDisplayField:o,tooltipFeature:r}=this;if(this.value===e||!n)return this;if(i||n.setValue(e,!0),n.getValue()===this.getValue())return this;let l=n.getDisplayValue();return l==null&&s&&(l=s),o.textContent=l,r?.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},Lj={selector:"AG-SELECT",component:ax},Y0={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},Fj=class extends O{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;let{comp:t,eTopGuard:i,eBottomGuard:n,focusTrapActive:s,forceFocusOutWhenTabGuardsAreEmpty:o,isFocusableContainer:r,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:d,onTabKeyDown:u,handleKeyDown:h,isEmpty:p,eFocusableElement:g}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=g,this.focusTrapActive=!!s,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.isFocusableContainer=!!r,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=u,this.providedHandleKeyDown=h,this.providedIsEmpty=p}postConstruct(){this.createManagedBean(new Jc(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;let e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():jc(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;let t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){let t=Qt(this.beans),i=jc(t.body,null,!0),n=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let s,o;e?(s=0,o=n):(s=n+1,o=i.length);let r=i.slice(s,o),a=this.gos.get("tabIndex");r.sort((l,c)=>{let d=parseInt(l.getAttribute("tabindex")||"0"),u=parseInt(c.getAttribute("tabindex")||"0");return u===a?1:d===a?-1:d===0?1:u===0?-1:d-u}),r[e?r.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;let t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();let i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){let t=jc(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return pl(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;let t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},Pj=class extends O{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();let{eTopGuard:t,eBottomGuard:i,eFocusableElement:n}=this,s=[t,i],o={setTabIndex:f=>{s.forEach(v=>f!=null?v.setAttribute("tabindex",f):v.removeAttribute("tabindex"))}};this.addTabGuards(t,i);let{focusTrapActive:r=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:h,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:m}=e;this.tabGuardCtrl=this.createManagedBean(new Fj({comp:o,focusTrapActive:r,eTopGuard:t,eBottomGuard:i,eFocusableElement:n,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:h,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:m}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){let t=Qt(this.beans).createElement("div"),i=e==="top"?Y0.TAB_GUARD_TOP:Y0.TAB_GUARD_BOTTOM;return t.classList.add(Y0.TAB_GUARD,i),un(t,"presentation"),t}addTabGuards(e,t){let i=this.eFocusableElement;i.insertAdjacentElement("afterbegin",e),i.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){let e=[this.eTopGuard,this.eBottomGuard];Ki(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){Gw(t)||(t=t.getGui());let{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,i)}destroy(){let{eFocusableElement:e,eTopGuard:t,eBottomGuard:i}=this;e.removeChild(t),e.removeChild(i),super.destroy()}},ek=class extends st{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new Pj(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},ed=class extends st{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){let e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},Fc=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new ll,this.preventMouseClick=t;let i=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);e.addEventListener("touchstart",i,{passive:!0}),e.addEventListener("touchmove",n,{passive:!0}),e.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",i,{passive:!0}),e.removeEventListener("touchmove",n,{passive:!0}),e.removeEventListener("touchend",s,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;let t=this.touchStart;window.setTimeout(()=>{let i=this.touchStart===t;if(this.touching&&i&&!this.moved){this.moved=!0;let n={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;let t=this.getActiveTouch(e.touches);if(!t)return;!FA(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){let t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){let e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){let i={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};var lx=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${GR}/${this.frameworkName}-data-grid`,TG(this.baseDocLink)}setInterval(e,t){return new dn(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,n){let s={};if(typeof n=="object"?s=n:typeof n=="boolean"&&(s={capture:n}),s.passive==null){let o=rA(t);o!=null&&(s.passive=o)}e.addEventListener(t,i,s)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function Oj(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var Nj=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","rowSpanSvc","pageBoundsListener","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],QI=Object.fromEntries(Nj.map((e,t)=>[e,t]));function Bj(e,t){let i=(e.beanName?QI[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(t.beanName?QI[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return i-n}function zj(e,t){return e?.beanName==="gridDestroySvc"?-1:0}var Vj='<div class="ag-pinned-left-header" role="rowgroup"></div>',Gj='<div class="ag-pinned-right-header" role="rowgroup"></div>',Hj=`<div class="ag-header-viewport" role="presentation">
        <div class="ag-header-container" data-ref="eCenterContainer" role="rowgroup"></div>
    </div>`,K0=class extends st{constructor(e){super(),this.eCenterContainer=K,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();let e={setDisplayed:i=>this.setDisplayed(i),setCtrls:i=>this.setCtrls(i),setCenterWidth:i=>this.eCenterContainer.style.width=i,setViewportScrollLeft:i=>this.getGui().scrollLeft=i,setPinnedContainerWidth:i=>{let n=this.getGui();n.style.width=i,n.style.maxWidth=i,n.style.minWidth=i}};this.createManagedBean(new nj(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){let e=this.pinned=="left",t=this.pinned=="right",i=e?Vj:t?Gj:Hj;this.setTemplate(i),this.eRowContainer=this.eCenterContainer!==K?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){let t=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let i,n=s=>{let o=s.getGui();o.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(o),i&&BR(this.eRowContainer,o,i),i=o};e.forEach(s=>{let o=s.instanceId,r=t[o];delete t[o];let a=r||this.createBean(new J5(s));this.headerRowComps[o]=a,this.rowCompsList.push(a),n(a)}),Object.values(t).forEach(s=>this.destroyRowComp(s))}},jj=class extends st{constructor(){super('<div class="ag-header" role="presentation"/>')}postConstruct(){let e={addOrRemoveCssClass:(n,s)=>this.addOrRemoveCssClass(n,s),setHeightAndMinHeight:n=>{this.getGui().style.height=n,this.getGui().style.minHeight=n}};this.createManagedBean(new Z5).setComp(e,this.getGui(),this.getFocusableElement());let i=n=>{this.createManagedBean(n),this.appendChild(n)};i(new K0("left")),i(new K0(null)),i(new K0("right"))}},Wj={selector:"AG-HEADER-ROOT",component:jj},Uj=class extends st{constructor(e,t,i,n,s){super(),this.cellCtrl=t,this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.column,this.rowNode=t.rowNode,this.eRow=n;let o=document.createElement("div");o.setAttribute("comp-id",`${this.getCompId()}`),this.eCell=o;let r;t.isCellSpanning()?(r=document.createElement("div"),r.className="ag-spanned-cell-wrapper",r.appendChild(o),un(r,"presentation"),this.setTemplateFromElement(r)):this.setTemplateFromElement(o),this.cellCssClassManager=new wA(()=>o),this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1),un(o,t.getCellAriaRole()),o.setAttribute("col-id",t.colIdSanitised);let a={addOrRemoveCssClass:(l,c)=>this.cellCssClassManager.addOrRemoveCssClass(l,c),setUserStyles:l=>Oh(o,l),getFocusableElement:()=>o,setIncludeSelection:l=>this.includeSelection=l,setIncludeRowDrag:l=>this.includeRowDrag=l,setIncludeDndSource:l=>this.includeDndSource=l,setRenderDetails:(l,c,d)=>this.setRenderDetails(l,c,d),setEditDetails:(l,c,d)=>this.setEditDetails(l,c,d),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};t.setComp(a,o,r,this.eCellWrapper,i,s,void 0)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.eCell}setRenderDetails(e,t,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;let s=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(i||s)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,i){e?this.createCellEditorInstance(e,t,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){let t=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=t||this.forceWrapper,n=i&&this.eCellWrapper==null;if(n){let c=document.createElement("div");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=c,this.eCell.appendChild(this.eCellWrapper)}let s=!i&&this.eCellWrapper!=null;s&&(hs(this.eCellWrapper),this.eCellWrapper=void 0),this.cellCssClassManager.addOrRemoveCssClass("ag-cell-value",!i);let o=!e&&i,r=o&&this.eCellValue==null;if(r){let c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}let a=!o&&this.eCellValue!=null;a&&(hs(this.eCellValue),this.eCellValue=void 0);let l=n||s||r||a;return l&&this.removeControls(),e||t&&this.addControls(),l}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.dndSourceComp&&this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.checkboxSelectionComp&&this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,i){let n=this.editorVersion,s=e.newAgStackInstance(),{params:o}=e;s.then(a=>this.afterCellEditorCreated(n,a,o,t,i)),Lt(this.cellEditor)&&o.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){let t=this.getParentOfValue();Ki(t);let i=e!=null?qo(e,!0):null;i!=null&&(t.textContent=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){let{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),hs(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){let{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),hs(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;let t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){let i=!this.beans.gos.get("suppressAnimationFrame")&&this.beans.animationFrameSvc,n=this.rendererVersion,{componentClass:s}=e,o=()=>{if(this.rendererVersion!==n||!this.isAlive())return;let a=e.newAgStackInstance(),l=this.afterCellRendererCreated.bind(this,n,s);a&&a.then(l)};i&&this.firstRender?this.beans.animationFrameSvc.createTask(o,this.rowNode.rowIndex,"createTasksP2"):o()}afterCellRendererCreated(e,t,i){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(i);return}if(this.cellRenderer=i,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){let s=this.getParentOfValue();Ki(s),s.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,t,i,n,s){if(e!==this.editorVersion){this.beans.context.destroyBean(t);return}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){this.beans.context.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){z(97,{colId:this.column.getId()}),this.beans.context.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();let a=n||t.isPopup!==void 0&&t.isPopup();a?this.addPopupCellEditor(i,s):this.addInCellEditor(),this.refreshEditStyles(!0,a),t.afterGuiAttached&&t.afterGuiAttached(),this.cellCtrl.cellEditorAttached()}refreshEditStyles(e,t){let{cellCssClassManager:i}=this;i.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),i.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),i.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),this.cellCtrl.setInlineEditingCss()}addInCellEditor(){let{eCell:e}=this;e.contains(Bt(this.beans))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){this.beans.gos.get("editType")==="fullRow"&&z(98);let i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(this.beans.editSvc.createPopupEditorWrapper(e));let n=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&n.appendChild(this.cellEditorGui);let s=this.beans.popupSvc,o=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),r=t??i.getPopupPosition?.()??"over",a=this.beans.gos.get("enableRtl"),l={ePopup:n,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.eCell,position:r,alignSide:a?"right":"left",keepWithinBounds:!0},c=s.positionPopupByComponent.bind(s,l),d=SR(this.beans.localeSvc),u=s.addPopup({modal:o,eChild:n,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.eCell,positionCallback:c,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});u&&(this.hideEditorPopup=u.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){let{eCell:e}=this;e.contains(Bt(this.beans))&&e.focus({preventScroll:!0}),Ki(this.getParentOfValue())}},$j=class extends st{constructor(e,t,i){super(),this.cellComps={},this.beans=t,this.rowCtrl=e;let n=document.createElement("div");n.setAttribute("comp-id",`${this.getCompId()}`),n.setAttribute("style",this.getInitialStyle(i)),this.setTemplateFromElement(n);let s=this.getGui(),o=s.style;this.domOrder=this.rowCtrl.getDomOrder(),un(s,"row");let r={setDomOrder:a=>this.domOrder=a,setCellCtrls:a=>this.setCellCtrls(a),showFullWidth:a=>this.showFullWidth(a),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,addOrRemoveCssClass:(a,l)=>this.addOrRemoveCssClass(a,l),setUserStyles:a=>Oh(s,a),setTop:a=>o.top=a,setTransform:a=>o.transform=a,setRowIndex:a=>s.setAttribute("row-index",a),setRowId:a=>s.setAttribute("row-id",a),setRowBusinessKey:a=>s.setAttribute("row-business-key",a),refreshFullWidth:a=>this.fullWidthCellRenderer?.refresh?.(a())??!1};e.setComp(r,this.getGui(),i,void 0),this.addDestroyFunc(()=>{e.unsetComp(i)})}getInitialStyle(e){let t=this.rowCtrl.getInitialTransform(e);return t?`transform: ${t}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){let t=n=>{if(this.isAlive()){let s=n.getGui();this.getGui().appendChild(s),this.rowCtrl.setupDetailRowAutoHeight(s),this.setFullWidthRowComp(n)}else this.beans.context.destroyBean(n)};e.newAgStackInstance().then(t)}setCellCtrls(e){let t=Object.assign({},this.cellComps);e.forEach(i=>{let n=i.instanceId;this.cellComps[n]==null?this.newCellComp(i):t[n]=null}),this.destroyCells(Object.values(t)),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;let t=[];e.forEach(i=>{let n=this.cellComps[i.instanceId];n&&t.push(n.getGui())}),zR(this.getGui(),t)}newCellComp(e){let t=new Uj(this.beans,e,this.rowCtrl.printLayout,this.getGui(),this.rowCtrl.editing);this.cellComps[e.instanceId]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyCells(Object.values(this.cellComps))}setFullWidthRowComp(e){this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(e){e.forEach(t=>{if(!t)return;let i=t.cellCtrl.instanceId;this.cellComps[i]===t&&(t.detach(),t.destroy(),this.cellComps[i]=null)})}};function Yj(e,t,i){let n=!!i.gos.get("enableCellSpan")&&!!t.getSpannedRowCtrls,o=`<div class="${gf(e)}" data-ref="eContainer" role="rowgroup"></div>`;if(t.type==="center"||n){let r=E5(e),a=jA(e),l=`<div class="ag-spanning-container ${r}" data-ref="eSpannedContainer" role="rowgroup"></div>`;return`<div class="ag-viewport ${a}" data-ref="eViewport" role="presentation">
                ${o}
                ${n?l:""}
            </div>`}return o}var Kj=class extends st{constructor(e){super(),this.eViewport=K,this.eContainer=K,this.eSpannedContainer=K,this.rowCompsNoSpan={},this.rowCompsWithSpan={},this.name=e?.name,this.options=zh(this.name)}postConstruct(){this.setTemplate(Yj(this.name,this.options,this.beans));let e={setHorizontalScroll:i=>this.eViewport.scrollLeft=i,setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:({rowCtrls:i})=>this.setRowCtrls(i),setSpannedRowCtrls:i=>this.setRowCtrls(i,!0),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>{this.eContainer.style.width=i,this.eSpannedContainer&&(this.eSpannedContainer.style.width=i)},setOffsetTop:i=>{let n=`translateY(${i})`;this.eContainer.style.transform=n,this.eSpannedContainer&&(this.eSpannedContainer.style.transform=n)}};this.createManagedBean(new N5(this.name)).setComp(e,this.eContainer,this.eSpannedContainer,this.eViewport)}destroy(){this.setRowCtrls([]),this.setRowCtrls([],!0),super.destroy(),this.lastPlacedElement=null}setRowCtrls(e,t){let{beans:i,options:n}=this,s=t?this.eSpannedContainer:this.eContainer,o=t?w({},this.rowCompsWithSpan):w({},this.rowCompsNoSpan),r={};t?this.rowCompsWithSpan=r:this.rowCompsNoSpan=r,this.lastPlacedElement=null;let a=[];for(let l of e){let c=l.instanceId,d=o[c],u;if(d)u=d,delete o[c];else{if(!l.rowNode.displayed)continue;u=new $j(l,i,n.type)}r[c]=u,a.push([u,!d])}this.removeOldRows(Object.values(o),s),this.addRowNodes(a,s)}addRowNodes(e,t){let{domOrder:i}=this;for(let[n,s]of e){let o=n.getGui();i?this.ensureDomOrder(o,t):s&&t.appendChild(o)}}removeOldRows(e,t){for(let i of e)t.removeChild(i.getGui()),i.destroy()}ensureDomOrder(e,t){BR(t,e,this.lastPlacedElement),this.lastPlacedElement=e}},Zj={selector:"AG-ROW-CONTAINER",component:Kj};function dh(e,t){return t.map(i=>{let n=`e${i[0].toUpperCase()+i.substring(1)}RowContainer`;return e[n]={name:i},`<ag-row-container name="${i}" data-ref="${n}"></ag-row-container>`}).join("")}function qj(e){let t={},i=`<div class="ag-root ag-unselectable" data-ref="eGridRoot">
        <ag-header-root></ag-header-root>
        <div class="ag-floating-top" data-ref="eTop" role="presentation">
            ${dh(t,["topLeft","topCenter","topRight","topFullWidth"])}
        </div>
        <div class="ag-body" data-ref="eBody" role="presentation">
            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">
            ${dh(t,["left","center","right","fullWidth"])}
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">
            ${dh(t,["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}
        </div>
        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">
            ${dh(t,["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}
        </div>
        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">
            ${dh(t,["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        ${e?"<ag-overlay-wrapper></ag-overlay-wrapper>":""}
    </div>`;return{paramsMap:t,template:i}}var Xj=class extends st{constructor(){super(...arguments),this.eGridRoot=K,this.eBodyViewport=K,this.eStickyTop=K,this.eStickyBottom=K,this.eTop=K,this.eBottom=K,this.eBody=K}postConstruct(){let{overlays:e,rangeSvc:t}=this.beans,i=e?.getOverlayWrapperSelector(),{paramsMap:n,template:s}=qj(!!i);this.setTemplate(s,[...i?[i]:[],H5,W5,Wj,Zj],n);let o=(a,l)=>{let c=`${a}px`;l.style.minHeight=c,l.style.height=c},r={setRowAnimationCssOnBodyViewport:(a,l)=>this.setRowAnimationCssOnBodyViewport(a,l),setColumnCount:a=>gG(this.getGui(),a),setRowCount:a=>hG(this.getGui(),a),setTopHeight:a=>o(a,this.eTop),setBottomHeight:a=>o(a,this.eBottom),setTopDisplay:a=>this.eTop.style.display=a,setBottomDisplay:a=>this.eBottom.style.display=a,setStickyTopHeight:a=>this.eStickyTop.style.height=a,setStickyTopTop:a=>this.eStickyTop.style.top=a,setStickyTopWidth:a=>this.eStickyTop.style.width=a,setStickyBottomHeight:a=>{this.eStickyBottom.style.height=a,this.eStickyBottom.classList.toggle("ag-invisible",a==="0px")},setStickyBottomBottom:a=>this.eStickyBottom.style.bottom=a,setStickyBottomWidth:a=>this.eStickyBottom.style.width=a,setColumnMovingCss:(a,l)=>this.addOrRemoveCssClass(a,l),updateLayoutClasses:(a,l)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(d=>{d.toggle(Vs.AUTO_HEIGHT,l.autoHeight),d.toggle(Vs.NORMAL,l.normal),d.toggle(Vs.PRINT,l.print)}),this.addOrRemoveCssClass(Vs.AUTO_HEIGHT,l.autoHeight),this.addOrRemoveCssClass(Vs.NORMAL,l.normal),this.addOrRemoveCssClass(Vs.PRINT,l.print)},setAlwaysVerticalScrollClass:(a,l)=>this.eBodyViewport.classList.toggle($A,l),registerBodyViewportResizeListener:a=>{let l=sa(this.beans,this.eBodyViewport,a);this.addDestroyFunc(()=>l())},setPinnedTopBottomOverflowY:a=>this.eTop.style.overflowY=this.eBottom.style.overflowY=a,setCellSelectableCss:(a,l)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(c=>c.classList.toggle(a,l))},setBodyViewportWidth:a=>this.eBodyViewport.style.width=a,setGridRootRole:a=>un(this.eGridRoot,a)};this.ctrl=this.createManagedBean(new V5),this.ctrl.setComp(r,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(t&&Qo(this.gos)||Rh(this.gos))&&uG(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){let i=this.eBodyViewport.classList;i.toggle("ag-row-animation",t),i.toggle("ag-row-no-animation",!t)}},Qj={selector:"AG-GRID-BODY",component:Xj},Jj=class extends O{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());let{dragAndDrop:n,ctrlsSvc:s}=this.beans;n?.registerGridDropTarget(()=>this.eGui,this),TA(this.gos,t),this.createManagedBean(new qw(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");let o=sa(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>o()),s.register("gridCtrl",this)}isDetailGrid(){return RA(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){let e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){let t=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(n===0){if(i>0){let{visibleCols:s,focusSvc:o}=this.beans,r=s.allCols,a=yt(r);if(o.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){let t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;let i=this.getFocusableContainers(),{focusSvc:n,visibleCols:s}=this.beans,o=s.allCols;if(e){if(i.length>1)return this.focusContainer(yt(i),e);let r=yt(o);if(n.focusGridView({column:r,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||rl(this.beans)){if(n.focusGridView({column:o[0],backwards:e}))return!0;for(let r=1;r<i.length;r++)if(dl(i[r].getGui(),e))return!0;return!1}return n.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){let t=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(n===-1||i<0||i>=t.length)return;let s=t[i];s.setAllowFocus?.(!0),setTimeout(()=>{s.setAllowFocus?.(!1)})}isFocusable(){let e=this.beans;return!Gf(e)||!rl(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){let i=Bt(this.beans),n=e.findIndex(o=>o.getGui().contains(i)),s=n+(t?-1:1);return{indexWithFocus:n,nextIndex:s}}focusContainer(e,t){e.setAllowFocus?.(!0);let i=dl(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},e8=class extends ek{constructor(e){super(),this.gridBody=K,this.sideBar=K,this.pagination=K,this.rootWrapperBody=K,this.eGridDiv=e}postConstruct(){let e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:o=>this.addCssClass(o),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:o=>{this.getGui().style.userSelect=o??"",this.getGui().style.webkitUserSelect=o??""},setCursor:o=>{this.getGui().style.cursor=o??""}},t=this.createManagedBean(new Jj),i=t.getOptionalSelectors(),n=this.createTemplate(i),s=[Qj,...Object.values(i).filter(o=>!!o)];this.setTemplate(n,s),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>t.focusInnerElement(o),forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:()=>!t.isFocusable()})}insertGridIntoDom(){let e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),ta(this.gos,"Grid removed from DOM")})}updateLayoutClasses(e,t){let i=this.rootWrapperBody.classList,{AUTO_HEIGHT:n,NORMAL:s,PRINT:o}=Vs,{autoHeight:r,normal:a,print:l}=t;i.toggle(n,r),i.toggle(s,a),i.toggle(o,l),this.addOrRemoveCssClass(n,r),this.addOrRemoveCssClass(s,a),this.addOrRemoveCssClass(o,l)}createTemplate(e){let t=e.gridHeaderDropZonesSelector?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",i=e.sideBarSelector?'<ag-side-bar data-ref="sideBar"></ag-side-bar>':"",n=e.statusBarSelector?"<ag-status-bar></ag-status-bar>":"",s=e.watermarkSelector?"<ag-watermark></ag-watermark>":"",o=e.paginationSelector?'<ag-pagination data-ref="pagination"></ag-pagination>':"";return`<div class="ag-root-wrapper" role="presentation">
                ${t}
                <div class="ag-root-wrapper-body" data-ref="rootWrapperBody" role="presentation">
                    <ag-grid-body data-ref="gridBody"></ag-grid-body>
                    ${i}
                </div>
                ${n}
                ${o}
                ${s}
            </div>`}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){if(!e&&this.pagination?.isDisplayed()){this.pagination.forceFocusOutOfContainer(e);return}super.forceFocusOutOfContainer(e)}getFocusableContainers(){let e=[this.gridBody];return[this.sideBar,this.pagination].forEach(t=>{t&&e.push(t)}),e.filter(t=>js(t.getGui()))}},Te=(e,t)=>{for(let i of Object.keys(t))t[i]=e;return t},JI=w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w(w({dispatchEvent:"CommunityCore"},Te("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0})),Te("GridState",{getState:0})),Te("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0})),Te("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0})),Te("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0})),Te("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0})),Te("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0})),Te("ValueCache",{expireValueCache:0})),Te("CellApi",{getCellValue:0})),Te("SharedMenu",{showColumnMenu:0,hidePopupMenu:0})),Te("Sort",{onSortChanged:0})),Te("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0})),Te("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0})),Te("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0})),Te("HighlightChanges",{flashCells:0})),Te("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0})),Te("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0})),Te("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0})),Te("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0})),Te("ColumnMove",{moveColumnByIndex:0,moveColumns:0})),Te("ColumnResize",{setColumnWidths:0})),Te("ColumnHover",{isColumnHovered:0})),Te("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0})),Te("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0})),Te("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0})),Te("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0})),Te("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0})),Te("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0})),Te("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0})),Te("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0})),Te("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0})),Te("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0})),Te("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0})),Te("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0})),Te("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0})),Te("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0})),Te("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0})),Te("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0})),Te("ContextMenu",{showContextMenu:0})),Te("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0})),Te("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0})),Te("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0})),Te("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0})),Te("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0})),Te("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0})),Te("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0})),Te("StatusBar",{getStatusPanel:0})),Z0={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},t8=(e,t)=>e.eventSvc.dispatchEvent(t),tk=class{};Reflect.defineProperty(tk,"name",{value:"GridApi"});var i8=class extends O{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new tk,this.fns=A(w({},Z0),{dispatchEvent:t8}),this.preDestroyLink="";let{api:e}=this;for(let t of Object.keys(JI))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){let{fns:i,beans:n}=this;i!==Z0&&(i[e]=n?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{let{beans:i,fns:{[e]:n}}=this;return n?n(i,...t):this.apiNotFound(e)}}}apiNotFound(e){let{beans:t,gos:i,preDestroyLink:n}=this;if(!t)z(26,{fnName:e,preDestroyLink:n});else{let s=JI[e];i.assertModuleRegistered(s,`api.${e}`)&&z(27,{fnName:e,module:s})}}destroy(){super.destroy(),this.fns=Z0,this.beans=null}};function n8(e){return e.context.getGridId()}function s8(e){e.gridDestroySvc.destroy()}function o8(e){return e.gridDestroySvc.destroyCalled}function r8(e,t){return e.gos.get(t)}function a8(e,t,i){ik(e,{[t]:i})}function ik(e,t){e.gos.updateGridOptions({options:t})}var l8=class extends st{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(ps("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){let{rowNode:t,column:i,eCell:n,gos:s}=this,o=i.getColDef().dndSourceOnRowDrag,r=e.dataTransfer;if(r.setDragImage(n,0,0),o){let a=Se(s,{rowNode:t,dragEvent:e});o(a)}else try{let a=JSON.stringify(t.data);r.setData("application/json",a),r.setData("text/plain",a)}catch{}}checkVisibility(){let e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function c8(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function d8(e,t){let i=e.dragAndDrop?.findExternalZone(t);i&&e.dragAndDrop?.removeDropTarget(i)}function u8(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}var h8=class extends O{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){let t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:i}=this.beans;return i.addDragSource(t),()=>i.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();let i=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(i)}setResizeIcons(){let e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){let e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},p8=class extends st{constructor(e,t,i,n,s,o){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=n,this.dragStartPixels=s,this.suppressVisibilityChange=o,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){let{beans:e,rowNode:t,column:i,gos:n}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(ps("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){let s=n.get("rowDragManaged")?new m8(this,t,i):new g8(this,t,i);this.createManagedBean(s,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){let e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];let i=this.beans.selectionSvc?.getSelectedNodes()??[];return i.indexOf(e)!==-1?i:[e]}getDragItem(){let{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){let t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();let t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n?.preventDefault()}})[0]);let i=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{let n=this.getDragItem(),s=n.rowNodes?.length||1,o=this.getRowDragText(this.column);return o?o(n,s):s===1?this.cellValueFn():`${s} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},nk=class extends O{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){let t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,n=!1,{column:s,rowNode:o,parent:r}=this;s&&(i=s.isRowDrag(o)||r.isCustomGui(),n=typeof s.getColDef().rowDrag=="function"),n?(r.setDisplayed(!0,t),r.setVisible(i,t)):(r.setDisplayed(i,t),r.setVisible(!0,t))}}},g8=class extends nk{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},m8=class extends nk{postConstruct(){let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let{rowDragSvc:e,dragAndDrop:t,gos:i}=this.beans,n=e.rowDragFeature,s=n&&n.shouldPreventRowMove(),o=i.get("suppressRowDrag"),r=t.hasExternalDropZones(),a=s&&!r||o;this.setDisplayedOrVisible(a)}},f8=class extends O{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){let i=t.createManagedBean(new n5(e)),n=this.beans.dragAndDrop;n.addDropTarget(i),t.addDestroyFunc(()=>n.removeDropTarget(i)),this.rowDragFeature=i}createRowDragComp(e,t,i,n,s,o){return new p8(e,t,i,n,s,o)}createRowDragCompForRow(e,t){if(Qo(this.gos))return;let i=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${i("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,i,n,s,o){let r=this.gos;return r.get("rowDragManaged")&&(!cn(r)||r.get("pagination"))?void 0:this.createRowDragComp(i,e,t,n,s,o)}},sk={moduleName:"Drag",version:Y,beans:[s5]},v8={moduleName:"DragAndDrop",version:Y,dynamicBeans:{dndSourceComp:l8},icons:{rowDrag:"grip"}},ok={moduleName:"SharedDragAndDrop",version:Y,beans:[qH],dependsOn:[sk],userComponents:{agDragAndDropImage:cj},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},y8={moduleName:"RowDrag",version:Y,beans:[f8],apiFunctions:{addRowDropZone:c8,removeRowDropZone:d8,getRowDropZoneParams:u8},dependsOn:[ok]},b8={moduleName:"HorizontalResize",version:Y,beans:[h8],dependsOn:[sk]},C8=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",w8=class extends O{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;let{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;let e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){let{executeNextFuncs:i,executeLaterFuncs:n}=this;if(i.length===0&&n.length===0){e(),t();return}let s=o=>{for(;o.length;){let r=o.pop();r&&r()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),s(i)},0),window.setTimeout(()=>{t(),s(n)},200)})}};function x8(e,t,i){e.colMoves?.moveColumnByIndex(t,i,"api")}function S8(e,t,i){e.colMoves?.moveColumns(t,i,"api")}var M8=class extends O{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;let t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){let{valueColsSvc:t,rowGroupColsSvc:i,pivotColsSvc:n}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&i?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&n?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function D8(e,t){!t||t.length<=1||t.filter(n=>e.indexOf(n)<0).length>0||t.sort((n,s)=>{let o=e.indexOf(n),r=e.indexOf(s);return o-r})}function rk(e){let{isFromHeader:t,fromLeft:i,xPosition:n,fromEnter:s,fakeEvent:o,pinned:r,gos:a,colModel:l,colMoves:c,visibleCols:d}=e,{allMovingColumns:u}=e;if(t){let M=[];u.forEach(D=>{let E=null,R=D.getParent();for(;R!=null&&R.getDisplayedLeafColumns().length===1;)E=R,R=R.getParent();E!=null?(!!E.getColGroupDef()?.marryChildren?E.getProvidedColumnGroup().getLeafColumns():E.getLeafColumns()).forEach(F=>{M.includes(F)||M.push(F)}):M.includes(D)||M.push(D)}),u=M}let h=u.slice();D8(l.getCols(),h);let p=R8({movingCols:h,draggingRight:i,xPosition:n,pinned:r,gos:a,colModel:l,visibleCols:d}),g=_8(h,l);if(p.length===0)return;let m=p[0],f=g!==null&&!s;if(t&&(f=g!==null),f&&!o&&(!i&&m>=g||i&&m<=g))return;let v=d.allCols,y=[],C=null;for(let M=0;M<p.length;M++){let D=p[M],E=c.getProposedColumnOrder(h,D);if(!c.doesOrderPassRules(E))continue;let R=E.filter(T=>v.includes(T));if(C===null)C=R;else if(!hl(R,C))break;let I=E8(E);y.push({move:D,fragCount:I})}if(y.length===0)return;y.sort((M,D)=>M.fragCount-D.fragCount);let S=y[0].move;if(!(S>l.getCols().length-u.length))return{columns:u,toIndex:S}}function ak(e){let{columns:t,toIndex:i}=rk(e)||{},{finished:n,colMoves:s}=e;return!t||i==null?null:(s.moveColumns(t,i,"uiColumnMoved",n),n?null:{columns:t,toIndex:i})}function _8(e,t){let i=t.getCols(),n=u6(e.map(l=>i.indexOf(l))),s=n[0];return yt(n)-s!==n.length-1?null:s}function E8(e){function t(n){let s=[],o=n.getOriginalParent();for(;o!=null;)s.push(o),o=o.getOriginalParent();return s}let i=0;for(let n=0;n<e.length-1;n++){let s=t(e[n]),o=t(e[n+1]);[s,o]=s.length>o.length?[s,o]:[o,s],s.forEach(r=>{o.indexOf(r)===-1&&i++})}return i}function I8(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function R8(e){let{movingCols:t,draggingRight:i,xPosition:n,pinned:s,gos:o,colModel:r,visibleCols:a}=e;if(o.get("suppressMovableColumns")||t.some(C=>C.getColDef().suppressMovable))return[];let c=I8(a,s),d=r.getCols(),u=c.filter(C=>t.includes(C)),h=c.filter(C=>!t.includes(C)),p=d.filter(C=>!t.includes(C)),g=0,m=n;if(i){let C=0;u.forEach(S=>C+=S.getActualWidth()),m-=C}if(m>0){for(let C=0;C<h.length;C++){let S=h[C];if(m-=S.getActualWidth(),m<0)break;g++}i&&g++}let f;if(g>0){let C=h[g-1];f=p.indexOf(C)+1}else f=p.indexOf(h[0]),f===-1&&(f=0);let v=[f],y=(C,S)=>C-S;if(i){let C=f+1,S=d.length-1;for(;C<=S;)v.push(C),C++;v.sort(y)}else{let C=f,S=d.length-1,M=d[C];for(;C<=S&&c.indexOf(M)<0;)C++,v.push(C),M=d[C];C=f-1;let D=0;for(;C>=D;)v.push(C),C--;v.sort(y).reverse()}return v}function Mw(e){let{pinned:t,fromKeyboard:i,gos:n,ctrlsSvc:s,useHeaderRow:o,skipScrollPadding:r}=e,a=s.getHeaderRowContainerCtrl(t)?.eViewport,{x:l}=e;return a?(i&&(l-=a.getBoundingClientRect().left),n.get("enableRtl")&&(o&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!r&&(l+=s.get("center").getCenterViewportScrollLeft()),l):0}function q0(e,t){for(let i of e)i.moving=t,i.dispatchColEvent("movingChanged","uiColumnMoved")}var eR=7,Dw=100,lf=Dw/2,A8=5,k8=100,T8=class extends O{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!U(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){let{pinned:e,lastDraggingEvent:t}=this,i=t?.dragItem.columns??[];for(let n of i){let s=n.getPinned();if(n.getColDef().lockPinned){if(s==e)return"move";continue}if(s===e||!e)return"move";if(!s&&e)return"pinned"}return"notAllowed"}onDragEnter(e){let t=e.dragItem,i=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(i,!0,"uiColumnDragged");else{let s=t.visibleState,o=(i||[]).filter(r=>s[r.getId()]);this.setColumnsVisible(o,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(i,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,n=!1){let{gos:s,ctrlsSvc:o}=this.beans,r=s.get("suppressMoveWhenColumnDragging");if(n&&!r){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!n&&Lt(e.hDirection))return;let a=Mw({x:e.x,pinned:this.pinned,gos:s,ctrlsSvc:o});t||this.checkCenterForScrolling(a),r?this.handleColumnDragWhileSuppressingMovement(e,t,i,a,n):this.handleColumnDragWhileAllowingMovement(e,t,i,a,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(!e)return;let n=e.filter(s=>!s.getColDef().lockVisible);this.beans.colModel.setColsVisible(n,t,i)}finishColumnMoving(){this.clearHighlighted();let e=this.lastMovedInfo;if(!e)return;let{columns:t,toIndex:i}=e;this.beans.colMoves.moveColumns(t,i,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,i,n,s){let o=this.getAllMovingColumns(e,!0);if(s){let r=this.isAttemptingToPin(o);r&&this.attemptToPinColumns(o,void 0,!0);let{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(o,r)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:o,xPosition:l,fromEnter:t,fakeEvent:i,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(o,n)}}handleColumnDragWhileAllowingMovement(e,t,i,n,s){let o=this.getAllMovingColumns(e),r=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:o,isFromHeader:a,xPosition:n,fromLeft:r,fromEnter:t,fakeEvent:i}),c=ak(A(w({},l),{finished:s}));c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){let i=e.dragSource.getDragItem(),n=null;t?(n=i.columnsInSplit,n||(n=i.columns)):n=i.columns;let s=o=>o.getColDef().lockPinned?o.getPinned()==this.pinned:!0;return n?n.filter(s):[]}getMoveColumnParams(e){let{allMovingColumns:t,isFromHeader:i,xPosition:n,fromLeft:s,fromEnter:o,fakeEvent:r}=e,{gos:a,colModel:l,colMoves:c,visibleCols:d}=this.beans;return{allMovingColumns:t,isFromHeader:i,fromLeft:s,xPosition:n,pinned:this.pinned,fromEnter:o,fakeEvent:r,gos:a,colModel:l,colMoves:c,visibleCols:d}}highlightHoveredColumn(e,t){let{gos:i,colModel:n}=this.beans,s=i.get("enableRtl"),o=n.getCols().filter(d=>d.isVisible()&&d.getPinned()===this.pinned),r=null,a=null,l=null;for(let d of o){if(a=d.getActualWidth(),r=this.getNormalisedColumnLeft(d,0,s),r!=null){let u=r+a;if(r<=t&&u>=t){l=d;break}}r=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let d=o.length-1;d>=0;d--){let u=o[d],h=o[d].getParent();if(!h){l=u;break}let p=h?.getDisplayedLeafColumns();if(p.length){l=yt(p);break}}if(!l)return;r=this.getNormalisedColumnLeft(l,0,s),a=l.getActualWidth()}if(this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),l==null||r==null||a==null)return;let c;t-r<a/2!==s?c=0:c=1,tR(l,c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(e,t){let{gos:i,visibleCols:n}=this.beans,s=i.get("enableRtl"),{firstMovingCol:o,column:r,position:a}=this.getColumnMoveAndTargetInfo(e,t,s);if(!o||!r||a==null)return;let l=n.allCols,c=l.indexOf(o),d=l.indexOf(r),u=a===0!==s,h=c<d||c===d&&!u,p=0;if(u?h&&(p-=1):h||(p+=1),d+p===c)return;let g=l[d+p];if(!g)return;let m=this.getNormalisedColumnLeft(g,20,s);return{fromLeft:h,xPosition:m}}getColumnMoveAndTargetInfo(e,t,i){let n=this.lastHighlightedColumn||{},{firstMovingCol:s,lastMovingCol:o}=L8(e);if(!s||!o||n.column||!t)return w({firstMovingCol:s},n);let a=this.getPinDirection()==="left";return{firstMovingCol:s,position:a?1:0,column:a!==i?s:o}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,i){let{gos:n,ctrlsSvc:s}=this.beans,o=e.getLeft();if(o==null)return null;let r=e.getActualWidth();return Mw({x:i?o+r-t:o+t,pinned:e.getPinned(),useHeaderRow:i,skipScrollPadding:!0,gos:n,ctrlsSvc:s})}isAttemptingToPin(e){let t=this.needToMoveLeft||this.needToMoveRight,i=this.failedMoveAttempts>eR;return t&&i||e.some(n=>n.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){let{allMovingColumns:t,xPosition:i,fromEnter:n,fakeEvent:s,fromLeft:o}=e,r=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:i,fromLeft:o,fromEnter:n,fakeEvent:s}),{columns:a,toIndex:l}=rk(r)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){let{lastHighlightedColumn:e}=this;e&&(tR(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;let t=this.beans.ctrlsSvc.get("center"),i=t.getCenterViewportScrollLeft(),n=i+t.getCenterWidth(),s,o;this.gos.get("enableRtl")?(s=e<i+lf,o=e>n-lf):(o=e<i+lf,s=e>n-lf),this.needToMoveRight=s,this.needToMoveLeft=o,o||s?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),k8),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*A8,e>Dw&&(e=Dw);let t=null,i=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;let{pinnedCols:n,dragAndDrop:s,gos:o}=this.beans;if(this.failedMoveAttempts<=eR+1||!n)return;if(s.getDragAndDropImageComponent()?.setIcon("pinned",!1),!o.get("suppressMoveWhenColumnDragging")){let r=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(r,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,i=!1){let n=(e||[]).filter(r=>!r.getColDef().lockPinned);if(!n.length)return 0;i&&(t=this.getPinDirection());let{pinnedCols:s,dragAndDrop:o}=this.beans;return s?.setColsPinned(n,t,"uiColumnDragged"),i&&o.nudge(),n.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function tR(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function L8(e){let t=e.length,i,n;for(let s=0;s<t;s++){if(!i){let o=e[s];o.getLeft()!=null&&(i=o)}if(!n){let o=e[t-1-s];o.getLeft()!=null&&(n=o)}if(i&&n)break}return{firstMovingCol:i,lastMovingCol:n}}var F8=class extends O{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){let{ctrlsSvc:e,dragAndDrop:t}=this.beans,i=this.pinned;e.whenReady(this,n=>{let s,o=n.gridBodyCtrl.eBodyViewport;switch(i){case"left":s=[[o,n.left.eContainer],[n.bottomLeft.eContainer],[n.topLeft.eContainer]];break;case"right":s=[[o,n.right.eContainer],[n.bottomRight.eContainer],[n.topRight.eContainer]];break;default:s=[[o,n.center.eViewport],[n.bottomCenter.eViewport],[n.topCenter.eViewport]];break}this.eSecondaryContainers=s}),this.moveColumnFeature=this.createManagedBean(new T8(i)),this.bodyDropPivotTarget=this.createManagedBean(new M8(i)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},P8=class extends O{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,i){let n=this.beans.colModel.getCols();if(!n)return;let s=n[e];this.moveColumns([s],t,i)}moveColumns(e,t,i,n=!0){let{colModel:s,colAnimation:o,visibleCols:r,eventSvc:a}=this.beans,l=s.getCols();if(!l)return;if(t>l.length-e.length){z(30,{toIndex:t});return}o?.start();let c=s.getColsForKeys(e);this.doesMovePassRules(c,t)&&(GI(s.getCols(),c,t),r.refresh(i),a.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,toIndex:t,finished:n,source:i})),o?.finish()}doesMovePassRules(e,t){let i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){let{colModel:t,gos:i}=this.beans;return!(!mA(e,t.getColTree())||!(s=>{let o=c=>c?c==="left"||c===!0?-1:1:0,r=i.get("enableRtl"),a=r?1:-1,l=!0;return s.forEach(c=>{let d=o(c.getColDef().lockPosition);r?d>a&&(l=!1):d<a&&(l=!1),a=d}),l})(e))}getProposedColumnOrder(e,t){let n=this.beans.colModel.getCols().slice();return GI(n,e,t),n}createBodyDropTarget(e,t){return new F8(e,t)}moveHeader(e,t,i,n,s){let{ctrlsSvc:o,gos:r,colModel:a,visibleCols:l,focusSvc:c}=this.beans,d=t.getBoundingClientRect(),u=d.left,h=jt(i),p=h?d.width:i.getActualWidth(),g=e==="left"!==r.get("enableRtl"),m=Mw({x:g?u-20:u+p+20,pinned:n,fromKeyboard:!0,gos:r,ctrlsSvc:o}),f=c.focusedHeader;ak({allMovingColumns:h?i.getLeafColumns():[i],isFromHeader:!0,fromLeft:e==="right",xPosition:m,pinned:n,fromEnter:!1,fakeEvent:!1,gos:r,colModel:a,colMoves:this,visibleCols:l,finished:!0});let v;if(h){let y=i.getDisplayedLeafColumns();v=g?y[0]:yt(y)}else v=i;if(o.getScrollFeature().ensureColumnVisible(v,"auto"),(!s.isAlive()||r.get("ensureDomOrder"))&&f){let y;if(h){let C=i.getGroupId(),S=i.getLeafColumns();if(!S.length)return;let M=S[0].getParent();if(!M)return;y=O8(M,C)}else y=i;y&&c.focusHeaderPosition({headerPosition:A(w({},f),{column:y})})}}setDragSourceForHeader(e,t,i){let{gos:n,colModel:s,dragAndDrop:o,visibleCols:r}=this.beans,a=!n.get("suppressDragLeaveHidesColumns"),l=jt(t),c=l?t.getProvidedColumnGroup().getLeafColumns():[t],u={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>B8(t,r.allCols):()=>N8(t),dragItemName:i,onDragStarted:()=>{a=!n.get("suppressDragLeaveHidesColumns"),q0(c,!0)},onDragStopped:()=>q0(c,!1),onDragCancelled:()=>q0(c,!1),onGridEnter:h=>{if(a){let{columns:p=[],visibleState:g}=h??{},m=l?v=>!g||g[v.getColId()]:()=>!0,f=p.filter(v=>!v.getColDef().lockVisible&&m(v));s.setColsVisible(f,!0,"uiColumnMoved")}},onGridExit:h=>{if(a){let p=h?.columns?.filter(g=>!g.getColDef().lockVisible)||[];s.setColsVisible(p,!1,"uiColumnMoved")}}};return o.addDragSource(u,!0),u}};function O8(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function N8(e){let t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}function B8(e,t){let i=e.getProvidedColumnGroup().getLeafColumns(),n={};i.forEach(a=>n[a.getId()]=a.isVisible());let s=[];t.forEach(a=>{i.indexOf(a)>=0&&(s.push(a),Ws(i,a))}),i.forEach(a=>s.push(a));let o=[],r=e.getLeafColumns();for(let a of s)r.indexOf(a)!==-1&&o.push(a);return{columns:s,columnsInSplit:o,visibleState:n}}var z8={moduleName:"ColumnMove",version:Y,beans:[P8,w8],apiFunctions:{moveColumnByIndex:x8,moveColumns:S8},dependsOn:[ok],css:[C8]},V8=class extends O{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){let i=this.getHeaderCellForColumn(e);if(!i)return-1;let n=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||n.push(i),this.getPreferredWidthForElements(n)}getPreferredWidthForColumnGroup(e){let t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){let i=document.createElement("form");i.style.position="fixed";let n=this.centerRowContainerCtrl.eContainer;e.forEach(o=>this.cloneItemIntoDummy(o,i)),n.appendChild(i);let s=i.offsetWidth;return n.removeChild(i),t=t??this.gos.get("autoSizePadding"),s+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(i=>{let n=i.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}),t}cloneItemIntoDummy(e,t){let i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";let n=document.createElement("div"),s=n.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(s.add("ag-header","ag-header-row"),n.style.position="static"):s.add("ag-row");let r=e.parentElement;for(;r;){if(["ag-header-row","ag-row"].some(l=>r.classList.contains(l))){for(let l=0;l<r.classList.length;l++){let c=r.classList[l];c!="ag-row-position-absolute"&&s.add(c)}break}r=r.parentElement}n.appendChild(i),t.appendChild(n)}},lk={moduleName:"AutoWidth",version:Y,beans:[V8]};function G8(e,t,i=!0,n="api"){e.colResize?.setColumnWidths(t,!1,i,n)}var H8=class extends O{constructor(e,t,i,n){super(),this.comp=e,this.eResize=t,this.pinned=i,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}let{horizontalResizeSvc:e,gos:t,colAutosize:i}=this.beans,n=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(n),!t.get("suppressAutoSize")&&i&&this.addDestroyFunc(i.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){let{columnsToResize:t,resizeStartWidth:i,resizeRatios:n,groupAfterColumns:s,groupAfterStartWidth:o,groupAfterRatios:r}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=n,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=r,this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){let n=this.normaliseDragChange(t),s=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(s,i,e)}getInitialValues(e){let t=l=>l.reduce((c,d)=>c+d.getActualWidth(),0),i=(l,c)=>l.map(d=>d.getActualWidth()/c),n=this.getColumnsToResize(),s=t(n),o=i(n,s),r={columnsToResize:n,resizeStartWidth:s,resizeRatios:o},a=null;if(e&&(a=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),a){let l=a.getDisplayedLeafColumns(),c=r.groupAfterColumns=l.filter(u=>u.isResizable()),d=r.groupAfterStartWidth=t(c);r.groupAfterRatios=i(c,d)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}resizeLeafColumnsToFit(e){let t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){if(!this.resizeCols||!this.resizeRatios)return;let n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(n,e,t,i)}resizeColumns(e,t,i,n=!0){let{columnsToResize:s,resizeStartWidth:o,resizeRatios:r,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,d=[];if(d.push({columns:s,ratios:r,width:t}),a){let u=t-o;d.push({columns:a,ratios:c,width:l-u})}this.beans.colResize?.resizeColumnSets({resizeSets:d,finished:n,source:i}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},j8=class extends O{constructor(e,t,i,n,s){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=n,this.ctrl=s}postConstruct(){let e=[],t,i,n=()=>{if(Nt(this.eResize,t),!t)return;let{horizontalResizeSvc:r,colAutosize:a}=this.beans,l=r.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),i&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},s=()=>{e.forEach(r=>r()),e.length=0},o=()=>{let r=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(r!==t||a!==i)&&(t=r,i=a,s(),n())};o(),this.addDestroyFunc(s),this.ctrl.setRefreshFunction("resize",o)}onResizing(e,t){let{column:i,lastResizeAmount:n,resizeStartWidth:s,beans:o}=this,r=this.normaliseResizeAmount(t),a=s+r,l=[{key:i,newWidth:a}],{pinnedCols:c,ctrlsSvc:d,colResize:u}=o;if(this.column.getPinned()){let h=c?.leftWidth??0,p=c?.rightWidth??0,g=Dh(d.getGridBodyCtrl().eBodyViewport)-50;if(h+p+(r-n)>g)return}this.lastResizeAmount=r,u?.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e,i=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?i&&(t*=-1):n&&(t*=-1),t}},W8=class extends O{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,i,n){let s=[],{colModel:o,gos:r,visibleCols:a}=this.beans;e.forEach(l=>{let c=o.getColDefCol(l.key)||o.getCol(l.key);if(!c)return;if(s.push({width:l.newWidth,ratios:[1],columns:[c]}),r.get("colResizeDefault")==="shift"&&(t=!t),t){let u=a.getColAfter(c);if(!u)return;let h=c.getActualWidth()-l.newWidth,p=u.getActualWidth()+h;s.push({width:p,ratios:[1],columns:[u]})}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:i,source:n})}resizeColumnSets(e){let{resizeSets:t,finished:i,source:n}=e;if(!(!t||t.every(d=>U8(d)))){if(i){let d=t&&t.length>0?t[0].columns:null;Kc(this.eventSvc,d,i,n)}return}let o=[],r=[];t.forEach(d=>{let{width:u,columns:h,ratios:p}=d,g={},m={};h.forEach(y=>r.push(y));let f=!0,v=0;for(;f;){if(v++,v>1e3){ht(31);break}f=!1;let y=[],C=0,S=u;h.forEach((D,E)=>{if(m[D.getId()])S-=g[D.getId()];else{y.push(D);let I=p[E];C+=I}});let M=1/C;y.forEach((D,E)=>{let R=E===y.length-1,I;R?I=S:(I=Math.round(p[E]*u*M),S-=I);let T=D.getMinWidth(),F=D.getMaxWidth();I<T?(I=T,m[D.getId()]=!0,f=!0):F>0&&I>F&&(I=F,m[D.getId()]=!0,f=!0),g[D.getId()]=I})}h.forEach(y=>{let C=g[y.getId()];y.getActualWidth()!==C&&(y.setActualWidth(C,n),o.push(y))})});let a=o.length>0,l=[];if(a){let{colFlex:d,visibleCols:u,colViewport:h}=this.beans;l=d?.refreshFlexedColumns({resizingCols:r,skipSetLeft:!0})??[],u.setLeftValues(n),u.updateBodyWidths(),h.checkViewportColumns()}let c=r.concat(l);(a||i)&&Kc(this.eventSvc,c,i,n,l)}resizeHeader(e,t,i){if(!e.isResizable())return;let n=e.getActualWidth(),s=e.getMinWidth(),o=e.getMaxWidth(),r=Math.min(Math.max(n+t,s),o);this.setColumnWidths([{key:e,newWidth:r}],i,!0,"uiColumnResized")}createResizeFeature(e,t,i,n,s){return new j8(e,t,i,n,s)}createGroupResizeFeature(e,t,i,n){return new H8(e,t,i,n)}};function U8(e){let{columns:t,width:i}=e,n=0,s=0,o=!0;t.forEach(l=>{let c=l.getMinWidth();n+=c||0;let d=l.getMaxWidth();d>0?s+=d:o=!1});let r=i>=n,a=!o||i<=s;return r&&a}var $8={moduleName:"ColumnResize",version:Y,beans:[W8],apiFunctions:{setColumnWidths:G8},dependsOn:[b8,lk]},Y8=class extends O{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();let e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){let e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},K8=class extends nx{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,i,n,s){let{column:o,beans:r}=this,{context:a,colNames:l,colHover:c,rangeSvc:d,colResize:u}=r;this.comp=e,s=Bh(this,a,s),this.setGui(t,s),this.displayName=l.getDisplayNameForColumnGroup(o,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(s),this.setupExpandable(s),this.setupTooltip(),this.setupAutoHeight({wrapperElement:n,compBean:s}),this.setupUserComp(),this.addHeaderMouseListeners(s),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();let h=this.rowCtrl.pinned,p=o.getProvidedColumnGroup().getLeafColumns();c?.createHoverFeature(s,p,t),d?.createRangeHighlightFeature(s,o,e),s.createManagedBean(new ix(o,t,r)),s.createManagedBean(new Y8(e,o)),u?this.resizeFeature=s.createManagedBean(u.createGroupResizeFeature(e,i,h,o)):e.setResizableDisplayed(!1),s.createManagedBean(new Jc(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(s,p),s.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(s),s.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){let{column:e,beans:t}=this,i=e.getDefinition();return Se(t.gos,{colDef:i,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){let{gos:e,comp:t}=this,i=e.get("groupHeaderHeight");i!=null?i===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(i):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(let i of t)e.addManagedListeners(i,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,i)})}onLeafColumnHighlightChanged(e){let t=this.column.getDisplayedLeafColumns(),i=t[0]===e,n=yt(t)===e;if(!i&&!n)return;let s=e.getHighlighted(),o=!!this.rowCtrl.findHeaderCellCtrl(l=>l.column.isMoving()),r=!1,a=!1;if(o){let l=this.beans.gos.get("enableRtl"),c=s===1,d=s===0;i&&(l?a=c:r=d),n&&(l?r=d:a=c)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",r),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}resizeHeader(e,t){let{resizeFeature:i}=this;if(!i)return;let n=i.getInitialValues(t);i.resizeColumns(n,n.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){let{colGroupSvc:e,userCompFactory:t,gos:i}=this.beans,n=Se(i,{displayName:this.displayName,columnGroup:this.column,setExpanded:o=>{e.setColumnGroupOpened(this.column.getProvidedColumnGroup(),o,"gridInitializing")},setTooltip:(o,r)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,r)}}),s=eH(t,n);s&&this.comp.setUserCompDetails(s)}addHeaderMouseListeners(e){let t=s=>this.handleMouseOverChange(s.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),n=s=>this.handleContextMenuMouseEvent(s,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:i,contextmenu:n})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){let t=this.column.getProvidedColumnGroup();this.refreshExpanded();let i=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:i,expandableChanged:i})}refreshExpanded(){let{column:e}=this;this.expandable=e.isExpandable();let t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){let{column:e}=this,t=e.getColGroupDef(),i=EA(t,this.gos,null,e);e.isPadding()?(i.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(s=>s.isSpanHeaderHeight())&&i.push("ag-header-span-height")):(i.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&i.push("ag-header-cell-wrap-text")),i.forEach(n=>this.comp.addOrRemoveCssClass(n,!0))}setupMovingCss(e){let{column:t}=this,n=t.getProvidedColumnGroup().getLeafColumns(),s=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",t.isMoving());n.forEach(o=>{e.addManagedListeners(o,{movingChanged:s})}),s()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===L.ENTER){let i=this.column,n=!i.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(i.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function Z8(e,t,i){e.colGroupSvc?.setColumnGroupOpened(t,i,"api")}function q8(e,t,i){return e.colGroupSvc?.getColumnGroup(t,i)??null}function X8(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function Q8(e,t,i){return e.colNames.getDisplayNameForColumnGroup(t,i)||""}function J8(e){return e.colGroupSvc?.getColumnGroupState()??[]}function eW(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function tW(e){e.colGroupSvc?.resetColumnGroupState("api")}function iW(e){return e.visibleCols.treeLeft}function nW(e){return e.visibleCols.treeCenter}function sW(e){return e.visibleCols.treeRight}function oW(e){return e.visibleCols.getAllTrees()}function rW(e,t){for(let i=0;i<t.length;i++){let n=e.indexOf(t[i]);n>=0&&(e[n]=e[e.length-1],e.pop())}}var aW=class extends O{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){let{colModel:i,colGroupSvc:n,colViewport:s}=this.beans;t||this.buildTrees(i,n),n?.updateOpenClosedVisibility();let o=X0(this.treeLeft);this.leftCols=o,this.centerCols=X0(this.treeCenter);let r=X0(this.treeRight);this.rightCols=r,this.joinColsAriaOrder(i),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),this.beans.colFlex?.refreshFlexedColumns(),this.updateBodyWidths(),s.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(i,o,r,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){let e=$o(this.centerCols),t=$o(this.leftCols),i=$o(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,i,n){let s,o;this.gos.get("enableRtl")?(s=t?t[0]:null,o=i?yt(i):null):(s=t?yt(t):null,o=i?i[0]:null),e.getCols().forEach(r=>{r.setLastLeftPinned(r===s,n),r.setFirstRightPinned(r===o,n)})}buildTrees(e,t){let i=e.getColsToShow(),n=i.filter(l=>l.getPinned()=="left"),s=i.filter(l=>l.getPinned()=="right"),o=i.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),r=new CA,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:n,idCreator:r,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:s,idCreator:r,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:o,idCreator:r,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){let t=e.getCols(),i=[],n=[],s=[];for(let o of t){let r=o.getPinned();r?r===!0||r==="left"?i.push(o):s.push(o):n.push(o)}this.ariaOrderColumns=i.concat(n).concat(s)}getAriaColIndex(e){let t;return jt(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{jt(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){let{colModel:t}=this.beans;if(!t.getColDefCols())return;let n=t.getCols().slice(0),s=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(o=>{if(s){let r=$o(o);o.forEach(a=>{r-=a.getActualWidth(),a.setLeft(r,e)})}else{let r=0;o.forEach(a=>{a.setLeft(r,e),r+=a.getActualWidth()})}rW(n,o)}),n.forEach(o=>{o.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){let{leftCols:t,beans:{colModel:i}}=this;return i.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){let{rightCols:t,beans:{colModel:i}}=this;return i.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,i,n){let s=[],o=null;for(let r=0;r<t.length;r++){let a=t[r],l=t.length-r,c=Math.min(a.getColSpan(e),l),d=[a];if(c>1){let h=c-1;for(let p=1;p<=h;p++)d.push(t[r+p]);r+=h}let u;i?(u=!1,d.forEach(h=>{i(h)&&(u=!0)})):u=!0,u&&(s.length===0&&o&&(n&&n(a))&&s.push(o),s.push(a)),o=a}return s}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){let t=this.allCols,i=t.indexOf(e);return i>0?t[i-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};let e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};al(this.treeCenter,!1,e),al(this.treeLeft,!1,e),al(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){let e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){let n=this[t[i]];if(n.length)return e?yt(n):n[0]}return null}getColAfter(e){let t=this.allCols,i=t.indexOf(e);return i<t.length-1?t[i+1]:null}getColsLeftWidth(){return $o(this.leftCols)}getDisplayedColumnsRightWidth(){return $o(this.rightCols)}isColAtEdge(e,t){let i=this.allCols;if(!i.length)return!1;let n=t==="first",s;if(jt(e)){let o=e.getDisplayedLeafColumns();if(!o.length)return!1;s=n?o[0]:yt(o)}else s=e;return(n?i[0]:yt(i))===s}};function al(e,t,i){if(e)for(let n=0;n<e.length;n++){let s=e[n];if(jt(s)){let o=t?s.getDisplayedChildren():s.getChildren();al(o,t,i)}i(s)}}function X0(e){let t=[];return al(e,!0,i=>{ia(i)&&t.push(i)}),t}var lW=class extends O{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){let e=[],t=this.beans.colModel.getColTree();return Xo(null,t,i=>{ln(i)&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}resetColumnGroupState(e){let t=this.beans.colModel.getColDefColTree();if(!t)return;let i=[];Xo(null,t,n=>{if(ln(n)){let s=n.getColGroupDef(),o={groupId:n.getGroupId(),open:s?s.openByDefault:void 0};i.push(o)}}),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){let{colModel:i,colAnimation:n,visibleCols:s,eventSvc:o}=this.beans;if(!i.getColTree().length)return;n?.start();let a=[];e.forEach(l=>{let c=l.groupId,d=l.open,u=this.getProvidedColGroup(c);u&&u.isExpanded()!==d&&(u.setExpanded(d),a.push(u))}),s.refresh(t,!0),a.length&&o.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),n?.finish()}setColumnGroupOpened(e,t,i){let n;ln(e)?n=e.getId():n=e||"",this.setColumnGroupState([{groupId:n,open:t}],i)}getProvidedColGroup(e){let t=null;return Xo(null,this.beans.colModel.getColTree(),i=>{ln(i)&&i.getId()===e&&(t=i)}),t}getGroupAtDirection(e,t){let i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),s=t==="After"?yt(n):n[0],o=`getCol${t}`;for(;;){let r=this.beans.visibleCols[o](s);if(!r)return null;let a=this.getColGroupAtLevel(r,i);if(a!==e)return a}}getColGroupAtLevel(e,t){let i=e.getParent(),n,s;for(;n=i.getProvidedColumnGroup().getLevel(),s=i.getPaddingLevel(),!(n+s<=t);)i=i.getParent();return i}updateOpenClosedVisibility(){let e=this.beans.visibleCols.getAllTrees();al(e,!1,t=>{jt(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(jt(e))return e;let i=this.beans.visibleCols.getAllTrees(),n=typeof t=="number",s=null;return al(i,!1,o=>{if(jt(o)){let r=o,a;n?a=e===r.getGroupId()&&t===r.getPartId():a=e===r.getGroupId(),a&&(s=r)}}),s}createColumnGroups(e){let{columns:t,idCreator:i,pinned:n,oldDisplayedGroups:s,isStandaloneStructure:o}=e,r=this.mapOldGroupsById(s),a=[],l=t;for(;l.length;){let c=l;l=[];let d=0,u=h=>{let p=d;d=h;let g=c[p],f=(jt(g)?g.getProvidedColumnGroup():g).getOriginalParent();if(f==null){for(let y=p;y<h;y++)a.push(c[y]);return}let v=this.createColumnGroup(f,i,r,n,o);for(let y=p;y<h;y++)v.addChild(c[y]);l.push(v)};for(let h=1;h<c.length;h++){let p=c[h],m=(jt(p)?p.getProvidedColumnGroup():p).getOriginalParent(),f=c[d],y=(jt(f)?f.getProvidedColumnGroup():f).getOriginalParent();m!==y&&u(h)}d<c.length&&u(c.length)}return o||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,i,n,s,o,r){let a=s.getUniqueKey(t.groupId||null,null),l=this.createMergedColGroupDef(t,a),c=new hf(l,a,!1,i);this.createBean(c);let d=this.findExistingGroup(t,o);d&&o.splice(d.idx,1);let u=d?.group;u&&c.setExpanded(u.isExpanded());let h=hA(this.beans,l.children,i+1,e,n,s,o,r);return c.setChildren(h),c}balanceColumnTree(e,t,i,n){let s=[];for(let o=0;o<e.length;o++){let r=e[o];if(ln(r)){let a=r,l=this.balanceColumnTree(a.getChildren(),t+1,i,n);a.setChildren(l),s.push(a)}else{let a,l;for(let c=i-1;c>=t;c--){let d=n.getUniqueKey(null,null),u=this.createMergedColGroupDef(null,d),h=new hf(u,d,!0,t);this.createBean(h),l&&l.setChildren([h]),l=h,a||(a=l)}if(a&&l)if(s.push(a),e.some(d=>ln(d))){l.setChildren([r]);continue}else{l.setChildren(e);break}s.push(r)}}return s}findDepth(e){let t=0,i=e;for(;i&&i[0]&&ln(i[0]);)t++,i=i[0].getChildren();return t}findMaxDepth(e,t){let i=t;for(let n=0;n<e.length;n++){let s=e[n];if(ln(s)){let o=s,r=this.findMaxDepth(o.getChildren(),t+1);i<r&&(i=r)}}return i}balanceTreeForAutoCols(e,t){let i=[];return e.forEach(n=>{let s=n;for(let o=t-1;o>=0;o--){let r=new hf(null,`FAKE_PATH_${n.getId()}}_${o}`,!0,o);this.createBean(r),r.setChildren([s]),s.originalParent=r,s=r}t===0&&(n.originalParent=null),i.push(s)}),i}createMergedColGroupDef(e,t){let i={},{gos:n,validation:s}=this.beans;return Object.assign(i,n.get("defaultColGroupDef")),Object.assign(i,e),s?.validateColDef(i,t),i}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){let s=t[n];if(s.getColGroupDef()&&s.getId()===e.groupId)return{idx:n,group:s}}}createColumnGroup(e,t,i,n,s){let o=e.getGroupId(),r=t.getInstanceIdForKey(o),a=PA(o,r),l=i[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),U(l)?l.reset():(l=new OA(e,o,r,n),s||this.createBean(l)),l}mapOldGroupsById(e){let t={},i=n=>{n.forEach(s=>{if(jt(s)){let o=s;t[s.getUniqueId()]=o,i(o.getChildren())}})};return e&&i(e),t}setupParentsIntoCols(e,t){e.forEach(i=>{if(i.parent=t,jt(i)){let n=i;this.setupParentsIntoCols(n.getChildren(),n)}})}},cW={moduleName:"ColumnGroup",version:Y,dynamicBeans:{headerGroupCellCtrl:K8},beans:[lW],apiFunctions:{getAllDisplayedColumnGroups:oW,getCenterDisplayedColumnGroups:nW,getColumnGroup:q8,getColumnGroupState:J8,getDisplayNameForColumnGroup:Q8,getLeftDisplayedColumnGroups:iW,getProvidedColumnGroup:X8,getRightDisplayedColumnGroups:sW,resetColumnGroupState:tW,setColumnGroupOpened:Z8,setColumnGroupState:eW}},dW={moduleName:"CheckboxCellRenderer",version:Y,userComponents:{agCheckboxCellRenderer:pj}};function uW(e,t){let i=e.colModel.getColDefCol(t);return i?i.getColDef():null}function hW(e){return e.colModel.getColumnDefs()}function pW(e,t,i){return e.colNames.getDisplayNameForColumn(t,i)||""}function gW(e,t){return e.colModel.getColDefCol(t)}function mW(e){return e.colModel.getColDefCols()}function fW(e,t){return ms(e,t,"api")}function vW(e){return kh(e)}function yW(e){_6(e,"api")}function bW(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function CW(e){return e.visibleCols.isPinningLeft()}function wW(e){return e.visibleCols.isPinningRight()}function xW(e,t){return e.visibleCols.getColAfter(t)}function SW(e,t){return e.visibleCols.getColBefore(t)}function MW(e,t,i){e.colModel.setColsVisible(t,i,"api")}function DW(e,t,i){e.pinnedCols?.setColsPinned(t,i,"api")}function _W(e){return e.colModel.getCols()}function EW(e){return e.visibleCols.leftCols}function IW(e){return e.visibleCols.centerCols}function RW(e){return e.visibleCols.rightCols}function AW(e){return e.visibleCols.allCols}function kW(e){return e.colViewport.getViewportColumns()}function _w(e,t){if(!e)return;let i=e,n={};return Object.keys(i).forEach(s=>{if(t&&t.indexOf(s)>=0||aA.has(s))return;let o=i[s];typeof o=="object"&&o!==null&&o.constructor===Object?n[s]=_w(o):n[s]=o}),n}var TW=class extends O{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,i,n){let s=e.slice();t?s.sort((a,l)=>i.indexOf(a)-i.indexOf(l)):i&&s.sort((a,l)=>n.indexOf(a)-n.indexOf(l));let o=this.rowGroupColsSvc?.columns,r=this.pivotColsSvc?.columns;return this.buildColumnDefs(s,o,r)}buildColumnDefs(e,t=[],i=[]){let n=[],s={};return e.forEach(o=>{let r=this.createDefFromColumn(o,t,i),a=!0,l=r,c=o.getOriginalParent(),d=null;for(;c;){let u=null;if(c.isPadding()){c=c.getOriginalParent();continue}let h=s[c.getGroupId()];if(h){h.children.push(l),a=!1;break}if(u=this.createDefFromGroup(c),u&&(u.children=[l],s[u.groupId]=u,l=u,c=c.getOriginalParent()),c!=null&&d===c){a=!1;break}d=c}a&&n.push(l)}),n}createDefFromGroup(e){let t=_w(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){let n=_w(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?i.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}},LW=class extends O{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){let t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);let i=this.flexViewportWidth;if(!i)return[];let{visibleCols:n}=this.beans,s=n.centerCols,o=-1;if(e.resizingCols){let g=new Set(e.resizingCols);for(let m=s.length-1;m>=0;m--)if(g.has(s[m])){o=m;break}}let r=!1,a=s.map((g,m)=>{let f=g.getFlex(),v=f!=null&&f>0&&m>o;return r||(r=v),{col:g,isFlex:v,flex:Math.max(0,f??0),initialSize:g.getActualWidth(),min:g.getMinWidth(),max:g.getMaxWidth(),targetSize:0}});if(!r)return[];let l=a.length,c=a.reduce((g,m)=>g+m.flex,0),d=i,u=(g,m)=>{g.frozenSize=m,g.col.setActualWidth(m,t),d-=m,c-=g.flex,l-=1},h=g=>g.frozenSize!=null;for(let g of a)g.isFlex||u(g,g.initialSize);for(;l>0;){let g=Math.round(c<1?d*c:d),m,f=0,v=0;for(let S of a){if(h(S))continue;m=S,v+=g*(S.flex/c);let M=v-f,D=Math.round(M);S.targetSize=D,f+=D}m&&(m.targetSize+=g-f);let y=0;for(let S of a){if(h(S))continue;let M=S.targetSize,D=Math.min(Math.max(M,S.min),S.max);y+=D-M,S.violationType=D===M?void 0:D<M?"max":"min",S.targetSize=D}let C=y===0?"all":y>0?"min":"max";for(let S of a)h(S)||(C==="all"||S.violationType===C)&&u(S,S.targetSize)}e.skipSetLeft||n.setLeftValues(t),e.updateBodyWidths&&n.updateBodyWidths();let p=a.filter(g=>g.isFlex&&!g.violationType).map(g=>g.col);if(e.fireResizedEvent){let g=a.filter(f=>f.initialSize!==f.frozenSize).map(f=>f.col),m=a.filter(f=>f.flex).map(f=>f.col);Kc(this.eventSvc,g,!0,t,m)}return p}initCol(e){let{flex:t,initialFlex:i}=e.colDef;t!==void 0?e.flex=t:i!==void 0&&(e.flex=i)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},FW=class extends O{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){let e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;let i={};this.formatValueFuncs=i;let n=r=>a=>{let{column:l,node:c,value:d}=a,u=l.getColDef().valueFormatter;return u===r.groupSafeValueFormatter&&(u=r.valueFormatter),this.beans.valueSvc.formatValue(l,c,d,u)};for(let r of Object.keys(e)){let a=e[r],l=A(w({},a),{groupSafeValueFormatter:sR(a,this.gos)});t[r]=l,i[r]=n(l)}let s=this.gos.get("dataTypeDefinitions")??{},o={};this.dataTypeMatchers=o;for(let r of Object.keys(s)){let a=s[r],l=this.processDataTypeDefinition(a,s,[r],e);l&&(t[r]=l,a.dataTypeMatcher&&(o[r]=a.dataTypeMatcher),i[r]=n(l))}this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(r=>{let a=o[r];a&&delete o[r],o[r]=a??e[r].dataTypeMatcher})}processDataTypeDefinition(e,t,i,n){let s,o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let r=n[o],a=t[o];if(r&&a&&(r=a),!nR(e,r,o))return;s=iR(r,e)}else{if(i.includes(o)){z(44);return}let r=t[o];if(!nR(e,r,o))return;let a=this.processDataTypeDefinition(r,t,[...i,o],n);if(!a)return;s=iR(a,e)}return A(w({},s),{groupSafeValueFormatter:sR(s,this.gos)})}updateColDefAndGetColumnType(e,t,i){let{cellDataType:n}=t,{field:s}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(s,i):!1),!n){e.cellDataType=!1;return}let o=this.dataTypeDefinitions[n];if(!o){z(47,{cellDataType:n});return}return e.cellDataType=n,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,o,i),o.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;let t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;let i=n=>{t.add(n.key)};e.__addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",i))}canInferCellDataType(e,t){let{gos:i}=this;if(!cn(i))return!1;let n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(Q0(t,n))return!1;let s=t.type===null?e.type:t.type;if(s){let o=i.get("columnTypes")??{};if(Ef(s).some(a=>{let l=o[a.trim()];return l&&Q0(l,n)}))return!1}return!Q0(e,n)}inferCellDataType(e,t){if(!e)return;let i,n=this.getInitialData();if(n){let s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=vh(n,e,s)}else this.initWaitForRowData(t);if(i!=null)return Object.keys(this.dataTypeMatchers).find(s=>this.dataTypeMatchers[s](i))??"object"}getInitialData(){let e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{let t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;let t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:i,eventSvc:n}=this.beans;t&&i&&(i.shouldQueueResizeOperations=!0);let[s]=this.addManagedEventListeners({rowDataUpdateStarted:o=>{let{firstRowData:r}=o;r&&(s?.(),this.isPendingInference=!1,this.processColumnsPendingInference(r,t),this.columnStateUpdatesPendingInference={},t&&i?.processResizeOperations(),n.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;let i=[];this.destroyColumnStateUpdateListeners();let n={},s={};for(let o of Object.keys(this.columnStateUpdatesPendingInference)){let r=this.columnStateUpdatesPendingInference[o],a=this.colModel.getCol(o);if(!a)return;let l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;let c=a.getColDef();if(t&&c.type&&c.type!==l.type){let d=OW(a,r);d.rowGroup&&d.rowGroupIndex==null&&(n[o]=d),d.pivot&&d.pivotIndex==null&&(s[o]=d),i.push(d)}}t&&i.push(...this.generateColumnStateForRowGroupAndPivotIndexes(n,s)),i.length&&ms(this.beans,{state:i},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){let i={},{rowGroupColsSvc:n,pivotColsSvc:s}=this.beans;return n?.restoreColumnOrder(i,e),s?.restoreColumnOrder(i,t),Object.values(i)}resetColDefIntoCol(e,t){let i=e.getUserProvidedColDef();if(!i)return!1;let n=bw(this.beans,i,e.getColId());return e.setColDef(n,i,t),!0}checkObjectValueHandlers(e){let t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(e){let{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){let t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;let i=this.getDataTypeDefinition(e)?.dataTypeMatcher;return i?i(t):!0}validateColDef(e){let t=i=>z(48,{property:i});if(e.cellDataType==="object"){let{object:i}=this.dataTypeDefinitions;e.valueFormatter===i.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===i.valueParser&&!this.hasObjectValueParser&&t("Parser")}}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,i,n){let s=this.formatValueFuncs[t];switch(i.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=o=>!!o.colDef.editable&&o.event.key===L.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=s;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=s;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(o,r)=>{let a=this.colModel.getColDefCol(n),l=a?.getColDef();if(!a||!l)return 0;let c=o==null?"":s({column:a,node:null,value:o}),d=r==null?"":s({column:a,node:null,value:r});return c===d?0:c>d?1:-1},e.keyCreator=s;break}}this.beans.filterManager?.setColDefPropertiesForDataType(e,i,s)}getDefaultDataTypes(){let e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>i.newValue?.trim?.()===""?null:Number(i.newValue),valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:hw(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>i.newValue==null?i.newValue:i.newValue?.trim?.()===""?null:String(i.newValue).toLowerCase()==="true",valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>In(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):fs(i.value,!1)??"",dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>In(i)??void 0,dateFormatter:i=>fs(i??null,!1)??void 0,valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>hw(i.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function iR(e,t){let i=w(w({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...Ef(e.columnTypes),...Ef(t.columnTypes)]),i}function nR(e,t,i){return t?t.baseDataType!==e.baseDataType?(z(46),!1):!0:(z(45,{parentCellDataType:i}),!1)}function sR(e,t){if(e.valueFormatter)return i=>{if(i.node?.group){let n=(i.colDef.pivotValueColumn??i.column).getAggFunc();if(n){if(n==="first"||n==="last")return e.valueFormatter(i);if(e.baseDataType==="number"&&n!=="count"){if(typeof i.value=="number")return e.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return e.valueFormatter(A(w({},i),{value:i.value.toNumber()}));if("value"in i.value)return e.valueFormatter(A(w({},i),{value:i.value.value}))}}return}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return}else if(t.get("groupHideOpenParents")&&i.column.isRowGroupActive()&&typeof i.value=="string"&&!e.dataTypeMatcher?.(i.value))return;return e.valueFormatter(i)}}function PW(e,t,i,n){if(!t[i])return!1;let s=e[i];return s===null?(t[i]=!1,!1):n===void 0?!!s:s===n}function Q0(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,n])=>PW(e,t,i,n))}function OW(e,t){let i=bA(e);return t.forEach(n=>{delete i[n],n==="rowGroup"?delete i.rowGroupIndex:n==="pivot"&&delete i.pivotIndex}),i}var NW={moduleName:"DataType",version:Y,beans:[FW],dependsOn:[dW]},BW={moduleName:"ColumnFlex",version:Y,beans:[LW]},zW={moduleName:"ColumnApi",version:Y,beans:[TW],apiFunctions:{getColumnDef:uW,getDisplayNameForColumn:pW,getColumn:gW,getColumns:mW,applyColumnState:fW,getColumnState:vW,resetColumnState:yW,isPinning:bW,isPinningLeft:CW,isPinningRight:wW,getDisplayedColAfter:xW,getDisplayedColBefore:SW,setColumnsVisible:MW,setColumnsPinned:DW,getAllGridColumns:_W,getDisplayedLeftColumns:EW,getDisplayedCenterColumns:IW,getDisplayedRightColumns:RW,getAllDisplayedColumns:AW,getAllDisplayedVirtualColumns:kW,getColumnDefs:hW}};function VW(e){if(!e||e==null)return null;let t=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(s=>s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")).join(" ")}var GW=class extends O{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;let n=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:s}=this.beans;return i&&s?s.getHeaderName(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,i){let n=t?.getColGroupDef();return n?this.getHeaderName(n,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,n,s){let o=e.headerValueGetter;if(o){let r=Se(this.gos,{colDef:e,column:t,columnGroup:i,providedColumnGroup:n,location:s});return typeof o=="function"?o(r):typeof o=="string"?this.beans.expressionSvc?.evaluate(o,r)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return VW(e.field)}return""}},HW=class extends O{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,i=!1){let{visibleCols:n}=this,s=n.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!s)){if(this.scrollWidth=e,this.scrollPosition=t,n.isBodyWidthDirty=!0,this.gos.get("enableRtl")){let r=n.bodyWidth;this.viewportLeft=r-t-e,this.viewportRight=r-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(i)}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t];break}return i||[]}extractViewportColumns(){let e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||jW(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;let t=e.getLeft()||0,i=t+e.getActualWidth(),n=this.viewportLeft-200,s=this.viewportRight+200,o=t<n&&i<n,r=t>s&&i>s;return!o&&!r}getViewportColumns(){let{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;let t=o=>{let r=o.getLeft();return U(r)&&r>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:n}=this,s=n.centerCols;return n.getColsForRow(e,s,i,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);let e={},{leftCols:t,rightCols:i,treeLeft:n,treeRight:s,treeCenter:o}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(i).forEach(l=>e[l.getId()]=!0);let a=(l,c,d)=>{let u=!1;for(let h=0;h<l.length;h++){let p=l[h],g=!1;if(ia(p))g=e[p.getId()]===!0;else{let f=p.getDisplayedChildren();f&&(g=a(f,c,d+1))}g&&(u=!0,c[d]||(c[d]=[]),c[d].push(p))}return u};a(n,this.rowsOfHeadersToRenderLeft,0),a(s,this.rowsOfHeadersToRenderRight,0),a(o,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){let e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();let t=this.getViewportColumns().map(e).join("#"),i=this.colsWithinViewportHash!==t;return i&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),i}};function jW(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var WW=class extends O{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class i{refresh(){return!1}getGui(){return this.eGui}init(s){let o=t(s),r=typeof o;if(r==="string"||r==="number"||r==="boolean"){this.eGui=_h("<span>"+o+"</span>");return}if(o==null){this.eGui=_h("<span></span>");return}this.eGui=o}}return i}},UW={moduleName:"CellRendererFunction",version:Y,beans:[WW]},$W=class extends O{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){let e=this.gos.get("components");if(e!=null)for(let t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){let{icons:t,userComponents:i,dynamicBeans:n,selectors:s}=e;if(i){let o=(r,a,l)=>{this.agGridDefaults[r]=a,l&&(this.agGridDefaultParams[r]=l)};for(let r of Object.keys(i)){let a=i[r];typeof a=="object"?o(r,a.classImp,a.params):o(r,a)}}if(n)for(let o of Object.keys(n))this.dynamicBeans[o]=n[o];if(s?.forEach(o=>{this.selectors[o.selector]=o}),t)for(let o of Object.keys(t))this.icons[o]=t[o]}getUserComponent(e,t){let i=(a,l,c)=>({componentFromFramework:l,component:a,params:c}),{frameworkOverrides:n}=this.beans,s=n.frameworkComponent(t,this.gos.get("components"));if(s!=null)return i(s,!0);let o=this.jsComps[t];if(o){let a=n.isFrameworkComponent(o);return i(o,a)}let r=this.agGridDefaults[t];return r?i(r,!1,this.agGridDefaultParams[t]):(this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null)}createDynamicBean(e,t,...i){let n=this.dynamicBeans[e];if(n==null){if(t)throw new Error(ea(256));return}return new n(...i)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},YW=23,KW=class extends O{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){let e=Object.values(this.params);this.ready=e.length===YW&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{let i=this.readyCallbacks.indexOf(t);i>=0&&this.readyCallbacks.splice(i,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){let{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){let t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},ZW=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom,.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-floating-bottom{border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row-hover.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',cx=typeof window!="object"||!window?.document?.fonts?.forEach,Ew=new WeakMap,Xc=(e,t,i,n,s)=>{if(cx||Rw)return;n&&(e=`@layer ${CSS.escape(n)} { ${e} }`);let o=Ew.get(t);if(o||(o=[],Ew.set(t,o)),o.find(c=>c.css===e))return;let r=document.createElement("style");r.dataset.agGlobalCss=i,r.textContent=e;let a={css:e,el:r,priority:s},l;for(let c of o){if(c.priority>s)break;l=c}if(l){l.el.insertAdjacentElement("afterend",r);let c=o.indexOf(l);o.splice(c+1,0,a)}else t.insertBefore(r,t.querySelector(":not(title, meta)")),o.push(a)},ck=(e,t)=>{Xc(ZW,e,"core",t,0),Array.from(wH()).sort((i,n)=>i.moduleName.localeCompare(n.moduleName)).forEach(i=>i.css?.forEach(n=>Xc(n,e,`module-${i.moduleName}`,t,0)))},Iw=new Set,qW=e=>{Iw.add(e)},XW=e=>{if(Iw.delete(e),Iw.size===0){Ew=new WeakMap;for(let t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},er=e=>new dk(e),Qr="$default",QW=0,dk=class{constructor({feature:e,params:t,modeParams:i={},css:n,cssImports:s}){this.feature=e,this.css=n,this.cssImports=s,this.modeParams=w({[Qr]:w(w({},i[Qr]??{}),t??{})},i)}use(e,t){let i=this._inject;if(i==null){let{css:n}=this;if(n){let s=`ag-theme-${this.feature??"part"}-${++QW}`;typeof n=="function"&&(n=n()),n=`:where(.${s}) {
${n}
}
`;for(let o of this.cssImports??[])n=`@import url(${JSON.stringify(o)});
${n}`;i={css:n,class:s}}else i=!1;this._inject=i}return i&&e&&Xc(i.css,e,i.class,t,1),i?i.class:!1}},JW=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),uk=e=>`--ag-${JW(e)}`,yo=e=>`var(${uk(e)})`,eU=(e,t,i)=>Math.max(t,Math.min(i,e)),tU=e=>{let t=new Map;return i=>{let n=i;return t.has(n)||t.set(n,e(i)),t.get(n)}},mo=e=>({ref:"accentColor",mix:e}),us=e=>({ref:"foregroundColor",mix:e}),Hs=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),iU=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Gs={ref:"backgroundColor"},J0={ref:"foregroundColor"},Jr={ref:"accentColor"},Of={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:us(.15),chromeBackgroundColor:Hs(.02),browserColorScheme:"light"},nU=A(w({},Of),{textColor:J0,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Gs,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:Jr,rangeSelectionBackgroundColor:mo(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:mo(.5),rangeHeaderHighlightColor:iU(.08),rowNumbersSelectedColor:mo(.5),rowHoverColor:mo(.08),columnHoverColor:mo(.05),selectedRowBackgroundColor:mo(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Gs,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Gs,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:us(.7),focusShadow:{spread:3,color:mo(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:us(.1),iconButtonActiveColor:Jr,iconButtonActiveBackgroundColor:mo(.28),iconButtonActiveIndicatorColor:Jr,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Jr,toggleButtonOffBackgroundColor:Hs(.3),toggleButtonSwitchBackgroundColor:Gs,toggleButtonSwitchInset:2,menuBorder:{color:us(.2)},menuBackgroundColor:Hs(.03),menuTextColor:Hs(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:us(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:Jr},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:us(.2)},panelBackgroundColor:Gs,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:us(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:us(.13)},selectCellBackgroundColor:us(.07),selectCellBorder:{color:us(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:us(.15),statusBarLabelColor:J0,statusBarLabelFontWeight:500,statusBarValueColor:J0,statusBarValueFontWeight:500}),sU=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",oU={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}};var rU=()=>er({feature:"buttonStyle",params:A(w({},oU),{buttonBackgroundColor:Gs,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:Jr}}),css:sU}),aU=rU();var lU=".ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}";var cU=()=>er({feature:"columnDropStyle",css:lU}),hk=cU();var dU=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],uU=tU(e=>(e=e.toLowerCase(),dU.find(t=>e.endsWith(t.toLowerCase()))??"length")),jf=e=>typeof e=="object"&&e?.ref?yo(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,dx=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){let t=yo(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?yo(e.onto):"transparent"}, ${t} ${eU(e.mix*100,0,100)}%)`}return!1},hU=jf,Oc=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,i=>i[0]==="-"?i:` ${yo(i)} `)})`:e&&"ref"in e?yo(e.ref):!1,pU=jf,gU=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?yo(e.ref):pk(e.style??"solid")+" "+Oc(e.width??1)+" "+dx(e.color??{ref:"borderColor"}),mU=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?yo(e.ref):[Oc(e.offsetX??0),Oc(e.offsetY??0),Oc(e.radius??0),Oc(e.spread??0),dx(e.color??{ref:"foregroundColor"})].join(" "),pk=jf,gk=e=>typeof e=="string"?e:e&&"googleFont"in e?gk(e.googleFont):e&&"ref"in e?yo(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),fU(t))).join(", "):!1,fU=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),vU=jf,mk=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?mk({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?yo(e.ref):!1,yU=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&ht(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?yo(e.ref):!1,bU={color:dx,colorScheme:hU,length:Oc,scale:pU,border:gU,borderStyle:pk,shadow:mU,image:mk,fontFamily:gk,fontWeight:vU,duration:yU},CU=(e,t)=>{let i=uU(e);return bU[i](t,e)},Rw=!1;var wU=()=>new fk().withPart(aU).withPart(hk),fk=class vk{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof dk?new vk([...this.parts,t]):(gw(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(er({feature:t}))}withParams(t,i=Qr){return this.withPart(er({modeParams:{[i]:t}}))}_startUse({styleContainer:t,cssLayer:i,loadThemeGoogleFonts:n}){if(cx||Rw)return;SU(),ck(t,i);let s=xU(this);if(s.length>0)for(let o of s)n&&DU(o);for(let o of this.parts)o.use(t,i)}_getCssClass(){return Rw?"ag-theme-quartz":this._cssClassCache??(this._cssClassCache=oR(this.parts).map(t=>t.use(void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){let i={[Qr]:w({},nU)};for(let n of oR(this.parts))for(let s of Object.keys(n.modeParams)){let o=n.modeParams[s];if(o){let r=i[s]??(i[s]={}),a=new Set;for(let l of Object.keys(o)){let c=o[l];c!==void 0&&(r[l]=c,a.add(l))}if(s===Qr)for(let l of Object.keys(i)){let c=i[l];if(l!==Qr)for(let d of a)delete c[d]}}}this._paramsCache=t=i}return t}_getPerGridCss(t){let i="##SELECTOR##",n=this._paramsCssCache;if(!n){let s="",o="",r=this._getModeParams();for(let l of Object.keys(r)){let c=r[l];if(l!==Qr){let u=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;s+=u,o+=u}for(let d of Object.keys(c).sort()){let u=c[d],h=CU(d,u);if(h===!1)ht(107,{key:d,value:u});else{let p=uk(d),g=p.replace("--ag-","--ag-inherited-");s+=`	${p}: var(${g}, ${h});
`,o+=`	${g}: var(${p});
`}}l!==Qr&&(s+=`}
`,o+=`}
`)}let a=`${i} {
${s}}
`;a+=`:has(> ${i}):not(${i}) {
${o}}
`,this._paramsCssCache=n=a}return n.replaceAll(i,`:where(.${t})`)}},oR=e=>{let t=new Map;for(let n of e)t.set(n.feature,n);let i=[];for(let n of e)(!n.feature||t.get(n.feature)===n)&&i.push(n);return i},xU=e=>{let t=new Set,i=o=>{if(Array.isArray(o))o.forEach(i);else{let r=o?.googleFont;typeof r=="string"&&t.add(r)}};return Object.values(e._getModeParams()).flatMap(o=>Object.values(o)).forEach(i),Array.from(t).sort()},rR=!1,SU=()=>{if(!rR){rR=!0;for(let e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},MU=new Set,DU=e=>Pe(void 0,null,function*(){MU.add(e);let t=`@import url('https://${_U}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Xc(t,document.head,`googleFont:${e}`,void 0,0)}),_U="fonts.googleapis.com",EU='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',IU=()=>er({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Gs,checkboxUncheckedBorderColor:Hs(.3),checkboxCheckedBackgroundColor:Jr,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Gs,checkboxIndeterminateBackgroundColor:Hs(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Gs,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:EU}),RU=IU();var yk=()=>A(w({},Of),{backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Hs(.05),rowHoverColor:mo(.15),selectedRowBackgroundColor:mo(.2),menuBackgroundColor:Hs(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",checkboxUncheckedBorderColor:Hs(.4),toggleButtonOffBackgroundColor:Hs(.4)});var AU=()=>A(w({},yk()),{backgroundColor:"#1f2836"});var kU=()=>er({feature:"colorScheme",params:Of,modeParams:{light:Of,dark:yk(),"dark-blue":AU()}}),TU=kU();var bk={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},Ck={"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>'},LU=(e={})=>{let t="";for(let i of[...Object.keys(bk),...Object.keys(Ck)]){let n=FU(i,e.strokeWidth);t+=`.ag-icon-${i}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(n)}'); }
`}return t},FU=(e,t=1.5)=>{let i=Ck[e];if(i)return i;let n=bk[e];if(!n)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+n+"</svg>"},PU=(e={})=>er({feature:"iconSet",css:()=>LU(e)});var OU=PU();var NU=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}:where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',BU=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){&:focus{box-shadow:var(--ag-focus-shadow)}}";var zU={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}};var VU=()=>er({feature:"inputStyle",params:A(w({},zU),{inputBackgroundColor:Gs,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:Jr},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Hs(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0}),css:()=>NU+BU}),GU=VU();var HU='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}';var jU={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1};var WU=()=>er({feature:"tabStyle",params:A(w({},jU),{tabBarBorder:!0,tabBarBackgroundColor:us(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Gs}),css:HU}),UU=WU();var $U=()=>wU().withPart(RU).withPart(TU).withPart(OU).withPart(UU).withPart(GU).withPart(hk).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),YU=$U();var aR={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},lR={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},cR={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},ew={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},KU=0,ZU=class extends O{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++KU}`,this.globalCSS=[]}wireBeans(e){let{eGridDiv:t,gridOptions:i}=e;this.eGridDiv=t,this.eStyleContainer=i.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=i.themeCssLayer}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(aR),this.getSizeEl(lR),this.getSizeEl(cR),this.getSizeEl(ew),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>XW(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getDefaultRowHeight(){return this.getCSSVariablePixelValue(aR)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(lR)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(cR)}getRowBorderWidth(){return this.getCSSVariablePixelValue(ew)}applyThemeClasses(e){let{gridTheme:t}=this,i="";if(t)i=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let n=this.eGridDiv;for(;n;){let s=!1;for(let o of Array.from(n.classList))o.startsWith("ag-theme-")&&(s=!0,i=i?`${i} ${o}`:o);s&&this.mutationObserver.observe(n,{attributes:!0,attributeFilter:["class"]}),n=n.parentElement}}for(let n of Array.from(e.classList))n.startsWith("ag-theme-")&&e.classList.remove(n);if(i){let n=e.className;e.className=n+(n?" ":"")+i}}refreshRowHeightVariable(){let{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),i=this.gos.get("rowHeight");if(i==null||isNaN(i)||!isFinite(i))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;let n=`${i}px`;return t!=n?(e.style.setProperty("--ag-line-height",n),i):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?Xc(e,this.eStyleContainer,t,this.cssLayer,0):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){let t=this.lastKnownValues.get(e);if(t!=null)return t;let i=this.measureSizeEl(e);return i==="detached"||i==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){let t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";let i=t.offsetWidth;return i===tw?"no-styles":(this.sizesMeasured=!0,i)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=document.createElement("div"),e.className="ag-measurement-container",this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let i=this.getMeasurementContainer();t=document.createElement("div");let{border:n}=e;n?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${tw}px`)):t.style.width=`var(${e.cssName}, ${tw}px)`,i.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&z(9,{variable:e});let o=sa(this.beans,t,()=>{let r=this.measureSizeEl(e);r==="detached"||r==="no-styles"||(this.lastKnownValues.set(e,r),r!==s&&(s=r,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){let e=this.getCSSVariablePixelValue(ew);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){let{gos:e,eGridDiv:t,globalCSS:i,gridTheme:n}=this,s=e.get("theme"),o;if(s==="legacy")o=void 0;else{let r=s??YU;r instanceof fk?o=r:ht(240,{theme:r})}if(o!==n){if(o){qW(this),ck(this.eStyleContainer,this.cssLayer);for(let[a,l]of i)Xc(a,this.eStyleContainer,l,this.cssLayer,0);i.length=0}this.gridTheme=o,o?._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer});let r=this.eParamsStyle;r||(r=this.eParamsStyle=document.createElement("style"),t.appendChild(r)),cx||(r.textContent=o?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}o&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&ht(s?106:239)}},tw=15538,qU=class extends O{constructor(){super(...arguments),this.beanName="eventSvc",this.globalEventService=new ll}postConstruct(){let{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,i){this.globalEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.globalEventService.removeEventListener(e,t,i)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(Se(this.gos,e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(Se(this.gos,e))}};function wk(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function Aw(e,t){let i;if(jt(e)&&wk(e)&&e.isPadding()){let n=e;i=n.getLeafColumns()[0];let s=i;for(;s!==n;)t++,s=s.getParent()}return{column:i||e,headerRowIndex:t}}var XU=class extends O{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){let e=this.beans;e.ctrlsSvc.whenReady(this,i=>{this.gridBodyCon=i.gridBodyCtrl});let t=Qt(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let i,{colModel:n,colGroupSvc:s,ctrlsSvc:o}=this.beans;if(typeof e=="string"?(i=n.getCol(e),i||(i=s?.getColumnGroup(e)??null)):i=e,!i)return null;let a=o.getHeaderRowContainerCtrl()?.getAllCtrls(),l=yt(a||[]).type==="filter",c=Yo(this.beans)-1,d=-1,u=i;for(;u;)d++,u=u.getParent();let h=d;return t&&l&&h===c-1&&h++,h===-1?null:{headerRowIndex:h,column:i}}navigateVertically(e,t,i){let n=this.beans.focusSvc;if(t||(t=n.focusedHeader),!t)return!1;let{headerRowIndex:s}=t,o=t.column,r=Yo(this.beans),a=e==="UP",l=this.getHeaderRowType(s),{headerRowIndex:c,column:d,headerRowIndexWithoutSpan:u}=a?QU(l,o,s):JU(l,o,s),h=!1;return c<0&&(c=0,d=o,h=!0),c>=r?(c=-1,this.currentHeaderRowWithoutSpan=-1):u!==void 0&&(this.currentHeaderRowWithoutSpan=u),!h&&!d?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:i})}navigateHorizontally(e,t=!1,i){let{focusSvc:n,gos:s}=this.beans,o=n.focusedHeader,r,a;if(this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,e==="LEFT"!==s.get("enableRtl")?(a="Before",r=this.findHeader(o,a)):(a="After",r=this.findHeader(o,a)),r||!t)return n.focusHeaderPosition({headerPosition:r,direction:a,fromTab:t,allowUserOverride:!0,event:i});if(t){let l=s.getCallback("tabToNextHeader");if(l)return n.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:r,direction:a})}return this.focusNextHeaderRow(o,a,i)}focusNextHeaderRow(e,t,i){let n=e.headerRowIndex,s=null,o,r=this.beans;if(t==="Before"?n>0&&(o=n-1,this.currentHeaderRowWithoutSpan-=1,s=this.findColAtEdgeForHeaderRow(o,"end")):(o=n+1,this.currentHeaderRowWithoutSpan<Yo(r)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,s=this.findColAtEdgeForHeaderRow(o,"start")),!s)return!1;let{column:a,headerRowIndex:l}=Aw(s.column,s?.headerRowIndex);return r.focusSvc.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:l},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(jt(e)){let n=e.getDisplayedLeafColumns();i=t==="Before"?yt(n):n[0]}else i=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(i)}findHeader(e,t){let i,n,{colGroupSvc:s,visibleCols:o}=this.beans;if(jt(e.column)?i=s?.getGroupAtDirection(e.column,t)??void 0:(n=`getCol${t}`,i=o[n](e.column)),!i)return;let{headerRowIndex:r}=e;if(this.getHeaderRowType(r)!=="filter"){let c=[i];for(;i.getParent();)i=i.getParent(),c.push(i);i=c[Math.max(0,c.length-1-r)]}let{column:a,headerRowIndex:l}=Aw(i,r);return{column:a,headerRowIndex:l}}getHeaderRowType(e){let t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){let{visibleCols:i,ctrlsSvc:n,colGroupSvc:s}=this.beans,o=i.allCols,r=o[t==="start"?0:o.length-1];if(!r)return;let l=n.getHeaderRowContainerCtrl(r.getPinned())?.getRowType(e);if(l=="group"){let c=s?.getColGroupAtLevel(r,e);return{headerRowIndex:e,column:c}}return{headerRowIndex:l==null?-1:e,column:r}}};function QU(e,t,i){let n=e==="filter",s=e==="column",o=n?t:t.getParent(),r=i-1,a=r;if(s&&wk(t.getParent())){for(;o&&o.isPadding();)o=o.getParent(),r--;a=r,r<0&&(o=t,r=i,a=void 0)}return{column:o,headerRowIndex:r,headerRowIndexWithoutSpan:a}}function JU(e,t,i,n="After"){let s=t,o=i+1,r=o;if(e==="group"){let a=t.getDisplayedLeafColumns(),l=n==="After"?a[0]:yt(a),c=[],d=l;for(;d.getParent()!==t;)d=d.getParent(),c.push(d);if(s=l,l.isSpanHeaderHeight())for(let u=c.length-1;u>=0;u--){let h=c[u];if(!h.isPadding()){s=h;break}o++}else s=yt(c),s||(s=l)}return{column:s,headerRowIndex:o,headerRowIndexWithoutSpan:r}}var e7=class extends O{constructor(){super(...arguments),this.beanName="focusSvc"}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){let e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(TH(this.beans))}onColumnEverythingChanged(){if(!this.focusedCell)return;let e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCell||this.isDomDataMissingInHierarchy(Bt(this.beans),Fh)?null:this.focusedCell}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||this.isDomDataMissingInHierarchy(Bt(this.beans),qA)?null:this.focusedHeader}isDomDataMissingInHierarchy(e,t){let i=e;for(;i;){if(Sf(this.gos,i,t))return!1;i=i.parentNode}return!0}getFocusedCell(){return this.focusedCell}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCell=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCell=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(e,t){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(e),t())})}isCellRestoreFocused(e){return this.restoredFocusedCell==null?!1:"cellSpan"in e?e.doesSpanContain(this.restoredFocusedCell):ww(e,this.restoredFocusedCell)}setRestoreFocusedCell(e){this.beans.frameworkOverrides.renderingEngine==="react"&&(this.restoredFocusedCell=e)}getFocusEventParams(e){let{rowIndex:t,rowPinned:i,column:n}=e,s={rowIndex:t,rowPinned:i,column:n,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i});return o&&(s.isFullWidthCell=o.isFullWidth()),s}clearFocusedCell(){if(this.restoredFocusedCell=null,this.focusedCell==null)return;let e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent(w({type:"cellFocusCleared"},e))}setFocusedCell(e){let{column:t,rowIndex:i,rowPinned:n,forceBrowserFocus:s=!1,preventScrollOnBrowserFocus:o=!1}=e,r=this.colModel.getCol(t);if(!r){this.focusedCell=null;return}this.focusedCell={rowIndex:i,rowPinned:Ko(n),column:r},this.eventSvc.dispatchEvent(A(w({type:"cellFocused"},this.getFocusEventParams(this.focusedCell)),{forceBrowserFocus:s,preventScrollOnBrowserFocus:o}))}isCellFocused(e){return this.focusedCell==null?!1:ww(e,this.focusedCell)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;let{column:t,rowCtrl:{rowIndex:i,pinned:n}}=e,{column:s,headerRowIndex:o}=this.focusedHeader;return t===s&&i===o&&n==s.getPinned()}focusHeaderPosition(e){if(rl(this.beans))return!1;let{direction:t,fromTab:i,allowUserOverride:n,event:s,fromCell:o,rowWithoutSpanValue:r}=e,{headerPosition:a}=e;if(o&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(a);if(n){let l=this.focusedHeader,c=Yo(this.beans);if(i){let d=this.gos.getCallback("tabToNextHeader");d&&(a=this.getHeaderPositionFromUserFunc({userFunc:d,direction:t,currentPosition:l,headerPosition:a,headerRowCount:c}))}else{let d=this.gos.getCallback("navigateToNextHeader");if(d&&s){let u={key:s.key,previousHeaderPosition:l,nextHeaderPosition:a,headerRowCount:c,event:s};a=d(u)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:s,fromCell:o,rowWithoutSpanValue:r}):!1}focusHeaderPositionFromUserFunc(e){if(rl(this.beans))return!1;let{userFunc:t,headerPosition:i,direction:n,event:s}=e,o=this.focusedHeader,r=Yo(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:n,currentPosition:o,headerPosition:i,headerRowCount:r});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:n,event:s})}getHeaderPositionFromUserFunc(e){let{userFunc:t,direction:i,currentPosition:n,headerPosition:s,headerRowCount:o}=e,a=t({backwards:i==="Before",previousHeaderPosition:n,nextHeaderPosition:s,headerRowCount:o});return a===!0?n:a===!1?null:a}focusProvidedHeaderPosition(e){let{headerPosition:t,direction:i,fromCell:n,rowWithoutSpanValue:s,event:o}=e,{column:r,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:c,headerNavigation:d}=this.beans;if(a===-1)return l?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:r,event:o});d?.scrollToColumn(r,i);let h=c.getHeaderRowContainerCtrl(r.getPinned())?.focusHeader(t.headerRowIndex,r,o)||!1;return d&&h&&(s!=null||n)&&(d.currentHeaderRowWithoutSpan=s??-1),h}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;let{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));let i=Aw(e,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;let t=Yo(this.beans)-1,i=yt(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:i},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Ko(t)}focusOverlay(e){let t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&dl(t,e)}focusGridView(e){let{backwards:t=!1,canFocusOverlay:i=!0,event:n}=e;if(this.overlays?.isExclusive())return i&&this.focusOverlay(t);if(Gf(this.beans))return t&&!rl(this.beans)?this.focusLastHeader():i&&this.focusOverlay(t)?!0:t?!1:Zc(this.beans,t);let s=t?i5(this.beans):t5(this.beans);if(s){let o=e.column??this.focusedHeader?.column,{rowIndex:r,rowPinned:a}=s,l=Lf(this.beans,s);if(!o||!l||r==null)return!1;if(o.isSuppressNavigable(l)){let c=this.gos.get("enableRtl"),d;return!n||n.key===L.TAB?d=c?L.LEFT:L.RIGHT:d=n.key,this.beans.navigation?.navigateToNextCell(null,d,{rowIndex:r,column:o,rowPinned:a||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:r,column:o,rowPinned:a}),t&&this.rowRenderer.getRowByPosition(s)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(s,t)||(this.setFocusedCell({rowIndex:r,column:o,rowPinned:Ko(a),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:r,rowPinned:a,column:o})),!0}return!!(i&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){let i=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:i,headerRowIndex:Yo(this.beans)-1}}):this.focusGridView({column:i})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},t7=class extends O{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){let{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){let e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;let t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){let e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),i=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==i)&&(this.horizontalScrollGap=t,this.verticalScrollGap=i,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){let e=this.gos.get("scrollbarWidth"),i=typeof e=="number"&&e>=0?e:CG();i!=null&&(this.scrollbarWidth=i,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},i7=class extends O{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;let{stateSvc:e,ctrlsSvc:t,context:i}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),i.destroy(),super.destroy()}},ff=new Set(["gridPreDestroyed","fillStart","pasteStart"]),n7={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1},s7=0,o7=0,r7=class extends O{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=o7++,this.propEventSvc=new ll,this.globalEventHandlerFactory=e=>(t,i)=>{if(!this.isAlive())return;let n=ff.has(t);if(n&&!e||!n&&e)return;let s=eA(t),o=this.gridOptions[s];typeof o=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{o(i)})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??n7[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return U(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(i=>e(this.addGridCommonParams(i)))}updateGridOptions({options:e,force:t,source:i="api"}){let n={id:s7++,properties:[]},s=[],{gridOptions:o,validation:r}=this;for(let a of Object.keys(e)){let l=e[a];r?.warnOnInitialPropertyUpdate(i,a);let c=t||typeof l=="object"&&i==="api",d=o[a];if(c||d!==l){o[a]=l;let u={type:a,currentValue:l,previousValue:d,changeSet:n,source:i};s.push(u)}}r?.processGridOptions(this.gridOptions),n.properties=s.map(a=>a.type),s.forEach(a=>{ta(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}assertModuleRegistered(e,t){let i=Array.isArray(e)?e.some(n=>this.isModuleRegistered(n)):this.isModuleRegistered(e);return i||ht(200,A(w({},this.getModuleErrorParams()),{moduleName:e,reasonOrId:t})),i}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:Kw(),rowModelType:this.get("rowModelType"),isUmd:xH()}}isModuleRegistered(e){return DA(e,this.gridId,this.get("rowModelType"))}};function a7(e){return`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            ${e?'<ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>':""}
        </div>
    </div>`}var l7=class extends st{constructor(){super(...arguments),this.eFilter=K,this.eFilterButton=K,this.eSortIndicator=K,this.eMenu=K,this.eLabel=K,this.eText=K,this.eSortOrder=K,this.eSortAsc=K,this.eSortDesc=K,this.eSortMixed=K,this.eSortNone=K,this.isLoadingInnerComponent=!1}refresh(e){let t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.innerHeaderComponent?this.innerHeaderComponent.refresh?.(e):this.setDisplayName(e),!0)}workOutTemplate(){let{params:e,beans:t}=this,i=e.template??a7(!!t.sortSvc);return i?.trim?i.trim():i}init(e){this.params=e;let{sortSvc:t,touchSvc:i,rowNumbersSvc:n,userCompFactory:s}=this.beans;this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,t?[t.getSortIndicatorSelector()]:void 0),i?.setupForHeader(this),this.setMenu(),this.setupSort(),n?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(s,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){let i=J6(e,t,t);i&&(this.isLoadingInnerComponent=!0,i.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderComponent=n,this.eText.appendChild(n.getGui())):this.destroyBean(n))}))}setDisplayName(e){let{displayName:t}=e,i=this.currentDisplayName;if(this.currentDisplayName=t,i===t||this.innerHeaderComponent||this.isLoadingInnerComponent)return;let n=qo(t,!0);this.eText.textContent=n}addInIcon(e,t,i){if(t==null)return;let n=ps(e,this.beans,i);n&&t.appendChild(n)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){hs(this.eMenu),this.eMenu=void 0;return}let{gos:e,eMenu:t,params:i}=this,n=Yn(e);this.addInIcon(n?"menu":"menuAlt",t,i.column),t.classList.toggle("ag-header-menu-icon",!n);let s=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=s,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(s)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){let{currentSuppressMenuHide:t,params:i}=this;t||this.toggleMenuAlwaysShow(!0),i.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){let{params:t,gos:i,beans:n,eMenu:s,eFilterButton:o}=this,r=t.column,a=Yn(i);if(e&&!a){if(n.menuSvc?.isFilterMenuInHeaderEnabled(r))return t.showFilter(o??s??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(s??o??this.getGui()),!0;return!1}setupSort(){let{sortSvc:e}=this.beans;if(!e)return;let{enableSorting:t,column:i}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));let{eSortIndicator:n,eSortOrder:s,eSortAsc:o,eSortDesc:r,eSortMixed:a,eSortNone:l}=this;n.attachCustomElements(s,o,r,a,l)}this.eSortIndicator.setupSort(i),this.currentSort&&e.setupHeader(this,i,this.eLabel)}setupFilterIcon(){let{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,this.onFilterChangedIcon.bind(this),"filterActive")}setupFilterButton(){let{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,i,n){if(!e)return hs(t),!1;let s=this.params.column;return this.addInIcon(n,t,s),this.addManagedListeners(s,{filterChanged:i}),i(),!0}onFilterChangedIcon(){let e=this.params.column.isFilterActive();Nt(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){let e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){let{eFilterButton:t,eMenu:i}=this;return e?t??i??this.getGui():i??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},c7=class extends st{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=K,this.agClosed=K,this.agLabel=K,this.isLoadingInnerComponent=!1}init(e){let{userCompFactory:t}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons()}checkWarnings(){this.params.template&&z(89)}workOutInnerHeaderGroupComponent(e,t){let i=tH(e,t,t);i&&(this.isLoadingInnerComponent=!0,i.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderGroupComponent=n,this.agLabel.appendChild(n.getGui())):this.destroyBean(n))}))}setupExpandIcons(){let{agOpened:e,agClosed:t,params:{columnGroup:i},beans:n}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);let s=l=>{if(Zo(l))return;let c=!i.isExpanded();n.colGroupSvc.setColumnGroupOpened(i.getProvidedColumnGroup(),c,"uiColumnExpanded")};this.addTouchAndClickListeners(n,t,s),this.addTouchAndClickListeners(n,e,s);let o=l=>{Yc(l)};this.addManagedElementListeners(t,{dblclick:o}),this.addManagedElementListeners(e,{dblclick:o}),this.addManagedElementListeners(this.getGui(),{dblclick:s}),this.updateIconVisibility();let r=i.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(r,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,i){e.touchSvc?.setupForHeaderGroup(this,t,i),this.addManagedElementListeners(t,{click:i})}updateIconVisibility(){let{agOpened:e,agClosed:t,params:{columnGroup:i}}=this;if(i.isExpandable()){let n=i.isExpanded();Nt(e,n),Nt(t,!n)}else Nt(e,!1),Nt(t,!1)}addInIcon(e,t){let i=ps(e,this.beans,null);i&&t.appendChild(i)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){let{agOpened:t,agClosed:i}=this;Nt(t,!1),Nt(i,!1);return}}setupLabel(e){let{displayName:t,columnGroup:i}=e,n=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(U(t)&&!n){let s=qo(t,!0);this.agLabel.textContent=s}this.addOrRemoveCssClass("ag-sticky-label",!i.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},d7={moduleName:"ColumnHeaderComp",version:Y,userComponents:{agColumnHeader:l7},icons:{menu:"menu",menuAlt:"menu-alt"}},u7={moduleName:"ColumnGroupHeaderComp",version:Y,userComponents:{agColumnGroupHeader:c7},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},h7={moduleName:"AnimationFrame",version:Y,beans:[RH]},p7=class extends O{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!tl())return;let t=(i,n,s)=>{let{rowCtrl:o,cellCtrl:r}=e.getControlsForEventTarget(s?.target??null);r?.column&&r.dispatchCellContextMenuEvent(s??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,s,o,r)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!tl()||sA("dblclick"))return!1;let n=new Date().getTime(),s=n-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=n,s})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){let{gos:t,sortSvc:i}=this.beans;if(t.get("suppressTouch"))return;let{params:n,eMenu:s,eFilterButton:o}=e,r=new Fc(e.getGui(),!0),a=e.shouldSuppressMenuHide(),l=a&&U(s),c=l?new Fc(s,!0):r;if(n.enableMenu){let d=l?"tap":"longTap",u=h=>n.showColumnMenuAfterMouseClick(h.touchStart);e.addManagedListeners(c,{[d]:u})}if(n.enableSorting){let d=u=>{let h=u.touchStart.target;a&&(s?.contains(h)||o?.contains(h))||i?.progressSort(n.column,!1,"uiColumnSorted")};e.addManagedListeners(r,{tap:d})}if(n.enableFilterButton&&o){let d=new Fc(o,!0);e.addManagedListeners(d,{tap:()=>n.showFilter(o)}),e.addDestroyFunc(()=>d.destroy())}e.addDestroyFunc(()=>r.destroy()),l&&e.addDestroyFunc(()=>c.destroy())}setupForHeaderGroup(e,t,i){let n=new Fc(t,!0);e.addManagedListeners(n,{tap:i}),e.addDestroyFunc(()=>n.destroy())}mockContextMenu(e,t,i){if(!tl())return;let n=new Fc(t),s=o=>{i(void 0,o.touchStart,o.touchEvent)};e.addManagedListeners(n,{longTap:s}),e.addDestroyFunc(()=>n.destroy())}},g7={moduleName:"Touch",version:Y,beans:[p7]},m7=class extends O{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){let i=e===L.UP,n=e===L.DOWN,s=e===L.LEFT,o,r,{pageBounds:a,gos:l,visibleCols:c}=this.beans;if(i||n)r=i?a.getFirstRow():a.getLastRow(),o=t.column;else{let d=l.get("enableRtl");r=t.rowIndex,o=(s!==d?c.allCols:[...c.allCols].reverse()).find(h=>this.isCellGoodToFocusOn({rowIndex:r,rowPinned:null,column:h}))}return o?{rowIndex:r,rowPinned:null,column:o}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,n=!1;for(;!n;){switch(e){case L.UP:i=this.getCellAbove(i);break;case L.DOWN:i=this.getCellBelow(i);break;case L.RIGHT:i=this.gos.get("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case L.LEFT:i=this.gos.get("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,z(8,{key:e});break}i?n=this.isCellGoodToFocusOn(i):n=!0}return i}isCellGoodToFocusOn(e){let t=e.column,i,{pinnedRowModel:n,rowModel:s}=this.beans;switch(e.rowPinned){case"top":i=n?.getPinnedTopRow(e.rowIndex);break;case"bottom":i=n?.getPinnedBottomRow(e.rowIndex);break;default:i=s.getRow(e.rowIndex);break}return i?!this.isSuppressNavigable(t,i):!1}getCellToLeft(e){if(!e)return null;let t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;let t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){let t=e.rowIndex,i=e.rowPinned,n=!1,{pageBounds:s,pinnedRowModel:o,rowModel:r}=this.beans;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return r.isRowsToRender()?{rowIndex:s.getFirstRow(),rowPinned:null}:o?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return o?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else i&&(n=!0);let a=r.getRow(e.rowIndex),l=n?void 0:this.getNextStickyPosition(a);return l||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){let{gos:i,rowRenderer:n}=this.beans;if(!XR(i)||!e||!e.sticky)return;let s=n.getStickyTopRowCtrls().some(c=>c.rowNode.rowIndex===e.rowIndex),o=[];s?o=[...n.getStickyTopRowCtrls()].sort((c,d)=>c.rowNode.rowIndex-d.rowNode.rowIndex):o=[...n.getStickyBottomRowCtrls()].sort((c,d)=>d.rowNode.rowIndex-c.rowNode.rowIndex);let r=t?-1:1,a=o.findIndex(c=>c.rowNode.rowIndex===e.rowIndex),l=o[a+r];if(l)return{rowIndex:l.rowNode.rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;let t=this.rowSpanSvc?.getCellEnd(e)??e,i=this.getRowBelow(t);return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}isLastRowInContainer(e){let t=e.rowPinned,i=e.rowIndex,{pinnedRowModel:n,pageBounds:s}=this.beans;return t==="top"?(n?.getPinnedTopRowCount()??-1)<=i:t==="bottom"?(n?.getPinnedBottomRowCount()??-1)<=i:s.getLastRow()<=i}getRowAbove(e){let t=e.rowIndex,i=e.rowPinned,{pageBounds:n,pinnedRowModel:s,rowModel:o}=this.beans,r=i?t===0:t===n.getFirstRow(),a=!1,l=()=>({rowIndex:s?.getPinnedTopRowCount()??-1,rowPinned:"top"});if(r)return i==="top"?null:i&&o.isRowsToRender()?{rowIndex:n.getLastRow(),rowPinned:null}:s?.isRowsToRender("top")?l():null;i&&(a=!0);let c=o.getRow(e.rowIndex),d=a?void 0:this.getNextStickyPosition(c,!0);return d||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;let t=this.rowSpanSvc?.getCellStart(e)??e,i=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){let{visibleCols:t,pagination:i}=this.beans,n=t.allCols,s=e.rowIndex,o=e.rowPinned,r=t.getColAfter(e.column);if(!r){r=n[0];let a=this.getRowBelow(e);if(Lt(a)||!a.rowPinned&&!(i?.isRowInPage(a)??!0))return null;s=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:s,column:r,rowPinned:o}}getNextTabbedCellBackwards(e){let{visibleCols:t,pagination:i}=this.beans,n=t.allCols,s=e.rowIndex,o=e.rowPinned,r=t.getColBefore(e.column);if(!r){r=yt(n);let a=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Lt(a)||!a.rowPinned&&!(i?.isRowInPage(a)??!0))return null;s=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:s,column:r,rowPinned:o}}isSuppressNavigable(e,t){let{suppressNavigable:i}=e.colDef;if(typeof i=="boolean")return i;if(typeof i=="function"){let n=e.createColumnFunctionCallbackParams(t);return i(n)}return!1}};function f7(e){return e.focusSvc.getFocusedCell()}function v7(e){return e.focusSvc.clearFocusedCell()}function y7(e,t,i,n){e.focusSvc.setFocusedCell({rowIndex:t,column:i,rowPinned:n,forceBrowserFocus:!0})}function b7(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function C7(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function w7(e,t,i=!1){let n=e.headerNavigation?.getHeaderPositionForColumn(t,i);n&&e.focusSvc.focusHeaderPosition({headerPosition:n})}var x7=class extends O{constructor(){super(),this.beanName="navigation",this.onPageDown=PI(this.onPageDown,100),this.onPageUp=PI(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){let i=e.key,n=e.altKey,s=e.ctrlKey||e.metaKey,o=!!this.beans.rangeSvc&&e.shiftKey,r=ZH(this.gos,e),a=!1;switch(i){case L.PAGE_HOME:case L.PAGE_END:!s&&!n&&(this.onHomeOrEndKey(i),a=!0);break;case L.LEFT:case L.RIGHT:case L.UP:case L.DOWN:if(!r)return!1;s&&!n&&!o&&(this.onCtrlUpDownLeftRight(i,r),a=!0);break;case L.PAGE_DOWN:case L.PAGE_UP:!s&&!n&&(a=this.handlePageUpDown(i,r,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===L.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){let{scrollIndex:t,scrollType:i,scrollColumn:n,focusIndex:s,focusColumn:o}=e,{scrollFeature:r}=this.gridBodyCon;U(n)&&!n.isPinned()&&r.ensureColumnVisible(n),U(t)&&r.ensureIndexVisible(t,i),e.isAsync||r.ensureIndexVisible(s);let{focusSvc:a,rangeSvc:l}=this.beans;a.setFocusedCell({rowIndex:s,column:o,rowPinned:null,forceBrowserFocus:!0}),l?.setRangeToCell({rowIndex:s,rowPinned:null,column:o})}onPageDown(e){let t=this.beans,i=iw(t),n=this.getViewportHeight(),{pageBounds:s,rowModel:o,rowAutoHeight:r}=t,a=s.getPixelOffset(),l=i.top+n,c=o.getRowIndexAtPixel(l+a);r?.active?this.navigateToNextPageWithAutoHeight(e,c):this.navigateToNextPage(e,c)}onPageUp(e){let t=this.beans,i=iw(t),{pageBounds:n,rowModel:s,rowAutoHeight:o}=t,r=n.getPixelOffset(),a=i.top,l=s.getRowIndexAtPixel(a+r);o?.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,i=!1){let{pageBounds:n,rowModel:s}=this.beans,o=this.getViewportHeight(),r=n.getFirstRow(),a=n.getLastRow(),l=n.getPixelOffset(),c=s.getRow(e.rowIndex),d=i?c?.rowHeight-o-l:o-l,u=c?.rowTop+d,h=s.getRowIndexAtPixel(u+l);if(h===e.rowIndex){let g=i?-1:1;t=h=e.rowIndex+g}let p;i?(p="bottom",h<r&&(h=r),t<r&&(t=r)):(p="top",h>a&&(h=a),t>a&&(t=a)),this.isRowTallerThanView(s.getRow(h))&&(t=h,p="top"),this.navigateTo({scrollIndex:t,scrollType:p,scrollColumn:null,focusIndex:h,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{let n=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){let i=t?-1:1,n=this.getViewportHeight(),{pageBounds:s,rowModel:o}=this.beans,r=s.getLastRow(),a=0,l=e.rowIndex;for(;l>=0&&l<=r;){let c=o.getRow(l);if(c){let d=c.rowHeight??0;if(a+d>n)break;a+=d}l+=i}return Math.max(0,Math.min(l,r))}getViewportHeight(){let e=this.beans,t=iw(e),i=this.beans.scrollVisibleSvc.getScrollbarWidth(),n=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(n-=i),n}isRowTallerThanView(e){if(!e)return!1;let t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){let i=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:n}=i,s=i.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:s,focusIndex:n,focusColumn:s})}onHomeOrEndKey(e){let t=e===L.PAGE_HOME,{visibleCols:i,pageBounds:n,rowModel:s}=this.beans,o=i.allCols,r=t?n.getFirstRow():n.getLastRow(),a=s.getRow(r);if(!a)return;let l=(t?o:[...o].reverse()).find(c=>!c.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:l,focusIndex:r,focusColumn:l})}onTabKeyDown(e,t){let i=t.shiftKey,n=this.tabToNextCellCommon(e,i,t),s=this.beans,{ctrlsSvc:o,pageBounds:r,focusSvc:a,gos:l}=s;if(n!==!1){n?t.preventDefault():n===null&&o.get("gridCtrl").allowFocusForNextCoreContainer(i);return}if(i){let{rowIndex:c,rowPinned:d}=e.getRowPosition();(d?c===0:c===r.getFirstRow())&&(l.get("headerHeight")===0||rl(s)?Zc(s,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof yh&&e.focusCell(!0),(!i&&a.focusOverlay(!1)||Zc(s,i))&&t.preventDefault()}tabToNextCell(e,t){let i=this.beans,{focusSvc:n,rowRenderer:s}=i,o=n.getFocusedCell();if(!o)return!1;let r=Pc(i,o);return!r&&(r=s.getRowByPosition(o),!r||!r.isFullWidth())?!1:!!this.tabToNextCellCommon(r,e,t)}tabToNextCellCommon(e,t,i){let n=e.editing;if(!n&&e instanceof yh){let r=e.rowCtrl;r&&(n=r.editing)}let s;return n?this.gos.get("editType")==="fullRow"?s=this.moveToNextEditingRow(e,t,i):s=this.moveToNextEditingCell(e,t,i):s=this.moveToNextCellNotEditing(e,t),s===null?s:s||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(e,t,i=null){let n=e.cellPosition;e.eGui.focus(),e.stopEditing();let s=this.findNextCellToFocusOn(n,t,!0);return s===!1?null:s==null?!1:(this.beans.editSvc?.startEditing(s,null,!0,i),s.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){let n=e.cellPosition,s=this.findNextCellToFocusOn(n,t,!0);if(s===!1)return null;if(s==null)return!1;let o=s.cellPosition,r=this.isCellEditable(n),a=this.isCellEditable(o),l=o&&n.rowIndex===o.rowIndex&&n.rowPinned===o.rowPinned,{editSvc:c,rowEditSvc:d}=this.beans;if(r&&c?.setFocusOutOnEditor(e),!l){let u=e.rowCtrl;c?.stopRowEditing(u);let h=s.rowCtrl;d?.startEditing(h,void 0,void 0,i)}return a?(c?.setFocusInOnEditor(s),s.focusCell()):s.focusCell(!0),!0}moveToNextCellNotEditing(e,t){let i=this.beans.visibleCols.allCols,n;e instanceof Pf?n=A(w({},e.getRowPosition()),{column:t?i[0]:yt(i)}):n=e.getFocusedCellPosition();let s=this.findNextCellToFocusOn(n,t,!1);if(s===!1)return null;if(s instanceof yh)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),t);return U(s)}findNextCellToFocusOn(e,t,i){let n=e,s=this.beans,{cellNavigation:o,gos:r,focusSvc:a,rowRenderer:l,rangeSvc:c}=s;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=o.getNextTabbedCell(n,t);let d=r.getCallback("tabToNextCell");if(U(d)){let g=d({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:n||null});if(g===!0)n=e;else{if(g===!1)return!1;n={rowIndex:g.rowIndex,column:g.column,rowPinned:g.rowPinned}}}if(!n)return null;if(n.rowIndex<0){let p=Yo(s);return a.focusHeaderPosition({headerPosition:{headerRowIndex:p+n.rowIndex,column:n.column},fromCell:!0}),null}let u=r.get("editType")==="fullRow";if(i&&!u&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);let h=Pc(s,n);if(!h){let p=l.getRowByPosition(n);if(!p||!p.isFullWidth()||i)continue;return p}if(!o.isSuppressNavigable(h.column,h.rowNode))return h.setFocusedCellPosition(n),c?.setRangeToCell(n),h}}isCellEditable(e){let t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){let{pinnedRowModel:i,rowModel:n}=this.beans;return t==="top"?i?.getPinnedTopRow(e):t==="bottom"?i?.getPinnedBottomRow(e):n.getRow(e)}navigateToNextCell(e,t,i,n){let s=i,o=!1,r=this.beans,{cellNavigation:a,focusSvc:l,gos:c}=r;for(;s&&(s===i||!this.isValidNavigateCell(s));)c.get("enableRtl")?t===L.LEFT&&(s=this.getLastCellOfColSpan(s)):t===L.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=a.getNextCellToFocus(t,s),o=Lt(s);if(o&&e&&e.key===L.UP&&(s={rowIndex:-1,rowPinned:null,column:i.column}),n){let u=c.getCallback("navigateToNextCell");if(U(u)){let p=u({key:t,previousCellPosition:i,nextCellPosition:s||null,event:e});U(p)?s={rowPinned:p.rowPinned,rowIndex:p.rowIndex,column:p.column}:s=null}}if(!s)return;if(s.rowIndex<0){let u=Yo(r);l.focusHeaderPosition({headerPosition:{headerRowIndex:u+s.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}let d=this.getNormalisedPosition(s);d?this.focusPosition(d):this.tryToFocusFullWidthRow(s)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);let i=Pc(this.beans,e);return i?(e=i.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){let{visibleCols:i,rowRenderer:n,focusSvc:s,eventSvc:o}=this.beans,r=i.allCols,a=n.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;let l=s.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?yt(r):r[0])};this.focusPosition(c);let d=t??(l!=null&&JH(c,l));return o.dispatchEvent({type:"fullWidthRowFocused",rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:d}),!0}focusPosition(e){let{focusSvc:t,rangeSvc:i}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),i?.setRangeToCell(e)}isValidNavigateCell(e){return!!Lf(this.beans,e)}getLastCellOfColSpan(e){let t=Pc(this.beans,e);if(!t)return e;let i=t.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:yt(i),rowPinned:e.rowPinned}}ensureCellVisible(e){let t=XR(this.gos),i=this.beans.rowModel.getRow(e.rowIndex),n=t&&i?.sticky,{scrollFeature:s}=this.gridBodyCon;!n&&Lt(e.rowPinned)&&s.ensureIndexVisible(e.rowIndex),e.column.isPinned()||s.ensureColumnVisible(e.column)}};function iw(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var S7={moduleName:"KeyboardNavigation",version:Y,beans:[x7,m7,XU],apiFunctions:{getFocusedCell:f7,clearFocusedCell:v7,setFocusedCell:y7,setFocusedHeader:w7,tabToNextCell:b7,tabToPreviousCell:C7}},M7=class extends O{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){let{pageBounds:e,pagination:t,rowModel:i}=this.beans;t?t.calculatePages():e.calculateBounds(0,i.getRowCount()-1)}},D7=class extends O{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){let{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){let{topRowBounds:e,bottomRowBounds:t}=this,i=e?.rowTop??0,n=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:i,pageLastPixel:n}}calculateBounds(e,t){let{rowModel:i}=this.beans,n=i.getRowBounds(e);n&&(n.rowIndex=e),this.topRowBounds=n;let s=i.getRowBounds(t);s&&(s.rowIndex=t),this.bottomRowBounds=s,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){let e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},_7=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",E7=class extends O{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){let e=this.getWidth(),t=e>0;for(let i of this.elements)i&&(Nt(i,t),vo(i,e))}},I7=class extends O{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});let e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){let{gos:e,visibleCols:t,eventSvc:i}=this.beans,n=Gi(e,"print"),s=n?0:t.getColsLeftWidth(),o=n?0:t.getDisplayedColumnsRightWidth();s!=this.leftWidth&&(this.leftWidth=s,i.dispatchEvent({type:"leftPinnedWidthChanged"})),o!=this.rightWidth&&(this.rightWidth=o,i.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){let e=this.gridBodyCtrl.eBodyViewport,t=Dh(e);if(t<=50)return;let i=this.getPinnedColumnsOverflowingViewport(t-50),n=this.gos.getCallback("processUnpinnedColumns"),{columns:s,hasLockedPinned:o}=i,r=s;!r.length&&!o||(n&&(r=n({columns:r,viewportWidth:t})),!(!r||!r.length)&&(r=r.filter(a=>!Nh(a)),this.setColsPinned(r,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new E7(e,t)}setColsPinned(e,t,i){let{colModel:n,colAnimation:s,visibleCols:o,gos:r}=this.beans;if(!n.cols||!e?.length)return;if(Gi(r,"print")){z(37);return}s?.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;let l=[];e.forEach(c=>{if(!c)return;let d=n.getCol(c);d&&d.getPinned()!==a&&(this.setColPinned(d,a),l.push(d))}),l.length&&(o.refresh(i),vA(this.eventSvc,l,i)),s?.finish()}initCol(e){let{pinned:t,initialPinned:i}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,i)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){let{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;let i=e.pinned==="left",n=e.pinned==="right";e.hidden=!0;let s=()=>{let o=i?this.leftWidth:this.rightWidth;if(o==null)return;let r=o==0,a=e.hidden!==r,l=this.gos.get("enableRtl"),c=t.getScrollbarWidth(),u=t.verticalScrollShowing&&(l&&i||!l&&n)?o+c:o;e.comp.setPinnedContainerWidth(`${u}px`),e.comp.setDisplayed(!r),a&&(e.hidden=r,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:s,rightPinnedWidthChanged:s,scrollVisibilityChanged:s,scrollbarWidthChanged:s})}getHeaderResizeDiff(e,t){if(t.getPinned()){let{leftWidth:n,rightWidth:s}=this,o=Dh(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(n+s+e>o)if(o>n+s)e=o-n-s;else return 0}return e}getPinnedColumnsOverflowingViewport(e){let t=this.rightWidth??0,i=this.leftWidth??0,n=t+i,s=!1;if(n<e)return{columns:[],hasLockedPinned:s};let{visibleCols:o}=this.beans,r=[...o.leftCols],a=[...o.rightCols],l=0,c=0,d=0,u=[],h=n-d-e;for(;(c<r.length||l<a.length)&&h>0;){if(l<a.length){let p=a[l++];if(p.colDef.lockPinned){s=!0;continue}h-=p.getActualWidth(),u.push(p)}if(c<r.length&&h>0){let p=r[c++];if(p.colDef.lockPinned){s=!0;continue}h-=p.getActualWidth(),u.push(p)}}return{columns:u,hasLockedPinned:s}}},R7={moduleName:"PinnedColumn",version:Y,beans:[I7],css:[_7]},A7=class extends O{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=Vi(this,this.updateAnnouncement.bind(this),200)}postConstruct(){let e=this.beans,t=Qt(e),i=this.descriptionContainer=t.createElement("div");i.classList.add("ag-aria-description-container"),_R(i,"polite"),aG(i,"additions text"),rG(i,!0),e.eGridDiv.appendChild(i)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;let e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}},50)}destroy(){super.destroy();let{descriptionContainer:e}=this;e&&(Ki(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},k7={moduleName:"Aria",version:Y,beans:[A7]};function T7(e){e.overlays?.showLoadingOverlay()}function L7(e){e.overlays?.showNoRowsOverlay()}function F7(e){e.overlays?.hideOverlay()}var P7=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",xk=class extends st{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=K,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(P7)}handleKeyDown(e){if(e.key!==L.TAB||e.defaultPrevented||Zo(e))return;let t=this.beans;if(pl(t,this.eOverlayWrapper,!1,e.shiftKey))return;let n=!1;e.shiftKey?n=t.focusSvc.focusGridView({column:yt(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):n=Zc(t,!1),n&&e.preventDefault()}updateLayoutClasses(e,t){let i=this.eOverlayWrapper.classList,{AUTO_HEIGHT:n,NORMAL:s,PRINT:o}=Vs;i.toggle(n,t.autoHeight),i.toggle(s,t.normal),i.toggle(o,t.print)}postConstruct(){this.createManagedBean(new qw(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){let t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),i&&this.isGridFocused()){let s=Bt(this.beans);s&&!qR(this.beans)&&(this.elToFocusAfter=s)}e.then(s=>{if(this.activePromise!==e){this.activeOverlay!==s&&(this.destroyBean(s),s=null);return}if(this.activePromise=null,!!s){if(this.activeOverlay!==s&&(this.eOverlayWrapper.appendChild(s.getGui()),this.activeOverlay=s,n)){let o=s;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:r})=>{o.refresh?.(Se(this.gos,w({},r??{})))})}i&&this.isGridFocused()&&dl(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;let e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);let i=this.updateListenerDestroyFunc;i&&(i(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Ki(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){let e=Bt(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},O7={selector:"AG-OVERLAY-WRAPPER",component:xk},N7=class extends O{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=cn(this.gos),this.isServerSide=!this.isClientSide&&Qc(this.gos);let e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;let e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;let e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){z(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return O7}getOverlayWrapperCompClass(){return xk}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}let{state:e,isClientSide:t,isServerSide:i,beans:{gos:n,colModel:s,rowModel:o}}=this,r=this.gos.get("loading");r!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&r===void 0&&!n.get("suppressLoadingOverlay")&&(r=!n.get("columnDefs")||!s.ready||!n.get("rowData")&&t),r?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&o.isEmpty()&&!n.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!i&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(dH(this.beans.userCompFactory,Se(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(uH(this.beans.userCompFactory,Se(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,i){let n=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(n,t,this.isExclusive(),i),this.refreshWrapperPadding()}updateExclusive(){let e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){let e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},B7={moduleName:"Overlay",version:Y,userComponents:{agLoadingOverlay:oj,agNoRowsOverlay:rj},apiFunctions:{showLoadingOverlay:T7,showNoRowsOverlay:L7,hideOverlay:F7},beans:[N7]},z7=class extends O{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=bG(),ta(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;let e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;ta(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){let t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;let t=this.modelHeight-this.getUiBodyHeight(),i=e/t;return this.maxScrollY*i}},V7=400,G7=class extends O{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{let e=()=>{this.getAllCellCtrls().forEach(o=>o.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(o=>o.updateRangeBordersIfRangeCount())},i=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},n=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Qo(this.gos)?i():n()}),Qo(this.gos)&&i()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",i=>this.onSuppressCellFocusChanged(i.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:i,previousValue:n})=>{(!n&&i||n&&!i)&&this.redrawRows()});let{stickyRowSvc:e,gos:t}=this.beans;if(e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{let i=this.gridBodyCtrl;i.setStickyTopHeight(0),i.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Gi(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){let e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new H7(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){let e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),i=this.cachedRowCtrls?.getEntries()??[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{let{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(i=>t.onFlashCells(i,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{let i=l=>{this.getAllCellCtrls().forEach(c=>{c.column===t&&l(c)})},n=()=>{i(l=>l.onLeftChanged())},s=()=>{i(l=>l.onWidthChanged())},o=()=>{i(l=>l.onFirstRightPinnedChanged())},r=()=>{i(l=>l.onLastLeftPinnedChanged())},a=()=>{i(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",n),t.__addEventListener("widthChanged",s),t.__addEventListener("firstRightPinnedChanged",o),t.__addEventListener("lastLeftPinnedChanged",r),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",n),t.__removeEventListener("widthChanged",s),t.__removeEventListener("firstRightPinnedChanged",o),t.__removeEventListener("lastLeftPinnedChanged",r),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){let e=Gi(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;let e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){let t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){let t=[];return this.getAllRowCtrls().forEach(i=>{let n=i.getCellCtrl(e,!0)?.eGui;n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}refreshFloatingRows(e,t){let{pinnedRowModel:i,beans:n,printLayout:s}=this,o=Object.fromEntries(e.map(a=>[a.rowNode.id,a]));i?.forEachPinnedRow(t,(a,l)=>{let c=e[l];c&&i.getPinnedRowById(c.rowNode.id,t)===void 0&&(c.destroyFirstPass(),c.destroySecondPass()),a.id in o?(e[l]=o[a.id],delete o[a.id]):e[l]=new Pf(a,n,!1,!1,s)});let r=(t==="top"?i?.getPinnedTopRowCount():i?.getPinnedBottomRowCount())??0;e.length=r}onPinnedRowDataChanged(){let e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{let i=n=>{let s=n[e.rowIndex];s&&s.rowNode===e&&(s.destroyFirstPass(),s.destroySecondPass(),n[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e?.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){let t=e?.suppressKeepFocus?null:this.focusSvc.getFocusCellToUseAfterRefresh();if(t==null)return null;let i=Bt(this.beans),n=Sf(this.gos,i,kf),s=Sf(this.gos,i,Fh);return n||s?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();let t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);let i=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&zc(this.gos),s=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();let{stickyRowFeature:o}=this;if(o){o.checkStickyRows();let r=o.extraTopHeight+o.extraBottomHeight;r&&this.updateContainerHeights(r)}this.recycleRows(s,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){let t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){let{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let i=this.pageBounds.getCurrentPageHeight();i===0&&(i=1),t.setModelHeight(i+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(ea(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusSvc.restoreFocusedCell(e,()=>{this.onCellFocusChanged(Se(this.gos,{rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}getAllCellCtrls(){let e=[],t=this.getAllRowCtrls(),i=t.length;for(let n=0;n<i;n++){let s=t[n].getAllCellCtrls(),o=s.length;for(let r=0;r<o;r++)e.push(s[r])}return e}getAllRowCtrls(){let{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),i=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...i,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,i){let n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,i)}refreshCells(e={}){let t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(let i of this.getCellCtrls(e.rowNodes,e.columns))i.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(let i of this.getRowCtrls(e)){if(!i.isFullWidth())continue;i.refreshFullWidth()||this.redrawRow(i.rowNode,!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getRowCtrls(e){let t=kw(e),i=this.getAllRowCtrls();return!e||!t?i:i.filter(n=>{let s=n.rowNode;return Tw(s,t)})}getCellCtrls(e,t){let i;U(t)&&(i={},t.forEach(s=>{let o=this.colModel.getCol(s);U(o)&&(i[o.getId()]=!0)}));let n=[];return this.getRowCtrls(e).forEach(s=>{s.getAllCellCtrls().forEach(o=>{let r=o.column.getId();i&&!i[r]||n.push(o)})}),n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){let t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){let e=[];for(let i of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[i].rowNode.id==null&&e.push(i);this.removeRowCtrls(e);let t={};for(let i of Object.values(this.rowCtrlsByRowIndex)){let n=i.rowNode;t[n.id]=i}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(i=>{let n=this.rowCtrlsByRowIndex[i];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){let{afterScroll:t}=e,i,n=this.stickyRowFeature;n&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);let s=this.firstRenderedRow,o=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let r=!1;if(n){r=n.checkStickyRows();let l=n.extraTopHeight+n.extraBottomHeight;l&&this.updateContainerHeights(l)}let a=this.firstRenderedRow!==s||this.lastRenderedRow!==o;if(!(t&&!r&&!a)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!r),i!=null)){let l=this.getCellToRestoreFocusToAfterRefresh();i!=null&&l==null&&(this.beans.animationFrameSvc?.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){let i={};e.forEach(o=>i[o]=!0);let s=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!i[o]);this.removeRowCtrls(s,t)}calculateIndexesToDraw(e){let t=[];for(let s=this.firstRenderedRow;s<=this.lastRenderedRow;s++)t.push(s);let i=s=>{let o=s.rowNode.rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&t.push(o)};for(let s of Object.values(this.rowCtrlsByRowIndex))i(s);if(e)for(let s of Object.values(e))i(s);t.sort((s,o)=>s-o);let n=[];for(let s=0;s<t.length;s++){let o=t[s],r=this.rowModel.getRow(o);r&&!r.sticky&&n.push(o)}return n}recycleRows(e,t=!1,i=!1){let n=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(n,!t);let s=[];if(n.forEach(o=>{let r=this.createOrUpdateRowCtrl(o,e,t,i);U(r)&&s.push(r)}),e){let{animationFrameSvc:o}=this.beans;o&&i&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?o.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){let{visibleCols:e}=this.beans,t=e.isPinningLeft(),i=e.isPinningRight();(this.pinningLeft!==t||i!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=i,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){let e=[];this.getFullWidthRowCtrls().forEach(t=>{let i=t.rowNode.rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){let t=kw(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;let n=i.rowNode;return!(t!=null&&!Tw(n,t))})}createOrUpdateRowCtrl(e,t,i,n){let s,o=this.rowCtrlsByRowIndex[e];if(o||(s=this.rowModel.getRow(e),U(s)&&U(t)&&t[s.id]&&s.alreadyRendered&&(o=t[s.id],t[s.id]=null)),!o)if(s||(s=this.rowModel.getRow(e)),U(s))o=this.createRowCon(s,i,n);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,t){let i=[];if(e){for(let n of Object.values(e))if(n){if(this.cachedRowCtrls&&n.isCacheable()){this.cachedRowCtrls.addRow(n);continue}if(n.destroyFirstPass(!t),t){let s=n.instanceId;this.zombieRowCtrls[s]=n,i.push(()=>{n.destroySecondPass(),delete this.zombieRowCtrls[s]})}else n.destroySecondPass()}}t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>i.forEach(n=>n()),V7))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){let e=this.getRowBuffer(),t=ol(this.beans);return e*t}workOutFirstAndLastRowsToRender(){let{rowContainerHeight:e,pageBounds:t,rowModel:i}=this;e.updateOffset();let n,s;if(!i.isRowsToRender())n=0,s=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),n=t.getFirstRow(),s=t.getLastRow();else{let d=this.getRowBufferInPixels(),u=this.ctrlsSvc.getScrollFeature(),h=this.gos.get("suppressRowVirtualisation"),p=!1,g,m;do{let S=t.getPixelOffset(),{pageFirstPixel:M,pageLastPixel:D}=t.getCurrentPagePixelRange(),E=e.divStretchOffset,R=u.getVScrollPosition(),I=R.top,T=R.bottom;h?(g=M+E,m=D+E):(g=Math.max(I+S-d,M)+E,m=Math.min(T+S+d,D)+E),this.firstVisibleVPixel=Math.max(I+S,M)+E,this.lastVisibleVPixel=Math.min(T+S,D)+E,p=this.ensureAllRowsInRangeHaveHeightsCalculated(g,m)}while(p);let f=i.getRowIndexAtPixel(g),v=i.getRowIndexAtPixel(m),y=t.getFirstRow(),C=t.getLastRow();f<y&&(f=y),v>C&&(v=C),n=f,s=v}let o=Gi(this.gos,"normal"),r=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);o&&!r&&s-n>a&&(s=n+a);let l=n!==this.firstRenderedRow,c=s!==this.lastRenderedRow;(l||c)&&(this.firstRenderedRow=n,this.lastRenderedRow=s,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:n,lastRow:s}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,ir(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){let i=this.pinnedRowModel?.ensureRowHeightsValid(),n=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:s,rowModel:o}=this,r=o.ensureRowHeightsValid(e,t,s.getFirstRow(),s.getLastRow());return(r||n)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),n||r||i?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){let n=e.rowNode,s=this.focusSvc.isRowNodeFocused(n),o=e.editing,r=n.detail;return s||o||r?!!this.isRowPresent(n):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowPresent(e)??!0:!1}createRowCon(e,t,i){let n=this.cachedRowCtrls?.getRow(e)??null;if(n)return n;let s=this.gos.get("suppressAnimationFrame"),o=i&&!s&&!this.printLayout&&!!this.beans.animationFrameSvc;return new Pf(e,this.beans,t,o,this.printLayout)}getRenderedNodes(){let e=Object.values(this.rowCtrlsByRowIndex).map(n=>n.rowNode),t=this.getStickyTopRowCtrls().map(n=>n.rowNode),i=this.getStickyBottomRowCtrls().map(n=>n.rowNode);return[...t,...e,...i]}getRowByPosition(e){let t,{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(n=>n.rowNode.rowIndex===i)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.rowNode.rowIndex===i)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;let n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},H7=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){let t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;let t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){let t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],Ws(this.entriesList,i)}removeFromCache(e){let t=e.rowNode.id;delete this.entriesMap[t],Ws(this.entriesList,e)}getEntries(){return this.entriesList}};function kw(e){if(!e)return;let t={top:{},bottom:{},normal:{}};return e.forEach(i=>{let n=i.id;switch(i.rowPinned){case"top":t.top[n]=i;break;case"bottom":t.bottom[n]=i;break;default:t.normal[n]=i;break}}),t}function Tw(e,t){let i=e.id;switch(e.rowPinned){case"top":return t.top[i]!=null;case"bottom":return t.bottom[i]!=null;default:return t.normal[i]!=null}}var j7=class extends O{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){let{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=fo(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=fo(e))}doFullSort(e,t){let i=e.map((n,s)=>({currentPos:s,rowNode:n}));return i.sort(this.compareRowNodes.bind(this,t)),i.map(n=>n.rowNode)}compareRowNodes(e,t,i){let n=t.rowNode,s=i.rowNode;for(let o=0,r=e.length;o<r;o++){let a=e[o],l=a.sort==="desc",c=this.getValue(n,a.column),d=this.getValue(s,a.column),u,h=this.getComparator(a,n);if(h?u=h(c,d,n,s,l):u=IG(c,d,this.isAccentedSort),!isNaN(u)&&u!==0)return a.sort==="asc"?u:u*-1}return t.currentPos-i.currentPos}getComparator(e,t){let i=e.column,n=i.getColDef().comparator;if(n!=null)return n;if(!i.getColDef().showRowGroup)return;let s=!t.group&&i.getColDef().field;if(!s)return;let o=this.beans.colModel.getColDefCol(s);if(o)return o.getColDef().comparator}getValue(e,t){let{valueSvc:i,colModel:n,showRowGroupCols:s,gos:o}=this.beans;if(!this.primaryColumnsSortGroups)return i.getValue(t,e,!1);if(e.rowGroupColumn===t){if(Ww(o,n.isPivotActive())){let c=e.allLeafChildren?.[0];return c?i.getValue(t,c,!1):void 0}let l=s?.getShowRowGroupCol(t.getId());return l?e.groupData?.[l.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return i.getValue(t,e,!1)}};function W7(e){e.sortSvc?.onSortChanged("api")}function uh(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var U7=`<span class="ag-sort-indicator-container">
        ${uh("Order","order")}
        ${uh("Asc","ascending-icon")}
        ${uh("Desc","descending-icon")}
        ${uh("Mixed","mixed-icon")}
        ${uh("None","none-icon")}
    </span>`,ux=class extends st{constructor(e){super(),this.eSortOrder=K,this.eSortAsc=K,this.eSortDesc=K,this.eSortMixed=K,this.eSortNone=K,e||this.setTemplate(U7)}attachCustomElements(e,t,i,n,s){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=n,this.eSortNone=s}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);let i=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,i){if(t==null)return;let n=ps(e,this.beans,i);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){let{eSortAsc:e,eSortDesc:t,eSortNone:i,column:n,gos:s,beans:o}=this,r=o.sortSvc.getDisplaySortForColumn(n);if(e&&Nt(e,r==="asc",{skipAriaHidden:!0}),t&&Nt(t,r==="desc",{skipAriaHidden:!0}),i){let a=!n.getColDef().unSortIcon&&!s.get("unSortIcon"),l=r==null;Nt(i,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){let{eSortMixed:e,column:t,gos:i}=this;this.addInIcon("sortUnSort",e,t);let n=t.getColDef().showRowGroup;fo(i)&&n&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){let{eSortMixed:e,beans:t,column:i}=this;if(e){let n=t.sortSvc.getDisplaySortForColumn(i)==="mixed";Nt(e,n,{skipAriaHidden:!0})}}updateSortOrder(){let{eSortOrder:e,column:t,beans:{sortSvc:i}}=this;if(!e)return;let n=i.getColumnsWithSortingOrdered(),s=i.getDisplaySortIndexForColumn(t)??-1,o=n.some(a=>i.getDisplaySortIndexForColumn(a)??!1),r=s>=0&&o;Nt(e,r,{skipAriaHidden:!0}),s>=0?e.textContent=(s+1).toString():Ki(e)}},$7={selector:"AG-SORT-INDICATOR",component:ux},Ph=["asc","desc",null],Y7=class extends O{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,i){let n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,i)}progressSortFromEvent(e,t){let n=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,n,"uiColumnSorted")}setSortForColumn(e,t,i,n){t!=="asc"&&t!=="desc"&&(t=null);let{gos:s,showRowGroupCols:o}=this.beans,r=fo(s),a=[e];if(r&&e.getColDef().showRowGroup){let u=o?.getSourceColumnsForGroupColumn?.(e)?.filter(h=>h.isSortable());u&&(a=[e,...u])}a.forEach(d=>this.setColSort(d,t,n));let l=(i||s.get("alwaysMultiSort"))&&!s.get("suppressMultiSort"),c=[];if(!l){let d=this.clearSortBarTheseColumns(a,n);c.push(...d)}this.updateSortIndex(e),c.push(...a),this.dispatchSortChangedEvents(n,c)}updateSortIndex(e){let{gos:t,colModel:i,showRowGroupCols:n}=this.beans,s=fo(t),o=n?.getShowRowGroupCol(e.getId()),r=s&&o||e,a=this.getColumnsWithSortingOrdered();i.getAllCols().forEach(d=>this.setColSortIndex(d,null));let l=a.filter(d=>s&&d.getColDef().showRowGroup?!1:d!==r);(r.getSort()?[...l,r]:l).forEach((d,u)=>this.setColSortIndex(d,u))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let t=this.beans.colModel.getAllCols().filter(i=>!!i.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){let i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventSvc.dispatchEvent(i)}clearSortBarTheseColumns(e,t){let i=[];return this.beans.colModel.getAllCols().forEach(n=>{e.includes(n)||(n.getSort()&&i.push(n),this.setColSort(n,void 0,t))}),i}getNextSortDirection(e){let t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??Ph,i=t.indexOf(e.getSort()),n=i<0,s=i==t.length-1;return n||s?t[0]:t[i+1]}getIndexedSortMap(){let{gos:e,colModel:t,showRowGroupCols:i,rowGroupColsSvc:n}=this.beans,s=t.getAllCols().filter(c=>!!c.getSort());if(t.isPivotMode()){let c=fo(e);s=s.filter(d=>{let u=!!d.getAggFunc(),h=!d.isPrimary(),p=c?i?.getShowRowGroupCol(d.getId()):d.getColDef().showRowGroup;return u||h||p})}let o=n?.columns.filter(c=>!!c.getSort())??[],r={};s.forEach((c,d)=>r[c.getId()]=d),s.sort((c,d)=>{let u=c.getSortIndex(),h=d.getSortIndex();if(u!=null&&h!=null)return u-h;if(u==null&&h==null){let p=r[c.getId()],g=r[d.getId()];return p>g?1:-1}else return h==null?-1:1});let a=fo(e)&&!!o.length;a&&(s=[...new Set(s.map(c=>i?.getShowRowGroupCol(c.getId())??c))]);let l=new Map;return s.forEach((c,d)=>l.set(c,d)),a&&o.forEach(c=>{let d=i.getShowRowGroupCol(c.getId());l.set(c,l.get(d))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,n])=>t-n).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){let t=fo(this.gos),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){let t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();let n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,s=n[0].getSort();return n.every(r=>r.getSort()==s)?s:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,i){let n=0;e.addManagedListeners(t,{movingChanged:()=>{n=new Date().getTime()}}),i&&e.addManagedElementListeners(i,{click:o=>{let r=t.isMoving(),l=new Date().getTime()-n<50;r||l||this.progressSortFromEvent(t,o)}});let s=()=>{let o=t.getSort();if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",o==="asc"),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",o==="desc"),e.addOrRemoveCssClass("ag-header-cell-sorted-none",!o),t.getColDef().showRowGroup){let l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(c=>t.getSort()==c.getSort());e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:s,columnRowGroupChanged:s})}initCol(e){let{sort:t,initialSort:i,sortIndex:n,initialSortIndex:s}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(i==="asc"||i==="desc")&&(e.sort=i),n!==void 0?n!==null&&(e.sortIndex=n):s!==null&&(e.sortIndex=s)}updateColSort(e,t,i){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,i):this.setColSort(e,void 0,i))}setColSort(e,t,i){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",i)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new ux(e)}getSortIndicatorSelector(){return $7}},Sk={moduleName:"Sort",version:Y,beans:[Y7,j7],apiFunctions:{onSortChanged:W7},userComponents:{agSortIndicator:ux},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},K7=class extends O{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{let e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){let{colModel:t,rowModel:i}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),i.start()}gridReady(){let{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),ta(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){let t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,Gc(e.source))}}};function Z7(e){e.valueCache?.expire()}function q7(e,t){let{colKey:i,rowNode:n,useFormatter:s}=t,o=e.colModel.getColDefCol(i)??e.colModel.getCol(i);if(Lt(o))return null;let r=e.valueSvc.getValueForDisplay(o,n);return s?e.valueSvc.formatValue(o,n,r)??qo(r,!0):r}var Nf=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){let{rowNode:i,children:n}=e;if(n)for(let s=0;s<n.length;++s)this.depthFirstSearchChangedPath(n[s],t);t(i)}depthFirstSearchEverything(e,t,i){let n=e.childrenAfterGroup;if(n)for(let s=0,o=n.length;s<o;++s){let r=n[s];r.childrenAfterGroup?this.depthFirstSearchEverything(r,t,i):i&&t(r)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){let n={rowNode:t,children:null};this.mapToItems[t.id]=n,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(n=>this.nodeIdsToColumns[i.id][n.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let n=0;n<t;n++){let s=this.mapToItems[i.id],o=this.mapToItems[i.parent.id];o.children||(o.children=[]),o.children.push(s),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;let i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;let i=this.nodeIdsToColumns[e.id];return t.filter(s=>i[s.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;let i=this.nodeIdsToColumns[e.id];return t.filter(s=>!i[s.getId()])}},X7="paste",Q7=class extends O{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){let{gos:e,rowModel:t}=this.beans;cn(e,t)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){let{gos:t,rowRenderer:i}=this.beans;if(e.source===X7||t.get("suppressChangeDetection"))return;let n=e.node,s=[n],o=this.clientSideRowModel,r=o?.rootNode;if(r&&!n.isRowPinned()){let a=t.get("aggregateOnlyChangedColumns"),l=new Nf(a,r);l.addParentNode(n.parent,[e.column]),o.doAggregate(l),l.forEachChangedNodeDepthFirst(c=>{s.push(c)})}i.refreshCells({rowNodes:s})}},J7=class extends O{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);ht(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(i){return ht(16,{expression:e,params:t,e:i}),null}}createExpressionFunction(e){let t=this.cache;if(t[e])return t[e];let i=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",i);return t[e]=n,n}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},e9=class extends O{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){let e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){if(this.active){let n=this.cacheVersion;e.__cacheVersion!==n&&(e.__cacheVersion=n,e.__cacheData={}),e.__cacheData[t]=i}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},t9={moduleName:"ValueCache",version:Y,beans:[e9],apiFunctions:{expireValueCache:Z7}},i9={moduleName:"Expression",version:Y,beans:[J7]},n9={moduleName:"ChangeDetection",version:Y,beans:[Q7]},s9={moduleName:"CellApi",version:Y,apiFunctions:{getCellValue:q7}},o9=class extends O{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Qc(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;let e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t){let i=t.leafGroup&&this.colModel.isPivotMode(),n=t.group&&t.expanded&&!t.footer&&!i,s=this.gos.get("groupSuppressBlankHeader");if(!n||s)return this.getValue(e,t);let o=!1,r=this.gos.get("groupTotalRow");typeof r!="function"?o=!!r:o=!!this.gos.getCallback("groupTotalRow")({node:this});let a=n&&o;return this.getValue(e,t,a)}getValue(e,t,i=!1){if(this.initialised||this.init(),!t)return;let n=e.getColDef(),s=n.field,o=e.getColId(),r=t.data,a,l=t.groupData&&t.groupData[o]!==void 0,c=!i&&t.aggData&&t.aggData[o]!==void 0,d=this.isSsrm&&i&&!!e.getColDef().aggFunc,u=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&c?a=t.aggData[o]:this.isTreeData&&n.valueGetter?a=this.executeValueGetter(n.valueGetter,r,e,t):this.isTreeData&&s&&r?a=vh(r,s,e.isFieldContainsDots()):l?a=t.groupData[o]:c?a=t.aggData[o]:n.valueGetter?a=this.executeValueGetter(n.valueGetter,r,e,t):u?a=vh(r,t.field,e.isFieldContainsDots()):s&&r&&!d&&(a=vh(r,s,e.isFieldContainsDots())),this.cellExpressions&&typeof a=="string"&&a.indexOf("=")===0){let h=a.substring(1);a=this.executeValueGetter(h,r,e,t)}if(a==null){let h=this.getOpenedGroup(t,e);if(h!=null)return h}return a}parseValue(e,t,i,n){let s=e.getColDef(),o=s.valueParser;if(U(o)){let r=Se(this.gos,{node:t,data:t?.data,oldValue:n,newValue:i,colDef:s,column:e});return typeof o=="function"?o(r):this.expressionSvc?.evaluate(o,r)}return i}getDeleteValue(e,t){return U(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,i,n,s=!0){let o=null,r,a=e.getColDef();if(n?r=n:s&&(r=a.valueFormatter),r){let l=Se(this.gos,{value:i,node:t,data:t?t.data:null,colDef:a,column:e});typeof r=="function"?o=r(l):o=this.expressionSvc?this.expressionSvc.evaluate(r,l):null}else if(a.refData)return a.refData[i]||"";return o==null&&Array.isArray(i)&&(o=i.join(", ")),o}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;let n=t.getColDef().showRowGroup,s=e.parent;for(;s!=null;){if(s.rowGroupColumn&&(n===!0||n===s.rowGroupColumn.getColId()))return s.key;s=s.parent}}setValue(e,t,i,n){let s=this.colModel.getColDefCol(t);if(!e||!s)return!1;Lt(e.data)&&(e.data={});let{field:o,valueSetter:r}=s.getColDef();if(Lt(o)&&Lt(r))return z(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(s,i))return z(135),!1;let a=Se(this.gos,{node:e,data:e.data,oldValue:this.getValue(s,e),newValue:i,colDef:s.getColDef(),column:s});a.newValue=i;let l;if(U(r)?typeof r=="function"?l=r(a):l=this.expressionSvc?.evaluate(r,a):l=this.setValueUsingField(e.data,o,i,s.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();let c=this.getValue(s,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:c,value:c,source:n}),!0}callColumnCellValueChangedHandler(e){let t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,i,n){if(!t)return!1;let s=!1;if(!n)s=e[t]===i,s||(e[t]=i);else{let o=t.split("."),r=e;for(;o.length>0&&r;){let a=o.shift();o.length===0?(s=r[a]===i,s||(r[a]=i)):r=r[a]}}return!s}executeValueGetterWithValueCache(e,t,i,n){let s=i.getColId(),o=this.valueCache.getValue(n,s);if(o!==void 0)return o;let r=this.executeValueGetterWithoutValueCache(e,t,i,n);return this.valueCache.setValue(n,s,r),r}executeValueGetterWithoutValueCache(e,t,i,n){let s=Se(this.gos,{data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)}),o;return typeof e=="function"?o=e(s):o=this.expressionSvc?.evaluate(e,s),o}getValueCallback(e,t){let i=this.colModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){let i=this.getValue(e,t),n=e.getColDef().keyCreator,s=i;if(n){let o=Se(this.gos,{value:i,colDef:e.getColDef(),column:e,node:t,data:t.data});s=n(o)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&z(121)),s}},r9={moduleName:"CommunityCore",version:Y,beans:[i7,i8,$W,L6,z7,aW,qU,r7,A6,D7,M7,G7,o9,e7,ZU,t7,KW,K7,GW,HW],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:n8,destroy:s8,isDestroyed:o8,getGridOption:r8,setGridOption:a8,updateGridOptions:ik},dependsOn:[NW,z8,$8,Sk,d7,cW,u7,B7,n9,h7,S7,R7,k7,g7,UW,BW,i9]},a9=(()=>{let e=class Ja{static applyGlobalGridOptions(i){if(!Ja.gridOptions)return w({},i);let n={};return Rn(n,Ja.gridOptions,!0,!0),Ja.mergeStrategy==="deep"?Rn(n,i,!0,!0):n=w(w({},n),i),Ja.gridOptions.context&&(n.context=Ja.gridOptions.context),i.context&&(Ja.mergeStrategy==="deep"&&n.context&&Rn(i.context,n.context,!0,!0),n.context=i.context),n}};return e.gridOptions=void 0,e.mergeStrategy="shallow",e})(),l9=a9;function Mk(e,t,i){if(!t)return ht(11),{};let n=i,s;if(!n?.setThemeOnGridDiv){let r=document.createElement("div");r.style.height="100%",e.appendChild(r),e=r,s=()=>e.remove()}return new d9().create(e,t,r=>{let a=new e8(e);r.createBean(a)},void 0,i,s)}var c9=1,d9=class{create(e,t,i,n,s,o){let r=l9.applyGlobalGridOptions(t),a=r.gridId??String(c9++),l=r.rowModelType??"clientSide",c=this.getRegisteredModules(s,a,l),d=this.createBeansList(l,c,a),u=this.createProvidedBeans(e,r,s);if(!d)return;let h={providedBeanInstances:u,beanClasses:d,gridId:a,beanInitComparator:Bj,beanDestroyComparator:zj,derivedBeans:[Oj],destroyCallback:o},p=new MH(h);return this.registerModuleFeatures(p,c),i(p),p.getBean("syncSvc").start(),n&&n(p),p.getBean("gridApi")}getRegisteredModules(e,t,i){return Lh(r9,void 0),e?.modules?.forEach(n=>Lh(n,t)),CH(t,i)}registerModuleFeatures(e,t){let i=e.getBean("registry"),n=e.getBean("apiFunctionSvc");t.forEach(s=>{i.registerModule(s);let o=s.apiFunctions;o&&Object.keys(o).forEach(a=>{n?.addFunction(a,o[a])})})}createProvidedBeans(e,t,i){let n=i?i.frameworkOverrides:null;Lt(n)&&(n=new lx);let s={gridOptions:t,eGridDiv:e,globalListener:i?i.globalListener:null,globalSyncListener:i?i.globalSyncListener:null,frameworkOverrides:n};return i&&i.providedBeanInstances&&Object.assign(s,i.providedBeanInstances),s}createBeansList(e,t,i){let s={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"}[e];if(!s){gw(201,{rowModelType:e},`Unknown rowModelType ${e}.`);return}if(!DA(s,i,e)){gw(200,{reasonOrId:`rowModelType = '${e}'`,moduleName:s,gridScoped:Kw(),gridId:i,rowModelType:e},`Missing module ${s}Module for rowModelType ${e}. 
If upgrading from before v33, see ${nl}/upgrading-to-ag-grid-33/#changes-to-modules/`);return}let o=new Set;return t.forEach(r=>r.beans?.forEach(a=>o.add(a))),Array.from(o)}};function bo(e){let t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function Wf(e){let t=e.rowModel;return t.getType()==="infinite"?t:void 0}function Dk(e){let t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var u9=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],h9=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged","beforeRefreshModel"],p9=[...u9,...h9],g9=class extends O{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){let e=this.gos,t=e.getCallback("getLocaleText");if(t)return(n,s,o)=>t({key:n,defaultValue:s,variableValues:o});let i=e.get("localeText");return(n,s,o)=>{let r=i&&i[n];if(r&&o&&o.length){let a=0;for(;!(a>=o.length||r.indexOf("${variable}")===-1);)r=r.replace("${variable}",o[a++])}return r??s}}},m9=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow","themeCssLayer"],f9=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef"],v9=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],_k=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],y9=["theme","rowSelection"],hx=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild"],Ek=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],b9=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter"],C9=[...v9,...f9,...m9,..._k,...b9,...Ek,...hx,...y9],Ik=class{wrap(e,t,i,n){let s=this.createWrapper(e,n);return t?.forEach(o=>{this.createMethod(s,o,!0)}),i?.forEach(o=>{this.createMethod(s,o,!1)}),s}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&z(49,{methodName:t}),null)}}},w9=class extends ed{constructor(){super('<div class="ag-tooltip"></div>')}init(e){let{value:t}=e;this.getGui().textContent=qo(t,!0)}};function Rk(e){let{inputValue:t,allSuggestions:i,hideIrrelevant:n,filterByPercentageOfBestMatch:s,addSequentialWeight:o}=e,r=i.map((c,d)=>({value:c,relevance:S9(t.toLowerCase(),c.toLocaleLowerCase(),o),idx:d}));if(r.sort((c,d)=>d.relevance-c.relevance),n&&(r=r.filter(c=>c.relevance!==0)),r.length>0&&s&&s>0){let d=r[0].relevance*s;r=r.filter(u=>d-u.relevance<0)}let a=[],l=[];for(let c of r)a.push(c.value),l.push(c.idx);return{values:a,indices:l}}function x9(e){let t=[],i=e.length;for(let n=1;n<=i;n++)for(let s=0;s<=i-n;s++){let o=s+n-1;t.push(e.slice(s,o+1))}return t}function S9(e,t,i=!1){let n=e.replace(/\s/g,""),s=t.replace(/\s/g,""),o=n.length,r=s.length,a=new Array(o+1).fill(null).map(()=>new Array(r+1).fill(0));for(let u=0;u<=o;u+=1)a[u][0]=u;for(let u=0;u<=r;u+=1)a[0][u]=u;for(let u=1;u<=o;u++)for(let h=1;h<=r;h++)n[u-1]===s[h-1]?a[u][h]=a[u-1][h-1]:a[u][h]=1+Math.min(a[u][h-1],Math.min(a[u-1][h],a[u-1][h-1]));let l=a[o][r],d=Math.max(o,r)-l;if(i){let u=x9(n);for(let h=0;h<u.length;h++){let p=u[h];s.indexOf(p)!==-1&&(d+=1,d*=p.length)}}return d}function M9(e,t){if(typeof e!="number")return"";let i=t(),n=i("thousandSeparator",","),s=i("decimalSeparator",".");return e.toString().replace(".",s).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${n}`)}var D9=class extends O{getFileName(e){let t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){let t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},_9=class{constructor(e){this.groupColumns=[];let{colModel:t,rowGroupColsSvc:i,colNames:n,valueSvc:s,gos:o,processCellCallback:r,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.colModel=t,this.rowGroupColsSvc=i,this.colNames=n,this.valueSvc=s,this.gos=o,this.processCellCallback=r,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,i,n,s){let r=(!this.gos.get("groupHideOpenParents")||s.footer)&&this.shouldRenderGroupSummaryCell(s,e,t)?this.createValueForGroupNode(e,s):this.valueSvc.getValue(e,s);return this.processCell({accumulatedRowIndex:i,rowNode:s,column:e,value:r,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,i){if(!(e.group&&!this.gos.get("treeData")))return!1;if(this.groupColumns.indexOf(t)!==-1){if(e.groupData?.[t.getId()]!==void 0||Qc(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){let r=t.getColDef();return r==null||r.showRowGroup===!0||r.showRowGroup===this.rowGroupColsSvc?.columns[0].getId()}}let o=Ww(this.gos,this.colModel.isPivotMode());return i===0&&o}getHeaderName(e,t){return e?e(Se(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(Se(this.gos,{column:e,node:t}));let i=this.gos.get("treeData"),n=a=>{if(i)return a.key;let l=a.groupData?.[e.getId()];return!l||!a.rowGroupColumn||a.rowGroupColumn.getColDef().useValueFormatterForExport===!1?l:this.valueSvc.formatValue(a.rowGroupColumn,a,l)??l},s=t.footer,o=[n(t)];if(!jG(this.gos))for(;t.parent;)t=t.parent,o.push(n(t));let r=o.reverse().join(" -> ");return s?`Total ${r}`:r}processCell(e){let{accumulatedRowIndex:t,rowNode:i,column:n,value:s,processCellCallback:o,type:r}=e;return o?{value:o(Se(this.gos,{accumulatedRowIndex:t,column:n,node:i,value:s,type:r,parseValue:a=>this.valueSvc.parseValue(n,i,a,this.valueSvc.getValue(n,i)),formatValue:a=>this.valueSvc.formatValue(n,i,a)??a}))??""}:n.getColDef().useValueFormatterForExport!==!1?{value:s??"",valueFormatted:this.valueSvc.formatValue(n,i,s)}:{value:s??""}}};function E9(e,t){let i=document.defaultView||window;if(!i){z(52);return}let n=document.createElement("a"),s=i.URL.createObjectURL(t);n.setAttribute("href",s),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(n),i.setTimeout(()=>{i.URL.revokeObjectURL(s)},0)}var I9={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0},En="clientSide",an="serverSide",Lc="infinite",R9={onGroupExpandedOrCollapsed:[En],refreshClientSideRowModel:[En],isRowDataEmpty:[En],forEachLeafNode:[En],forEachNodeAfterFilter:[En],forEachNodeAfterFilterAndSort:[En],resetRowHeights:[En],applyTransaction:[En],applyTransactionAsync:[En],flushAsyncTransactions:[En],getBestCostNodeSelection:[En],getServerSideSelectionState:[an],setServerSideSelectionState:[an],applyServerSideTransaction:[an],applyServerSideTransactionAsync:[an],applyServerSideRowData:[an],retryServerSideLoads:[an],flushServerSideAsyncTransactions:[an],refreshServerSide:[an],getServerSideGroupLevelState:[an],refreshInfiniteCache:[Lc],purgeInfiniteCache:[Lc],getInfiniteRowCount:[Lc],isLastRowIndexKnown:[Lc,an],expandAll:[En,an],collapseAll:[En,an],onRowHeightChanged:[En,an],setRowCount:[Lc,an],getCacheBlockState:[Lc,an]},A9={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function k9(e,t,i){let n=A9[e];if(n){let{version:o,new:r,old:a,message:l}=n,c=a??e;return(...d)=>{let u=r?`Please use ${r} instead. `:"";return Nc(`Since ${o} api.${c} is deprecated. ${u}${l??""}`),t.apply(t,d)}}let s=R9[e];return s?(...o)=>{let r=i.rowModel.getType();if(!s.includes(r)){Bc(`api.${e} can only be called when gridOptions.rowModelType is ${s.join(" or ")}`);return}return t.apply(t,o)}:t}var Ak={AdvancedFilter:1,AllEnterprise:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},nw=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],T9={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:nw,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...nw,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...nw,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},L9={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function F9(e,t){let i=[];return(Array.isArray(e)?e:[e]).forEach(n=>{let s=T9[n];s?s.forEach(o=>{let r=L9[o];(!r||r===t)&&i.push(o)}):i.push(n)}),i}var Wc={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar"},P9=e=>{let t=e.map(n=>`import { ${wh(n)} } from '${Ak[n]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(n=>n==="IntegratedCharts"||n==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(n=>wh(n,!0)).join(", ")} ]); 

For more info see: ${nl}/modules/`};function wh(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function O9(e,t){let i=t.filter(o=>o==="IntegratedCharts"||o==="Sparklines"),n="";return!globalThis?.agCharts&&i.length>0?n=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(o=>Ak[o])&&(n=n+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),n}var dR=({reasonOrId:e,moduleName:t,gridScoped:i,gridId:n,rowModelType:s,additionalText:o,isUmd:r})=>{let a=F9(t,s),l=typeof e=="string"?e:V9[e];if(r)return O9(l,a);let c=a.filter(h=>h==="IntegratedCharts"||h==="Sparklines"),d=c.length>0?`${c.map(h=>wh(h)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(h=>wh(h)).join(", "):wh(a[0])} is not registered${i?" for gridId: "+n:""}. ${d} Check if you have registered the module:
`}
${P9(a)}`+(o?` 

${o}`:"")},uR=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,N9=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,B9={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:i})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",i],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${N9(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:({methodName:e})=>`AnimationFrameService.${e} called but animation frames are off`,93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:i,pageSizeOptions:n})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${i?"":" the default"} paginationPageSizeSelector=[${n?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",100:({rowModelType:e})=>`selectAll only available when rowModelType='clientSide', ie not ${e}`,101:({propertyName:e,componentName:t,agGridDefaults:i,jsComps:n})=>{let s=[],o=[...Object.keys(i??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(n??[])],r=Rk({inputValue:t,allSuggestions:o,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return s.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),r.length>0&&s.push(`         Did you mean: [${r.slice(0,3)}]?
`),s.push("If using a custom component check it has been registered correctly."),s},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${nl}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:i})=>["duplicate group keys for row data, keys should be unique",e,t,...i??[]],187:({rowId:e,firstData:t,secondData:i})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",i],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:dR,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${nl}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>uR("IntegratedChartsModule"),258:()=>uR("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:i,gridId:n,rowModelType:s})=>dR({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:Wc[t],gridId:n,gridScoped:i,rowModelType:s}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${nl}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection"};function z9(e,t){let i=B9[e];if(!i)return[`Missing error text for error id ${e}!`];let n=i(t),o=`
See ${$R(e,t)}`;return Array.isArray(n)?n.concat(o):[n,o]}var V9={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},G9=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),H9=()=>({aggFunc:{module:"SharedAggregation"},autoHeight:{supportedRowModels:["clientSide","serverSide"],module:"RowAutoHeight"},cellClass:{module:"CellStyle"},cellClassRules:{module:"CellStyle"},cellEditor:({cellEditor:e,editable:t})=>{if(!t)return null;if(typeof e=="string"){let i=Wc[e];if(i)return{module:i}}return{module:"CustomEditor"}},cellRenderer:({cellRenderer:e})=>{if(typeof e!="string")return null;let t=Wc[e];return t?{module:t}:null},cellRendererParams:{validate:e=>(e.rowGroup!=null||e.rowGroupIndex!=null||e.cellRenderer==="agGroupCellRenderer")&&"checkbox"in e.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},cellStyle:{module:"CellStyle"},children:()=>kk(),columnChooserParams:{module:"ColumnMenu"},contextMenuItems:{module:"ContextMenu"},dndSource:{module:"DragAndDrop"},dndSourceOnRowDrag:{module:"DragAndDrop"},editable:({editable:e,cellEditor:t})=>e&&!t?{module:"TextEditor"}:null,enableCellChangeFlash:{module:"HighlightChanges"},enablePivot:{module:"SharedPivot"},enableRowGroup:{module:"SharedRowGrouping"},enableValue:{module:"SharedAggregation"},filter:({filter:e})=>{if(e&&typeof e!="string"&&typeof e!="boolean")return{module:"CustomFilter"};if(typeof e=="string"){let t=Wc[e];if(t)return{module:t}}return{module:"ColumnFilter"}},floatingFilter:{module:"ColumnFilter"},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerTooltip:{module:"Tooltip"},headerValueGetter:{validate:e=>{let t=e.headerValueGetter;return typeof t=="function"||typeof t=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:e})=>{if(e){if(e.smallDown)return ea(262);if(e.smallLeft)return ea(263);if(e.smallRight)return ea(264)}return null}},mainMenuItems:{module:"ColumnMenu"},menuTabs:e=>{let t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(i=>t.includes(i))?{module:"ColumnMenu"}:null},pivot:{module:"SharedPivot"},pivotIndex:{module:"SharedPivot"},rowDrag:{module:"RowDrag"},rowGroup:{module:"SharedRowGrouping"},rowGroupIndex:{module:"SharedRowGrouping"},sortingOrder:{validate:e=>{let t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){let i=t.filter(n=>!Ph.includes(n));if(i.length>0)return`sortingOrder must be an array with elements from [${Ph.map(xf).join()}], currently it includes [${i.map(xf).join()}]`}else if(!Array.isArray(t)||t.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${t}`;return null}},tooltipField:{module:"Tooltip"},tooltipValueGetter:{module:"Tooltip"},type:{validate:e=>{let t=e.type;return t instanceof Array?t.some(n=>typeof n!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof t=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(e,{suppressRowTransform:t})=>t?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{module:"CellSpan",dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[!1,void 0]},rowSpan:{required:[!1,void 0]}},validate:(e,{rowSelection:t,cellSelection:i,suppressRowTransform:n,enableCellSpan:s,pagination:o,rowDragEntireRow:r,enableCellTextSelection:a})=>typeof t=="object"&&t?.mode==="singleRow"&&t?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":i?"colDef.spanRows is not supported with cellSelection.":n?"colDef.spanRows is not supported with suppressRowTransform.":s?o?"colDef.spanRows is not supported with pagination.":r?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),j9={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},W9=()=>Object.keys(j9),kk=()=>({objectName:"colDef",allProperties:W9(),docsUrl:"column-properties/",deprecations:G9(),validations:H9()}),U9=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."}});function go(e,t,i,n=Number.MAX_VALUE){return typeof t=="number"||t==null?t==null||t>=i&&t<=n?null:n===Number.MAX_VALUE?`${e}: value should be greater than or equal to ${i}`:`${e}: value should be between ${i} and ${n}`:`${e}: value should be a number`}var $9=()=>{let e={alignedGrids:{module:"AlignedGrids"},allowContextMenuWithControlKey:{module:"ContextMenu"},autoSizePadding:{validate({autoSizePadding:i}){return go("autoSizePadding",i,0)}},autoSizeStrategy:{module:"ColumnAutoSize"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:i}){return go("cacheBlockSize",i,1)}},cacheOverflowSize:{validate({cacheOverflowSize:i}){return go("cacheOverflowSize",i,1)}},cellSelection:{module:"CellSelection"},columnHoverHighlight:{module:"ColumnHover"},datasource:{supportedRowModels:["infinite"],module:"InfiniteRowModel"},doesExternalFilterPass:{module:"ExternalFilter"},domLayout:{validate:i=>{let n=i.domLayout,s=["autoHeight","normal","print"];return n&&!s.includes(n)?`domLayout must be one of [${s.join()}], currently it's ${n}`:null}},editType:{module:"EditCore"},enableAdvancedFilter:{module:"AdvancedFilter"},enableCharts:{module:"IntegratedCharts"},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{module:"CellSelection",dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},rowNumbers:{module:"RowNumbers"},getContextMenuItems:{module:"ContextMenu"},getLocaleText:{module:"Locale"},getMainMenuItems:{module:"ColumnMenu"},getRowClass:{module:"RowStyle"},getRowStyle:{module:"RowStyle"},grandTotalRow:{module:"SharedRowGrouping"},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:i})=>{if(i){if(i.smallDown)return ea(262);if(i.smallLeft)return ea(263);if(i.smallRight)return ea(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:i}){return go("infiniteInitialRowCount",i,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},initialState:{module:"GridState"},isExternalFilterPresent:{module:"ExternalFilter"},keepDetailRowsCount:{validate({keepDetailRowsCount:i}){return go("keepDetailRowsCount",i,1)}},localeText:{module:"Locale"},masterDetail:{module:"SharedMasterDetail"},pagination:{module:"Pagination"},paginationPageSize:{validate({paginationPageSize:i}){return go("paginationPageSize",i,1)}},paginationPageSizeSelector:{validate:i=>{let n=i.paginationPageSizeSelector;return typeof n=="boolean"||n==null||n.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pinnedTopRowData:{module:"PinnedRow"},pinnedBottomRowData:{module:"PinnedRow"},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}},module:"SharedPivot"},pivotPanelShow:{module:"RowGroupingPanel"},quickFilterText:{supportedRowModels:["clientSide"],module:"QuickFilter"},rowBuffer:{validate({rowBuffer:i}){return go("rowBuffer",i,0)}},rowClass:{validate:i=>typeof i.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null,module:"RowStyle"},rowClassRules:{module:"RowStyle"},rowData:{supportedRowModels:["clientSide"],module:"ClientSideRowModel"},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{treeData:{required:[!1,void 0]},pagination:{required:[!1,void 0]}},module:"RowDrag"},rowGroupPanelShow:{module:"RowGroupingPanel"},rowSelection:{validate({rowSelection:i}){return i&&typeof i=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':i&&typeof i!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":i&&i.mode!=="multiRow"&&i.mode!=="singleRow"?`Selection mode "${i.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null},module:"SharedRowSelection"},rowStyle:{validate:i=>{let n=i.rowStyle;return n&&typeof n=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null},module:"RowStyle"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"ServerSideRowModel"},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:i}){return go("serverSideInitialRowCount",i,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sideBar:{module:"SideBar"},sortingOrder:{validate:i=>{let n=i.sortingOrder;if(Array.isArray(n)&&n.length>0){let s=n.filter(o=>!Ph.includes(o));if(s.length>0)return`sortingOrder must be an array with elements from [${Ph.map(xf).join()}], currently it includes [${s.map(xf).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},statusBar:{module:"StatusBar"},tooltipHideDelay:{validate:i=>i.tooltipHideDelay&&i.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:i=>i.tooltipShowDelay&&i.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],module:"SharedTreeData",validate:i=>{let n=i.rowModelType??"clientSide";switch(n){case"clientSide":{let{treeDataChildrenField:s,getDataPath:o}=i;return!s&&!o?"treeData requires either 'treeDataChildrenField' or 'getDataPath' in the clientSide row model.":s&&o?"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.":null}case"serverSide":{let s=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${n} row model.`;return i.isServerSideGroup&&i.getServerSideGroupKey?null:s}}return null}},treeDataChildrenField:{module:"SharedTreeData"},undoRedoCellEditing:{module:"UndoRedoEdit"},valueCache:{module:"ValueCache"},viewportDatasource:{supportedRowModels:["viewport"],module:"ViewportRowModel"},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:i}){return go("viewportRowModelBufferSize",i,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:i}){return go("viewportRowModelPageSize",i,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},enableCellSpan:{module:"CellSpan"}},t={};return Ek.forEach(i=>{t[i]={expectedType:"boolean"}}),_k.forEach(i=>{t[i]={expectedType:"number"}}),Rn(t,e),t},Y9=()=>({objectName:"gridOptions",allProperties:[...C9,...p9.map(e=>eA(e))],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:U9(),validations:$9()}),K9={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1},Z9={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore"},q9=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),X9={pinSubMenu:"PinnedColumn",pinLeft:"PinnedColumn",pinRight:"PinnedColumn",clearPinned:"PinnedColumn",valueAggSubMenu:"SharedAggregation",autoSizeThis:"ColumnAutoSize",autoSizeAll:"ColumnAutoSize",rowGroup:"SharedRowGrouping",rowUnGroup:"SharedRowGrouping",resetColumns:"CommunityCore",expandAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],contractAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],copy:"Clipboard",copyWithHeaders:"Clipboard",copyWithGroupHeaders:"Clipboard",cut:"Clipboard",paste:"Clipboard",export:["CsvExport","ExcelExport"],csvExport:"CsvExport",excelExport:"ExcelExport",separator:"CommunityCore",pivotChart:"IntegratedCharts",chartRange:"IntegratedCharts",columnFilter:"ColumnFilter",columnChooser:"ColumnMenu",sortAscending:"Sort",sortDescending:"Sort",sortUnSort:"Sort"},Q9=class extends O{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,kG(this)}postConstruct(){this.processGridOptions(this.gridOptions)}warnOnInitialPropertyUpdate(e,t){e==="api"&&I9[t]&&z(22,{key:t})}processGridOptions(e){this.processOptions(e,Y9())}validateApiFunction(e,t){return k9(e,t,this.beans)}missingUserComponent(e,t,i,n){let s=Wc[t];s?this.gos.assertModuleRegistered(s,`AG Grid '${e}' component: ${t}`):z(101,{propertyName:e,componentName:t,agGridDefaults:i,jsComps:n})}checkRowEvents(e){e$.has(e)&&z(10,{eventType:e})}validateIcon(e){if(q9.has(e)&&z(43,{iconName:e}),K9[e])return;let t=Z9[e];if(t){ht(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:Kw(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}z(134,{iconName:e})}validateMenuItem(e){let t=X9[e];t&&this.gos.assertModuleRegistered(t,`menu item '${e}'`)}isProvidedUserComp(e){return!!Wc[e]}validateColDef(e,t,i){(i||!this.beans.dataTypeSvc?.isColPendingInference(t))&&this.processOptions(e,kk())}processOptions(e,t){let{validations:i,deprecations:n,allProperties:s,propertyExceptions:o,objectName:r,docsUrl:a}=t;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...o??[],...Object.keys(n)],s,r,a);let l=new Set,c=u=>{let h=i[u];if(h)if(typeof h=="function"){let p=h(e,this.gridOptions,this.beans);if(!p)return;if("objectName"in p){let g=e[u];if(Array.isArray(g)){g.forEach(m=>{this.processOptions(m,p)});return}this.processOptions(e[u],p);return}return p}else return h;else return};Object.keys(e).forEach(u=>{let h=n[u];if(h){let{message:S,version:M}=h;l.add(`As of v${M}, ${String(u)} is deprecated. ${S??""}`)}let p=e[u];if(p==null||p===!1)return;let g=c(u);if(!g)return;let{module:m,dependencies:f,validate:v,supportedRowModels:y,expectedType:C}=g;if(C){let S=typeof p;if(S!==C){l.add(`${String(u)} should be of type '${C}' but received '${S}' (${p}).`);return}}if(y){let S=this.gridOptions.rowModelType??"clientSide";if(!y.includes(S)){l.add(`${String(u)} is not supported with the '${S}' row model. It is only valid with: ${y.join(", ")}.`);return}}if(m){let S=Array.isArray(m)?m:[m],M=!0;if(S.forEach(D=>{this.gos.assertModuleRegistered(D,String(u))||(M=!1)}),!M)return}if(f){let S=this.checkForRequiredDependencies(u,f,e);if(S){l.add(S);return}}if(v){let S=v(e,this.gridOptions,this.beans);if(S){l.add(S);return}}}),l.size>0&&l.forEach(u=>{Nc(u)})}checkForRequiredDependencies(e,t,i){let s=Object.entries(t).filter(([o,r])=>{let a=i[o];return!r.required.includes(a)});return s.length===0?null:s.map(([o,r])=>`'${String(e)}' requires '${o}' to be one of [${r.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${r.reason??""}`).join(`
           `)}checkProperties(e,t,i,n,s){let o=["__ob__","__v_skip","__metadata__"],r=J9(Object.getOwnPropertyNames(e),[...o,...t,...i],i),a=Object.keys(r);for(let l of a){let c=r[l],d=`invalid ${n} property '${l}' did you mean any of these: ${c.slice(0,8).join(", ")}.`;i.includes("context")&&(d+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),Nc(d)}if(a.length>0&&s){let l=this.beans.frameworkOverrides.getDocLink(s);Nc(`to see all the valid ${n} properties please check: ${l}`)}}getConsoleMessage(e,t){return z9(e,t)}};function J9(e,t,i){let n={},s=e.filter(o=>!t.some(r=>r===o));return s.length>0&&s.forEach(o=>n[o]=Rk({inputValue:o,allSuggestions:i}).values),n}var e$=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),t$={moduleName:"Validation",version:Y,beans:[Q9]};function Tk(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var i$=class extends O{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){let{changedPath:t}=e;this.filter(t)}filter(e){let t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){let i=(n,s)=>{n.hasChildren()&&e&&!s?n.childrenAfterFilter=n.childrenAfterGroup.filter(o=>{let r=o.childrenAfterFilter&&o.childrenAfterFilter.length>0,a=o.data&&this.filterManager.doesRowPassFilter({rowNode:o});return r||a}):n.childrenAfterFilter=n.childrenAfterGroup,Tk(n)};if(this.doingTreeDataFiltering()){let n=(o,r)=>{if(o.childrenAfterGroup)for(let a=0;a<o.childrenAfterGroup.length;a++){let l=o.childrenAfterGroup[a],c=r||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?n(o.childrenAfterGroup[a],c):i(l,c)}i(o,r)},s=o=>n(o,!1);t.executeFromRootNode(s)}else{let n=s=>i(s,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},n$=class extends nx{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,i,n,s){this.comp=e;let o=Bh(this,this.beans.context,s);this.eButtonShowMainFilter=i,this.eFloatingFilterBody=n,this.setGui(t,o),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(o),this.setupLeft(o),this.setupHover(o),this.setupFocus(o),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(o),this.setupUi(),o.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(o),o.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(o)}),o.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){let{column:e,beans:t}=this,i=e.colDef;return Se(t.gos,{colDef:i,column:e,floatingFilter:!0})}setupActive(){let e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;let e=ps("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Jc(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){let e=this.getLocaleTextFunc();zf(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){let{beans:t}=this;if(Bt(t)===this.eGui)return;let s=pl(t,this.eGui,null,e.shiftKey);if(s){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),s.focus();return}let o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){let t=this.beans.visibleCols,i=this.column;do if(i=e?t.getColBefore(i):t.getColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();switch(e.key){case L.UP:case L.DOWN:t||e.preventDefault();case L.LEFT:case L.RIGHT:if(t)return;e.stopPropagation();case L.ENTER:t&&dl(this.eGui)&&e.preventDefault();break;case L.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;let i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&il(e.relatedTarget,"ag-floating-filter");if(i&&n&&e.target===this.eGui){let s=this.lastFocusEvent,o=!!(s&&s.key===L.TAB);if(s&&o){let r=s.shiftKey;dl(this.eGui,r)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){let t=new ix(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!Yn(this.gos)}setupUserComp(){if(!this.active)return;let e=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){let e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;let{filterManager:t}=this.beans,i=n=>{if(n?.source==="filterDestroyed"&&!this.isAlive())return;let s=this.comp.getFloatingFilterComp();s&&s.then(o=>{if(o){let r=t?.getCurrentFloatingFilterParentModel(this.column),a=n?A(w({},n),{columns:n.columns??[],source:n.source==="api"?"api":"columnFilter"}):null;o.onParentModelChanged(r,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:i}),t?.isFilterActive(this.column)&&i(null)}setupWidth(e){let t=()=>{let i=`${this.column.getActualWidth()}px`;this.comp.setWidth(i)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){let e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){let t=this.active;this.setupActive();let i=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());let n=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!n?this.updateCompDetails(e,n,i):s.then(o=>{!o||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,n)?this.updateCompDetails(e,n,i):this.updateFloatingFilterParams(n)})}updateCompDetails(e,t,i){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){if(!e)return;let t=e.params;this.comp.getFloatingFilterComp()?.then(i=>{i?.refresh&&typeof i.refresh=="function"&&i.refresh(t)})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function s$(e,t){let i=e.colModel.getCol(t);if(!i){ht(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:i,positionBy:"auto"})}function o$(e){e.menuSvc?.hidePopupMenu()}var r$={moduleName:"SharedMenu",version:Y,beans:[sj],apiFunctions:{showColumnMenu:s$,hidePopupMenu:o$}},a$=0,l$=200,c$=class extends O{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){let e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){let{eventSource:t,ePopup:i,column:n,node:s,event:o}=e,r=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,i);let l=!1,c=()=>{let d=this.keepXYWithinBounds(i,r.top-a.top,0),u=i.clientWidth>0?i.clientWidth:200;l||(i.style.minWidth=`${u}px`,l=!0);let p=a.right-a.left-u,g;return this.gos.get("enableRtl")?(g=f(),g<0&&(g=m(),this.setAlignedStyles(i,"left")),g>p&&(g=0,this.setAlignedStyles(i,"right"))):(g=m(),g>p&&(g=f(),this.setAlignedStyles(i,"right")),g<0&&(g=0,this.setAlignedStyles(i,"left"))),{x:g,y:d};function m(){return r.right-a.left-2}function f(){return r.left-a.left-u}};this.positionPopup({ePopup:i,keepWithinBounds:!0,updatePosition:c,postProcessCallback:()=>this.callPostProcessPopup("subMenu",i,t,o instanceof MouseEvent?o:void 0,n,s)})}positionPopupUnderMouseEvent(e){let{ePopup:t,nudgeX:i,nudgeY:n,skipObserver:s}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:!0,skipObserver:s,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){let t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){let{ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:s,eventSource:o,alignSide:r="left",position:a="over",column:l,rowNode:c,type:d}=e,u=o.getBoundingClientRect(),h=this.getParentRect();this.setAlignedTo(o,t);let p=()=>{let g=u.left-h.left;r==="right"&&(g-=t.offsetWidth-u.width);let m;return a==="over"?(m=u.top-h.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,u,h,e.nudgeY||0)==="under"?m=u.top-h.top+u.height:m=u.top-t.offsetHeight-(n||0)*2-h.top),{x:g,y:m}};this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:s,updatePosition:p,postProcessCallback:()=>this.callPostProcessPopup(d,t,o,null,l,c)})}shouldRenderUnderOrAbove(e,t,i,n){let s=i.bottom-t.bottom,o=t.top-i.top,r=e.offsetHeight+n;return s>r?"under":o>r||o>s?"above":"under"}setAlignedStyles(e,t){let i=this.getPopupIndex(e);if(i===-1)return;let n=this.popupList[i],{alignedToElement:s}=n;!s||(["right","left","over","above","under"].forEach(r=>{s.classList.remove(`ag-has-popup-positioned-${r}`),e.classList.remove(`ag-popup-positioned-${r}`)}),!t)||(s.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){let i=this.getPopupIndex(t);if(i!==-1){let n=this.popupList[i];n.alignedToElement=e}}callPostProcessPopup(e,t,i,n,s,o){let r=this.gos.getCallback("postProcessPopup");r&&r({column:s,rowNode:o,ePopup:t,type:e,eventSource:i,mouseEvent:n})}positionPopup(e){let{ePopup:t,keepWithinBounds:i,nudgeX:n,nudgeY:s,skipObserver:o,updatePosition:r}=e,a={width:0,height:0},l=(c=!1)=>{let{x:d,y:u}=r();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,n&&(d+=n),s&&(u+=s),i&&(d=this.keepXYWithinBounds(t,d,1),u=this.keepXYWithinBounds(t,u,0)),t.style.left=`${d}px`,t.style.top=`${u}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!o){let c=sa(this.beans,t,()=>l(!0));setTimeout(()=>c(),l$)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){let e=Qt(this.beans),t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),OR(t)}keepXYWithinBounds(e,t,i){let n=i===0,s=n?"clientHeight":"clientWidth",o=n?"top":"left",r=n?"height":"width",a=n?"scrollTop":"scrollLeft",l=Qt(this.beans),c=l.documentElement,d=this.getPopupParent(),u=e.getBoundingClientRect(),h=d.getBoundingClientRect(),p=l.documentElement.getBoundingClientRect(),g=d===l.body,m=Math.ceil(u[r]),v=g?(n?PR:vf)(c)+c[a]:d[s];g&&(v-=Math.abs(p[o]-h[o]));let y=v-m;return Math.min(Math.max(t,0),Math.abs(y))}addPopup(e){let t=Qt(this.beans),{eChild:i,ariaLabel:n,alwaysOnTop:s,positionCallback:o,anchorToElement:r}=e;if(!t)return z(122),{hideFunc:()=>{}};let a=this.getPopupIndex(i);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);let l=this.createPopupWrapper(i,n,!!s),c=this.addEventListenersToPopup(A(w({},e),{wrapperEl:l}));return o&&o(),this.addPopupToPopupList(i,l,c,r),{hideFunc:c}}initialisePopupPosition(e){let i=this.getPopupParent().getBoundingClientRect();U(e.style.top)||(e.style.top=`${i.top*-1}px`),U(e.style.left)||(e.style.left=`${i.left*-1}px`)}createPopupWrapper(e,t,i){let n=this.getPopupParent(),s=document.createElement("div"),{environment:o,gos:r}=this.beans;return o.applyThemeClasses(s),s.classList.add("ag-popup"),e.classList.add(r.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||un(e,"dialog"),zf(e,t),s.appendChild(e),n.appendChild(s),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),s}handleThemeChange(e){if(e.themeChanged){let t=this.beans.environment;for(let i of this.popupList)t.applyThemeClasses(i.wrapper)}}addEventListenersToPopup(e){let t=this.beans,i=Qt(t),n=this.getPopupParent(),{wrapperEl:s,eChild:o,closedCallback:r,afterGuiAttached:a,closeOnEsc:l,modal:c}=e,d=!1,u=m=>{if(!s.contains(Bt(t)))return;m.key===L.ESCAPE&&!Zo(m)&&g({keyboardEvent:m})},h=m=>g({mouseEvent:m}),p=m=>g({touchEvent:m}),g=(m={})=>{let{mouseEvent:f,touchEvent:v,keyboardEvent:y,forceHide:C}=m;!C&&(this.isEventFromCurrentPopup({mouseEvent:f,touchEvent:v},o)||d)||(d=!0,n.removeChild(s),i.removeEventListener("keydown",u),i.removeEventListener("mousedown",h),i.removeEventListener("touchstart",p),i.removeEventListener("contextmenu",h),this.eventSvc.removeEventListener("dragStarted",h),r&&r(f||v||y),this.removePopupFromPopupList(o))};return a&&a({hidePopup:g}),window.setTimeout(()=>{l&&i.addEventListener("keydown",u),c&&(i.addEventListener("mousedown",h),this.eventSvc.addEventListener("dragStarted",h),i.addEventListener("touchstart",p),i.addEventListener("contextmenu",h))},0),g}addPopupToPopupList(e,t,i,n){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:a$++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){let i=this.getPopupIndex(e);if(i===-1)return;let n=this.popupList[i];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(o=>o&&o()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;let s=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=s,n.isAnchored=!0,s}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){let t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:n,ePopup:s}=e,o=n.getBoundingClientRect(),r=u=>parseInt(u.substring(0,u.length-1),10),a=(u,h)=>{let p=i[u]-o[u],g=r(s.style[u]);return{initialDiff:p,lastDiff:p,initial:g,last:g,direction:h}},l=a("top",0),c=a("left",1),d=this.beans.frameworkOverrides;return new dn(u=>{d.wrapIncoming(()=>{d.setInterval(()=>{let h=t.getBoundingClientRect(),p=n.getBoundingClientRect();if(p.top==0&&p.left==0&&p.height==0&&p.width==0){e.hidePopup();return}let m=(f,v)=>{let y=r(s.style[v]);f.last!==y&&(f.initial=y,f.last=y);let C=h[v]-p[v];if(C!=f.lastDiff){let S=this.keepXYWithinBounds(s,f.initial+f.initialDiff-C,f.direction);s.style[v]=`${S}px`,f.last=S}f.lastDiff=C};m(l,"top"),m(c,"left")},200).then(h=>{u(()=>{h!=null&&window.clearInterval(h)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){let{mouseEvent:i,touchEvent:n}=e,s=i||n;if(!s)return!1;let o=this.getPopupIndex(t);if(o===-1)return!1;for(let r=o;r<this.popupList.length;r++){let a=this.popupList[r];if(JG(a.element,s))return!0}return this.isElementWithinCustomPopup(s.target)}isElementWithinCustomPopup(e){let t=Qt(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){let i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){let t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=i.length,s=this.getWrapper(e);if(!s||n<=1||!t.contains(e))return;let o=[],r=[];for(let h of i)h!==s&&(h.classList.contains("ag-always-on-top")?r.push(h):o.push(h));let a=[],l=r.length,u=s.classList.contains("ag-always-on-top")||!l?[...o,...r,s]:[...o,s,...r];for(let h=0;h<=n;h++){let p=u[h];if(i[h]===u[h]||p===s)continue;p.querySelectorAll("div").forEach(m=>{m.scrollTop!==0&&a.push([m,m.scrollTop])}),h===0?t.insertAdjacentElement("afterbegin",p):u[h-1].insertAdjacentElement("afterend",p)}for(;a.length;){let h=a.pop();h[0].scrollTop=h[1]}}},Uf={moduleName:"Popup",version:Y,beans:[c$]},d$=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-set-floating-filter-input [disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function u$(e){let t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function h$(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function p$(e,t){let i=e.colModel.getColDefCol(t);if(i)return e.filterManager?.destroyFilter(i,"api")}function g$(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function m$(e){return e.filterManager?.getFilterModel()??{}}function f$(e,t){return e.filterManager?.getColumnFilterModel(t)??null}function v$(e,t,i){return e.filterManager?.setColumnFilterModel(t,i)??Promise.resolve()}function y$(e,t){let i=e.colModel.getCol(t);if(!i){ht(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"})}var hR={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},pR=["january","february","march","april","may","june","july","august","september","october","november","december"];function b$(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}var C$=class extends O{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:e})=>{(e.rowDataUpdated||e.changedProps?.has("treeData"))&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel=w({},this.gos.get("initialState")?.filter?.filterModel??{})}setFilterModel(e,t="api"){let{colModel:i,dataTypeSvc:n,filterManager:s}=this.beans;if(n?.isPendingInference){this.filterModelUpdateQueue.push({model:e,source:t});return}let o=[],r=this.getFilterModel(!0);if(e){let a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,c)=>{let d=e[c];o.push(cf(l.filterPromise,d)),a.delete(c)}),a.forEach(l=>{let c=i.getColDefCol(l)||i.getCol(l);if(!c){z(62,{colId:l});return}if(!c.isFilterAllowed()){z(63,{colId:l});return}let d=this.getOrCreateFilterWrapper(c);if(!d){z(64,{colId:l});return}o.push(cf(d.filterPromise,e[l]))})}else this.allColumnFilters.forEach(a=>{o.push(cf(a.filterPromise,null))});dn.all(o).then(()=>{let a=this.getFilterModel(!0),l=[];this.allColumnFilters.forEach((c,d)=>{let u=r?r[d]:null,h=a?a[d]:null;Eh(u,h)||l.push(c.column)}),l.length>0&&s?.onFilterChanged({columns:l,source:t})})}getFilterModel(e){let t={},{allColumnFilters:i,initialFilterModel:n,beans:{colModel:s}}=this;if(i.forEach((o,r)=>{let a=this.getModelFromFilterWrapper(o);U(a)&&(t[r]=a)}),!e)for(let o of Object.keys(n)){let r=n[o];U(r)&&!i.has(o)&&s.getCol(o)?.isFilterAllowed()&&(t[o]=r)}return t}getModelFromFilterWrapper(e){let{filter:t}=e;return t?typeof t.getModel!="function"?(z(66),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){let{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){let e=a=>a?a.isFilterActive?a.isFilterActive():(z(67),!1):!1,{colModel:t,gos:i}=this.beans,n=!!fw(i),s=a=>{if(!a.isPrimary())return!0;let c=!t.isPivotActive();return!a.isValueActive()||!c?!1:t.isPivotMode()?!0:n},o=[],r=[];return this.forEachColumnFilter((a,l)=>{e(a)&&(s(l.column)?o.push(a):r.push(a))}).then(()=>{this.activeAggregateFilters=o,this.activeColumnFilters=r})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((i,n)=>this.setColFilterActive(n.column,i.isFilterActive(),e,t))}forEachColumnFilter(e){let t=[];return this.allColumnFilters.forEach(i=>{let n=i.filterPromise;n&&t.push(n.then(s=>e(s,i)))}),dn.all(t)}doColumnFiltersPass(e,t,i){let{data:n,aggData:s}=e,o=i?this.activeAggregateFilters:this.activeColumnFilters,r=i?s:n;for(let a=0;a<o.length;a++){let l=o[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function"){ht(91);continue}if(!l.doesFilterPass({node:e,data:r}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){let{rowRenderer:t,filterManager:i}=this.beans,n=()=>{this.isAlive()&&i?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(n,0):n()}updateBeforeFilterChanged(e={}){let{filterInstance:t,additionalEventAttributes:i}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",i).then(()=>{this.allColumnFilters.forEach(n=>{n.filterPromise&&n.filterPromise.then(s=>{s&&s!==t&&s.onAnyFilterChanged&&s.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded?.()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e){let{filterValueSvc:t,colModel:i}=this.beans;return(n,s)=>{let o=s?i.getCol(s):e;return o?t.getValue(o,n):void 0}}isFilterActive(e){let{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t,{gos:i,dataTypeSvc:n}=this.beans;if(N0(i))t="agSetColumnFilter";else{let s=n?.getBaseDataType(e);s==="number"?t="agNumberColumnFilter":s==="date"||s==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t,{gos:i,dataTypeSvc:n}=this.beans;if(N0(i))t="agSetColumnFloatingFilter";else{let s=n?.getBaseDataType(e);s==="number"?t="agNumberColumnFloatingFilter":s==="date"||s==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){let i=this.getDefaultFilter(e),n=e.getColDef(),s,o=A(w({},this.createFilterParams(e,n)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(s,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(s,e)(a),doesRowPassOtherFilter:a=>this.beans.filterManager?.doesRowPassOtherFilters(s,a)??!0}),r=lH(this.beans.userCompFactory,n,o,i);return r?{filterPromise:()=>{let a=r.newAgStackInstance();return a.then(l=>{s=l,t&&(t.filter=l??void 0)}),a},compDetails:r}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return Se(this.gos,{column:e,colDef:t,rowModel:this.beans.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){let t={column:e,filterPromise:null,compDetails:null},{filterPromise:i,compDetails:n}=this.createFilterInstance(e,t);return t.filterPromise=i?.()??null,t.compDetails=n,t}onColumnsChanged(){let e=[],{colModel:t,filterManager:i}=this.beans;this.allColumnFilters.forEach((s,o)=>{let r;s.column.isPrimary()?r=t.getColDefCol(o):r=t.getCol(o),!(r&&r===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(o))});let n=e.every(gR);e.length>0&&!n?i?.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){this.beans.autoColSvc?.getColumns()?.forEach(e=>{gR(e)&&this.getOrCreateFilterWrapper(e)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;let{filter:i}=this.allColumnFilters.get(e.getColId())??{};return i&&typeof i?.isFilterAllowed=="function"?i.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){let i=d=>{let u=this.getOrCreateFilterWrapper(e)?.filterPromise;u?.then(h=>{d(Th(h))})},n=e.getColDef(),s=A(w({},this.createFilterParams(e,n)),{filterChangedCallback:()=>i(d=>this.filterChangedCallbackFactory(d,e)())}),{userCompFactory:o,frameworkOverrides:r}=this.beans,a=mH(o,n,s),l=h5(r,n,()=>this.getDefaultFloatingFilter(e));l==null&&(l="agReadOnlyFloatingFilter");let c=Se(this.gos,{column:e,filterParams:a,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t});return pH(o,n,c,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){let i=e.getColId(),n=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],n&&this.disposeFilterWrapper(n,t).then(s=>{s&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){let t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){return e.filterPromise?.then(i=>{let n=!!i?.isFilterActive();return this.destroyBean(i),this.setColFilterActive(e.column,!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:e.column}),n})??dn.resolve(!1)}filterModifiedCallbackFactory(e,t){return()=>{this.eventSvc.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return i=>{let n=i?.source??"columnFilter",s={filter:e,additionalEventAttributes:i,columns:[t],source:n};this.callOnFilterChangedOutsideRenderCycle(s)}}checkDestroyFilter(e){let t=this.allColumnFilters.get(e);if(!t)return;let i=t.column,{compDetails:n}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n)){this.destroyFilter(i,"paramsUpdated");return}let s=i.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(i,"paramsUpdated");return}t.filterPromise.then(o=>{(o?.refresh?o.refresh(w(A(w({},this.createFilterParams(i,i.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(o,i),filterChangedCallback:this.filterChangedCallbackFactory(o,i),doesRowPassOtherFilter:a=>this.beans.filterManager?.doesRowPassOtherFilters(o,a)??!0}),s)):!0)===!1&&this.destroyFilter(i,"paramsUpdated")})}setColumnFilterWrapper(e,t){let i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;let{componentClass:i}=e,{componentClass:n}=t;return!(i===n||i?.render&&n?.render&&i.render===n.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(i=>{t(Th(i))})})}getFilterInstanceImpl(e){let t=this.beans.colModel.getColDefCol(e);return t?this.getOrCreateFilterWrapper(t)?.filterPromise??dn.resolve(null):dn.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:i})=>{this.setColumnFilterModel(e,t).then(()=>i())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){let t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){let{colModel:i,dataTypeSvc:n}=this.beans;if(n?.isPendingInference){let a=()=>{},l=new Promise(c=>{a=c});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:a}),l}let s=i.getColDefCol(e),o=s?this.getOrCreateFilterWrapper(s):null;return o?(a=>new Promise(l=>{a.then(c=>l(c))}))(cf(o.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){let t=this.beans.colModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,i){let n=N0(this.gos),s=this.getLocaleTextFunc(),o=r=>{let{filterParams:a}=e;e.filterParams=typeof a=="object"?w(w({},a),r):r};switch(t.baseDataType){case"number":{n&&o({comparator:b$});break}case"boolean":{o(n?{valueFormatter:r=>U(r.value)?s(String(r.value),r.value?"True":"False"):s("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(r,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(r,a)=>a===!1,numberOfInputs:0}]});break}case"date":{o(n?{valueFormatter:r=>{let a=i(r);return U(a)?a:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:(r,a)=>{if(r==="NaN")return s("invalidDate","Invalid Date");if(a===1&&r!=null){let l=pR[Number(r)-1];return s(l,hR[l])}return r??s("blanks","(Blanks)")}}:{isValidDate:mR});break}case"dateString":{let r=t.dateParser;o(n?{valueFormatter:a=>{let l=i(a);return U(l)?l:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{let l=r(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){let c=pR[Number(a)-1];return s(c,hR[c])}return a??s("blanks","(Blanks)")}}:{comparator:(a,l)=>{let c=r(l);return l==null||c<a?-1:c>a?1:0},isValidDate:a=>typeof a=="string"&&mR(r(a))});break}case"object":{n?o({valueFormatter:r=>{let a=i(r);return U(a)?a:s("blanks","(Blanks)")}}):e.filterValueGetter=r=>i({column:r.column,node:r.node,value:this.beans.valueSvc.getValue(r.column,r.node)});break}}}setColFilterActive(e,t,i,n){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",i)),e.dispatchColEvent("filterChanged",i,n)}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function cf(e,t){return e?new dn(i=>{e.then(n=>{typeof n.setModel!="function"&&(z(65),i()),(n.setModel(t)||dn.resolve()).then(()=>i())})}):dn.resolve()}function gR(e){return e.getColDef().filter==="agGroupColumnFilter"}function mR(e){return e instanceof Date&&!isNaN(e.getTime())}function w$(e){return!!e.filterManager?.isAnyFilterPresent()}function x$(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var S$=class extends O{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){let e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:n})=>this.onAdvFilterEnabledChanged(n),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});let{gos:i}=this;this.alwaysPassFilter=i.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=i.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){let e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){let t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){this.warnAdvFilters();return}this.colFilter?.setFilterModel(e,t)}getFilterModel(){return this.colFilter?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.colFilter?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggregateFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){fw(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){let{source:t,additionalEventAttributes:i,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):dn.resolve()).then(()=>{let s={source:t,type:"filterChanged",columns:n};i&&Rn(s,i),this.eventSvc.dispatchEvent(s),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!fw(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doAggregateFiltersPass(t,e.filterInstanceToSkip))}doesRowPassFilter(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doColumnFiltersPass(t,e.filterInstanceToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterActive(e){return!!this.colFilter?.isFilterActive(e)}getOrCreateFilterWrapper(e){return this.colFilter?.getOrCreateFilterWrapper(e)??null}getDefaultFloatingFilter(e){return this.colFilter.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.colFilter.createFilterParams(e,t)}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getFloatingFilterCompDetails(e,t){return this.colFilter?.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){return this.colFilter?.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){this.colFilter?.destroyFilter(e,t)}areFilterCompsDifferent(e,t){return!!this.colFilter?.areFilterCompsDifferent(e,t)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getColumnFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){z(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}getColumnFilterModel(e){return this.colFilter?.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setColumnFilterModel(e,t)??Promise.resolve()}setColDefPropertiesForDataType(e,t,i){this.colFilter?.setColDefPropertiesForDataType(e,t,i)}},M$=class extends O{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,i,n){this.showPopup(e,s=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:s})},i,t.target,Yn(this.gos),n)}showMenuAfterButtonClick(e,t,i,n){let s=-1,o="left",r=Yn(this.gos);!r&&this.gos.get("enableRtl")&&(s=1,o="right");let a=r?void 0:4*s,l=r?void 0:4;this.showPopup(e,c=>{this.popupSvc?.positionPopupByComponent({type:i,eventSource:t,ePopup:c,nudgeX:a,nudgeY:l,alignSide:o,keepWithinBounds:!0,position:"under",column:e})},i,t,r,n)}showPopup(e,t,i,n,s,o){let r=e?this.createBean(new a5(e,"COLUMN_MENU")):void 0;if(this.activeMenu=r,!r?.hasFilter()||!e){ht(57);return}let a=document.createElement("div");un(a,"presentation"),a.classList.add("ag-menu"),s||a.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(a,{keydown:m=>this.trapFocusWithin(m,a)}),a.appendChild(r?.getGui());let l,c=()=>r?.afterGuiDetached(),d=qG(this.gos)?n??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,u=m=>{ZI(e,!1,"contextMenu");let f=m instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),f&&n&&js(n)&&RA(n)?.focus({preventScroll:!0}),c(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e),o?.()},h=this.getLocaleTextFunc(),p=s&&i!=="columnFilter"?h("ariaLabelColumnMenu","Column Menu"):h("ariaLabelColumnFilter","Column Filter"),g=this.popupSvc?.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:u,positionCallback:()=>t(a),anchorToElement:d,ariaLabel:p});g&&(this.hidePopup=l=g.hideFunc),r.afterInit().then(()=>{t(a),r.afterGuiAttached({container:i,hidePopup:l})}),ZI(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==L.TAB||e.defaultPrevented||pl(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),dl(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:i??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},D$=class extends O{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t){if(!t)return;let i=e.getColDef(),{filterValueGetter:n}=i;return n?this.executeFilterValueGetter(n,t.data,e,t,i):this.beans.valueSvc.getValue(e,t)}executeFilterValueGetter(e,t,i,n,s){let{expressionSvc:o,valueSvc:r}=this.beans,a=Se(this.gos,{data:t,node:n,column:i,colDef:s,getValue:r.getValueCallback.bind(r,n)});return typeof e=="function"?e(a):o?.evaluate(e,a)}},_$=class extends st{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[Hf]),this.eFloatingFilterText=K}init(e){this.params=e;let t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){let i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})}refresh(e){this.init(e)}},Lk=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}mapCustomOptions(){let{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;let i=[["displayKey"],["displayName"],["predicate","test"]],n=s=>s.some(o=>t[o]!=null)?!0:(z(72,{keys:s}),!1);if(!i.every(n)){this.filterOptions=e.filter(s=>s===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(e){let{filterOptions:t}=this;if(e.defaultOption)this.defaultOption=e.defaultOption;else if(t.length>=1){let i=t[0];typeof i=="string"?this.defaultOption=i:i.displayKey?this.defaultOption=i.displayKey:z(73)}else z(74)}getCustomOption(e){return this.customFilterOptions[e]}};function xh(e,t,i){return i==null?e.splice(t):e.splice(t,i)}function Bf(e){return e==null||typeof e=="string"&&e.trim().length===0}function E$(e){return e==="AND"||e==="OR"?e:"AND"}function I$(e,t,i){if(e==null)return;let{predicate:n}=e;if(n!=null&&!t.some(s=>s==null))return n(t,i)}function R$(e,t){let i=e.length;return i>t&&(e.splice(t),z(78),i=t),i}var Fk=class extends u5{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){let t=this.optionsFactory.getCustomOption(e);if(t){let{numberOfInputs:n}=t;return n??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,i)=>{let n=i===0?e:this.optionsFactory.defaultOption;t.setValue(n,!0)})}getModelFromUi(){let e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){let{eJoinOperatorsOr:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;let i=!e.operator,n=!t.operator;if(!i&&n||i&&!n)return!1;let o;if(i){let r=e,a=t;o=this.areSimpleModelsEqual(r,a)}else{let r=e,a=t;o=r.operator===a.operator&&hl(r.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return o}shouldRefresh(e){let t=this.getModel(),i=t?t.conditions??[t]:null,n=e.filterOptions?.map(o=>typeof o=="string"?o:o.displayKey)??this.getDefaultFilterOptions();return!(!(!i||i.every(o=>n.find(r=>r===o.type)!==void 0))||typeof e.maxNumConditions=="number"&&i&&i.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){let i=e,n=i.conditions;n==null&&(n=[],z(77));let s=R$(n,this.maxNumConditions),o=this.getNumConditions();if(s<o)this.removeConditionsAndOperators(s);else if(s>o)for(let a=o;a<s;a++)this.createJoinOperatorPanel(),this.createOption();let r=i.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!r,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(r,!0)),n.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{let i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),dn.resolve()}doesFilterPass(e){let t=this.getModel();if(t==null)return!0;let{operator:i}=t,n=[];if(i){let o=t;n.push(...o.conditions??[])}else n.push(t);return n[i&&i==="OR"?"some":"every"](o=>this.individualConditionPasses(e,o))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=E$(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new Lk,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(z(79),t=1),this.maxNumConditions=t;let i=e.numAlwaysVisibleConditions??1;i<1&&(z(80),i=1),i>t&&(z(81),i=t),this.numAlwaysVisibleConditions=i}createOption(){let e=this.createManagedBean(new ax);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());let t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);let i=this.getNumConditions()-1;this.forEachPositionInput(i,n=>this.resetInput(n)),this.addChangedListeners(e,i)}createJoinOperatorPanel(){let e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");let t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);let n=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,s),this.resetJoinOperatorOr(i,n,s),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){let n=this.createManagedBean(new Cj);e.push(n);let s="ag-filter-condition-operator";return n.addCssClass(s),n.addCssClass(`${s}-${i}`),t.appendChild(n.getGui()),n}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){let{filterListOptions:t}=this;t.forEach(i=>{e.addOption(i)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){let{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){let e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{let i=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<i){this.removeConditionsAndOperators(i+1);let n=e+1,s=i-n;s>0&&this.removeConditionsAndOperators(n,s),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,s)=>{let o=this.isConditionDisabled(s,e);n.setDisabled(o||this.filterListOptions.length<=1),s===1&&(Mh(this.eJoinOperatorPanels[0],o),this.eJoinOperatorsAnd[0].setDisabled(o),this.eJoinOperatorsOr[0].setDisabled(o))}),this.eConditionBodies.forEach((n,s)=>{Nt(n,this.isConditionBodyVisible(s))});let i=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(n=>{n.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach(n=>{n.setValue(i,!0)}),this.forEachInput((n,s,o,r)=>{this.setElementDisplayed(n,s<r),this.setElementDisabled(n,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;let{eTypes:i,eConditionBodies:n,eJoinOperatorPanels:s,eJoinOperatorsAnd:o,eJoinOperatorsOr:r}=this;this.removeComponents(i,e,t),this.removeElements(n,e,t),this.removeValueElements(e,t);let a=Math.max(e-1,0);this.removeElements(s,a,t),this.removeComponents(o,a,t),this.removeComponents(r,a,t)}removeElements(e,t,i){xh(e,t,i).forEach(s=>hs(s))}removeComponents(e,t,i){xh(e,t,i).forEach(s=>{hs(s.getGui()),this.destroyBean(s)})}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let{eFilterBody:t,eTypes:i}=this,n;if(!this.isReadOnly()){let s=this.getInputs(0)[0];s instanceof el&&this.isConditionBodyVisible(0)?n=s.getInputElement():n=i[0]?.getFocusableElement()}(n??t).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();let e=this.getModel();this.resetUiToActiveModel(e);let t=-1,i=-1,n=!1,s=this.getJoinOperator();for(let r=this.getNumConditions()-1;r>=0;r--)if(this.isConditionUiComplete(r))t===-1&&(t=r,i=r);else{let a=r>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(r-1),l=r<t;(a||l)&&(this.removeConditionsAndOperators(r,1),n=!0,l&&i--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(i,s),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(typeof this.filterPlaceholder=="function"){let n=this.eTypes[t].getValue(),s=this.translate(n);i=this.filterPlaceholder({filterOptionKey:n,filterOption:s,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i}resetPlaceholder(){let e=this.getLocaleTextFunc();this.forEachInput((t,i,n,s)=>{if(!(t instanceof el))return;let o=i===0&&s>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",r=i===0&&s>1?e("ariaFilterFromValue","Filter from value"):i===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(o,n)),t.setInputAriaLabel(r)})}setElementValue(e,t,i){e instanceof el&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof st&&Nt(e.getGui(),t)}setElementDisabled(e,t){e instanceof st&&Mh(e.getGui(),t)}attachElementOnChange(e,t){e instanceof el&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,i)=>{this.forEachPositionTypeInput(i,t,e)})}forEachPositionInput(e,t){let i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){let n=this.getNumberOfInputs(t),s=this.getInputs(e);for(let o=0;o<s.length;o++){let r=s[o];r!=null&&i(r,o,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){let t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(i=>i==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){let e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,i)=>this.resetJoinOperatorAnd(t,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((t,i)=>this.resetJoinOperatorOr(t,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),dn.resolve()}resetType(e){let i=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),i)}resetJoinOperator(e,t,i,n,s){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${s}`).setLabel(n),t)}updateJoinOperatorsDisabled(){let e=(t,i)=>this.updateJoinOperatorDisabled(t,i);this.eJoinOperatorsAnd.forEach(e),this.eJoinOperatorsOr.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){let i=this.mapValuesFromModel(e);this.forEachInput((n,s,o)=>{o===t&&this.setElementValue(n,i[s]!=null?i[s]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,i,n)=>{this.setElementValue(t,i===0&&n===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(e,t){let i=this.getCellValue(e.node),n=this.mapValuesFromModel(t),s=this.optionsFactory.getCustomOption(t.type),o=I$(s,n,i);return o??(i==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,i,t,e))}hasInvalidInputs(){return!1}},Pk=class extends Fk{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){let{includeBlanksInEquals:t,includeBlanksInNotEqual:i,includeBlanksInGreaterThan:n,includeBlanksInLessThan:s,includeBlanksInRange:o}=this.scalarFilterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(i)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(n)return!0;break;case"lessThan":case"lessThanOrEqual":if(s)return!0;break;case"inRange":if(o)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,i){let n=i.type;if(!this.isValid(t))return n==="notEqual"||n==="notBlank";let s=this.comparator(),o=e[0]!=null?s(e[0],t):0;switch(n){case"equals":return o===0;case"notEqual":return o!==0;case"greaterThan":return o>0;case"greaterThanOrEqual":return o>=0;case"lessThan":return o<0;case"lessThanOrEqual":return o<=0;case"inRange":{let r=s(e[1],t);return this.scalarFilterParams.inRangeInclusive?o>=0&&r<=0:o>0&&r<0}case"blank":return Bf(t);case"notBlank":return!Bf(t);default:return z(76,{filterModelType:n}),!0}}},Ok=class{constructor(e,t,i,n,s){this.alive=!0,this.context=e,this.eParent=n;let o=cH(t,i);o&&o.newAgStackInstance().then(r=>{if(!this.alive){e.destroyBean(r);return}if(this.dateComp=r,!r)return;n.appendChild(r.getGui()),r?.afterGuiAttached?.();let{tempValue:a,disabled:l}=this;a&&r.setDate(a),l!=null&&r.setDisabled?.(l),s?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){let t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){let t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){Nt(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},Nk=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],px=class{constructor(e,t,i){this.getLocaleTextFunc=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;let t=e.operator!=null,i=this.getLocaleTextFunc();if(t){let n=e,o=(n.conditions??[]).map(a=>this.getModelAsString(a)),r=n.operator==="AND"?"andCondition":"orCondition";return o.join(` ${i(r,VA[r])} `)}else{if(e.type==="blank"||e.type==="notBlank")return i(e.type,e.type);{let n=e,s=this.optionsFactory.getCustomOption(n.type),{displayKey:o,displayName:r,numberOfInputs:a}=s||{};return o&&r&&a===0?(i(o,r),r):this.conditionToString(n,s)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){let t=this.valueFormatter;return t?t(e??null)??"":String(e)}},Bk=class extends px{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){let{type:i}=e,{numberOfInputs:n}=t||{},s=i=="inRange"||n===2,o=In(e.dateFrom),r=In(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(s){let l=o!==null?Ch(o,a):"null",c=r!==null?Ch(r,a):"null";return`${l}-${c}`}return o!=null?Ch(o,a):`${i}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},fR=1e3,vR=1/0,A$=class extends Pk{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=fR,this.maxValidYear=vR,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){let{dateFrom:t,dateTo:i,type:n}=e||{};return[t&&In(t)||null,i&&In(i)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator??k$}isValid(e){let t=this.dateFilterParams.isValidDate;return!t||t(e)}setParams(e){this.dateFilterParams=e,super.setParams(e);let t=(i,n)=>{if(e[i]!=null)if(isNaN(e[i]))z(82,{param:i});else return e[i]==null?n:Number(e[i]);return n};this.minValidYear=t("minValidYear",fR),this.maxValidYear=t("maxValidYear",vR),this.minValidYear>this.maxValidYear&&z(83),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:In(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:In(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&z(84),this.filterModelFormatter=new Bk(this.dateFilterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory)}createDateCompWrapper(e){let{userCompFactory:t,context:i,gos:n}=this.beans,s=new Ok(i,t,Se(n,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams,location:"filter"}),e);return this.addDestroyFunc(()=>s.destroy()),s}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return Nk}createValueElement(){let t=Qt(this.beans).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,i,n){let o=Qt(this.beans).createElement("div");o.classList.add(`ag-filter-${n}`),o.classList.add(`ag-filter-date-${n}`),t.push(o),e.appendChild(o),i.push(this.createDateCompWrapper(o))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),xh(this.eConditionPanelsFrom,e,t),xh(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){xh(e,t,i).forEach(s=>s.destroy())}isValidDateValue(e){if(e===null)return!1;let{minValidDate:t,maxValidDate:i,minValidYear:n,maxValidYear:s}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<n)return!1;if(i){if(e>i)return!1}else if(e.getUTCFullYear()>s)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((i,n,s,o)=>{s!==e||!t||n>=o||(t=t&&this.isValidDateValue(i.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){let t=this.getConditionType(e),i={},n=this.getValues(e);return n.length>0&&(i.dateFrom=fs(n[0])),n.length>1&&(i.dateTo=fs(n[1])),w({dateFrom:null,dateTo:null,filterType:this.filterType,type:t},i)}resetPlaceholder(){let e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(i)})}getInputs(e){let{dateConditionFromComps:t,dateConditionToComps:i}=this;return e>=t.length?[null,null]:[t[e],i[e]]}getValues(e){let t=[];return this.forEachPositionInput(e,(i,n,s,o)=>{n<o&&t.push(i.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function k$(e,t){let i=t;return i<e?-1:i>e?1:0}var zk=class extends st{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}let t=e.operator,i;t?i=e.conditions[0]:i=e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;let i=e;return this.isTypeEditable(i.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){let i=new Lk;this.optionsFactory=i,i.init(e.filterParams,this.getDefaultOptions());let n=i.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;let s=this.isTypeEditable(n);this.setEditable(s)}refresh(e){this.setSimpleParams(e)}hasSingleInput(e){let t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){let t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},T$=class extends zk{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[Hf]),this.eReadOnlyText=K,this.eDateWrapper=K}getDefaultOptions(){return Nk}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new Bk(this.filterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory);let t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.dateComp.updateParams(this.getDateComponentParams()),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){let t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){let i=e?In(e.dateFrom):null;this.dateComp.setDate(i),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Nt(this.eDateWrapper,e),Nt(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){let e=this.dateComp.getDate(),t=fs(e);this.params.parentFilterInstance(i=>{if(i){let n=In(t);i.onFloatingFilterChanged(this.lastType||null,n)}})}getDateComponentParams(){let{filterParams:e,column:t}=this.params,i=Zw(e,this.defaultDebounceMs);return Se(this.gos,{onDateChanged:Vi(this,this.onDateChanged.bind(this),i),filterParams:t.getColDef().filterParams,location:"floatingFilter"})}createDateComponent(){let{beans:{context:e,userCompFactory:t},eDateWrapper:i}=this;this.dateComp=new Ok(e,t,this.getDateComponentParams(),i,n=>{n.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},L$=class extends st{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[Hf]),this.eDateInput=K,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);let t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e,t){if(t.target===Bt(this.beans)&&!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){let t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&na(),t.type=i?"date":"text";let{minValidYear:n,maxValidYear:s,minValidDate:o,maxValidDate:r,buttons:a}=e.filterParams||{};if(o&&n&&z(85),r&&s&&z(86),o&&r){let[l,c]=[o,r].map(d=>d instanceof Date?d:In(d));l&&c&&l.getTime()>c.getTime()&&z(87)}o?o instanceof Date?t.min=Ch(o):t.min=o:n&&(t.min=`${n}-01-01`),r?r instanceof Date?t.max=Ch(r):t.max=r:s&&(t.max=`${s}-12-31`),this.isApply=e.location==="floatingFilter"&&!!a?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return In(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(fs(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},Vk=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],Gk=class extends px{conditionToString(e,t){let{numberOfInputs:i}=t||{},{filter:n,filterTo:s,type:o}=e,r=o=="inRange"||i===2,a=this.formatValue.bind(this);return r?`${a(n)}-${a(s)}`:n!=null?a(n):`${o}`}};function Lw(e){let{allowedCharPattern:t}=e??{};return t??null}var F$=class extends Pk{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){let{filter:t,filterTo:i,type:n}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(n))}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new Gk(this.getLocaleTextFunc.bind(this),this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return Vk}setElementValue(e,t,i){let{numberFormatter:n}=this.numberFilterParams,s=!i&&n?n(t??null):t;super.setElementValue(e,s)}createValueElement(){let e=Lw(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),un(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,n){let s=this.createManagedBean(n?new gl({allowedCharPattern:n}):new rx);s.addCssClass(`ag-filter-${i}`),s.addCssClass("ag-filter-filter"),t.push(s),e.appendChild(s.getGui())}removeValueElements(e,t){let i=n=>this.removeComponents(n,e,t);i(this.eValuesFrom),i(this.eValuesTo)}getValues(e){let t=[];return this.forEachPositionInput(e,(i,n,s,o)=>{n<o&&t.push(this.processValue(this.stringToFloat(i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=Ko(e);t!=null&&t.trim()===""&&(t=null);let i=this.numberFilterParams.numberParser;return i?i(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){let t=this.getConditionType(e),i={filterType:this.filterType,type:t},n=this.getValues(e);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getInputs(e){let{eValuesFrom:t,eValuesTo:i}=this;return e>=t.length?[null,null]:[t[e],i[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},Hk=class extends O{constructor(e){super(),this.params=e,this.eInput=K,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new gl(this.params?.config));let t=this.eInput.getGui();e.appendChild(t);let i=n=>this.onValueChanged(n);this.addManagedListeners(t,{input:i,keydown:i})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){let{eInput:i}=this;i.setInputAriaLabel(e),t!==void 0&&i.setAutoComplete(t)}};function jk(e){let t=e?.trim();return t===""?e:t}var Wk=class extends zk{constructor(){super(...arguments),this.eFloatingFilterInputContainer=K,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;let t=e.browserAutoComplete??!1,{inputSvc:i,defaultDebounceMs:n,readOnly:s}=this;if(i.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Ff(e.filterParams),!s){let o=Zw(e.filterParams,n),r=Vi(this,this.syncUpWithParentFilter.bind(this),o);i.setValueChangedListener(r)}}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){let{inputSvc:t}=this,i=t.getValue();Ki(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(i,!0)}syncUpWithParentFilter(e){let t=e.key===L.ENTER;if(this.applyActive&&!t)return;let{inputSvc:i,params:n}=this,s=i.getValue();n.filterParams.trimInput&&(s=jk(s),i.setValue(s,!0)),n.parentFilterInstance(o=>{o?.onFloatingFilterChanged(this.lastType||null,s||null)})}setEditable(e){this.inputSvc.setEditable(e)}},P$=class extends O{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new rx),this.eTextInput=this.createManagedBean(new gl),this.eTextInput.setDisabled(!0);let t=this.eNumberInput.getGui(),i=this.eTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,n=>this.onValueChanged(n)),this.setupListeners(i,n=>this.onValueChanged(n))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},O$=class extends Wk{init(e){super.init(e),this.filterModelFormatter=new Gk(this.getLocaleTextFunc.bind(this),this.optionsFactory,e.filterParams?.numberFormatter)}refresh(e){Lw(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return Vk}createFloatingFilterInputService(e){return this.allowedCharPattern=Lw(e.filterParams),this.allowedCharPattern?this.createManagedBean(new Hk({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new P$)}},Uk=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],$k=class extends px{conditionToString(e,t){let{numberOfInputs:i}=t||{},{filter:n,filterTo:s,type:o}=e;return o=="inRange"||i===2?`${n}-${s}`:n!=null?`${n}`:`${o}`}},N$=class extends Fk{constructor(){super("textFilter"),this.filterType="text",this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:i})=>{if(i==null)return!1;switch(e){case"contains":return t.indexOf(i)>=0;case"notContains":return t.indexOf(i)<0;case"equals":return t===i;case"notEqual":return t!=i;case"startsWith":return t.indexOf(i)===0;case"endsWith":{let n=t.lastIndexOf(i);return n>=0&&n===t.length-i.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=e.textMatcher||this.defaultMatcher,this.formatter=e.textFormatter||(e.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new $k(this.getLocaleTextFunc.bind(this),this.optionsFactory)}createCondition(e){let t=this.getConditionType(e),i={filterType:this.filterType,type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){let{eValuesFrom:t,eValuesTo:i}=this;return e>=t.length?[null,null]:[t[e],i[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){let i=[];return this.forEachPositionInput(e,(n,s,o,r)=>{if(s<r){let a=Ko(n.getValue());t&&this.textFilterParams.trimInput&&(a=jk(a)??null,n.setValue(a,!0)),i.push(a)}}),i}getDefaultFilterOptions(){return Uk}createValueElement(){let e=document.createElement("div");return e.classList.add("ag-filter-body"),un(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){let n=this.createManagedBean(new gl);n.addCssClass(`ag-filter-${i}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){let i=n=>this.removeComponents(n,e,t);i(this.eValuesFrom),i(this.eValuesTo)}mapValuesFromModel(e){let{filter:t,filterTo:i,type:n}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,i,n){let s=e.map(h=>this.formatter(h))||[],o=this.formatter(t),{api:r,colDef:a,column:l,context:c,textFormatter:d}=this.textFilterParams;if(i.type==="blank")return Bf(t);if(i.type==="notBlank")return!Bf(t);let u={api:r,colDef:a,column:l,context:c,node:n.node,data:n.data,filterOption:i.type,value:o,textFormatter:d};return s.some(h=>this.matcher(A(w({},u),{filterText:h})))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},B$=class extends Wk{init(e){super.init(e),this.filterModelFormatter=new $k(this.getLocaleTextFunc.bind(this),this.optionsFactory)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return Uk}createFloatingFilterInputService(){return this.createManagedBean(new Hk)}};function z$(e){return!!e.quickFilter?.isFilterPresent()}function V$(e){return e.quickFilter?.getText()}function G$(e){e.quickFilter?.resetCache()}var H$=class extends O{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){let e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",i=>this.setFilter(i.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){let{autoColSvc:e,colModel:t,gos:i,pivotResultCols:n}=this.beans,s=t.isPivotMode(),o=e?.getColumns(),r=t.getColDefCols(),a=(s&&!i.get("applyQuickFilterBeforePivotOrAgg")?n?.getPivotResultCols()?.list:r)??[];o&&(a=a.concat(o)),this.colsToUse=i.get("includeHiddenColumnsInQuickFilter")?a:a.filter(l=>l.isVisible()||l.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){let t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassCache(e,i):this.doesRowPassNoCache(e,i))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){let{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return U(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){z(70,{newFilter:e});return}let t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){let e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(i=>{let n=this.getTextForColumn(i,e);return U(n)&&n.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let i;e?(this.checkGenerateAggText(t),i=t.quickFilterAggregateText):i=this.getAggText(t);let{quickFilterParts:n,matcher:s}=this;return s(n,i)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let i=this.beans.filterValueSvc.getValue(e,t),n=e.getColDef();if(n.getQuickFilterText){let s=Se(this.gos,{value:i,node:t,data:t.data,column:e,colDef:n});i=n.getQuickFilterText(s)}return U(i)?i.toString().toUpperCase():null}getAggText(e){let t=[];return this.colsToUse.forEach(i=>{let n=this.getTextForColumn(i,e);U(n)&&t.push(n)}),t.join(`
`)}},j$={moduleName:"ClientSideRowModelFilter",version:Y,rowModels:["clientSide"],beans:[i$]},gx={moduleName:"FilterCore",version:Y,beans:[S$],apiFunctions:{isAnyFilterPresent:w$,onFilterChanged:x$},css:[d$],dependsOn:[j$]},Yk={moduleName:"FilterValue",version:Y,beans:[D$]},$f={moduleName:"ColumnFilter",version:Y,beans:[C$,M$],dynamicBeans:{headerFilterCellCtrl:n$},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:u$,getColumnFilterInstance:h$,destroyFilter:p$,setFilterModel:g$,getFilterModel:m$,getColumnFilterModel:f$,setColumnFilterModel:v$,showColumnFilter:y$},dependsOn:[gx,Uf,Yk,r$]},W$={moduleName:"CustomFilter",version:Y,userComponents:{agReadOnlyFloatingFilter:_$},dependsOn:[$f]},U$={moduleName:"TextFilter",version:Y,dependsOn:[$f],userComponents:{agTextColumnFilter:N$,agTextColumnFloatingFilter:B$}},$$={moduleName:"NumberFilter",version:Y,dependsOn:[$f],userComponents:{agNumberColumnFilter:F$,agNumberColumnFloatingFilter:O$}},Y$={moduleName:"DateFilter",version:Y,dependsOn:[$f],userComponents:{agDateColumnFilter:A$,agDateInput:L$,agDateColumnFloatingFilter:T$}},K$={moduleName:"QuickFilterCore",version:Y,rowModels:["clientSide"],beans:[H$],dependsOn:[gx,Yk]},Z$={moduleName:"QuickFilter",version:Y,apiFunctions:{isQuickFilterPresent:z$,getQuickFilter:V$,resetQuickFilter:G$},dependsOn:[K$]},q$={moduleName:"ExternalFilter",version:Y,dependsOn:[gx]},mh=class{constructor(e){this.cellValueChanges=e}},sw=class extends mh{constructor(e,t,i,n){super(e),this.initialRange=t,this.finalRange=i,this.ranges=n}},X$=10,yR=class{constructor(e){this.actionStack=[],this.maxStackSize=e||X$,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},Q$=class extends O{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{let t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=this.activeCellEdit!==null&&ww(this.activeCellEdit,t),n=this.activeRowEdit!==null&&e5(this.activeRowEdit,t);if(!(i||n||this.isPasting||this.isRangeInAction))return;let{rowPinned:o,rowIndex:r,column:a,oldValue:l,value:c}=e,d={rowPinned:o,rowIndex:r,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){let{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;let i=e.get("undoRedoCellEditingLimit");if(i<=0)return;this.undoStack=new yR(i),this.redoStack=new yR(i),this.addListeners();let n=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:s=>{s.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:n,newColumnsLoaded:n,columnGroupOpened:n,columnRowGroupChanged:n,columnMoved:n,columnPinned:n,columnVisible:n,rowDragEnd:n}),t.whenReady(this,s=>{this.gridBodyCtrl=s.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){let{eventSvc:t,undoStack:i,redoStack:n}=this;t.dispatchEvent({type:"undoStarted",source:e});let s=this.undoRedo(i,n,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:s})}redo(e){let{eventSvc:t,undoStack:i,redoStack:n}=this;t.dispatchEvent({type:"redoStarted",source:e});let s=this.undoRedo(n,i,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:s})}undoRedo(e,t,i,n,s){if(!e)return!1;let o=e.pop();return!o||!o.cellValueChanges?!1:(this.processAction(o,r=>r[n],s),o instanceof sw?this.processRange(o.ranges||[o[i]]):this.processCell(o.cellValueChanges),t.push(o),!0)}processAction(e,t,i){e.cellValueChanges.forEach(n=>{let{rowIndex:s,rowPinned:o,columnId:r}=n,a={rowIndex:s,rowPinned:o},l=Lf(this.beans,a);l.displayed&&l.setDataValue(r,t(n),i)})}processRange(e){let t,i=this.beans.rangeSvc;i.removeAllCellRanges(!0),e.forEach((n,s)=>{if(!n)return;let o=n.startRow,r=n.endRow;s===e.length-1&&(t={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(t));let a={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:r.rowIndex,rowEndPinned:r.rowPinned,columnStart:n.startColumn,columns:n.columns};i.addCellRange(a)})}processCell(e){let t=e[0],{rowIndex:i,rowPinned:n}=t,s={rowIndex:i,rowPinned:n},o=Lf(this.beans,s),r={rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId};this.setLastFocusedCell(r)}setLastFocusedCell(e){let{rowIndex:t,columnId:i,rowPinned:n}=e,{colModel:s,focusSvc:o,rangeSvc:r}=this.beans,a=s.getCol(i);if(!a)return;let{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);let c={rowIndex:t,column:a,rowPinned:n};o.setFocusedCell(A(w({},c),{forceBrowserFocus:!0})),r?.setRangeToCell(c)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{let e=new mh(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){let i=new mh(this.cellValueChanges);this.pushActionsToUndoStack(i)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{let e=new mh(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{let t=new sw(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e,{rangeSvc:t,gos:i}=this.beans;t&&Qo(i)?e=new sw(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new mh(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},J$=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;width:100%}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}",eY=class extends ed{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[ox]),this.eCheckbox=K}init(e){this.params=e;let t=e.value??void 0,i=this.eCheckbox;i.setValue(t),i.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(i,{fieldValueChanged:s=>this.setAriaLabel(s.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){let t=this.getLocaleTextFunc(),i=Nw(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${i})`)}},Yf=class extends ed{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=K}init(e){this.params=e;let{cellStartedEdit:t,eventKey:i,suppressPreventDefault:n}=e,s=this.eInput;this.cellEditorInput.init(s,e);let o,r=!0;t?(this.focusAfterAttached=!0,i===L.BACKSPACE||i===L.DELETE?o="":i&&i.length===1?n?r=!1:o=i:(o=this.cellEditorInput.getStartValue(),i!==L.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=this.cellEditorInput.getStartValue()),r&&o!=null&&s.setStartValue(o),this.addManagedElementListeners(s.getGui(),{keydown:a=>{let{key:l}=a;(l===L.PAGE_UP||l===L.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){let e=this.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;na()||t.getFocusableElement().focus();let i=t.getInputElement();this.highlightAllOnFocus?i.select():this.cellEditorInput.setCaret?.()}focusIn(){let e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},tY=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[JA]}init(e,t){this.eInput=e,this.params=t;let{min:i,max:n,step:s}=t;i!=null&&e.setMin(i),n!=null&&e.setMax(n),s!=null&&e.setStep(s)}getValue(){let{eInput:e,params:t}=this,i=e.getDate();return!U(i)&&!U(t.value)?t.value:i??null}getStartValue(){let{value:e}=this.params;if(e instanceof Date)return fs(e,!1)}},iY=class extends Yf{constructor(){super(new tY)}},nY=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[JA]}init(e,t){this.eInput=e,this.params=t;let{min:i,max:n,step:s}=t;i!=null&&e.setMin(i),n!=null&&e.setMax(n),s!=null&&e.setStep(s)}getValue(){let{params:e,eInput:t}=this,i=this.formatDate(t.getDate());return!U(i)&&!U(e.value)?e.value:e.parseValue(i??"")}getStartValue(){return fs(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){let t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):In(e)??void 0}formatDate(e){let t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):fs(e??null,!1)??void 0}},sY=class extends Yf{constructor(){super(new nY(()=>this.beans.dataTypeSvc))}},oY=class extends ed{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[xj]),this.eTextArea=K}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),e.value!=null&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){let t=e.key;(t===L.LEFT||t===L.UP||t===L.RIGHT||t===L.DOWN||e.shiftKey&&t===L.ENTER)&&e.stopPropagation()}afterGuiAttached(){let e=this.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){let e=this.eTextArea.getValue(),t=this.params;return!U(e)&&!U(t.value)?t.value:t.parseValue(e)}},rY=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[Sj]}init(e,t){this.eInput=e,this.params=t;let{max:i,min:n,precision:s,step:o}=t;i!=null&&e.setMax(i),n!=null&&e.setMin(n),s!=null&&e.setPrecision(s),o!=null&&e.setStep(o);let r=e.getInputElement();t.preventStepping?e.addManagedElementListeners(r,{keydown:this.preventStepping}):t.showStepperButtons&&r.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===L.UP||e.key===L.DOWN)&&e.preventDefault()}getValue(){let{eInput:e,params:t}=this,i=e.getValue();if(!U(i)&&!U(t.value))return t.value;let n=t.parseValue(i);if(n==null)return n;if(typeof n=="string"){if(n==="")return null;n=Number(n)}return isNaN(n)?null:n}getStartValue(){return this.params.value}setCaret(){na()&&this.eInput.getInputElement().focus({preventScroll:!0})}},aY=class extends Yf{constructor(){super(new rY)}},lY=class extends ed{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[Lj]),this.eSelect=K,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}init(e){this.focusAfterAttached=e.cellStartedEdit;let{eSelect:t,valueSvc:i,gos:n}=this,{values:s,value:o,eventKey:r}=e;if(Lt(s)){z(58);return}this.startedByEnter=r!=null?r===L.ENTER:!1;let a=!1;s.forEach(u=>{let h={value:u},p=i.formatValue(e.column,null,u),g=p!=null;h.text=g?p:u,t.addOption(h),a=a||o===u}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);let{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=e;l!=null&&t.setPickerGap(l),d!=null&&t.setPickerMaxHeight(d),c!=null&&t.setPickerMaxWidth(c),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},cY=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[Hf]}init(e,t){this.eInput=e,this.params=t;let i=t.maxLength;i!=null&&e.setMaxLength(i)}getValue(){let{eInput:e,params:t}=this,i=e.getValue();return!U(i)&&!U(t.value)?t.value:t.parseValue(i)}getStartValue(){let e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){let e=this.eInput,t=e.getValue(),i=U(t)&&t.length||0;i&&e.getInputElement().setSelectionRange(i,i)}},bR=class extends Yf{constructor(){super(new cY)}};function dY(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function uY(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function Kk(e,t,i="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,i),"ensureVisible")}function Zk(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,i),"ensureVisible")}function hY(e,t,i=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,i),"ensureVisible")}function pY(e){e.undoRedo?.undo("api")}function gY(e){e.undoRedo?.redo("api")}function mY(e,t={}){let i=[];return e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(n=>{let s=n.comp?.getCellEditor();s&&i.push(Th(s))}),i}function fY(e){let t=[];return e.rowRenderer.getAllCellCtrls().forEach(i=>{if(i.editing){let{cellPosition:n}=i;t.push(n)}}),t}function vY(e,t=!1){e.editSvc?.stopAllEditing(t)}function yY(e,t){let i=e.colModel.getCol(t.colKey);if(!i){z(12,{colKey:t.colKey});return}let n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:i};t.rowPinned==null&&Zk(e,t.rowIndex),Kk(e,t.colKey);let o=Pc(e,n);if(!o)return;let{focusSvc:r,gos:a,editSvc:l}=e,c=()=>{let u=Bt(e),h=o.eGui;return u!==h&&!!h?.contains(u)},d=a.get("stopEditingWhenCellsLoseFocus")&&c();(d||!r.isCellFocused(n))&&r.setFocusedCell(A(w({},n),{forceBrowserFocus:d,preventScrollOnBrowserFocus:!0})),l?.startRowOrCellEdit(o,t.key)}function bY(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function CY(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var wY=class extends ed{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){cl(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){let e=this.getGui(),t=this.params,i=n=>{Sw(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedElementListeners(e,{keydown:i})}},xY=class extends O{constructor(){super(...arguments),this.beanName="editSvc"}startEditing(e,t=null,i=!1,n=null){if(!e.isCellEditable()||e.editing)return!0;if(!e.comp)return e.onCompAttachedFuncs.push(()=>{this.startEditing(e,t,i,n)}),!0;let s=this.createCellEditorParams(e,t,i),o=e.column.getColDef(),r=jI(this.beans.userCompFactory,o,s),a=r?.popupFromSelector!=null?r.popupFromSelector:!!o.cellEditorPopup,l=r?.popupPositionFromSelector!=null?r.popupPositionFromSelector:o.cellEditorPopupPosition;return CR(e,!0,r),e.comp.setEditDetails(r,a,l,this.gos.get("reactiveCustomComponents")),this.eventSvc.dispatchEvent(e.createEvent(n,"cellEditingStarted")),!r?.params?.suppressPreventDefault}stopEditing(e,t=!1){if(e.onEditorAttachedFuncs=[],!e.editing)return!1;let{comp:i,column:n,rowNode:s}=e,{newValue:o,newValueExists:r}=SY(t,i),a=this.beans.valueSvc.getValueForDisplay(n,s),l=!1;return r&&(l=MY(e,a,o,s,n)),CR(e,!1,void 0),i.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventSvc.dispatchEvent(A(w({},e.createEvent(null,"cellEditingStopped")),{oldValue:a,newValue:o,valueChanged:l})),l}handleColDefChanged(e){let t=e.comp?.getCellEditor();if(t?.refresh){let{eventKey:i,cellStartedEdit:n}=e.editCompDetails.params,s=this.createCellEditorParams(e,i,n),o=e.column.getColDef(),r=jI(this.beans.userCompFactory,o,s);t.refresh(r.params)}}setFocusOutOnEditor(e){if(!e.editing)return;let t=e.comp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){if(!e.editing)return;let t=e.comp,i=t.getCellEditor();i?.focusIn?i.focusIn():(e.focusCell(!0),e.onEditorAttachedFuncs.push(()=>t.getCellEditor()?.focusIn?.()))}stopEditingAndFocus(e,t=!1,i=!1){this.stopRowOrCellEdit(e),e.focusCell(!0),t||this.navigateAfterEdit(i,e.cellPosition)}createPopupEditorWrapper(e){return new wY(e)}stopAllEditing(e=!1){this.beans.rowRenderer.getAllRowCtrls().forEach(t=>this.stopRowEditing(t,e))}stopRowEditing(e,t=!1){if(e.stoppingRowEdit)return;let i=e.getAllCellCtrls(),n=e.editing;e.stoppingRowEdit=!0;let s=!1;for(let o of i){let r=o.stopEditing(t);n&&!t&&!s&&r&&(s=!0)}s&&this.eventSvc.dispatchEvent(e.createRowEvent("rowValueChanged")),n&&this.beans.rowEditSvc?.setEditing(e,!1),e.stoppingRowEdit=!1}addStopEditingWhenGridLosesFocus(e){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;let t=i=>{let n=i.relatedTarget;if(uw(n)===null){this.stopAllEditing();return}let s=e.some(o=>o.contains(n))&&LA(this.gos,n);if(!s){let o=this.beans.popupSvc;s=!!o&&(o.getActivePopups().some(r=>r.contains(n))||o.isElementWithinCustomPopup(n))}s||this.stopAllEditing()};e.forEach(i=>this.addManagedElementListeners(i,{focusout:t}))}setInlineEditingCss(e){let t=e.editing||e.getAllCellCtrls().some(i=>i.editing);e.forEachGui(void 0,i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}isCellEditable(e,t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return e.isColumnFunc(t,e.colDef.editable)}startRowOrCellEdit(e,t,i=null){return e.comp?this.gos.get("editType")==="fullRow"?this.beans.rowEditSvc?.startEditing(e.rowCtrl,t,e)??!0:this.startEditing(e,t,!0,i):(e.onCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,t,i)}),!0)}stopRowOrCellEdit(e,t=!1){this.gos.get("editType")==="fullRow"?this.stopRowEditing(e.rowCtrl,t):this.stopEditing(e,t)}createCellEditorParams(e,t,i){let{column:n,rowNode:s,cellPosition:{rowIndex:o}}=e,{valueSvc:r,gos:a}=this.beans;return Se(a,{value:r.getValueForDisplay(n,s),eventKey:t,column:n,colDef:n.getColDef(),rowIndex:o,node:s,data:s.data,cellStartedEdit:i,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.eGui,parseValue:l=>r.parseValue(n,s,l,e.value),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){let n=e?L.UP:L.DOWN;this.beans.navigation?.navigateToNextCell(null,n,t,!1)}}};function CR(e,t,i){e.editCompDetails=i,e.editing!==t&&(e.editing=t)}function SY(e,t){let i={newValueExists:!1};if(e)return i;let n=t.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?i:{newValue:n.getValue(),newValueExists:!0}}function MY(e,t,i,n,s){if(i===t)return!1;e.suppressRefreshCell=!0;let o=n.setDataValue(s,i,"edit");return e.suppressRefreshCell=!1,o}var DY=class extends O{constructor(){super(...arguments),this.beanName="rowEditSvc"}startEditing(e,t=null,i=null,n=null){if(e.editing)return!0;let s=!0,o=!1,{editSvc:r}=this.beans;return e.getAllCellCtrls().forEach(a=>{let l=a===i;l?s=r?.startEditing(a,t,l,n)??!0:r?.startEditing(a,null,l,n),o||(o=a.editing)}),o&&this.setEditing(e,!0),s}setEditing(e,t){e.editing=t,e.forEachGui(void 0,n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",t));let i=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventSvc.dispatchEvent(i)}},oa={moduleName:"EditCore",version:Y,beans:[xY,DY],apiFunctions:{getCellEditorInstances:mY,getEditingCells:fY,stopEditing:vY,startEditingCell:yY},dependsOn:[Uf],css:[J$]},_Y={moduleName:"UndoRedoEdit",version:Y,beans:[Q$],apiFunctions:{undoCellEditing:pY,redoCellEditing:gY,getCurrentUndoSize:bY,getCurrentRedoSize:CY},dependsOn:[oa]},EY={moduleName:"TextEditor",version:Y,userComponents:{agCellEditor:bR,agTextCellEditor:bR},dependsOn:[oa]},IY={moduleName:"NumberEditor",version:Y,userComponents:{agNumberCellEditor:{classImp:aY,params:{suppressPreventDefault:!0}}},dependsOn:[oa]},RY={moduleName:"DateEditor",version:Y,userComponents:{agDateCellEditor:iY,agDateStringCellEditor:sY},dependsOn:[oa]},AY={moduleName:"CheckboxEditor",version:Y,userComponents:{agCheckboxCellEditor:eY},dependsOn:[oa]},kY={moduleName:"SelectEditor",version:Y,userComponents:{agSelectCellEditor:lY},dependsOn:[oa]},TY={moduleName:"LargeTextEditor",version:Y,userComponents:{agLargeTextCellEditor:oY},dependsOn:[oa]},LY={moduleName:"CustomEditor",version:Y,dependsOn:[oa]},FY=class extends O{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Gc(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){let t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),g6(e))}createColumns(e,t){let i=()=>{_f(this.beans,this.columns?.tree),this.columns=null},n=e.treeDepth,o=(this.columns?.treeDepth??-1)==n,r=this.generateSelectionCols();if(p6(r,this.columns?.list??[])&&o)return;i();let{colGroupSvc:l}=this.beans,c=l?.findDepth(e.tree)??0,d=l?.balanceTreeForAutoCols(r,c)??[];this.columns={list:r,tree:d,treeDepth:c,map:{}},t(h=>{if(!h)return null;let p=h.filter(g=>!Jo(g));return[...r,...p]})}updateColumns(e){let t=Gc(e.source),i=e.currentValue;this.columns?.list.forEach(n=>{let s=this.createSelectionColDef(i);n.setColDef(s,null,t),ms(this.beans,{state:[w({colId:n.getColId()},s)]},t)})}getColumn(e){return this.columns?.list.find(t=>uA(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){let{gos:e,beans:t}=this,i=e.get("rowSelection");if(typeof i!="object"||!sl(e))return!1;let n=(t.autoColSvc?.getColumns()?.length??0)>0;if(i.checkboxLocation==="autoGroupColumn"&&n)return!1;let s=!!Vc(i),o=uf(i);return s||o}createSelectionColDef(e){let{gos:t}=this.beans,i=e??t.get("selectionColumnDef"),n=t.get("enableRtl"),a=i??{},{rowSpan:s,spanRows:o}=a,r=Je(a,["rowSpan","spanRows"]);return A(w({width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:n?"right":"left",comparator(l,c,d,u){let h=d.isSelected(),p=u.isSelected();return h===p?0:h?1:-1},editable:!1,suppressFillHandle:!0,pinned:null},r),{colId:cA})}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];let e=this.createSelectionColDef(),t=e.colId;this.beans.validation?.validateColDef(e,t,!0);let i=new Uw(e,null,t,!1);return this.createBean(i),[i]}onSelectionOptionsChanged(e,t,i){let n=t&&typeof t!="string"?Vc(t):void 0,s=e&&typeof e!="string"?Vc(e):void 0,o=n!==s,r=t&&typeof t!="string"?uf(t):void 0,a=e&&typeof e!="string"?uf(e):void 0,l=r!==a,c=vw(e),d=vw(t);(o||l||c!==d)&&this.beans.colModel.refreshAll(i)}destroy(){_f(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e){if(!this.isSelectionColumnEnabled())return;let t=this.beans,i=t.visibleCols.getAllTrees()??[];if(i.length!==0){if(!i.some(qk)){let n=kh(t).find(s=>Jo(s.colId));n&&ms(t,{state:[{colId:n.colId,hide:!n.hide}]},e)}if(i.length===1){let n=i[0],s=Xk(n);if(!s)return;ms(t,{state:[{colId:s.getColId(),hide:!0}]},e)}}}},qk=e=>e.isColumn?Jo(e):e.getChildren()?.some(qk)??!1;function Xk(e){if(e.isColumn)return Jo(e)?e:null;let t=e.getChildren()??[];for(let i of t){let n=Xk(i);if(n)return n}return null}function PY(e,t){if(!t.nodes.every(r=>r.rowPinned?(z(59),!1):r.id===void 0?(z(60),!1):!0))return;let{nodes:n,source:s,newValue:o}=t;e.selectionSvc?.setNodesSelected({nodes:n,source:s??"api",newValue:o})}function OY(e,t,i="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:i,selectAll:t})}function NY(e,t,i="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:i,selectAll:t})}function BY(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function zY(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function VY(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function GY(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function HY(e){return e.selectionSvc?.getSelectedNodes()??[]}function jY(e){return e.selectionSvc?.getSelectedRows()??[]}var WY=class extends bj{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();let{gos:e}=this;this.mode=Mf(e),this.groupSelectsDescendants=Ah(e),this.groupSelectsFiltered=Df(e)==="filteredDescendants",this.masterSelectsDetail=BI(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{let t=Ah(e),i=Mf(e),n=Df(e)==="filteredDescendants";this.masterSelectsDetail=BI(e)==="detail",(t!==this.groupSelectsDescendants||n!==this.groupSelectsFiltered||i!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=n,this.mode=i)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,i){if(this.isRowSelectionBlocked(t))return 0;let n=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,i);return n==null?0:(this.selectionCtx.selectAll=!1,"select"in n?(n.reset?this.resetNodes():this.selectRange(n.deselect,!1,i),this.selectRange(n.select,!0,i)):this.setNodesSelected({nodes:[n.node],newValue:n.newValue,clearSelection:n.clearSelection,event:e,source:i}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:i,nodes:n,event:s,source:o}){if(!sl(this.gos)&&e)return z(132),0;if(n.length===0)return 0;if(n.length>1&&!this.isMultiSelect())return z(130),0;let r=0;for(let a=0;a<n.length;a++){let l=n[a],c=df(l),d=this.groupSelectsFiltered&&c.group;if(c.rowPinned){z(59);continue}if(c.id===void 0){z(60);continue}d||this.selectRowNode(c,e,s,o)&&(this.detailSelection.delete(c.id),r++),this.groupSelectsDescendants&&c.childrenAfterGroup?.length&&(r+=this.selectChildren(c,e,o))}return i||(e&&(t||!this.isMultiSelect())&&(r+=this.clearOtherNodes(df(n[0]),o)),r>0&&(this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o))),r}selectRange(e,t,i){let n=0;return e.forEach(s=>{if(s.group&&this.groupSelectsDescendants)return;this.selectRowNode(s,t,void 0,i)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),n}selectChildren(e,t,i){let n=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return n?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:i,nodes:n}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){let e=[];return this.selectedNodes.forEach(t=>e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){let t=new Map;this.selectedNodes.forEach((i,n)=>{e(i)&&t.set(n,i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;let{gos:i,rowModel:n}=this.beans;if(!cn(i,n))return!1;let s=n.rootNode;if(!s)return!1;t||(t=new Nf(!0,s),t.active=!1);let o=!1;return t.forEachChangedNodeDepthFirst(r=>{if(r!==s){let a=this.calculateSelectedFromChildren(r);o=this.selectRowNode(r,a===null?!1:a,void 0,e)||o}}),o}clearOtherNodes(e,t){let i=new Map,n=0;return this.selectedNodes.forEach(s=>{if(s&&s.id!==e.id){let o=this.selectedNodes.get(s.id);n+=this.setNodesSelected({nodes:[o],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsDescendants&&s.parent&&i.set(s.parent.id,s.parent)}}),i.forEach(s=>{let o=this.calculateSelectedFromChildren(s);this.selectRowNode(s,o===null?!1:o,void 0,t)}),n}onRowSelected(e){let t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;let t=new qc(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){let t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){let{gos:e,rowModel:t}=this.beans;if(!cn(e,t))return;let i=t.getTopLevelNodes();if(i===null)return;let n=[];function s(o){for(let r=0,a=o.length;r<a;r++){let l=o[r];l.isSelected()?n.push(l):l.group&&l.childrenAfterGroup&&s(l.childrenAfterGroup)}}return s(i),n}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){let i=cn(this.gos),n=!1,s=o=>{let r=this.selectRowNode(df(o),!1,void 0,e);n||(n=r)};if(t==="currentPage"||t==="filtered"){if(!i){ht(102);return}this.getNodesToSelect(t).forEach(s)}else this.selectedNodes.forEach(s),this.reset(e);if(this.selectionCtx.selectAll=!1,i&&this.groupSelectsDescendants){let o=this.updateGroupsFromChildrenSelections(e);n||(n=o)}n&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,i=0;return this.getNodesToSelect(e).forEach(n=>{this.groupSelectsDescendants&&n.group||(n.isSelected()?t++:n.selectable&&i++)}),{selectedCount:t,notSelectedCount:i}}getSelectAllState(e){let{selectedCount:t,notSelectedCount:i}=this.getSelectedCounts(e);return Qk(t,i)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];let t=[];if(e==="currentPage")return this.forEachNodeOnPage(n=>{if(!n.group){t.push(n);return}if(!n.expanded&&!n.footer){let s=o=>{t.push(o),o.childrenAfterFilter?.length&&o.childrenAfterFilter.forEach(s)};s(n);return}this.groupSelectsDescendants||t.push(n)}),t;let i=this.beans.rowModel;return e==="filtered"?(i.forEachNodeAfterFilter(n=>{t.push(n)}),t):(i.forEachNode(n=>{t.push(n)}),t)}forEachNodeOnPage(e){let{pageBounds:t,rowModel:i}=this.beans,n=t.getFirstRow(),s=t.getLastRow();for(let o=n;o<=s;o++){let r=i.getRow(o);r&&e(r)}}selectAllRowNodes(e){let{gos:t,selectionCtx:i}=this;if(!sl(t)){z(132);return}if($G(t)&&!Rh(t)){z(130);return}if(!this.canSelectAll())return;let{source:n,selectAll:s}=e,o=!1;if(this.getNodesToSelect(s).forEach(r=>{let a=this.selectRowNode(df(r),!0,void 0,n);o||(o=a)}),i.selectAll=!0,cn(t)&&this.groupSelectsDescendants){let r=this.updateGroupsFromChildrenSelections(n);o||(o=r)}o&&this.dispatchSelectionChanged(n)}getSelectionState(){let e=[];return this.selectedNodes.forEach(t=>{t?.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e)){ht(103);return}let i=new Set(e),n=[];this.beans.rowModel.forEachNode(s=>{i.has(s.id)&&n.push(s)}),this.setNodesSelected({newValue:!0,nodes:n,source:t})}canSelectAll(){let{gos:e,rowModel:t}=this.beans;return cn(e)?!0:(ht(100,{rowModelType:t.getType()}),!1)}updateSelectable(e){let{gos:t,rowModel:i}=this.beans;if(!sl(t))return;let n="selectableChanged",s=e!==void 0,o=cn(t)&&this.groupSelectsDescendants,r=[],a=l=>{if(s&&!l.group)return;if(o&&l.group){let d=l.childrenAfterGroup?.some(u=>u.selectable)??!1;this.setRowSelectable(l,d,!0);return}!this.updateRowSelectable(l,!0)&&l.isSelected()&&r.push(l)};if(o){if(e===void 0){let l=i.rootNode;e=l?new Nf(!1,l):void 0}e?.forEachChangedNodeDepthFirst(a,!s,!s)}else i.forEachNode(a);r.length&&this.setNodesSelected({nodes:r,newValue:!1,source:n}),!s&&o&&this.updateGroupsFromChildrenSelections?.(n)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;let i=e.detailNode?.detailGridInfo?.api;if(!i)return;let n=UY(i);if(e.isSelected()!==n&&this.selectRowNode(e,n,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!n){let o=this.detailSelection.get(e.id)??new Set;for(let r of i.getSelectedNodes())o.add(r.id);this.detailSelection.set(e.id,o)}}setDetailSelectionState(e,t,i){if(this.masterSelectsDetail){if(!Rh(t)){z(269);return}switch(e.isSelected()){case!0:{i.selectAll();break}case!1:{i.deselectAll();break}case void 0:{let n=this.detailSelection.get(e.id);if(n){let s=[];for(let o of n){let r=i.getRowNode(o);r&&s.push(r)}i.setNodesSelected({nodes:s,newValue:!0,source:"masterDetail"})}break}default:break}}}};function df(e){return e.footer?e.sibling:e}function UY(e){let t=0,i=0;return e.forEachNode(n=>{n.isSelected()?t++:n.selectable&&i++}),Qk(t,i)}function Qk(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}var $Y={moduleName:"SharedRowSelection",version:Y,beans:[FY],apiFunctions:{setNodesSelected:PY,selectAll:OY,deselectAll:NY,selectAllFiltered:BY,deselectAllFiltered:zY,selectAllOnCurrentPage:VY,deselectAllOnCurrentPage:GY,getSelectedNodes:HY,getSelectedRows:jY}},YY={moduleName:"RowSelection",version:Y,rowModels:["clientSide","infinite","viewport"],beans:[WY],dependsOn:[$Y]};function KY(e){e.expansionSvc?.expandAll(!0)}function ZY(e){e.expansionSvc?.expandAll(!1)}function qY(e){let t=bo(e),i=Dk(e);t?t.onRowHeightChanged():i&&i.onRowHeightChanged()}function XY(e,t,i){let n=Dk(e);if(n){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){ht(238);return}n.setRowCount(t,i);return}ht(28);return}let s=Wf(e);if(s){s.setRowCount(t,i);return}}function QY(e){return Qc(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function JY(e){return e.rowModel.isLastRowIndexKnown()}var eK={moduleName:"CsrmSsrmSharedApi",version:Y,apiFunctions:{expandAll:KY,collapseAll:ZY,onRowHeightChanged:qY}},tK={moduleName:"SsrmInfiniteSharedApi",version:Y,apiFunctions:{setRowCount:XY,getCacheBlockState:QY,isLastRowIndexKnown:JY}},iK=class extends O{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[],t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(n=>{if(!n){ht(18),t||ht(20);return}if(this.isGridApi(n))return n;let s=n;return"current"in s?s.current?.api:(s.api||ht(19),s.api)}).filter(n=>!!n&&!n.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){let e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){let i=[];return e.columns?e.columns.forEach(n=>{i.push(t(n))}):e.column&&i.push(t(e.column)),i}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":z(21);break}})}processGroupOpenedEvent(e){let{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(i=>{let n=null;i&&(n=t.getProvidedColGroup(i.getGroupId())),!(i&&!n)&&t.setColumnGroupOpened(n,i.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){let t=e.column,i=null,n=this.beans,{colResize:s,ctrlsSvc:o,colModel:r}=n;if(t&&(i=r.getColDefCol(t.getColId())),t&&!i)return;let a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{let u=e.api.getColumnState().map(h=>({colId:h.colId}));ms(n,{state:u,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{let u=e.api.getColumnState().map(h=>({colId:h.colId,hide:h.hide}));ms(n,{state:u},"alignedGridChanged")}break;case"columnPinned":{let u=e.api.getColumnState().map(h=>({colId:h.colId,pinned:h.pinned}));ms(n,{state:u},"alignedGridChanged")}break;case"columnResized":{let d=e,u={};a.forEach(h=>{u[h.getId()]={key:h.getColId(),newWidth:h.getActualWidth()}}),d.flexColumns?.forEach(h=>{u[h.getId()]&&delete u[h.getId()]}),s?.setColumnWidths(Object.values(u),!1,d.finished,"alignedGridChanged");break}}let c=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(d=>{d.setGridOption("alwaysShowVerticalScroll",c)})}},nK={moduleName:"AlignedGrids",version:Y,beans:[iK]},sK=class extends mj{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},ow=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function oK(e){if(Lt(e.childrenAfterSort))return;let t=e.childrenAfterSort;for(let i=0;i<t.length;i++){let n=t[i],s=i===0,o=i===e.childrenAfterSort.length-1;n.setFirstChild(s),n.lastChild!==o&&(n.lastChild=o,n.dispatchRowEvent("lastChildChanged")),n.childIndex!==i&&(n.childIndex=i,n.dispatchRowEvent("childIndexChanged"))}}function Jk(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),oK(e)}var rK=class extends O{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){let t=this.beans,i=t.sortSvc.getSortOptions(),n=U(i)&&i.length>0,s=n&&!!e.changedRowNodes&&this.gos.get("deltaSort"),o=i.some(({column:r})=>fo(t.gos)?r.isPrimary()&&r.isRowGroupActive():!!r.getColDef().showRowGroup);this.sort(t,i,n,s,e.changedRowNodes,e.changedPath,o)}sort(e,t,i,n,s,o,r){let{gos:a,colModel:l,rowGroupColsSvc:c,groupHideOpenParentsSvc:d,rowNodeSorter:u}=e,h=a.get("groupMaintainOrder"),p=l.getCols().some(v=>v.isRowGroupActive()),g=l.isPivotMode(),m=a.getCallback("postSortRows"),f=v=>{d?.pullDownGroupDataForHideOpenParents(v.childrenAfterAggFilter,!0);let y=g&&v.leafGroup,C=h&&p&&!v.leafGroup&&!r,S;if(C){let D=c?.columns?.[v.level+1]?.getSort()===null,E=v.childrenAfterAggFilter.slice(0);if(v.childrenAfterSort&&!D){let R={};v.childrenAfterSort.forEach((I,T)=>{R[I.id]=T}),E.sort((I,T)=>(R[I.id]??0)-(R[T.id]??0))}S=E}else!i||y?S=v.childrenAfterAggFilter.slice(0):n&&s?S=aK(u,v,s,o,t):S=u.doFullSort(v.childrenAfterAggFilter,t);if(v.childrenAfterSort=S,Jk(v),m){let M={nodes:v.childrenAfterSort};m(M)}};o?.forEachChangedNodeDepthFirst(f)}};function aK(e,t,i,n,s){let o=t.childrenAfterAggFilter,r=t.childrenAfterSort;if(!r)return e.doFullSort(o,s);let a=new Set,l=[],{updates:c,adds:d}=i;for(let h=0,p=o.length;h<p;++h){let g=o[h];c.has(g)||d.has(g)||n&&!n.canSkip(g)?l.push({currentPos:l.length,rowNode:g}):a.add(g.id)}let u=r.filter(h=>a.has(h.id)).map((h,p)=>({currentPos:p,rowNode:h}));return l.sort((h,p)=>e.compareRowNodes(s,h,p)),lK(e,s,l,u)}function lK(e,t,i,n){let s=[],o=0,r=0,a=i.length,l=n.length;for(;o<a&&r<l;){let c=i[o],d=n[r],u=e.compareRowNodes(t,c,d),h;u<0?(h=c,++o):(h=d,++r),s.push(h.rowNode)}for(;o<a;)s.push(i[o++].rowNode);for(;r<l;)s.push(n[r++].rowNode);return s}var cK=class extends O{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=Vi(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(n=>!!n);let e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new qc(this.beans);let i=this.getNewNodeManager();this.nodeManager=i,i.activate(this.rootNode)}getNewNodeManager(){let{gos:e,beans:t}=this,i;return e.get("treeData")&&(e.get("treeDataChildrenField")?i=t.csrmChildrenTreeNodeSvc:i=t.csrmPathTreeNodeSvc),i??t.csrmNodeSvc}addPropertyListeners(){let e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{let i=t.changeSet?.properties;i&&this.onPropChange(i)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,i,n){let s,o=!1;do{s=!1;let r=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(r,i),c=Math.min(a,n);for(let d=l;d<=c;d++){let u=this.getRow(d);if(u.rowHeightEstimated){let h=Uc(this.beans,u);u.setRowHeight(h.height),s=!0,o=!0}}s&&this.setRowTopAndRowIndex()}while(s);return o}onPropChange(e){if(!this.rootNode)return;let t=this.gos,i=new Set(e),n={step:"nothing",changedProps:i},s=i.has("rowData"),o=i.has("treeData"),r=this.nodeManager,a=this.getNewNodeManager(),l=r!==a||i.has("treeDataChildrenField")&&t.get("treeData"),c;if(o&&(n.step="group"),(l||s)&&(c=t.get("rowData"),c!=null&&!Array.isArray(c)&&(c=null,z(1))),l&&(s||(c=r?.extractRowData()??c),r!==a&&(r?.deactivate(),this.nodeManager=a),a.activate(this.rootNode)),c&&(!l&&!this.isEmpty()&&c.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate")?(n.keepRenderedRows=!0,n.animate=!this.gos.get("suppressAnimationFrame"),n.changedRowNodes=new ow,a.setImmutableRowData(n,c)):(n.rowDataUpdated=!0,n.newData=!0,this.beans.selectionSvc?.reset("rowDataChanged"),this.rowNodesCountReady=!0,a.setNewRowData(c))),n.rowDataUpdated)n.step="group";else if(n.step==="nothing"){for(let{refreshProps:d,step:u}of this.orderedStages)if(e.some(h=>d.has(h))){n.step=u;break}}n.step!=="nothing"&&this.refreshModel(n)}setRowTopAndRowIndex(){let{beans:e}=this,t=e.environment.getDefaultRowHeight(),i=0,n=new Set,s=Gi(this.gos,"normal"),o=this.rowsToDisplay;for(let r=0,a=o.length;r<a;++r){let l=o[r];if(l.id!=null&&n.add(l.id),l.rowHeight==null){let c=Uc(e,l,s,t);l.setRowHeight(c.height,c.estimated)}l.setRowTop(i),l.setRowIndex(r),i+=l.rowHeight}return n}clearRowTopAndRowIndex(e,t){let i=e.active,n=o=>{o&&o.id!=null&&!t.has(o.id)&&o.clearRowTopAndRowIndex()},s=o=>{if(o!==null&&(n(o),n(o.detailNode),n(o.sibling),o.hasChildren()&&o.childrenAfterGroup)){let r=o.level==-1;i&&!r&&!o.expanded||o.childrenAfterGroup.forEach(s)}};s(this.rootNode)}ensureRowsAtPixel(e,t,i=0){let n=this.getRowIndexAtPixel(t),s=this.getRow(n),o=!this.gos.get("suppressAnimationFrame");if(s===e[0])return!1;let r=this.rootNode?.allLeafChildren;return r?(e.forEach(a=>{Ws(r,a)}),e.forEach((a,l)=>{r.splice(Math.max(n+i,0)+l,0,a)}),e.forEach((a,l)=>{a.sourceRowIndex=l}),this.refreshModel({step:"group",keepRenderedRows:!0,animate:o,rowNodesOrderChanged:!0}),!0):!1}highlightRowAtPixel(e,t){let i=t!=null?this.getRowIndexAtPixel(t):null,n=i!=null?this.getRow(i):null;if(!n||!e||t==null){this.clearHighlightedRow();return}let s=this.getHighlightPosition(t,n),o=this.isHighlightingCurrentPosition(e,n,s),r=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==n;(o||r)&&(this.clearHighlightedRow(),o)||(this.setRowNodeHighlighted(n,s),this.lastHighlightedRow=n)}setRowNodeHighlighted(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchRowEvent("rowHighlightChanged"))}getHighlightPosition(e,t){if(!t){let s=this.getRowIndexAtPixel(e);if(t=this.getRow(s||0),!t)return"Below"}let{rowTop:i,rowHeight:n}=t;return e-i<n/2?"Above":"Below"}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,i){if(e===t)return!0;let n=i==="Above"?-1:1;return this.getRow(t.rowIndex+n)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.setRowNodeHighlighted(this.lastHighlightedRow,null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){let e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;let i=e.childrenAfterAggFilter,n=e.sibling?1:0;return(i?i.length:0)+n}getTopLevelRowDisplayedIndex(e){let{rootNode:t,rowsToDisplay:i}=this;if(!t||!i.length||i[0]===t)return e;let{childrenAfterSort:s}=t,o=a=>{let l=s[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:r}=this.beans;return r?r.getTopDisplayIndex(i,e,s,o):o(e)}getRowBounds(e){let t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){let e=zc(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;let t=zc(this.gos),n=e.columns.length===0||e.columns.some(s=>s.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){let e=zc(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){let t=new Nf(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;let{changedRowNodes:t,newData:i,rowDataUpdated:n}=e;return!(!t||i||!n||t.removals.size||t.adds.size)}refreshModel(e){if(!this.rootNode)return;let t=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&!!e.rowDataUpdated));if(this.nodeManager.refreshModel?.(e,this.started),this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e}),!this.started||(e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)))return;switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.changedRowNodes,t,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(e.changedRowNodes,t);case"map":this.doRowsToDisplay()}let i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(t,i),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!1,n=!1,s=[],o=Ah(this.gos);return this.forEachNodeAfterFilterAndSort(r=>{if(n)return;if(i&&(r===t||r===e)&&(n=!0,r.group&&o)){s.push(...r.allLeafChildren);return}if(!i){if(r!==t&&r!==e)return;i=!0}if(!r.group||!o){s.push(r);return}}),s}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){let t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let i=0,n=t.length-1;if(e<=0)return 0;if(yt(t).rowTop<=e)return t.length-1;let o=-1,r=-1;for(;;){let a=Math.floor((i+n)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?i=a+1:l.rowTop>e&&(n=a-1),o===i&&r===n))return a;o=i,r=n}}isRowInPixel(e,t){let i=e.rowTop,n=e.rowTop+e.rowHeight;return i<=t&&n>t}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,i=>i.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,i=>i.childrenAfterSort)}forEachPivotNode(e,t=!1,i=!1){let n=i?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,s=>s.leafGroup?null:s[n])}depthFirstSearchRowNodes(e,t=!1,i=o=>o.childrenAfterGroup,n=this.rootNode,s=0){let o=s;if(!n)return o;let r=n===this.rootNode;r||e(n,o++);let{footerSvc:a}=this.beans;if(n.hasChildren()&&!n.footer){let l=i(n);if(l){o=a?.addTotalRows(o,n,e,t,r,"top")??o;for(let c of l)o=this.depthFirstSearchRowNodes(e,t,i,c,o);return a?.addTotalRows(o,n,e,t,r,"bottom")??o}}return o}doAggregate(e){let t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){let t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){let{groupHideOpenParentsSvc:i}=this.beans;this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(n=>{i?.pullDownGroupDataForHideOpenParents(n.childrenAfterAggFilter,!0),n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),Jk(n)}),i?.updateGroupDataForHideOpenParents(t)}doRowGrouping(e,t,i,n){let s=this.nodeManager.treeData,o=this.rootNode;if(!s){let r=this.groupStage;if(r)r.execute({rowNode:o,changedPath:t,changedRowNodes:e,rowNodesOrderChanged:i,afterColumnsChanged:n});else{let a=o.sibling;o.childrenAfterGroup=o.allLeafChildren,a&&(a.childrenAfterGroup=o.childrenAfterGroup),o.updateHasChildren()}}this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,Tk(t)},!0)}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){if(typeof e=="string"&&e.indexOf(xw)==0){let i;return this.forEachNode(n=>{n.id===e&&(i=n)}),i}return this.nodeManager.getRowNode(e)}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];let i=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();let e=[],t=[],i=new ow,n=!1;this.rowDataTransactionBatch?.forEach(s=>{this.rowNodesCountReady=!0;let{rowNodeTransaction:o,rowsInserted:r}=this.nodeManager.updateRowData(s.rowDataTransaction,i);r&&(n=!0),t.push(o),s.callback&&e.push(s.callback.bind(null,o))}),this.commitTransactions(n,i),e.length>0&&window.setTimeout(()=>{e.forEach(s=>s())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;let t=new ow,{rowNodeTransaction:i,rowsInserted:n}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(n,t),i}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){let{flattenStage:e,rootNode:t}=this,i;if(e)i=e.execute({rowNode:t});else{i=t?.childrenAfterSort??[];for(let n of i)n.setUiLevel(0)}this.rowsToDisplay=i}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){let e=this.rootNode;if(!e)return;let t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);let i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.lastHighlightedRow=null,this.orderedStages=VI,this.rowsToDisplay=VI}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function dK(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function uK(e,t){let i=bo(e);i&&((!t||t==="everything")&&(t="group"),i.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function hK(e){return bo(e)?.isEmpty()??!0}function pK(e,t){bo(e)?.forEachLeafNode(t)}function gK(e,t){bo(e)?.forEachNodeAfterFilter(t)}function mK(e,t){bo(e)?.forEachNodeAfterFilterAndSort(t)}function fK(e){if(e.rowAutoHeight?.active){z(3);return}bo(e)?.resetRowHeights()}function vK(e,t){return e.frameworkOverrides.wrapIncoming(()=>bo(e)?.updateRowData(t))}function yK(e,t,i){e.frameworkOverrides.wrapIncoming(()=>bo(e)?.batchUpdateRowData(t,i))}function bK(e){e.frameworkOverrides.wrapIncoming(()=>bo(e)?.flushAsyncTransactions())}function CK(e){return e.selectionSvc?.getBestCostNodeSelection()}var wK={moduleName:"ClientSideRowModel",version:Y,rowModels:["clientSide"],beans:[sK,cK,rK],dependsOn:[Sk]},xK={moduleName:"ClientSideRowModelApi",version:Y,apiFunctions:{onGroupExpandedOrCollapsed:dK,refreshClientSideRowModel:uK,isRowDataEmpty:hK,forEachLeafNode:pK,forEachNodeAfterFilter:gK,forEachNodeAfterFilterAndSort:mK,resetRowHeights:fK,applyTransaction:vK,applyTransactionAsync:yK,flushAsyncTransactions:bK,getBestCostNodeSelection:CK},dependsOn:[eK]},SK=class extends O{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){let{allColumns:i,columnKeys:n,skipRowGroups:s,exportRowNumbers:o}=t,r=this.getColumnsToExport({allColumns:i,skipRowGroups:s,columnKeys:n,exportRowNumbers:o});return[this.prepareSession(r),this.prependContent(t),this.exportColumnGroups(t,r),this.exportHeaders(t,r),this.processPinnedTopRows(t,r),this.processRows(t,r),this.processPinnedBottomRows(t,r),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,i,n){let s=t.shouldRowBeSkipped||(()=>!1),r=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!r,l=this.colModel.isPivotMode()?n.leafGroup:!n.group,c=!!n.footer,d=n.allChildrenCount===1&&n.childrenAfterGroup?.length===1&&WG(this.gos,n);if(!l&&!c&&(t.skipRowGroups||d||a)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.level===-1&&!l&&!c||s(Se(this.gos,{node:n})))return;let p=e.onNewBodyRow(n);if(i.forEach((g,m)=>{p.onColumn(g,m,n)}),t.getCustomContentBelowRow){let g=t.getCustomContentBelowRow(Se(this.gos,{node:n}));g&&e.addCustomContent(g)}}appendContent(e){return t=>{let i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{let i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){let n=new CA,{colGroupSvc:s}=this.beans,o=s?s.createColumnGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(o,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){let n=i.onNewHeaderRow();t.forEach((s,o)=>{n.onColumn(s,o,void 0)})}return i}}processPinnedTopRows(e,t){return i=>{let n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="top").sort((s,o)=>s.rowIndex-o.rowIndex).map(s=>this.pinnedRowModel?.getPinnedTopRow(s.rowIndex)).forEach(n):this.pinnedRowModel?.forEachPinnedRow("top",n),i}}processRows(e,t){return i=>{let n=this.rowModel,s=cn(this.gos,n),o=Qc(this.gos,n),r=!s&&e.onlySelected,a=this.processRow.bind(this,i,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(c=>c.rowPinned==null).sort((c,d)=>c.rowIndex-d.rowIndex).map(c=>n.getRow(c.rowIndex)).forEach(a),i;if(this.colModel.isPivotMode())return s?n.forEachPivotNode(a,!0,l==="filteredAndSorted"):o?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a),i;if(e.onlySelectedAllPages||r){let c=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(c),c.forEach(a)}else l==="all"?n.forEachNode(a):s||o?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);return i}}replicateSortedOrder(e){let{sortSvc:t,rowNodeSorter:i}=this.beans;if(!t||!i)return;let n=t.getSortOptions(),s=(o,r)=>o.rowIndex!=null&&r.rowIndex!=null?o.rowIndex-r.rowIndex:o.level===r.level?o.parent?.id===r.parent?.id?i.compareRowNodes(n,{rowNode:o,currentPos:o.rowIndex??-1},{rowNode:r,currentPos:r.rowIndex??-1}):s(o.parent,r.parent):o.level>r.level?s(o.parent,r):s(o,r.parent);e.sort(s)}processPinnedBottomRows(e,t){return i=>{let n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="bottom").sort((s,o)=>s.rowIndex-o.rowIndex).map(s=>this.pinnedRowModel?.getPinnedBottomRow(s.rowIndex)).forEach(n):this.pinnedRowModel?.forEachPinnedRow("bottom",n),i}}getColumnsToExport(e){let{allColumns:t=!1,skipRowGroups:i=!1,exportRowNumbers:n=!1,columnKeys:s}=e,{colModel:o,gos:r,visibleCols:a}=this,l=o.isPivotMode(),c=h=>Jo(h)?!1:!Nh(h)||n;if(s&&s.length)return o.getColsForKeys(s).filter(c);let d=r.get("treeData"),u=[];return t&&!l?u=o.getCols():u=a.allCols,u=u.filter(h=>c(h)&&(i&&!d?!$w(h):!0)),u}recursivelyAddHeaderGroups(e,t,i){let n=[];e.forEach(s=>{let o=s;o.getChildren&&o.getChildren().forEach(r=>n.push(r))}),e.length>0&&jt(e[0])&&this.doAddHeaderHeader(t,e,i),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,i)}doAddHeaderHeader(e,t,i){let n=e.onNewHeaderGroupingRow(),s=0;t.forEach(o=>{let r=o,a;i?a=i(Se(this.gos,{columnGroup:r})):a=this.beans.colNames.getDisplayNameForColumnGroup(r,"header");let l=r.getLeafColumns().reduce((c,d,u,h)=>{let p=yt(c);return d.getColumnGroupShow()==="open"?(!p||p[1]!=null)&&(p=[u],c.push(p)):p&&p[1]==null&&(p[1]=u-1),u===h.length-1&&p&&p[1]==null&&(p[1]=u),c},[]);n.onColumn(r,a||"",s++,r.getLeafColumns().length-1,l)})}},MK={moduleName:"SharedExport",version:Y,beans:[SK]},wR=`\r
`,DK=class extends _9{constructor(e){super(e),this.isFirstLine=!0,this.result="";let{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,wR),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((i,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,n){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){t!=0&&(this.result+=this.columnSeparator);let n=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(z(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=wR),this.isFirstLine=!1}},_K=class extends D9{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){let t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){z(51);return}let t=this.getMergedParams(e),i=this.getData(t),n=new Blob(["\uFEFF",i],{type:"text/plain"}),s=typeof t.fileName=="function"?t.fileName(Se(this.gos,{})):t.fileName;E9(this.getFileName(s),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){let i=t?Object.assign({},e):this.getMergedParams(e);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){let{colModel:t,colNames:i,rowGroupColsSvc:n,valueSvc:s,gos:o}=this,{processCellCallback:r,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:d,columnSeparator:u}=e;return new DK({colModel:t,colNames:i,valueSvc:s,gos:o,processCellCallback:r||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:d||!1,columnSeparator:u||",",rowGroupColsSvc:n})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function EK(e,t){return e.csvCreator?.getDataAsCsv(t)}function IK(e,t){e.csvCreator?.exportDataAsCsv(t)}var RK={moduleName:"CsvExport",version:Y,beans:[_K],apiFunctions:{getDataAsCsv:EK,exportDataAsCsv:IK},dependsOn:[MK]},AK=class extends O{constructor(e,t,i){super(),this.id=e,this.parentCache=t,this.params=i,this.state="needsLoading",this.version=0,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,i){this.successCommon(e,{rowData:t,rowCount:i})}isRequestMostRecentAndLive(e){let t=e===this.version,i=this.isAlive();return t&&i}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];let{params:{blockSize:e,rowHeight:t},startRow:i,beans:n,rowNodes:s}=this;for(let o=0;o<e;o++){let r=i+o,a=new qc(n);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(r),a.setRowTop(t*r),s.push(a)}}getBlockStateJson(){let{id:e,startRow:t,endRow:i,state:n}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:i,pageStatus:n}}}setDataAndId(e,t,i){U(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){let e=this.createLoadParams();if(Lt(this.params.datasource.getRows)){z(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){let{startRow:e,endRow:t,version:i,params:{sortModel:n,filterModel:s},gos:o}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,i),failCallback:this.pageLoadFailed.bind(this,i),sortModel:n,filterModel:s,context:Se(o,{}).context}}forEachNode(e,t,i){this.rowNodes.forEach((n,s)=>{this.startRow+s<i&&e(n,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);let i=e-this.startRow;return this.rowNodes[i]}processServerResult(e){let{rowNodes:t,beans:i}=this;t.forEach((s,o)=>{let r=e.rowData?e.rowData[o]:void 0;!s.id&&s.alreadyRendered&&r&&(t[o]=new qc(i),t[o].setRowIndex(s.rowIndex),t[o].setRowTop(s.rowTop),t[o].setRowHeight(s.rowHeight),s.clearRowTopAndRowIndex()),this.setDataAndId(t[o],r,this.startRow+o)});let n=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,n)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},kK=2,TK=class extends O{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){let i=Math.floor(e/this.params.blockSize),n=this.blocks[i];if(!n){if(t)return;n=this.createBlock(i)}return n.getRow(e)}createBlock(e){let t=this.params,i=this.createBean(new AK(e,this,t));return this.blocks[i.id]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),t.rowNodeBlockLoader.addBlock(i),i}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(ta(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){let t=this.getBlocksInOrder().filter(r=>r!=e),i=(r,a)=>a.lastAccessed-r.lastAccessed;t.sort(i);let n=this.params.maxBlocksInCache>0,s=n?this.params.maxBlocksInCache-1:null,o=kK-1;t.forEach((r,a)=>{let l=r.state==="needsLoading"&&a>=o,c=n?a>=s:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(r)||this.isBlockFocused(r))return;this.removeBlockFromCache(r)}})}isBlockFocused(e){let t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;let{startRow:i,endRow:n}=e;return t.rowIndex>=i&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){let{startRow:t,endRow:i}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,i-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){let{blockSize:i,overflowSize:n}=this.params,o=(e.id+1)*i+n;this.rowCount<o&&(this.rowCount=o)}}setRowCount(e,t){this.rowCount=e,U(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){let t={value:0};this.getBlocksInOrder().forEach(i=>i.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){let e=(i,n)=>i.id-n.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){let e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){let i=[],n=-1,s=!1,o={value:0},r=!1;return this.getBlocksInOrder().forEach(l=>{if(!r){if(s&&n+1!==l.id){r=!0;return}n=l.id,l.forEachNode(c=>{let d=c===e||c===t;(s||d)&&i.push(c),d&&(s=!s)},o,this.rowCount)}}),r||s?[]:i}},LK=class extends O{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=ol(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=ol(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!Eh(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;$c(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();let e=this.beans,{filterManager:t,sortSvc:i,rowNodeBlockLoader:n,eventSvc:s,gos:o}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:i?.getSortModel()??[],rowNodeBlockLoader:n,initialRowCount:o.get("infiniteInitialRowCount"),maxBlocksInCache:o.get("maxBlocksInCache"),rowHeight:ol(e),overflowSize:o.get("cacheOverflowSize"),blockSize:o.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new TK(this.cacheParams)),s.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){let t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){let t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}};function FK(e){Wf(e)?.refreshCache()}function PK(e){Wf(e)?.purgeCache()}function OK(e){return Wf(e)?.getRowCount()}var NK=class extends O{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=UG(this.gos);let e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Vi(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Ws(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){ta(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}let e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(i=>i.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){let e={};return this.blocks.forEach(t=>{let{id:i,state:n}=t.getBlockStateJson();e[i]=n}),e}printCacheStatus(){ta(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},BK={moduleName:"InfiniteRowModelCore",version:Y,rowModels:["infinite"],beans:[LK,NK]},zK={moduleName:"InfiniteRowModel",version:Y,apiFunctions:{refreshInfiniteCache:FK,purgeInfiniteCache:PK,getInfiniteRowCount:OK},dependsOn:[BK,tK]},VK="\u2191",GK="\u2193",HK=class extends st{constructor(){super(),this.refreshCount=0;let e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");let i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){let i=Math.abs(t),n=e.formatValue(i),s=U(n)?n:i,o=t>=0,r=this.eDelta;o?r.textContent=VK+s:r.textContent=GK+s,r.classList.toggle("ag-value-change-delta-up",o),r.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;let e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Ki(this.eDelta)}refresh(e,t=!1){let{value:i,valueFormatted:n}=e,{eValue:s,lastValue:o,beans:r}=this;if(i===o||(U(n)?s.textContent=n:U(i)?s.textContent=i:Ki(s),r.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof o=="number"){let a=i-o;this.showDelta(e,a)}return o&&s.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0}},jK=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",WK=class extends st{constructor(){super(),this.refreshCount=0;let e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current"),this.registerCSS(jK)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;let e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);let{beans:t,eCurrent:i}=this,n=Qt(t).createElement("span");n.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=n,n.textContent=i.textContent,this.getGui().insertBefore(n,i),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let i=e.value;if(Lt(i)&&(i=""),i===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=i;let n=this.eCurrent;return U(e.valueFormatted)?n.textContent=e.valueFormatted:U(e.value)?n.textContent=i:Ki(n),!0}},UK=class extends O{constructor(){super(...arguments),this.beanName="cellFlashSvc"}onFlashCells(e,t){if(!e.comp)return;let i=QH(e.cellPosition);t.cells[i]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}animateCell(e,t,i,n){let s=e.comp;if(!s)return;let{gos:o}=this;if(i||(i=o.get("cellFlashDuration")),i===0)return;U(n)||(n=o.get("cellFadeDuration"));let r=`ag-cell-${t}`,a=`ag-cell-${t}-animation`;s.addOrRemoveCssClass(r,!0),s.addOrRemoveCssClass(a,!1);let l=e.eGui;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e.isAlive()&&(s.addOrRemoveCssClass(r,!1),s.addOrRemoveCssClass(a,!0),l.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{e.isAlive()&&(s.addOrRemoveCssClass(a,!1),l.style.transition="")},n))},i)})}};function $K(e,t={}){let{cellFlashSvc:i}=e;i&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(n=>i.flashCell(n,t))})}var YK={moduleName:"HighlightChanges",version:Y,beans:[UK],userComponents:{agAnimateShowChangeCellRenderer:HK,agAnimateSlideCellRenderer:WK},apiFunctions:{flashCells:$K}};function KK(e){return e.stateSvc?.getState()??{}}function ZK(e){switch(e=w({},e),e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=qK(e)}return e}function qK(e){return e.cellSelection=XK(e,"rangeSelection"),e}function XK(e,t){if(e&&typeof e=="object")return e[t]}var QK=class extends O{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Vi(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Vi(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=Vi(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=cn(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",Y);let e=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>e(()=>this.setupStateOnGridReady()));let[t,i,n]=this.addManagedEventListeners({newColumnsLoaded:({source:s})=>{s==="gridInitializing"&&(t(),e(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{i?.(),e(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{n?.(),e(()=>this.setupStateOnFirstDataRendered())}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getInitialState(){return ZK(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){let e=()=>this.updateCachedState("sideBar",this.getSideBarState());e(),this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){let e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());let t=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){let{filter:e,rowGroupExpansion:t,rowSelection:i,pagination:n}=this.getInitialState();e&&this.setFilterState(e),t&&this.setRowGroupExpansionState(t),i&&this.setRowSelectionState(i),n&&this.setPaginationState(n);let s=this.updateCachedState.bind(this);s("filter",this.getFilterState()),s("rowGroupExpansion",this.getRowGroupExpansionState()),s("rowSelection",this.getRowSelectionState()),s("pagination",this.getPaginationState());let o=()=>{this.updateRowGroupExpansionStateTimer=0,s("rowGroupExpansion",this.getRowGroupExpansionState())};this.addManagedEventListeners({filterChanged:()=>s("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:o,columnRowGroupChanged:o,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(o)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:r=>{(r.newPage||r.newPageSize)&&s("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){let{scroll:e,cellSelection:t,focusedCell:i,columnOrder:n}=this.getInitialState();i&&this.setFocusedCellState(i),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!n?.orderedColIds);let s=this.updateCachedState.bind(this);s("sideBar",this.getSideBarState()),s("focusedCell",this.getFocusedCellState());let o=this.getRangeSelectionState();s("rangeSelection",o),s("cellSelection",o),s("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>s("focusedCell",this.getFocusedCellState()),cellSelectionChanged:r=>{if(r.finished){let a=this.getRangeSelectionState();s("rangeSelection",a),s("cellSelection",a)}},bodyScrollEnd:()=>s("scroll",this.getScrollState())})}getColumnState(){let e=this.beans,t=e.colModel.isPivotMode(),i=[],n=[],s=[],o=[],r=[],a=[],l=[],c=[],d=[],u=0,h=kh(e);for(let p=0;p<h.length;p++){let{colId:g,sort:m,sortIndex:f,rowGroup:v,rowGroupIndex:y,aggFunc:C,pivot:S,pivotIndex:M,pinned:D,hide:E,width:R,flex:I}=h[p];d.push(g),m&&(i[f??u++]={colId:g,sort:m}),v&&(n[y??0]=g),typeof C=="string"&&s.push({colId:g,aggFunc:C}),S&&(o[M??0]=g),D&&(D==="right"?a:r).push(g),E&&l.push(g),(I!=null||R)&&c.push({colId:g,flex:I??void 0,width:R})}return{sort:i.length?{sortModel:i}:void 0,rowGroup:n.length?{groupColIds:n}:void 0,aggregation:s.length?{aggregationModel:s}:void 0,pivot:o.length||t?{pivotMode:t,pivotColIds:o}:void 0,columnPinning:r.length||a.length?{leftColIds:r,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}}setColumnState(e){let{sort:t,rowGroup:i,aggregation:n,pivot:s,columnPinning:o,columnVisibility:r,columnSizing:a,columnOrder:l,partialColumnState:c}=e,d={},u=f=>{let v=d[f];return v||(v={colId:f},d[f]=v,v)},h=c?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:f,sort:v},y)=>{let C=u(f);C.sort=v,C.sortIndex=y}),h.sort=null,h.sortIndex=null),i&&(i.groupColIds.forEach((f,v)=>{let y=u(f);y.rowGroup=!0,y.rowGroupIndex=v}),h.rowGroup=null,h.rowGroupIndex=null),n&&(n.aggregationModel.forEach(({colId:f,aggFunc:v})=>{u(f).aggFunc=v}),h.aggFunc=null),s&&(s.pivotColIds.forEach((f,v)=>{let y=u(f);y.pivot=!0,y.pivotIndex=v}),this.gos.updateGridOptions({options:{pivotMode:s.pivotMode},source:"gridInitializing"}),h.pivot=null,h.pivotIndex=null),o&&(o.leftColIds.forEach(f=>{u(f).pinned="left"}),o.rightColIds.forEach(f=>{u(f).pinned="right"}),h.pinned=null),r&&(r.hiddenColIds.forEach(f=>{u(f).hide=!0}),h.hide=null),a&&(a.columnSizingModel.forEach(({colId:f,flex:v,width:y})=>{let C=u(f);C.flex=v??null,C.width=y}),h.flex=null);let p=l?.orderedColIds,g=!!p?.length,m=g?p.map(f=>u(f)):Object.values(d);m.length&&(this.columnStates=m,ms(this.beans,{state:m,applyOrder:g,defaultState:h},"gridInitializing"))}setColumnPivotState(e){let t=this.columnStates;this.columnStates=void 0;let i=this.columnGroupStates;this.columnGroupStates=void 0;let n=this.beans,{pivotResultCols:s,colGroupSvc:o}=n;if(s?.isPivotResultColsPresent()){if(t){let r=[];for(let a of t)s.getPivotResultCol(a.colId)&&r.push(a);ms(n,{state:r,applyOrder:e},"gridInitializing")}i&&o?.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){let e=this.beans.colGroupSvc;if(!e)return;let t=e.getColumnGroupState(),i=[];return t.forEach(({groupId:n,open:s})=>{s&&i.push(n)}),i.length?{openColumnGroupIds:i}:void 0}setColumnGroupState(e){let t=this.beans.colGroupSvc;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup")||!t)return;let i=new Set(e.columnGroup?.openColumnGroupIds),s=t.getColumnGroupState().map(({groupId:o})=>{let r=i.has(o);return r&&i.delete(o),{groupId:o,open:r}});i.forEach(o=>{s.push({groupId:o,open:!0})}),s.length&&(this.columnGroupStates=s),t.setColumnGroupState(s,"gridInitializing")}getFilterState(){let e=this.beans.filterManager,t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);let i=e?.getAdvFilterModel()??void 0;return t||i?{filterModel:t,advancedFilterModel:i}:void 0}setFilterState(e){let t=this.beans.filterManager,{filterModel:i,advancedFilterModel:n}=e??{};i&&t?.setFilterModel(i,"columnFilter"),n&&t?.setAdvFilterModel(n,"advancedFilter")}getRangeSelectionState(){let e=this.beans.rangeSvc?.getCellRanges().map(t=>{let{id:i,type:n,startRow:s,endRow:o,columns:r,startColumn:a}=t;return{id:i,type:n,startRow:s,endRow:o,colIds:r.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){let{gos:t,rangeSvc:i,colModel:n,visibleCols:s}=this.beans;if(!Qo(t)||!i)return;let o=[];e.cellRanges.forEach(r=>{let a=[];if(r.colIds.forEach(c=>{let d=n.getCol(c);d&&a.push(d)}),!a.length)return;let l=n.getCol(r.startColId);if(!l){let c=s.allCols,d=new Set(a);l=c.find(u=>d.has(u))}o.push(A(w({},r),{columns:a,startColumn:l}))}),i.setCellRanges(o)}getScrollState(){if(!this.isClientSideRowModel)return;let e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:i}=e?.getVScrollPosition()??{top:0};return i||t?{top:i,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;let{top:t,left:i}=e,{frameworkOverrides:n,rowRenderer:s,animationFrameSvc:o,ctrlsSvc:r}=this.beans;n.wrapIncoming(()=>{r.get("center").setCenterViewportScrollLeft(i),r.getScrollFeature()?.setVerticalScrollPosition(t),s.redraw({afterScroll:!0}),o?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;let e=this.beans.focusSvc.getFocusedCell();if(e){let{column:t,rowIndex:i,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;let{colId:t,rowIndex:i,rowPinned:n}=e,{focusSvc:s,colModel:o}=this.beans;s.setFocusedCell({column:o.getCol(t),rowIndex:i,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){let{pagination:e,gos:t}=this.beans;if(!e)return;let i=e.getCurrentPage(),n=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!i&&!n))return{page:i,pageSize:n}}setPaginationState(e){let{pagination:t,gos:i}=this.beans;t&&(e.pageSize&&!i.get("paginationAutoPageSize")&&t.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&t.setPage(e.page))}getRowSelectionState(){let e=this.beans.selectionSvc;if(!e)return;let t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e){this.beans.selectionSvc?.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){let{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;let i=[];return t.forEachNode(({expanded:n,id:s})=>{n&&s&&i.push(s)}),i.length?{expandedRowGroupIds:i}:void 0}setRowGroupExpansionState(e){this.beans.expansionSvc?.expandRows(e.expandedRowGroupIds)}updateColumnState(e){let t=this.getColumnState(),i=!1,n=this.cachedState;for(let s of Object.keys(t)){let o=t[s];Eh(o,n[s])||(i=!0)}this.cachedState=w(w({},n),t),i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){let i=this.cachedState[e];this.setCachedStateValue(e,t),Eh(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState=A(w({},this.cachedState),{[e]:t})}refreshStaleState(){let e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){let e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0;let t=this.beans.colAnimation;t?.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(t?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},JK={moduleName:"GridState",version:Y,beans:[QK],apiFunctions:{getState:KK}};function eZ(e){return e.rowModel.isLastRowIndexKnown()}function tZ(e){return e.pagination?.getPageSize()??100}function iZ(e){return e.pagination?.getCurrentPage()??0}function nZ(e){return e.pagination?.getTotalPages()??1}function sZ(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function oZ(e){e.pagination?.goToNextPage()}function rZ(e){e.pagination?.goToPreviousPage()}function aZ(e){e.pagination?.goToFirstPage()}function lZ(e){e.pagination?.goToLastPage()}function cZ(e,t){e.pagination?.goToPage(t)}var dZ=class extends O{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;let t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;let e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){let t=this.beans,i=()=>{let n=Math.max(ol(t),1),s=Math.floor(e/n);t.pagination.setPageSize(s,"autoCalculated")};this.isBodyRendered?Vi(this,i,50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},hh="paginationPageSizeSelector",uZ=class extends st{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;let e=this.selectPageSizeComp.getValue();if(!e)return;let t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(hh,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;let t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Ki(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(hh)!==!1}reloadPageSizesSelector(){let e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),i=!t||!e.includes(t);if(i){let s=this.gos.exists("paginationPageSize"),o=this.gos.get(hh)!==!0;z(94,{pageSizeSet:s,pageSizesSet:o,pageSizeOptions:e,paginationPageSizeOption:t}),o||z(95,{paginationPageSizeOption:t,paginationPageSizeSelector:hh}),e.unshift("")}let n=String(i?"":t);this.selectPageSizeComp?(hl(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=i}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){let i=this.getLocaleTextFunc(),n=i("pageSizeSelectorLabel","Page Size:"),s=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new ax).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(s).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){let e=[20,50,100],t=this.gos.get(hh);return!Array.isArray(t)||!t?.length?e:[...t].sort((i,n)=>i-n)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},hZ={selector:"AG-PAGE-SIZE-SELECTOR",component:uZ},pZ=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",gZ=class extends ek{constructor(){super(),this.btFirst=K,this.btPrevious=K,this.btNext=K,this.btLast=K,this.lbRecordCount=K,this.lbFirstRowOnPage=K,this.lbLastRowOnPage=K,this.lbCurrent=K,this.lbTotal=K,this.pageSizeComp=K,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(pZ)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){let e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[hZ]);let{btFirst:t,btPrevious:i,btNext:n,btLast:s}=this;this.activateTabIndex([t,i,n,s]),t.insertAdjacentElement("afterbegin",ps(e?"last":"first",this.beans)),i.insertAdjacentElement("afterbegin",ps(e?"next":"previous",this.beans)),n.insertAdjacentElement("afterbegin",ps(e?"previous":"next",this.beans)),s.insertAdjacentElement("afterbegin",ps(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(o):PH(this.beans,o),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){let t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{let{el:t,fn:i}=e;this.addManagedListeners(t,{click:i,keydown:n=>{(n.key===L.ENTER||n.key===L.SPACE)&&(n.preventDefault(),i())}})}),FH(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){let t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):M9(e,this.getLocaleTextFunc.bind(this))}getTemplate(){let e=this.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),n=e("of","of"),s=e("firstPage","First Page"),o=e("previousPage","Previous Page"),r=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${i}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${n}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${n}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){let e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),i=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);let n=this.isZeroPagesToDisplay(),s=e===i-1;this.nextButtonDisabled=s||n,this.lastButtonDisabled=!t||n||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){lG(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),i=this.pagination.getMasterRowCount(),n=e?i:null;if(n===1){let y=this.rowModel.getRow(0);if(y&&y.group&&!(y.groupData||y.aggData)){this.setTotalLabelsToZero();return}}let s=this.pagination.getCurrentPage(),o=this.pagination.getPageSize(),r,a;this.isZeroPagesToDisplay()?r=a=0:(r=o*s+1,a=r+o-1,e&&a>n&&(a=n));let l=r+o-1,c=!e&&i<l,d=this.formatNumber(r);this.lbFirstRowOnPage.textContent=d;let u,h=this.getLocaleTextFunc();c?u=h("pageLastRowUnknown","?"):u=this.formatNumber(a),this.lbLastRowOnPage.textContent=u;let g=t>0?s+1:0,m=this.formatNumber(g);this.lbCurrent.textContent=m;let f,v;if(e)f=this.formatNumber(t),v=this.formatNumber(n);else{let y=h("more","more");f=y,v=y}this.lbTotal.textContent=f,this.lbRecordCount.textContent=v,this.announceAriaStatus(d,u,v,m,f)}announceAriaStatus(e,t,i,n,s){let o=this.getLocaleTextFunc(),r=o("page","Page"),a=o("to","to"),l=o("of","of"),c=`${e} ${a} ${t} ${l} ${i}`,d=`${r} ${n} ${l} ${s}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnounce?.announceValue(c,"paginationRow")),d!==this.ariaPageStatus&&(this.ariaPageStatus=d,this.ariaAnnounce?.announceValue(d,"paginationPage"))}setTotalLabelsToZero(){let e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},mZ={selector:"AG-PAGINATION",component:gZ},fZ=class extends O{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){let e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return mZ}isPaginateChildRows(){let e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){let t=this.currentPage;!this.active||t===e||typeof t!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;let t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){let e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return U(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:U(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:U(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:U(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;let e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){let i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){let e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);let t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){let e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}let i=this.pageSize,n=t-1;this.totalPages=Math.floor(n/i)+1,this.adjustCurrentPageIfInvalid();let s=this.currentPage,o=i*s,r=i*(s+1)-1;if(r>n&&(r=n),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(o),r===n)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{let a=e.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){let e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}let{pageSize:t,currentPage:i}=this,n=e-1;this.totalPages=Math.floor(n/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*i,this.bottomDisplayedRowIndex=t*(i+1)-1,this.bottomDisplayedRowIndex>n&&(this.bottomDisplayedRowIndex=n)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){let{keepRenderedRows:t=!1,newPage:i=!1,newPageSize:n=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:n,keepRenderedRows:t})}},vZ={moduleName:"Pagination",version:Y,beans:[fZ,dZ],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:eZ,paginationGetPageSize:tZ,paginationGetCurrentPage:iZ,paginationGetTotalPages:nZ,paginationGetRowCount:sZ,paginationGoToNextPage:oZ,paginationGoToPreviousPage:rZ,paginationGoToFirstPage:aZ,paginationGoToLastPage:lZ,paginationGoToPage:cZ},dependsOn:[Uf]};function yZ(e,t={}){let i=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(i))}function eT(e,t,i,n,s){t&&(n&&t.parent&&t.parent.level!==-1&&eT(e,t.parent,i,n,s),t.setExpanded(i,void 0,s))}function bZ(e,t){return e.rowModel.getRowNode(t)}function CZ(e,t,i,n){e.rowRenderer.addRenderedRowListener(t,i,n)}function wZ(e){return e.rowRenderer.getRenderedNodes()}function xZ(e,t,i){e.rowModel.forEachNode(t,i)}function SZ(e){return e.rowRenderer.firstRenderedRow}function MZ(e){return e.rowRenderer.lastRenderedRow}function DZ(e,t){return e.rowModel.getRow(t)}function _Z(e){return e.rowModel.getRowCount()}var EZ={moduleName:"RowApi",version:Y,apiFunctions:{redrawRows:yZ,setRowNodeExpanded:eT,getRowNode:bZ,addRenderedRowListener:CZ,getRenderedNodes:wZ,forEachNode:xZ,getFirstDisplayedRowIndex:SZ,getLastDisplayedRowIndex:MZ,getDisplayedRowAtIndex:DZ,getDisplayedRowCount:_Z}},IZ={moduleName:"ScrollApi",version:Y,apiFunctions:{getVerticalPixelRange:dY,getHorizontalPixelRange:uY,ensureColumnVisible:Kk,ensureIndexVisible:Zk,ensureNodeVisible:hY}};function RZ(e,t,i){if(!t)return;let n=e.ctrlsSvc.getGridBodyCtrl().eGridBody,s=`aria-${t}`;i===null?n.removeAttribute(s):n.setAttribute(s,i)}function AZ(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function kZ(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function TZ(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function LZ(e){e.animationFrameSvc?.flushAllFrames()}function FZ(e){return{rowHeight:ol(e),headerHeight:Vh(e)}}function PZ(e,t={}){let i=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(o=>{let r=o.getCellRenderer();r!=null&&i.push(Th(r))}),t.columns?.length)return i;let n=[],s=kw(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(o=>{if(s&&!Tw(o.rowNode,s)||!o.isFullWidth())return;let r=o.getFullWidthCellRenderers();for(let a=0;a<r.length;a++){let l=r[a];l!=null&&n.push(Th(l))}}),[...n,...i]}var OZ={moduleName:"RenderApi",version:Y,apiFunctions:{setGridAriaProperty:RZ,refreshCells:AZ,refreshHeader:kZ,isAnimationFrameQueueEmpty:TZ,flushAllAnimationFrames:LZ,getSizesForCurrentTheme:FZ,getCellRendererInstances:PZ}};function NZ(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function BZ(e,t,i){e.colAutosize?.autoSizeCols({colKeys:t,skipHeader:i,source:"api"})}function zZ(e,t){e.colAutosize?.autoSizeAllColumns("api",t)}var VZ=class extends O{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}let{colKeys:t,skipHeader:i,skipHeaderGroups:n,stopAtGroup:s,source:o="api"}=e,{animationFrameSvc:r,renderStatus:a,colModel:l,autoWidthCalc:c,visibleCols:d}=this.beans;if(r?.flushAllFrames(),this.timesDelayed<5&&a&&!a.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;let u=[],h=-1,p=i??this.gos.get("skipHeaderOnAutoSize"),g=n??p;for(;h!==0;){h=0;let m=[];t.forEach(f=>{if(!f)return;let v=l.getCol(f);if(!v||Nh(v)||u.indexOf(v)>=0)return;let y=c.getPreferredWidthForColumn(v,p);if(y>0){let C=GZ(v,y);v.setActualWidth(C,o),u.push(v),h++}m.push(v)}),m.length&&d.refresh(o)}g||this.autoSizeColumnGroupsByColumns(t,o,s),Kc(this.eventSvc,u,!0,"autosizeColumns")}autoSizeColumn(e,t,i){e&&this.autoSizeCols({colKeys:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){let{colModel:n,ctrlsSvc:s}=this.beans,o=new Set;n.getColsForKeys(e).forEach(c=>{let d=c.getParent();for(;d&&d!=i;)d.isPadding()||o.add(d),d=d.getParent()});let a,l=[];for(let c of o){for(let d of s.getHeaderRowContainerCtrls())if(a=d.getHeaderCtrlForColumn(c),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}let i=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:i,skipHeader:t,source:e})}addColumnAutosize(e,t){let i=this.gos.get("skipHeaderOnAutoSize"),n=()=>{this.autoSizeColumn(t,"uiColumnResized",i)};e.addEventListener("dblclick",n);let s=new Fc(e);return s.addEventListener("doubleTap",n),()=>{e.removeEventListener("dblclick",n),s.removeEventListener("doubleTap",n),s.destroy()}}addColumnGroupResize(e,t,i){let n=this.gos.get("skipHeaderOnAutoSize"),s=()=>{let o=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||o.push(a.getColId())}),o.length>0&&this.autoSizeCols({colKeys:o,skipHeader:n,stopAtGroup:t,source:"uiColumnResized"}),i()};return e.addEventListener("dblclick",s),()=>e.removeEventListener("dblclick",s)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;let{ctrlsSvc:i,scrollVisibleSvc:n}=this.beans,s=i.getGridBodyCtrl(),r=s.isVerticalScrollShowing()?n.getScrollbarWidth():0,l=Dh(s.eGridBody)-r;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):z(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",i,n){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,i,n));return}let s={};n&&n?.columnLimits?.forEach(m=>{var f=m,{key:p}=f,g=Je(f,["key"]);s[typeof p=="string"?p:p.getColId()]=g});let o=this.beans.visibleCols.allCols,r=e===$o(o);if(e<=0||!o.length||r)return;let a=[],l=[];o.forEach(p=>{p.getColDef().suppressSizeToFit===!0?l.push(p):a.push(p)});let c=a.slice(0),d=!1,u=p=>{Ws(a,p),l.push(p)};for(a.forEach(p=>{p.resetActualWidth(t);let g=s?.[p.getId()],m=g?.minWidth??n?.defaultMinWidth,f=g?.maxWidth??n?.defaultMaxWidth,v=p.getActualWidth();typeof m=="number"&&v<m?p.setActualWidth(m,t,!0):typeof f=="number"&&v>f&&p.setActualWidth(f,t,!0)});!d;){d=!0;let p=e-$o(l);if(p<=0)a.forEach(g=>{let m=s?.[g.getId()]?.minWidth??n?.defaultMinWidth;if(typeof m=="number"){g.setActualWidth(m,t,!0);return}g.setActualWidth(g.minWidth,t)});else{let g=p/$o(a),m=p;for(let f=a.length-1;f>=0;f--){let v=a[f],y=s?.[v.getId()],C=y?.minWidth??n?.defaultMinWidth,S=y?.maxWidth??n?.defaultMaxWidth,M=v.getMinWidth(),D=v.getMaxWidth(),E=typeof C=="number"&&C>M?C:M,R=typeof S=="number"&&S<D?S:D,I=Math.round(v.getActualWidth()*g);I<E?(I=E,u(v),d=!1):I>R?(I=R,u(v),d=!1):f===0&&(I=m),v.setActualWidth(I,t,!0),m-=I}}}c.forEach(p=>{p.fireColumnWidthChangedEvent(t)});let h=this.beans.visibleCols;h.setLeftValues(t),h.updateBodyWidths(),!i&&Kc(this.eventSvc,c,!0,t)}applyAutosizeStrategy(){let e=this.gos.get("autoSizeStrategy");if(!e)return;let{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){let{columnLimits:i,defaultMinWidth:n,defaultMaxWidth:s}=e,o=i?.map(({colId:r,minWidth:a,maxWidth:l})=>({key:r,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:n,defaultMaxWidth:s,columnLimits:o})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){let e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;let{colIds:t,skipHeader:i}=e;setTimeout(()=>{t?this.autoSizeCols({colKeys:t,skipHeader:i,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",i)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function GZ(e,t){let i=e.getMinWidth();t<i&&(t=i);let n=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=n),t}var HZ={moduleName:"ColumnAutoSize",version:Y,beans:[VZ],apiFunctions:{sizeColumnsToFit:NZ,autoSizeColumns:BZ,autoSizeAllColumns:zZ},dependsOn:[lk]};function jZ(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function WZ(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function UZ(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function $Z(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}var YZ=class extends O{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){let e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){let t=i=>{i.setRowHeight(i.rowHeight,!0)};ph(this.pinnedBottomRows,t),ph(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0,i=n=>{if(n.rowHeightEstimated){let s=Uc(this.beans,n);n.setRowTop(t),n.setRowHeight(s.height),t+=s.height,e=!0}};return ph(this.pinnedBottomRows,i),t=0,ph(this.pinnedTopRows,i),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){let i=this.getCache(t);if(e===void 0){i.order.length=0,i.cache={};return}let n=$c(this.gos),s=t==="top"?NA:BA,o=new Set(i.order),r=[],a=new Set,l=0,c=-1;for(let d of e){let u=n?.({data:d,level:0,rowPinned:t})??s+this.nextId++;if(a.has(u)){z(96,{id:u,data:d});continue}c++,a.add(u),r.push(u);let h=Sh(i,u);if(h!==void 0)h.data!==d&&h.setData(d),l+=this.setRowTopAndRowIndex(h,l,c),o.delete(u);else{let p=new qc(this.beans);p.id=u,p.data=d,p.rowPinned=t,l+=this.setRowTopAndRowIndex(p,l,c),i.cache[u]=p,i.order.push(u)}}o.forEach(d=>{Sh(i,d)?.clearRowTopAndRowIndex(),delete i.cache[d]}),i.order=r}setRowTopAndRowIndex(e,t,i){return e.setRowTop(t),e.setRowHeight(Uc(this.beans,e).height),e.setRowIndex(i),e.rowHeight}getPinnedTopTotalHeight(){return xR(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return xR(this.pinnedBottomRows)}getPinnedTopRowCount(){return Pw(this.pinnedTopRows)}getPinnedBottomRowCount(){return Pw(this.pinnedBottomRows)}getPinnedTopRow(e){return Fw(this.pinnedTopRows,e)}getPinnedBottomRow(e){return Fw(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return Sh(this.getCache(t),e)}forEachPinnedRow(e,t){return ph(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}};function xR(e){let t=Pw(e);if(t===0)return 0;let i=Fw(e,t-1);return i===void 0?0:i.rowTop+i.rowHeight}function Sh(e,t){return e.cache[t]}function Fw(e,t){return Sh(e,e.order[t])}function ph(e,t){e.order.forEach((i,n)=>{let s=Sh(e,i);s&&t(s,n)})}function Pw(e){return e.order.length}var KZ={moduleName:"PinnedRow",version:Y,beans:[YZ],apiFunctions:{getPinnedTopRowCount:jZ,getPinnedBottomRowCount:WZ,getPinnedTopRow:UZ,getPinnedBottomRow:$Z}},ZZ=class extends yh{constructor(e,t,i){super(e.col,e.firstNode,i,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,i,n,s,o,r){this.eWrapper=i,super.setComp(e,t,i,n,s,o,r),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&Ow(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){pG(this.eGui,this.cellSpan.spannedNodes.size)}shouldRestoreFocus(){return this.beans.focusSvc.shouldRestoreFocus(this.cellSpan)}onFocusOut(){this.focusedCellPosition=void 0,super.onFocusOut()}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}isCellFocused(){let e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.addOrRemoveCssClass(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){let{beans:t}=this;if(Gf(t)){this.focusedCellPosition=void 0;return}let i=this.isCellFocused();i||(this.focusedCellPosition=void 0),e&&i&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},qZ=class extends Pf{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){let t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new ZZ(t,this,this.beans)}shouldRecreateCellCtrl(e){let t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!0:e.getCellSpan()!==t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},XZ=class extends O{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){let{rowSpanSvc:t}=this.beans,i=`${e}Ctrls`,n=this[i],s=n.size,o=this.getAllRelevantRowControls(e),r=new Map,a=!1;for(let c of o)c.isAlive()&&t?.forEachSpannedColumn(c.rowNode,(d,u)=>{if(r.has(u.firstNode))return;let h=n.get(u.firstNode);if(h){r.set(u.firstNode,h),n.delete(u.firstNode);return}a=!0;let p=new qZ(u.firstNode,this.beans,!1,!1,!1);r.set(u.firstNode,p)});this[i]=r;let l=r.size===s;if(!(!a&&l)){for(let c of n.values())c.destroyFirstPass(!0),c.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){let{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){let{rowSpanSvc:t}=this.beans,i=t?.getCellSpanByPosition(e);if(!i)return;let n=`${tT(e.rowPinned)}Ctrls`,s=this[n].get(i.firstNode);if(s)return s.getAllCellCtrls().find(o=>o.column===e.column)}getCtrls(e){let t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){let t=`${e}Ctrls`;for(let i of this[t].values())i.destroyFirstPass(!0),i.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},tT=e=>e??"center",QZ=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){let e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(i=>{i!==this.lastNode&&(t+=i.rowHeight)}),e-t}},JZ=class extends O{constructor(e){super(),this.column=e}buildCache(e){let{column:t,beans:{gos:i,pinnedRowModel:n,rowModel:s,valueSvc:o}}=this,{colDef:r}=t,a=new Map,l=i.getCallback("isFullWidthRow"),c=r.equals,d=r.spanRows,u=typeof d=="function",h=null,p=null,g,m=(v,y)=>{h=v,p=null,g=y},f=v=>{let y=!v.isExpandable()&&!v.group&&!v.detail&&(l?!l({rowNode:v}):!0);if(v.rowIndex==null||!y){m(null,null);return}if(h==null||v.level!==h.level||v.footer||p&&v.rowIndex-1!==p?.getLastNode().rowIndex){m(v,o.getValue(t,v));return}let C=o.getValue(t,v);if(u){let S=Se(i,{valueA:g,nodeA:h,valueB:C,nodeB:v,column:t,colDef:r});if(!d(S)){m(v,C);return}}else if(c?!c(g,C):g!==C){m(v,C);return}p||(p=new QZ(t,h),a.set(h,p)),p.addSpannedNode(v),a.set(v,p)};switch(e){case"center":s.forEachDisplayedNode?.(f);break;case"top":n?.forEachPinnedRow("top",f);break;case"bottom":n?.forEachPinnedRow("bottom",f);break}this[`${e}ValueNodeMap`]=a}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${tT(e.rowPinned)}ValueNodeMap`].get(e)}},eq=class extends O{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=Vi(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=Vi(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){this.addManagedEventListeners({modelUpdated:this.buildModelCaches.bind(this),pinnedRowDataChanged:this.buildPinnedCaches.bind(this)})}register(e){let{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;let i=this.createManagedBean(new JZ(e));this.spanningColumns.set(e,i),i.buildCache("top"),i.buildCache("bottom"),i.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated(e){let{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){let i=this.spanningColumns.get(e);return i?i.isCellSpanning(t):!1}getCellSpanByPosition(e){let{pinnedRowModel:t,rowModel:i}=this.beans,n=e.column,s=e.rowIndex,o=this.spanningColumns.get(n);if(!o)return;let r;switch(e.rowPinned){case"top":r=t?.getPinnedTopRow(s);break;case"bottom":r=t?.getPinnedBottomRow(s);break;default:r=i.getRow(s)}if(r)return o.getCellSpan(r)}getCellStart(e){let t=this.getCellSpanByPosition(e);return t?A(w({},e),{rowIndex:t.firstNode.rowIndex}):e}getCellEnd(e){let t=this.getCellSpanByPosition(e);return t?A(w({},e),{rowIndex:t.getLastNode().rowIndex}):e}getCellSpan(e,t){let i=this.spanningColumns.get(e);if(i)return i.getCellSpan(t)}forEachSpannedColumn(e,t){for(let[i,n]of this.spanningColumns)if(n.isCellSpanning(e)){let s=n.getCellSpan(e);t(i,s)}}destroy(){super.destroy(),this.spanningColumns.clear()}},tq={moduleName:"CellSpan",version:Y,beans:[eq,XZ]},iq=class extends O{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){let{column:e,cellComp:t}=this,i=e.colDef,n=i.cellClassRules,s=this.getCellClassParams(e,i);Qw(this.beans.expressionSvc,n===this.cellClassRules?void 0:this.cellClassRules,n,s,o=>t.addOrRemoveCssClass(o,!0),o=>t.addOrRemoveCssClass(o,!1)),this.cellClassRules=n}applyUserStyles(){let e=this.column,t=e.colDef,i=t.cellStyle;if(!i)return;let n;if(typeof i=="function"){let s=this.getCellClassParams(e,t);n=i(s)}else n=i;n&&this.cellComp.setUserStyles(n)}applyClassesFromColDef(){let{column:e,cellComp:t}=this,i=e.colDef,n=this.getCellClassParams(e,i);this.staticClasses.forEach(o=>t.addOrRemoveCssClass(o,!1));let s=this.beans.cellStyles.getStaticCellClasses(i,n);this.staticClasses=s,s.forEach(o=>t.addOrRemoveCssClass(o,!0))}getCellClassParams(e,t){let{value:i,rowNode:n}=this.cellCtrl;return Se(this.beans.gos,{value:i,data:n.data,node:n,colDef:t,column:e,rowIndex:n.rowIndex})}},nq=class extends O{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,i,n){Qw(this.beans.expressionSvc,void 0,e.cellClassRules,t,i,n),this.processStaticCellClasses(e,t,i)}getStaticCellClasses(e,t){let{cellClass:i}=e;if(!i)return[];let n;return typeof i=="function"?n=i(t):n=i,typeof n=="string"&&(n=[n]),n||[]}createCellCustomStyleFeature(e,t){return new iq(e,t)}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(s=>{i(s)})}},sq={moduleName:"CellStyle",version:Y,beans:[nq]},oq={moduleName:"RowStyle",version:Y,beans:[m5]};function rq(e,t){return!!e.colHover?.isHovered(t)}var aq=class extends O{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){if(this.gos.get("columnHoverHighlight")){let e=this.beans.colHover;this.addManagedListeners(this.element,{mouseout:e.clearMouseOver.bind(e),mouseover:e.setMouseOver.bind(e,this.columns)})}}},lq="ag-column-hover",cq=class extends O{constructor(){super(...arguments),this.beanName="colHover"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){let t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,i){let n=()=>{if(!this.gos.get("columnHoverHighlight"))return;let s=this.isHovered(i);t.addOrRemoveCssClass("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:n}),n()}onCellColumnHover(e,t){if(!t||!this.gos.get("columnHoverHighlight"))return;let i=this.isHovered(e);t.addOrRemoveCssClass(lq,i)}addHeaderFilterColumnHoverListener(e,t,i,n){this.createHoverFeature(e,[i],n);let s=()=>{if(!this.gos.get("columnHoverHighlight"))return;let o=this.isHovered(i);t.addOrRemoveCssClass("ag-column-hover",o)};e.addManagedEventListeners({columnHoverChanged:s}),s()}createHoverFeature(e,t,i){e.createManagedBean(new aq(t,i))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},dq={moduleName:"ColumnHover",version:Y,beans:[cq],apiFunctions:{isColumnHovered:rq}},uq=class extends O{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addEventListener(e,t){let i=this.wrapSvc?.wrap(t)??t,n=!ff.has(e),s=n?this.asyncListeners:this.syncListeners;s.has(e)||s.set(e,new Set),s.get(e).add(i),this.eventSvc.addEventListener(e,i,n)}removeEventListener(e,t){let i=this.wrapSvc?.unwrap(t)??t,s=!!this.asyncListeners.get(e)?.delete(i);s||this.syncListeners.get(e)?.delete(i),this.eventSvc.removeEventListener(e,i,s)}addGlobalListener(e){let t=this.wrapSvc?.wrapGlobal(e)??e,i=(o,r)=>{ff.has(o)&&t(o,r)},n=(o,r)=>{ff.has(o)||t(o,r)};this.globalListenerPairs.set(e,{syncListener:i,asyncListener:n});let s=this.eventSvc;s.addGlobalListener(i,!1),s.addGlobalListener(n,!0)}removeGlobalListener(e){let{eventSvc:t,wrapSvc:i,globalListenerPairs:n}=this,s=i?.unwrapGlobal(e)??e;if(n.has(s)){let{syncListener:r,asyncListener:a}=n.get(s);t.removeGlobalListener(r,!1),t.removeGlobalListener(a,!0),n.delete(e)}else this.syncGlobalListeners.delete(s),t.removeGlobalListener(s,!1)}destroyEventListeners(e,t){e.forEach((i,n)=>{i.forEach(s=>this.eventSvc.removeEventListener(n,s,t)),i.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(i=>this.eventSvc.removeGlobalListener(i,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);let{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:i,asyncListener:n})=>{t.removeGlobalListener(i,!1),t.removeGlobalListener(n,!0)}),e.clear()}};function hq(e,t,i){e.apiEventSvc?.addEventListener(t,i)}function pq(e,t,i){e.apiEventSvc?.removeEventListener(t,i)}function gq(e,t){e.apiEventSvc?.addGlobalListener(t)}function mq(e,t){e.apiEventSvc?.removeGlobalListener(t)}var fq={moduleName:"EventApi",version:Y,apiFunctions:{addEventListener:hq,addGlobalListener:gq,removeEventListener:pq,removeGlobalListener:mq},beans:[uq]},vq=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",yq=class extends O{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,i,n){e&&t.destroyBean(e);let s=$0(this.gos),{column:o,eGui:r}=t,a=o.getColDef();!n&&s&&!a.headerComponent&&(n=mf(()=>r.querySelector(".ag-header-cell-text")));let l={getColumn:()=>o,getColDef:()=>o.getColDef(),getGui:()=>r,getLocation:()=>"header",getTooltipValue:()=>i??o.getColDef().headerTooltip,shouldDisplayTooltip:n},c=this.createTooltipFeature(l);return c&&(c=t.createBean(c),t.setRefreshFunction("tooltip",()=>c.refreshTooltip())),c}setupHeaderGroupTooltip(e,t,i,n){e&&t.destroyBean(e);let s=$0(this.gos),{column:o,eGui:r}=t,a=o.getColGroupDef();!n&&s&&!a?.headerGroupComponent&&(n=mf(()=>r.querySelector(".ag-header-group-text")));let l={getColumn:()=>o,getGui:()=>r,getLocation:()=>"headerGroup",getTooltipValue:()=>i??(a&&a.headerTooltip),shouldDisplayTooltip:n};a&&(l.getColDef=()=>a);let c=this.createTooltipFeature(l);return c&&t.createBean(c)}enableCellTooltipFeature(e,t,i){let{column:n,rowNode:s}=e,o=()=>{let l=n.getColDef(),c=s.data;if(l.tooltipField&&U(c))return vh(c,l.tooltipField,n.isTooltipFieldContainsDots());let d=l.tooltipValueGetter;return d?d(Se(this.gos,{location:"cell",colDef:n.getColDef(),column:n,rowIndex:e.cellPosition.rowIndex,node:s,data:s.data,value:e.value,valueFormatted:e.valueFormatted})):null},r=$0(this.gos);!i&&r&&!e.isCellRenderer()&&(i=mf(()=>{let l=e.eGui;return l.children.length===0?l:l.querySelector(".ag-cell-value")}));let a={getColumn:()=>n,getColDef:()=>n.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>s,getGui:()=>e.eGui,getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:o,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:i};return this.createTooltipFeature(a,this.beans)}refreshRowTooltip(e,t,i,n){let s={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>i,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:n},o=this.beans,r=o.context;e&&t.destroyBean(e,r);let a=this.createTooltipFeature(s,o);return t.createBean(a,r)}initCol(e){let{colDef:t}=e;e.tooltipEnabled=U(t.tooltipField)||U(t.tooltipValueGetter)||U(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},bq={moduleName:"Tooltip",version:Y,beans:[yq],dynamicBeans:{tooltipFeature:Ij},userComponents:{agTooltipComponent:w9},dependsOn:[Uf],css:[vq]},Cq={moduleName:"Locale",version:Y,beans:[g9]},wq=class extends O{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=Vi(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){let{visibleCols:e,rowModel:t,rowSpanSvc:i}=this.beans,n=e.autoHeightCols,s=!1;t.forEachDisplayedNode?.(o=>{let r=o.__autoHeights,a=Uc(this.beans,o).height;for(let l of n){if(this.colSpanSkipRow(l,o))return;let c=r?.[l.getColId()],d=i?.getCellSpan(l,o);if(d){if(d.getLastNode()!==o)continue;if(c=i?.getCellSpan(l,o)?.getLastNodeAutoHeight(),!c)return}if(c==null)return;a=Math.max(c,a)}a!==o.rowHeight&&(o.setRowHeight(a),s=!0)}),s&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,i){if(e.__autoHeights||(e.__autoHeights={}),t==null){delete e.__autoHeights[i.getId()];return}let n=e.__autoHeights[i.getId()];e.__autoHeights[i.getId()]=t,n!==t&&this.requestCheckAutoHeight()}colSpanSkipRow(e,t){let{colModel:i,colViewport:n,visibleCols:s}=this.beans;if(!i.colSpanActive)return!1;let o=[];switch(e.getPinned()){case"left":o=s.getLeftColsForRow(t);break;case"right":o=s.getRightColsForRow(t);break;case null:o=n.getColsWithinViewport(t);break}return o.includes(e)}setupCellAutoHeight(e,t,i){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;let n=t.parentElement,{rowNode:s,column:o}=e,r=this.beans,a=d=>{if(e.editing||!e.isAlive()||!i.isAlive())return;let{paddingTop:u,paddingBottom:h,borderBottomWidth:p,borderTopWidth:g}=ul(n),m=u+h+p+g,v=t.offsetHeight+m;if(d<5){let y=Qt(r),C=!y||!y.contains(t),S=v==0;if(C||S){window.setTimeout(()=>a(d+1),0);return}}this.setRowAutoHeight(s,v,o)},l=()=>a(0);l();let c=sa(r,t,l);return i.addDestroyFunc(()=>{c(),this.setRowAutoHeight(s,void 0,o)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}},xq={moduleName:"RowAutoHeight",version:Y,beans:[wq]},iT={moduleName:"AllCommunity",version:Y,dependsOn:[wK,RK,zK,t$,EY,IY,RY,AY,kY,TY,LY,_Y,U$,$$,Y$,W$,Z$,q$,JK,nK,vZ,zW,EZ,IZ,OZ,HZ,y8,KZ,YY,t9,sq,dq,oq,fq,s9,YK,bq,Cq,xq,v8,xK,tq]};var nT=(()=>{class e extends Ik{setViewContainerRef(i,n){this.viewContainerRef=i,this.angularFrameworkOverrides=n}createWrapper(i){let n=this.angularFrameworkOverrides,s=this;class o extends mx{init(l){n.runInsideAngular(()=>{super.init(l),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return n.runInsideAngular(()=>s.createComponent(i))}hasMethod(l){return r.getFrameworkComponentInstance()[l]!=null}callMethod(l,c){let d=this.getFrameworkComponentInstance(),u=d[l];return l==="doesFilterPass"?u.apply(d,c):n.runInsideAngular(()=>u.apply(d,c))}addMethod(l,c){r[l]=c}}let r=new o;return r}createComponent(i){return this.viewContainerRef.createComponent(i)}static{this.\u0275fac=(()=>{let i;return function(s){return(i||(i=rn(e)))(s||e)}})()}static{this.\u0275prov=G({token:e,factory:e.\u0275fac})}}return e})(),mx=class{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,hs(this._eGui),this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&typeof this._frameworkComponentInstance.destroy=="function"&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}},Kf=class{constructor(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(t){let i=t;return this.frameworkOverrides.shouldWrapOutgoing&&(i=n=>{this.frameworkOverrides.wrapOutgoing(()=>t(n))},this.wrappedListeners.set(t,i)),i}wrapGlobal(t){let i=t;return this.frameworkOverrides.shouldWrapOutgoing&&(i=(n,s)=>{this.frameworkOverrides.wrapOutgoing(()=>t(n,s))},this.wrappedGlobalListeners.set(t,i)),i}unwrap(t){return this.wrappedListeners.get(t)??t}unwrapGlobal(t){return this.wrappedGlobalListeners.get(t)??t}},sT=(()=>{class e extends lx{constructor(i){super("angular"),this._ngZone=i,this.isRunningWithinTestZone=!1,this.wrapIncoming=(n,s)=>this.runOutside(n,s),this.wrapOutgoing=n=>this.runInsideAngular(n),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this._ngZone?this.isRunningWithinTestZone?this.runOutside=(n,s)=>s==="resize-observer"||s==="popupPositioning"?this._ngZone.runOutsideAngular(n):n():this.runOutside=n=>this._ngZone.runOutsideAngular(n):this.runOutside=n=>n()}get shouldWrapOutgoing(){return this._ngZone&&Ce.isInAngularZone()}createLocalEventListenerWrapper(i,n){if(this.shouldWrapOutgoing)return i??(n.setFrameworkOverrides(this),new Kf(this))}createGlobalEventListenerWrapper(){return new Kf(this)}isFrameworkComponent(i){if(!i)return!1;let n=i.prototype;return n&&"agInit"in n}runInsideAngular(i){return this._ngZone?this._ngZone.run(i):i()}runOutsideAngular(i,n){return this.runOutside(i,n)}static{this.\u0275fac=function(n){return new(n||e)(De(Ce))}}static{this.\u0275prov=G({token:e,factory:e.\u0275fac})}}return e})(),oT=(()=>{class e{constructor(i,n,s,o){this._viewContainerRef=n,this._angularFrameworkOverrides=s,this._frameworkCompWrapper=o,this._initialised=!1,this._destroyed=!1,this._holdEvents=!0,this._fullyReady=new Promise(r=>{this._resolveFullyReady=r}),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.enableStrictPivotColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressMoveWhenColumnDragging=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressGroupChangesColumnVisibility=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.applyQuickFilterBeforePivotOrAgg=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.alwaysPassFilter=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.suppressAdvancedFilterEval=void 0,this.suppressSetFilterByDefault=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.dragAndDropImageComponent=void 0,this.dragAndDropImageComponentParams=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.loading=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.cellFlashDuration=void 0,this.cellFadeDuration=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableCellSpan=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupTotalRow=void 0,this.grandTotalRow=void 0,this.suppressStickyTotalRow=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupHideParentOfSingleChild=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.treeData=void 0,this.treeDataChildrenField=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideFullWidthLoadingRow=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.cellSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.selectionColumnDef=void 0,this.rowNumbers=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.theme=void 0,this.loadThemeGoogleFonts=void 0,this.themeCssLayer=void 0,this.themeStyleContainer=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.focusGridInnerElement=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new P,this.toolPanelSizeChanged=new P,this.columnMenuVisibleChanged=new P,this.contextMenuVisibleChanged=new P,this.cutStart=new P,this.cutEnd=new P,this.pasteStart=new P,this.pasteEnd=new P,this.columnVisible=new P,this.columnPinned=new P,this.columnResized=new P,this.columnMoved=new P,this.columnValueChanged=new P,this.columnPivotModeChanged=new P,this.columnPivotChanged=new P,this.columnGroupOpened=new P,this.newColumnsLoaded=new P,this.gridColumnsChanged=new P,this.displayedColumnsChanged=new P,this.virtualColumnsChanged=new P,this.columnEverythingChanged=new P,this.columnHeaderMouseOver=new P,this.columnHeaderMouseLeave=new P,this.columnHeaderClicked=new P,this.columnHeaderContextMenu=new P,this.componentStateChanged=new P,this.cellValueChanged=new P,this.cellEditRequest=new P,this.rowValueChanged=new P,this.cellEditingStarted=new P,this.cellEditingStopped=new P,this.rowEditingStarted=new P,this.rowEditingStopped=new P,this.undoStarted=new P,this.undoEnded=new P,this.redoStarted=new P,this.redoEnded=new P,this.cellSelectionDeleteStart=new P,this.cellSelectionDeleteEnd=new P,this.rangeDeleteStart=new P,this.rangeDeleteEnd=new P,this.fillStart=new P,this.fillEnd=new P,this.filterOpened=new P,this.filterChanged=new P,this.filterModified=new P,this.advancedFilterBuilderVisibleChanged=new P,this.chartCreated=new P,this.chartRangeSelectionChanged=new P,this.chartOptionsChanged=new P,this.chartDestroyed=new P,this.cellKeyDown=new P,this.gridReady=new P,this.firstDataRendered=new P,this.gridSizeChanged=new P,this.modelUpdated=new P,this.virtualRowRemoved=new P,this.viewportChanged=new P,this.bodyScroll=new P,this.bodyScrollEnd=new P,this.dragStarted=new P,this.dragStopped=new P,this.dragCancelled=new P,this.stateUpdated=new P,this.paginationChanged=new P,this.rowDragEnter=new P,this.rowDragMove=new P,this.rowDragLeave=new P,this.rowDragEnd=new P,this.rowDragCancel=new P,this.columnRowGroupChanged=new P,this.rowGroupOpened=new P,this.expandOrCollapseAll=new P,this.pivotMaxColumnsExceeded=new P,this.pinnedRowDataChanged=new P,this.rowDataUpdated=new P,this.asyncTransactionsFlushed=new P,this.storeRefreshed=new P,this.headerFocused=new P,this.cellClicked=new P,this.cellDoubleClicked=new P,this.cellFocused=new P,this.cellMouseOver=new P,this.cellMouseOut=new P,this.cellMouseDown=new P,this.rowClicked=new P,this.rowDoubleClicked=new P,this.rowSelected=new P,this.selectionChanged=new P,this.cellContextMenu=new P,this.rangeSelectionChanged=new P,this.cellSelectionChanged=new P,this.tooltipShow=new P,this.tooltipHide=new P,this.sortChanged=new P,this._nativeElement=i.nativeElement,this._fullyReady.then(()=>{this._holdEvents=!1})}ngAfterViewInit(){this._angularFrameworkOverrides.runOutsideAngular(()=>{this._frameworkCompWrapper.setViewContainerRef(this._viewContainerRef,this._angularFrameworkOverrides);let i=Object.keys(this).filter(a=>!(a.startsWith("_")||a=="gridOptions"||a=="modules"||this[a]instanceof P)),n={};i.forEach(a=>{let l=Mq(a,this[a]);n[a]=l});let s=tA(this.gridOptions,n,i),o={globalListener:this.globalListener.bind(this),frameworkOverrides:this._angularFrameworkOverrides,providedBeanInstances:{frameworkCompWrapper:this._frameworkCompWrapper},modules:this.modules||[],setThemeOnGridDiv:!0},r=Mk(this._nativeElement,s,o);r&&(this.api=r),this._initialised=!0,this._resolveFullyReady()})}ngOnChanges(i){this._initialised&&this._angularFrameworkOverrides.runOutsideAngular(()=>{let n={};for(let s of Object.keys(i)){let o=i[s];n[s]=o.currentValue}iA(n,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(i){let s=this[i],o=s?.observed??s?.observers?.length>0,r=`on${i.charAt(0).toUpperCase()}${i.substring(1)}`,a=!!this.gridOptions&&!!this.gridOptions[r];return o||a}globalListener(i,n){if(this._destroyed)return;let s=this[i];if(s&&this.isEmitterUsed(i)){let o=()=>this._angularFrameworkOverrides.runInsideAngular(()=>s.emit(n));this._holdEvents?this._fullyReady.then(()=>o()):o()}}static{this.\u0275fac=function(n){return new(n||e)(Re(Oe),Re(Bo),Re(sT),Re(nT))}}static{this.\u0275cmp=ge({type:e,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:[2,"suppressContextMenu","suppressContextMenu",k],preventDefaultOnContextMenu:[2,"preventDefaultOnContextMenu","preventDefaultOnContextMenu",k],allowContextMenuWithControlKey:[2,"allowContextMenuWithControlKey","allowContextMenuWithControlKey",k],columnMenu:"columnMenu",suppressMenuHide:[2,"suppressMenuHide","suppressMenuHide",k],enableBrowserTooltips:[2,"enableBrowserTooltips","enableBrowserTooltips",k],tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:[2,"tooltipMouseTrack","tooltipMouseTrack",k],tooltipShowMode:"tooltipShowMode",tooltipInteraction:[2,"tooltipInteraction","tooltipInteraction",k],popupParent:"popupParent",copyHeadersToClipboard:[2,"copyHeadersToClipboard","copyHeadersToClipboard",k],copyGroupHeadersToClipboard:[2,"copyGroupHeadersToClipboard","copyGroupHeadersToClipboard",k],clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:[2,"suppressCopyRowsToClipboard","suppressCopyRowsToClipboard",k],suppressCopySingleCellRanges:[2,"suppressCopySingleCellRanges","suppressCopySingleCellRanges",k],suppressLastEmptyLineOnPaste:[2,"suppressLastEmptyLineOnPaste","suppressLastEmptyLineOnPaste",k],suppressClipboardPaste:[2,"suppressClipboardPaste","suppressClipboardPaste",k],suppressClipboardApi:[2,"suppressClipboardApi","suppressClipboardApi",k],suppressCutToClipboard:[2,"suppressCutToClipboard","suppressCutToClipboard",k],columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:[2,"maintainColumnOrder","maintainColumnOrder",k],enableStrictPivotColumnOrder:[2,"enableStrictPivotColumnOrder","enableStrictPivotColumnOrder",k],suppressFieldDotNotation:[2,"suppressFieldDotNotation","suppressFieldDotNotation",k],headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:[2,"allowDragFromColumnsToolPanel","allowDragFromColumnsToolPanel",k],suppressMovableColumns:[2,"suppressMovableColumns","suppressMovableColumns",k],suppressColumnMoveAnimation:[2,"suppressColumnMoveAnimation","suppressColumnMoveAnimation",k],suppressMoveWhenColumnDragging:[2,"suppressMoveWhenColumnDragging","suppressMoveWhenColumnDragging",k],suppressDragLeaveHidesColumns:[2,"suppressDragLeaveHidesColumns","suppressDragLeaveHidesColumns",k],suppressGroupChangesColumnVisibility:"suppressGroupChangesColumnVisibility",suppressMakeColumnVisibleAfterUnGroup:[2,"suppressMakeColumnVisibleAfterUnGroup","suppressMakeColumnVisibleAfterUnGroup",k],suppressRowGroupHidesColumns:[2,"suppressRowGroupHidesColumns","suppressRowGroupHidesColumns",k],colResizeDefault:"colResizeDefault",suppressAutoSize:[2,"suppressAutoSize","suppressAutoSize",k],autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:[2,"skipHeaderOnAutoSize","skipHeaderOnAutoSize",k],autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:[2,"singleClickEdit","singleClickEdit",k],suppressClickEdit:[2,"suppressClickEdit","suppressClickEdit",k],readOnlyEdit:[2,"readOnlyEdit","readOnlyEdit",k],stopEditingWhenCellsLoseFocus:[2,"stopEditingWhenCellsLoseFocus","stopEditingWhenCellsLoseFocus",k],enterNavigatesVertically:[2,"enterNavigatesVertically","enterNavigatesVertically",k],enterNavigatesVerticallyAfterEdit:[2,"enterNavigatesVerticallyAfterEdit","enterNavigatesVerticallyAfterEdit",k],enableCellEditingOnBackspace:[2,"enableCellEditingOnBackspace","enableCellEditingOnBackspace",k],undoRedoCellEditing:[2,"undoRedoCellEditing","undoRedoCellEditing",k],undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:[2,"suppressCsvExport","suppressCsvExport",k],defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:[2,"suppressExcelExport","suppressExcelExport",k],excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:[2,"cacheQuickFilter","cacheQuickFilter",k],includeHiddenColumnsInQuickFilter:[2,"includeHiddenColumnsInQuickFilter","includeHiddenColumnsInQuickFilter",k],quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",applyQuickFilterBeforePivotOrAgg:[2,"applyQuickFilterBeforePivotOrAgg","applyQuickFilterBeforePivotOrAgg",k],excludeChildrenWhenTreeDataFiltering:[2,"excludeChildrenWhenTreeDataFiltering","excludeChildrenWhenTreeDataFiltering",k],enableAdvancedFilter:[2,"enableAdvancedFilter","enableAdvancedFilter",k],alwaysPassFilter:"alwaysPassFilter",includeHiddenColumnsInAdvancedFilter:[2,"includeHiddenColumnsInAdvancedFilter","includeHiddenColumnsInAdvancedFilter",k],advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",suppressAdvancedFilterEval:[2,"suppressAdvancedFilterEval","suppressAdvancedFilterEval",k],suppressSetFilterByDefault:[2,"suppressSetFilterByDefault","suppressSetFilterByDefault",k],enableCharts:[2,"enableCharts","enableCharts",k],chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:[2,"masterDetail","masterDetail",k],keepDetailRows:[2,"keepDetailRows","keepDetailRows",k],keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:[2,"detailRowAutoHeight","detailRowAutoHeight",k],context:"context",dragAndDropImageComponent:"dragAndDropImageComponent",dragAndDropImageComponentParams:"dragAndDropImageComponentParams",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:[2,"valueCache","valueCache",k],valueCacheNeverExpires:[2,"valueCacheNeverExpires","valueCacheNeverExpires",k],enableCellExpressions:[2,"enableCellExpressions","enableCellExpressions",k],suppressTouch:[2,"suppressTouch","suppressTouch",k],suppressFocusAfterRefresh:[2,"suppressFocusAfterRefresh","suppressFocusAfterRefresh",k],suppressBrowserResizeObserver:[2,"suppressBrowserResizeObserver","suppressBrowserResizeObserver",k],suppressPropertyNamesCheck:[2,"suppressPropertyNamesCheck","suppressPropertyNamesCheck",k],suppressChangeDetection:[2,"suppressChangeDetection","suppressChangeDetection",k],debug:[2,"debug","debug",k],loading:[2,"loading","loading",k],overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:[2,"suppressLoadingOverlay","suppressLoadingOverlay",k],overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:[2,"suppressNoRowsOverlay","suppressNoRowsOverlay",k],pagination:[2,"pagination","pagination",k],paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:[2,"paginationAutoPageSize","paginationAutoPageSize",k],paginateChildRows:[2,"paginateChildRows","paginateChildRows",k],suppressPaginationPanel:[2,"suppressPaginationPanel","suppressPaginationPanel",k],pivotMode:[2,"pivotMode","pivotMode",k],pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:[2,"pivotSuppressAutoColumn","pivotSuppressAutoColumn",k],suppressExpandablePivotGroups:[2,"suppressExpandablePivotGroups","suppressExpandablePivotGroups",k],functionsReadOnly:[2,"functionsReadOnly","functionsReadOnly",k],aggFuncs:"aggFuncs",suppressAggFuncInHeader:[2,"suppressAggFuncInHeader","suppressAggFuncInHeader",k],alwaysAggregateAtRootLevel:[2,"alwaysAggregateAtRootLevel","alwaysAggregateAtRootLevel",k],aggregateOnlyChangedColumns:[2,"aggregateOnlyChangedColumns","aggregateOnlyChangedColumns",k],suppressAggFilteredOnly:[2,"suppressAggFilteredOnly","suppressAggFilteredOnly",k],removePivotHeaderRowWhenSingleValueColumn:[2,"removePivotHeaderRowWhenSingleValueColumn","removePivotHeaderRowWhenSingleValueColumn",k],animateRows:[2,"animateRows","animateRows",k],cellFlashDuration:"cellFlashDuration",cellFadeDuration:"cellFadeDuration",allowShowChangeAfterFilter:[2,"allowShowChangeAfterFilter","allowShowChangeAfterFilter",k],domLayout:"domLayout",ensureDomOrder:[2,"ensureDomOrder","ensureDomOrder",k],enableCellSpan:[2,"enableCellSpan","enableCellSpan",k],enableRtl:[2,"enableRtl","enableRtl",k],suppressColumnVirtualisation:[2,"suppressColumnVirtualisation","suppressColumnVirtualisation",k],suppressMaxRenderedRowRestriction:[2,"suppressMaxRenderedRowRestriction","suppressMaxRenderedRowRestriction",k],suppressRowVirtualisation:[2,"suppressRowVirtualisation","suppressRowVirtualisation",k],rowDragManaged:[2,"rowDragManaged","rowDragManaged",k],suppressRowDrag:[2,"suppressRowDrag","suppressRowDrag",k],suppressMoveWhenRowDragging:[2,"suppressMoveWhenRowDragging","suppressMoveWhenRowDragging",k],rowDragEntireRow:[2,"rowDragEntireRow","rowDragEntireRow",k],rowDragMultiRow:[2,"rowDragMultiRow","rowDragMultiRow",k],rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:[2,"embedFullWidthRows","embedFullWidthRows",k],groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:[2,"groupMaintainOrder","groupMaintainOrder",k],groupSelectsChildren:[2,"groupSelectsChildren","groupSelectsChildren",k],groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupTotalRow:"groupTotalRow",grandTotalRow:"grandTotalRow",suppressStickyTotalRow:"suppressStickyTotalRow",groupSuppressBlankHeader:[2,"groupSuppressBlankHeader","groupSuppressBlankHeader",k],groupSelectsFiltered:[2,"groupSelectsFiltered","groupSelectsFiltered",k],showOpenedGroup:[2,"showOpenedGroup","showOpenedGroup",k],groupHideParentOfSingleChild:"groupHideParentOfSingleChild",groupRemoveSingleChildren:[2,"groupRemoveSingleChildren","groupRemoveSingleChildren",k],groupRemoveLowestSingleChildren:[2,"groupRemoveLowestSingleChildren","groupRemoveLowestSingleChildren",k],groupHideOpenParents:[2,"groupHideOpenParents","groupHideOpenParents",k],groupAllowUnbalanced:[2,"groupAllowUnbalanced","groupAllowUnbalanced",k],rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",treeData:[2,"treeData","treeData",k],treeDataChildrenField:"treeDataChildrenField",rowGroupPanelSuppressSort:[2,"rowGroupPanelSuppressSort","rowGroupPanelSuppressSort",k],suppressGroupRowsSticky:[2,"suppressGroupRowsSticky","suppressGroupRowsSticky",k],pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:[2,"suppressModelUpdateAfterUpdateTransaction","suppressModelUpdateAfterUpdateTransaction",k],datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideFullWidthLoadingRow:[2,"suppressServerSideFullWidthLoadingRow","suppressServerSideFullWidthLoadingRow",k],cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:[2,"purgeClosedRowNodes","purgeClosedRowNodes",k],serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:[2,"serverSideSortAllLevels","serverSideSortAllLevels",k],serverSideEnableClientSideSort:[2,"serverSideEnableClientSideSort","serverSideEnableClientSideSort",k],serverSideOnlyRefreshFilteredGroups:[2,"serverSideOnlyRefreshFilteredGroups","serverSideOnlyRefreshFilteredGroups",k],serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:[2,"alwaysShowHorizontalScroll","alwaysShowHorizontalScroll",k],alwaysShowVerticalScroll:[2,"alwaysShowVerticalScroll","alwaysShowVerticalScroll",k],debounceVerticalScrollbar:[2,"debounceVerticalScrollbar","debounceVerticalScrollbar",k],suppressHorizontalScroll:[2,"suppressHorizontalScroll","suppressHorizontalScroll",k],suppressScrollOnNewData:[2,"suppressScrollOnNewData","suppressScrollOnNewData",k],suppressScrollWhenPopupsAreOpen:[2,"suppressScrollWhenPopupsAreOpen","suppressScrollWhenPopupsAreOpen",k],suppressAnimationFrame:[2,"suppressAnimationFrame","suppressAnimationFrame",k],suppressMiddleClickScrolls:[2,"suppressMiddleClickScrolls","suppressMiddleClickScrolls",k],suppressPreventDefaultOnMouseWheel:[2,"suppressPreventDefaultOnMouseWheel","suppressPreventDefaultOnMouseWheel",k],scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",cellSelection:"cellSelection",rowMultiSelectWithClick:[2,"rowMultiSelectWithClick","rowMultiSelectWithClick",k],suppressRowDeselection:[2,"suppressRowDeselection","suppressRowDeselection",k],suppressRowClickSelection:[2,"suppressRowClickSelection","suppressRowClickSelection",k],suppressCellFocus:[2,"suppressCellFocus","suppressCellFocus",k],suppressHeaderFocus:[2,"suppressHeaderFocus","suppressHeaderFocus",k],selectionColumnDef:"selectionColumnDef",rowNumbers:"rowNumbers",suppressMultiRangeSelection:[2,"suppressMultiRangeSelection","suppressMultiRangeSelection",k],enableCellTextSelection:[2,"enableCellTextSelection","enableCellTextSelection",k],enableRangeSelection:[2,"enableRangeSelection","enableRangeSelection",k],enableRangeHandle:[2,"enableRangeHandle","enableRangeHandle",k],enableFillHandle:[2,"enableFillHandle","enableFillHandle",k],fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:[2,"suppressClearOnFillReduction","suppressClearOnFillReduction",k],sortingOrder:"sortingOrder",accentedSort:[2,"accentedSort","accentedSort",k],unSortIcon:[2,"unSortIcon","unSortIcon",k],suppressMultiSort:[2,"suppressMultiSort","suppressMultiSort",k],alwaysMultiSort:[2,"alwaysMultiSort","alwaysMultiSort",k],multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:[2,"suppressMaintainUnsortedOrder","suppressMaintainUnsortedOrder",k],icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:[2,"suppressRowHoverHighlight","suppressRowHoverHighlight",k],suppressRowTransform:[2,"suppressRowTransform","suppressRowTransform",k],columnHoverHighlight:[2,"columnHoverHighlight","columnHoverHighlight",k],gridId:"gridId",deltaSort:[2,"deltaSort","deltaSort",k],treeDataDisplayType:"treeDataDisplayType",enableGroupEdit:[2,"enableGroupEdit","enableGroupEdit",k],initialState:"initialState",theme:"theme",loadThemeGoogleFonts:[2,"loadThemeGoogleFonts","loadThemeGoogleFonts",k],themeCssLayer:"themeCssLayer",themeStyleContainer:"themeStyleContainer",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",focusGridInnerElement:"focusGridInnerElement",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:[2,"resetRowDataOnUpdate","resetRowDataOnUpdate",k],processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",contextMenuVisibleChanged:"contextMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",cellSelectionDeleteStart:"cellSelectionDeleteStart",cellSelectionDeleteEnd:"cellSelectionDeleteEnd",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",fillStart:"fillStart",fillEnd:"fillEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",dragCancelled:"dragCancelled",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",rowDragCancel:"rowDragCancel",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",headerFocused:"headerFocused",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",cellSelectionChanged:"cellSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged"},features:[ti([sT,nT]),ei],decls:0,vars:0,template:function(n,s){},encapsulation:2})}}return e})(),Sq=new Set(hx);function Mq(e,t){return Sq.has(e)?t===""?!0:t==="false"?!1:t:t}var rT=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=W({type:e})}static{this.\u0275inj=j({})}}return e})();var Dq=["chart"],aT=(()=>{class e{constructor(){this.chart=At(),this.annotations=At(),this.colors=At(),this.dataLabels=At(),this.series=At(),this.stroke=At(),this.labels=At(),this.legend=At(),this.markers=At(),this.noData=At(),this.fill=At(),this.tooltip=At(),this.plotOptions=At(),this.responsive=At(),this.xaxis=At(),this.yaxis=At(),this.forecastDataPoints=At(),this.grid=At(),this.states=At(),this.title=At(),this.subtitle=At(),this.theme=At(),this.autoUpdateSeries=At(!0),this.chartReady=jD(),this.chartInstance=ao(null),this.chartElement=e_.required("chart"),this.ngZone=_(Ce),this.isBrowser=Pg(_(lo))}ngOnChanges(i){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{db.schedule(()=>this.hydrate(i))})}ngOnDestroy(){this.destroy()}hydrate(i){if(this.autoUpdateSeries()&&Object.keys(i).filter(s=>s!=="series").length===0){this.updateSeries(this.series(),!0);return}this.createElement()}createElement(){return Pe(this,null,function*(){let{default:i}=yield import("./chunk-3OASV3WE.js");window.ApexCharts||=i;let n={};["annotations","chart","colors","dataLabels","series","stroke","labels","legend","fill","tooltip","plotOptions","responsive","markers","noData","xaxis","yaxis","forecastDataPoints","grid","states","title","subtitle","theme"].forEach(r=>{let a=this[r]();a&&(n[r]=a)}),this.destroy();let o=this.ngZone.runOutsideAngular(()=>new i(this.chartElement().nativeElement,n));this.chartInstance.set(o),this.render(),this.chartReady.emit({chartObj:o})})}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(i,n,s,o){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(i,n,s,o))}updateSeries(i,n){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(i,n))}appendSeries(i,n){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(i,n))}appendData(i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(i))}highlightSeries(i){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(i))}toggleSeries(i){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(i))}showSeries(i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(i))}hideSeries(i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(i))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(i,n){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(i,n))}toggleDataPointSelection(i,n){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(i,n))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(i))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(i,n,s){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(i,n,s))}addYaxisAnnotation(i,n,s){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(i,n,s))}addPointAnnotation(i,n,s){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(i,n,s))}removeAnnotation(i,n){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(i,n))}clearAnnotations(i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(i))}dataURI(i){return this.chartInstance()?.dataURI(i)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ge({type:e,selectors:[["apx-chart"]],viewQuery:function(n,s){n&1&&c_(s.chartElement,Dq,5),n&2&&Ig()},inputs:{chart:[1,"chart"],annotations:[1,"annotations"],colors:[1,"colors"],dataLabels:[1,"dataLabels"],series:[1,"series"],stroke:[1,"stroke"],labels:[1,"labels"],legend:[1,"legend"],markers:[1,"markers"],noData:[1,"noData"],fill:[1,"fill"],tooltip:[1,"tooltip"],plotOptions:[1,"plotOptions"],responsive:[1,"responsive"],xaxis:[1,"xaxis"],yaxis:[1,"yaxis"],forecastDataPoints:[1,"forecastDataPoints"],grid:[1,"grid"],states:[1,"states"],title:[1,"title"],subtitle:[1,"subtitle"],theme:[1,"theme"],autoUpdateSeries:[1,"autoUpdateSeries"]},outputs:{chartReady:"chartReady"},features:[ei],decls:2,vars:0,consts:[["chart",""]],template:function(n,s){n&1&&ze(0,"div",null,0)},encapsulation:2,changeDetection:0})}}return e})();var Zf=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=W({type:e})}static{this.\u0275inj=j({})}}return e})();var lT=["*"];var Eq=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-sys-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-sys-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-sys-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-sys-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}",fx=class{tracker;columnIndex=0;rowIndex=0;get rowCount(){return this.rowIndex+1}get rowspan(){let t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}positions;update(t,i){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=i.map(n=>this._trackTile(n))}_trackTile(t){let i=this._findMatchingGap(t.colspan);return this._markTilePosition(i,t),this.columnIndex=i+t.colspan,new vx(this.rowIndex,i)}_findMatchingGap(t){t>this.tracker.length;let i=-1,n=-1;do{if(this.columnIndex+t>this.tracker.length){this._nextRow(),i=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(i);continue}if(i=this.tracker.indexOf(0,this.columnIndex),i==-1){this._nextRow(),i=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(i);continue}n=this._findGapEndIndex(i),this.columnIndex=i+1}while(n-i<t||n==0);return Math.max(i,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let i=t+1;i<this.tracker.length;i++)if(this.tracker[i]!=0)return i;return this.tracker.length}_markTilePosition(t,i){for(let n=0;n<i.colspan;n++)this.tracker[t+n]=i.rowspan}},vx=class{row;col;constructor(t,i){this.row=t,this.col=i}},cT=new Z("MAT_GRID_LIST"),wx=(()=>{class e{_element=_(Oe);_gridList=_(cT,{optional:!0});_rowspan=1;_colspan=1;constructor(){}get rowspan(){return this._rowspan}set rowspan(i){this._rowspan=Math.round(Vo(i))}get colspan(){return this._colspan}set colspan(i){this._colspan=Math.round(Vo(i))}_setStyle(i,n){this._element.nativeElement.style[i]=n}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(n,s){n&2&&tt("rowspan",s.rowspan)("colspan",s.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:lT,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(n,s){n&1&&(ui(),Q(0,"div",0),ut(1),J())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-sys-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-sys-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-sys-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-sys-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}return e})();var Iq=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/,Gh=class{_gutterSize;_rows=0;_rowspan=0;_cols;_direction;init(t,i,n,s){this._gutterSize=dT(t),this._rows=i.rowCount,this._rowspan=i.rowspan,this._cols=n,this._direction=s}getBaseTileSize(t,i){return`(${t}% - (${this._gutterSize} * ${i}))`}getTilePosition(t,i){return i===0?"0":ml(`(${t} + ${this._gutterSize}) * ${i}`)}getTileSize(t,i){return`(${t} * ${i}) + (${i-1} * ${this._gutterSize})`}setStyle(t,i,n){let s=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(t,n,s,o),this.setRowStyles(t,i,s,o)}setColStyles(t,i,n,s){let o=this.getBaseTileSize(n,s),r=this._direction==="rtl"?"right":"left";t._setStyle(r,this.getTilePosition(o,i)),t._setStyle("width",ml(this.getTileSize(o,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}},yx=class extends Gh{fixedRowHeight;constructor(t){super(),this.fixedRowHeight=t}init(t,i,n,s){super.init(t,i,n,s),this.fixedRowHeight=dT(this.fixedRowHeight),Iq.test(this.fixedRowHeight)}setRowStyles(t,i){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,i)),t._setStyle("height",ml(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",ml(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(i=>{i._setStyle("top",null),i._setStyle("height",null)})}},bx=class extends Gh{rowHeightRatio;baseTileHeight;constructor(t){super(),this._parseRatio(t)}setRowStyles(t,i,n,s){let o=n/this.rowHeightRatio;this.baseTileHeight=this.getBaseTileSize(o,s),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,i)),t._setStyle("paddingTop",ml(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",ml(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(i=>{i._setStyle("marginTop",null),i._setStyle("paddingTop",null)})}_parseRatio(t){let i=t.split(":");i.length,this.rowHeightRatio=parseFloat(i[0])/parseFloat(i[1])}},Cx=class extends Gh{setRowStyles(t,i){let n=100/this._rowspan,s=(this._rows-1)/this._rows,o=this.getBaseTileSize(n,s);t._setStyle("top",this.getTilePosition(o,i)),t._setStyle("height",ml(this.getTileSize(o,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(i=>{i._setStyle("top",null),i._setStyle("height",null)})}};function ml(e){return`calc(${e})`}function dT(e){return e.match(/([A-Za-z%]+)$/)?e:`${e}px`}var Rq="fit",uT=(()=>{class e{_element=_(Oe);_dir=_(Hn,{optional:!0});_cols;_tileCoordinator;_rowHeight;_gutter="1px";_tileStyler;_tiles;constructor(){}get cols(){return this._cols}set cols(i){this._cols=Math.max(1,Math.round(Vo(i)))}get gutterSize(){return this._gutter}set gutterSize(i){this._gutter=`${i??""}`}get rowHeight(){return this._rowHeight}set rowHeight(i){let n=`${i??""}`;n!==this._rowHeight&&(this._rowHeight=n,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){this.cols}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(i){this._tileStyler&&this._tileStyler.reset(this),i===Rq?this._tileStyler=new Cx:i&&i.indexOf(":")>-1?this._tileStyler=new bx(i):this._tileStyler=new yx(i)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new fx);let i=this._tileCoordinator,n=this._tiles.filter(o=>!o._gridList||o._gridList===this),s=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,n),this._tileStyler.init(this.gutterSize,i,this.cols,s),n.forEach((o,r)=>{let a=i.positions[r];this._tileStyler.setStyle(o,a.row,a.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(i){i&&(this._element.nativeElement.style[i[0]]=i[1])}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["mat-grid-list"]],contentQueries:function(n,s,o){if(n&1&&Bi(o,wx,5),n&2){let r;Ye(r=Ke())&&(s._tiles=r)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(n,s){n&2&&tt("cols",s.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[ti([{provide:cT,useExisting:e}])],ngContentSelectors:lT,decls:2,vars:0,template:function(n,s){n&1&&(ui(),Q(0,"div"),ut(1),J())},styles:[Eq],encapsulation:2,changeDetection:0})}return e})(),hT=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[SC,Be,SC,Be]})}return e})();var kq=["trigger"],Tq=["panel"],Lq=[[["mat-select-trigger"]],"*"],Fq=["mat-select-trigger","*"];function Pq(e,t){if(e&1&&(Q(0,"span",4),kt(1),J()),e&2){let i=ft();ie(),Gn(i.placeholder)}}function Oq(e,t){e&1&&ut(0)}function Nq(e,t){if(e&1&&(Q(0,"span",11),kt(1),J()),e&2){let i=ft(2);ie(),Gn(i.triggerValue)}}function Bq(e,t){if(e&1&&(Q(0,"span",5),$e(1,Oq,1,0)(2,Nq,2,1,"span",11),J()),e&2){let i=ft();ie(),Vt(i.customTrigger?1:2)}}function zq(e,t){if(e&1){let i=co();Q(0,"div",12,1),lt("@transformPanel.done",function(s){sn(i);let o=ft();return on(o._panelDoneAnimatingStream.next(s.toState))})("keydown",function(s){sn(i);let o=ft();return on(o._handleKeydown(s))}),ut(2,1),J()}if(e&2){let i=ft();s_("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",i._getPanelTheme(),""),Fe("ngClass",i.panelClass)("@transformPanel","showing"),tt("id",i.id+"-panel")("aria-multiselectable",i.multiple)("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby())}}var Vq={transformPanelWrap:uu("transformPanelWrap",[Ql("* => void",D_("@transformPanel",[M_()],{optional:!0}))]),transformPanel:uu("transformPanel",[Ng("void",Va({opacity:0,transform:"scale(1, 0.8)"})),Ql("void => showing",hu("120ms cubic-bezier(0, 0, 0.2, 1)",Va({opacity:1,transform:"scale(1, 1)"}))),Ql("* => void",hu("100ms linear",Va({opacity:0})))])};var pT=new Z("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let e=_(Wn);return()=>e.scrollStrategies.reposition()}});function Gq(e){return()=>e.scrollStrategies.reposition()}var Hq=new Z("MAT_SELECT_CONFIG"),jq={provide:pT,deps:[Wn],useFactory:Gq},Wq=new Z("MatSelectTrigger"),xx=class{source;value;constructor(t,i){this.source=t,this.value=i}},gT=(()=>{class e{_viewportRuler=_(Su);_changeDetectorRef=_(Ei);_elementRef=_(Oe);_dir=_(Hn,{optional:!0});_idGenerator=_(zi);_parentFormField=_(Gu,{optional:!0});ngControl=_(Go,{self:!0,optional:!0});_liveAnnouncer=_(C1);_defaultOptions=_(Hq,{optional:!0});_initialized=new ye;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(i){let n=this.options.toArray()[i];if(n){let s=this.panel.nativeElement,o=z1(i,this.options,this.optionGroups),r=n._getHostElement();i===0&&o===1?s.scrollTop=0:s.scrollTop=V1(r.offsetTop,r.offsetHeight,s.scrollTop,s.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(i){return new xx(this,i)}_scrollStrategyFactory=_(pT);_panelOpen=!1;_compareWith=(i,n)=>i===n;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new ye;_errorStateTracker;stateChanges=new ye;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_panelDoneAnimatingStream=new ye;_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(i){this._hideSingleSelectionIndicator=i,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(gc.required)??!1}set required(i){this._required=i,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(i){this._selectionModel,this._multiple=i}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(i){this._compareWith=i,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(i){this._assignValue(i)&&this._onChange(i)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(i){this._id=i||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Oo(()=>{let i=this.options;return i?i.changes.pipe(Dn(i),Ni(()=>ro(...i.map(n=>n.onSelectionChange)))):this._initialized.pipe(Ni(()=>this.optionSelectionChanges))});openedChange=new P;_openedStream=this.openedChange.pipe(Mt(i=>i),Ie(()=>{}));_closedStream=this.openedChange.pipe(Mt(i=>!i),Ie(()=>{}));selectionChange=new P;valueChange=new P;constructor(){let i=_(um),n=_(Nu,{optional:!0}),s=_(zu,{optional:!0}),o=_(new La("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new uc(i,this.ngControl,s,n,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=o==null?0:parseInt(o)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Zg(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(tu(),Jt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Jt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Jt(this._destroy)).subscribe(i=>{i.added.forEach(n=>n.select()),i.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Dn(null),Jt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let i=this._getTriggerAriaLabelledby(),n=this.ngControl;if(i!==this._triggerAriaLabelledBy){let s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=i,i?s.setAttribute("aria-labelledby",i):s.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(this._previousControl!==void 0&&n.disabled!==null&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(i){(i.disabled||i.userAriaDescribedBy)&&this.stateChanges.next(),i.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_trackedModal=null;_applyModalPanelOwnership(){let i=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!i)return;let n=`${this.id}-panel`;this._trackedModal&&nC(this._trackedModal,"aria-owns",n),m1(i,"aria-owns",n),this._trackedModal=i}_clearFromModal(){if(!this._trackedModal)return;let i=`${this.id}-panel`;nC(this._trackedModal,"aria-owns",i),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(i){this._assignValue(i)}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let i=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&i.reverse(),i.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(i){this.disabled||(this.panelOpen?this._handleOpenKeydown(i):this._handleClosedKeydown(i))}_handleClosedKeydown(i){let n=i.keyCode,s=n===40||n===38||n===37||n===39,o=n===13||n===32,r=this._keyManager;if(!r.isTyping()&&o&&!jn(i)||(this.multiple||i.altKey)&&s)i.preventDefault(),this.open();else if(!this.multiple){let a=this.selected;r.onKeydown(i);let l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(i){let n=this._keyManager,s=i.keyCode,o=s===40||s===38,r=n.isTyping();if(o&&i.altKey)i.preventDefault(),this.close();else if(!r&&(s===13||s===32)&&n.activeItem&&!jn(i))i.preventDefault(),n.activeItem._selectViaInteraction();else if(!r&&this._multiple&&s===65&&i.ctrlKey){i.preventDefault();let a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{let a=n.activeItemIndex;n.onKeydown(i),this._multiple&&o&&i.shiftKey&&n.activeItem&&n.activeItemIndex!==a&&n.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Oi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(i){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&i)Array.isArray(i),i.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{let n=this._selectOptionByValue(i);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(i){let n=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return(s.value!=null||this.canSelectNullableOptions)&&this._compareWith(s.value,i)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(i){return i!==this._value||this._multiple&&Array.isArray(i)?(this.options&&this._setSelectionByValue(i),this._value=i,!0):!1}_skipPredicate=i=>this.panelOpen?!1:i.disabled;_getOverlayWidth(i){return this.panelWidth==="auto"?(i instanceof _u?i.elementRef:i||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let i of this.options)i._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new im(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let i=ro(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Jt(i)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),ro(...this.options.map(n=>n._stateChanges)).pipe(Jt(i)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(i,n){let s=this._selectionModel.isSelected(i);!this.canSelectNullableOptions&&i.value==null&&!this._multiple?(i.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(i.value)):(s!==i.selected&&(i.selected?this._selectionModel.select(i):this._selectionModel.deselect(i)),n&&this._keyManager.setActiveItem(i),this.multiple&&(this._sortValues(),n&&this.focus())),s!==this._selectionModel.isSelected(i)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let i=this.options.toArray();this._selectionModel.sort((n,s)=>this.sortComparator?this.sortComparator(n,s,i):i.indexOf(n)-i.indexOf(s)),this.stateChanges.next()}}_propagateChanges(i){let n;this.multiple?n=this.selected.map(s=>s.value):n=this.selected?this.selected.value:i,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let i=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){i=n;break}this._keyManager.setActiveItem(i)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(i){this._elementRef.nativeElement.focus(i)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let i=this._parentFormField?.getLabelId()||null,n=i?i+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let i=this._parentFormField?.getLabelId(),n=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(i){this.openedChange.emit(i)}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["mat-select"]],contentQueries:function(n,s,o){if(n&1&&(Bi(o,Wq,5),Bi(o,hm,5),Bi(o,IC,5)),n&2){let r;Ye(r=Ke())&&(s.customTrigger=r.first),Ye(r=Ke())&&(s.options=r),Ye(r=Ke())&&(s.optionGroups=r)}},viewQuery:function(n,s){if(n&1&&(Gt(kq,5),Gt(Tq,5),Gt(fC,5)),n&2){let o;Ye(o=Ke())&&(s.trigger=o.first),Ye(o=Ke())&&(s.panel=o.first),Ye(o=Ke())&&(s._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,s){n&1&&lt("keydown",function(r){return s._handleKeydown(r)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),n&2&&(tt("id",s.id)("tabindex",s.disabled?-1:s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-activedescendant",s._getAriaActiveDescendant()),it("mat-mdc-select-disabled",s.disabled)("mat-mdc-select-invalid",s.errorState)("mat-mdc-select-required",s.required)("mat-mdc-select-empty",s.empty)("mat-mdc-select-multiple",s.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",k],disableRipple:[2,"disableRipple","disableRipple",k],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?0:Na(i)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",k],placeholder:"placeholder",required:[2,"required","required",k],multiple:[2,"multiple","multiple",k],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",k],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Na],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",k]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[ti([{provide:Vu,useExisting:e},{provide:EC,useExisting:e}]),ei],ngContentSelectors:Fq,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,s){if(n&1){let o=co();ui(Lq),Q(0,"div",2,0),lt("click",function(){return sn(o),on(s.open())}),Q(3,"div",3),$e(4,Pq,2,1,"span",4)(5,Bq,3,1,"span",5),J(),Q(6,"div",6)(7,"div",7),Kl(),Q(8,"svg",8),ze(9,"path",9),J()()()(),$e(10,zq,3,9,"ng-template",10),lt("backdropClick",function(){return sn(o),on(s.close())})("attach",function(){return sn(o),on(s._onAttached())})("detach",function(){return sn(o),on(s.close())})}if(n&2){let o=uo(1);ie(3),tt("id",s._valueId),ie(),Vt(s.empty?4:5),ie(6),Fe("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",s._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayWidth",s._overlayWidth)}},dependencies:[_u,fC,C_],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-form-field-no-animations .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}'],encapsulation:2,data:{animation:[Vq.transformPanel]},changeDetection:0})}return e})();var mT=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({providers:[jq],imports:[dc,RC,Be,qg,Bs,RC,Be]})}return e})();var $q=["determinateSpinner"];function Yq(e,t){if(e&1&&(Kl(),Q(0,"svg",11),ze(1,"circle",12),J()),e&2){let i=ft();tt("viewBox",i._viewBox()),ie(),ru("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeCircumference()/2,"px")("stroke-width",i._circleStrokeWidth(),"%"),tt("r",i._circleRadius())}}var Kq=new Z("mat-progress-spinner-default-options",{providedIn:"root",factory:Zq});function Zq(){return{diameter:fT}}var fT=100,qq=10,vT=(()=>{class e{_elementRef=_(Oe);_noopAnimations;get color(){return this._color||this._defaultColor}set color(i){this._color=i}_color;_defaultColor="primary";_determinateCircle;constructor(){let i=_(Di,{optional:!0}),n=_(Kq);this._noopAnimations=i==="NoopAnimations"&&!!n&&!n._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",n&&(n.color&&(this.color=this._defaultColor=n.color),n.diameter&&(this.diameter=n.diameter),n.strokeWidth&&(this.strokeWidth=n.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(i){this._value=Math.max(0,Math.min(100,i||0))}_value=0;get diameter(){return this._diameter}set diameter(i){this._diameter=i||0}_diameter=fT;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(i){this._strokeWidth=i||0}_strokeWidth;_circleRadius(){return(this.diameter-qq)/2}_viewBox(){let i=this._circleRadius()*2+this.strokeWidth;return`0 0 ${i} ${i}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,s){if(n&1&&Gt($q,5),n&2){let o;Ye(o=Ke())&&(s._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(n,s){n&2&&(tt("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",s.mode==="determinate"?s.value:null)("mode",s.mode),Oa("mat-"+s.color),ru("width",s.diameter,"px")("height",s.diameter,"px")("--mdc-circular-progress-size",s.diameter+"px")("--mdc-circular-progress-active-indicator-width",s.diameter+"px"),it("_mat-animation-noopable",s._noopAnimations)("mdc-circular-progress--indeterminate",s.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Na],diameter:[2,"diameter","diameter",Na],strokeWidth:[2,"strokeWidth","strokeWidth",Na]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,s){if(n&1&&($e(0,Yq,2,8,"ng-template",null,0,du),Q(2,"div",2,1),Kl(),Q(4,"svg",3),ze(5,"circle",4),J()(),yb(),Q(6,"div",5)(7,"div",6)(8,"div",7),Eg(9,8),J(),Q(10,"div",9),Eg(11,8),J(),Q(12,"div",10),Eg(13,8),J()()()),n&2){let o=uo(1);ie(4),tt("viewBox",s._viewBox()),ie(),ru("stroke-dasharray",s._strokeCircumference(),"px")("stroke-dashoffset",s._strokeDashOffset(),"px")("stroke-width",s._circleStrokeWidth(),"%"),tt("r",s._circleRadius()),ie(4),Fe("ngTemplateOutlet",o),ie(2),Fe("ngTemplateOutlet",o),ie(2),Fe("ngTemplateOutlet",o)}},dependencies:[Fg],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return e})();var yT=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Be]})}return e})();var qf=class e{constructor(){}connectToWebSocket(t){let i=new WebSocket(t);i.onopen=()=>(console.log("WebSocket connection opened!"),i.send("Hello, server!"),"connected"),i.onmessage=n=>(console.log("Message from server:",n.data),n.data),i.onerror=n=>(console.error("WebSocket error:",n),n),i.onclose=()=>(console.log("WebSocket connection closed"),"disconnected")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})};function Jq(e,t){e&1&&ze(0,"mat-progress-spinner",16)}function eX(e,t){e&1&&(Q(0,"div",17)(1,"span",18),kt(2,"Loading..."),J()())}function tX(e,t){if(e&1&&(Q(0,"mat-option",13),kt(1),J()),e&2){let i=t.$implicit;Fe("value",i.run_id),ie(),Gn(i.version)}}function iX(e,t){e&1&&ze(0,"mat-progress-spinner",16)}function nX(e,t){e&1&&(Q(0,"div",17)(1,"span",18),kt(2,"Loading..."),J()())}var td=class e{constructor(t,i,n,s,o){this.cdr=t;this.ngZone=i;this.restapi=n;this.storageService=s;this.ws=o;this.initChart(),this.getServerURL()}socket$;series=[];prediction=[];chart;dataLabels;markers;title;fill;yaxis;xaxis;tooltip;chartOptions={type:"line",height:400};chartSeries=[];predictOptions=[];isMenuVisible=!1;predictionTitle={text:"Prediction with LSTM",align:"left"};mlflow_run_id="f1cefc2508a14252a7a54b965e6b3502";mlflow_reg_model="lstm_base_model";actual_price=[];predicted_price=[];api_url="";rowData=[];colDefs=[];responseData={};pred_values=[];pred_col=[];parameters_col=[{field:"Parameter"},{field:"Value"}];metrics_col=[{field:"Metric"},{field:"Value"}];metrics=[];parameters=[];allRegistredModels=[];loading=!1;pred_loading=!1;ngOnInit(){this.responseData=this.restapi.getResponse(),this.responseData&&this.responseData.values.length&&this.predictionChart(this.responseData)}getServerURL(){let t=this.storageService.getDomain("fast_api");t&&(this.api_url=t.domain_name)}ngOnDestroy(){this.restapi.setResponse(this.responseData)}toggleMenu(){this.isMenuVisible=!this.isMenuVisible}initChart(){this.chart={type:"line",stacked:!1,height:350,zoom:{type:"x",enabled:!0,autoScaleYaxis:!0},toolbar:{autoSelected:"zoom"}},this.dataLabels={enabled:!1},this.markers={size:0,hover:{size:6}},this.title={text:"Stock Price Prediction",align:"left"},this.fill={type:"solid"},this.yaxis={labels:{formatter:t=>`$${t.toFixed(2)}`},title:{text:"Stock Price ($)"}},this.xaxis={type:"datetime",title:{text:"Date"}},this.tooltip={shared:!0,intersect:!1,y:{formatter:t=>`$${t.toFixed(2)}`}}}fetchStockData(){this.loading=!0,this.restapi.getService(this.api_url+"/datasets/trained_data").subscribe(t=>{if(t.status==200){console.log(t.data),this.colDefs=this.tableSetup(t.data[0]),this.rowData=t.data;let i=t.data.map(n=>[new Date(n.Date).getTime(),n.Close]);this.series=[{name:"Trained Price",data:i}]}this.loading=!1},t=>{console.error("Error fetching stock data",t),this.loading=!1})}tableSetup(t){let i=Object.keys(t),n=[];for(let s=0;s<i.length;s++){let o={field:i[s]};n.push(o)}return n}tableForMeticsSetup(t,i){let n=Object.keys(i),s=[];for(let o=0;o<n.length;o++){let r={};r[t]=n[o],r.Value=i[r[t]],Object.keys(r).length&&s.push(r)}return s}predictionChart(t={}){if(this.pred_loading=!0,Object.keys(t).length&&t.values.length)this.parameters=this.tableForMeticsSetup("Parameter",this.responseData.params),this.metrics=this.tableForMeticsSetup("Metric",this.responseData.metrics),this.prepareChartData(t.values);else{let i=this.mlflow_run_id?this.api_url+"/mlflow/predict/"+this.mlflow_reg_model+"/"+this.mlflow_run_id:this.api_url+"/mlflow/predict";this.restapi.getService(i).subscribe(n=>{n.status==200&&(this.responseData=n.data,this.parameters=this.tableForMeticsSetup("Parameter",this.responseData.params),this.metrics=this.tableForMeticsSetup("Metric",this.responseData.metrics),this.prepareChartData(this.responseData.values)),this.pred_loading=!1},n=>{this.pred_loading=!1})}}prepareChartData(t){this.pred_col=this.tableSetup(t[0]),this.pred_values=t,this.actual_price=t.map(i=>[new Date(i.Date).getTime(),i.Actual_price]),this.predicted_price=t.map(i=>[new Date(i.Date).getTime(),i.Predicted_price]),this.prediction=[{name:"Actual Price",data:this.actual_price},{name:"Predicted Price",data:this.predicted_price}]}get_run_id(t){this.pred_loading=!0;let i=this.api_url+"/mlflow/getallversions/"+t;this.restapi.getService(i).subscribe(n=>{n.status==200&&(this.allRegistredModels=n.data),this.pred_loading=!1},n=>{this.pred_loading=!1})}selectedRunId(t){}start(){this.restapi.getService(this.api_url+"/kafka/start").subscribe(t=>{t.message=="WebSocket streaming started"&&console.log(t)})}stop(){this.restapi.getService(this.api_url+"/kafka/stop").subscribe(t=>{console.log(t),t.message=="WebSocket streaming started"&&console.log(t)})}static \u0275fac=function(i){return new(i||e)(Re(Ei),Re(Ce),Re(po),Re(_n),Re(qf))};static \u0275cmp=ge({type:e,selectors:[["app-ml-time-series"]],decls:37,vars:35,consts:[[1,"container"],[1,"dashboard-container"],[3,"click"],["class","spinner-border text-primary","mode","indeterminate","diameter","30","color","primary",4,"ngIf"],["class","spinner-border text-primary","role","status",4,"ngIf"],[1,"chart-container"],[3,"series","chart","dataLabels","markers","title","fill","yaxis","xaxis","tooltip","autoUpdateSeries"],[2,"height","400px","width","450px",3,"rowData","columnDefs"],[1,"container-mat","text-center"],[1,"row"],[1,"col"],["type","text",3,"ngModelChange","ngModel"],[3,"valueChange","value"],[3,"value"],[2,"height","400px",3,"rowData","columnDefs"],["cols","1","rowHeight","2:1"],["mode","indeterminate","diameter","30","color","primary",1,"spinner-border","text-primary"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(i,n){i&1&&(Q(0,"div",0)(1,"main",1)(2,"h2"),kt(3,"Trading Forecast Dashboard"),J(),Q(4,"button",2),lt("click",function(){return n.fetchStockData()}),kt(5,"Fetch training data"),J(),$e(6,Jq,1,0,"mat-progress-spinner",3)(7,eX,3,0,"div",4),Q(8,"div",5),ze(9,"apx-chart",6)(10,"ag-grid-angular",7),Q(11,"div",8)(12,"div",9)(13,"div",10)(14,"input",11),cu("ngModelChange",function(o){return lu(n.mlflow_reg_model,o)||(n.mlflow_reg_model=o),o}),J(),Q(15,"button",2),lt("click",function(){return n.get_run_id(n.mlflow_reg_model)}),kt(16,"Get all version"),J()()(),Q(17,"div",9)(18,"div",10)(19,"mat-form-field")(20,"mat-label"),kt(21,"Get all registerd versions"),J(),Q(22,"mat-select",12),cu("valueChange",function(o){return lu(n.mlflow_run_id,o)||(n.mlflow_run_id=o),o}),r_(23,tX,2,2,"mat-option",13,o_),J()(),Q(25,"button",2),lt("click",function(){return n.predictionChart()}),kt(26,"Prediction on test data"),J(),$e(27,iX,1,0,"mat-progress-spinner",3)(28,nX,3,0,"div",4),J()(),Q(29,"p"),kt(30),J()(),ze(31,"apx-chart",6)(32,"ag-grid-angular",14),Q(33,"mat-grid-list",15)(34,"mat-grid-tile"),ze(35,"ag-grid-angular",7)(36,"ag-grid-angular",7),J()()()()()),i&2&&(ie(6),Fe("ngIf",n.loading),ie(),Fe("ngIf",n.loading),ie(2),Fe("series",n.series)("chart",n.chart)("dataLabels",n.dataLabels)("markers",n.markers)("title",n.title)("fill",n.fill)("yaxis",n.yaxis)("xaxis",n.xaxis)("tooltip",n.tooltip)("autoUpdateSeries",!0),ie(),Fe("rowData",n.rowData)("columnDefs",n.colDefs),ie(4),au("ngModel",n.mlflow_reg_model),ie(8),au("value",n.mlflow_run_id),ie(),a_(n.allRegistredModels),ie(4),Fe("ngIf",n.pred_loading),ie(),Fe("ngIf",n.pred_loading),ie(2),Gn(n.mlflow_run_id),ie(),Fe("series",n.prediction)("chart",n.chart)("dataLabels",n.dataLabels)("markers",n.markers)("title",n.predictionTitle)("fill",n.fill)("yaxis",n.yaxis)("xaxis",n.xaxis)("tooltip",n.tooltip)("autoUpdateSeries",!0),ie(),Fe("rowData",n.pred_values)("columnDefs",n.pred_col),ie(3),Fe("rowData",n.parameters)("columnDefs",n.parameters_col),ie(),Fe("rowData",n.metrics)("columnDefs",n.metrics_col))},dependencies:[Zf,aT,Ii,Lg,fc,mc,Mm,Bu,oT,hT,uT,wx,Bs,Im,vc,mT,gT,hm,yc,yT,vT],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border-radius:8px;background:#f9f9f9;box-shadow:0 4px 6px #0000001a;padding:20px;margin:auto;max-width:90%}.sidebar[_ngcontent-%COMP%]{width:200px;background:#2c3e50;color:#fff;padding:20px;border-radius:8px}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;transition:background .3s}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#34495e}.dashboard-container[_ngcontent-%COMP%]{text-align:center;padding:20px;width:100%}h2[_ngcontent-%COMP%]{color:#333;font-size:24px;margin-bottom:20px}.chart-container[_ngcontent-%COMP%]{width:90%;margin:auto;padding:15px;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.container-mat[_ngcontent-%COMP%]{max-width:600px;margin:20px auto;padding:20px;border-radius:8px;background:#fff;box-shadow:0 4px 6px #0000001a}.row[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;flex-wrap:wrap}.col[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}input[type=text][_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%;max-width:300px;padding:10px;border:1px solid #ccc;border-radius:4px;font-size:16px}button[_ngcontent-%COMP%]{padding:10px 15px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background .3s,transform .2s;font-size:16px}button[_ngcontent-%COMP%]:hover{background:#0056b3;transform:scale(1.05)}mat-grid-list[_ngcontent-%COMP%]{width:100%}mat-grid-tile[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}ag-grid-angular[_ngcontent-%COMP%]{width:100%;max-width:900px;border-radius:8px;box-shadow:0 2px 4px #0000001a}p[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#333;margin-top:10px}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:50px}mat-progress-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]})};var id=class e{domainName="";ngOnInit(){}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ge({type:e,selectors:[["app-home"]],standalone:!1,decls:1,vars:0,template:function(i,n){i&1&&ze(0,"app-ml-time-series")},dependencies:[td],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.content[_ngcontent-%COMP%]{padding:16px}.grid[_ngcontent-%COMP%]{display:flex;gap:16px}.grid-item[_ngcontent-%COMP%]{flex:1;text-align:center}.positive[_ngcontent-%COMP%]{color:green}.negative[_ngcontent-%COMP%]{color:red}.full-width[_ngcontent-%COMP%]{width:100%;margin-top:16px}"]})};var oX=[{path:"",component:id}],Xf=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Yi.forChild(oX),Yi]})};var qL=Object.defineProperty,rX=Object.getOwnPropertyDescriptor,As=(e,t)=>{for(var i in t)qL(e,i,{get:t[i],enumerable:!0})},b=(e,t,i,n)=>{for(var s=n>1?void 0:n?rX(t,i):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(s=(n?r(t,i,s):r(s))||s);return n&&s&&qL(t,i,s),s},V={};As(V,{error:()=>QL,errorOnce:()=>dX,log:()=>aX,logGroup:()=>hX,reset:()=>uX,table:()=>lX,warn:()=>XL,warnOnce:()=>cX});var cp=new Set;function aX(...e){console.log(...e)}function XL(e,...t){console.warn(`AG Charts - ${e}`,...t)}function QL(e,...t){typeof e=="object"?console.error("AG Charts error",e,...t):console.error(`AG Charts - ${e}`,...t)}function lX(...e){console.table(...e)}function cX(e,...t){let i=`Logger.warn: ${e}`;cp.has(i)||(XL(e,...t),cp.add(i))}function dX(e,...t){let i=`Logger.error: ${e}`;cp.has(i)||(QL(e,...t),cp.add(i))}function uX(){cp.clear()}function hX(e,t){console.groupCollapsed(e);try{return t()}finally{console.groupEnd()}}var md=(()=>{let e=class{static[Symbol.iterator](){return this.registeredModules.values()}static register(t){let i=this.registeredModules.get(t.name);if(i&&(i.enterprise||!t.enterprise))throw new Error(`AG Charts - Module '${t.name}' already registered`);this.registeredModules.set(t.name,t)}static registerMany(t){for(let i of t)this.register(i)}static reset(){this.registeredModules.clear()}static detectChartDefinition(t){return this.detectDefinition("chart",t)}static detectSeriesDefinition(t){return this.detectDefinition("series",t)}static detectDefinition(t,i){for(let n of this.registeredModules.values())if(n.type===t&&n.detect(i))return n;throw new Error(`AG Charts - Unknown ${t} type; Check options are correctly structured and series types are specified`)}};return e.registeredModules=new Map,e})(),FS=class{constructor(){this.events=new Map}on(e,t){return this.events.has(e)||this.events.set(e,new Set),this.events.get(e)?.add(t),()=>this.off(e,t)}off(e,t){let i=this.events.get(e);i&&(i.delete(t),i.size===0&&this.events.delete(e))}emit(e,t){this.events.get(e)?.forEach(i=>i(t))}clear(e){e?this.events.delete(e):this.events.clear()}};function Ev(e){return typeof e>"u"?[]:Array.isArray(e)?e:[e]}function pX(e){return Array.from(new Set(e))}function PS(e,t){return e.reduce((i,n)=>{let s=t(n);return i[s]??(i[s]=[]),i[s].push(n),i},{})}function Do(e,t){if(e==null||t==null||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(Array.isArray(e[i])&&Array.isArray(t[i])){if(!Do(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1;return!0}function bT(e,t,i=0){if(e.length===0)return[];let n=[];for(let s=0;s<t;s++)n.push(e.at((s+i)%e.length));return n}function gX(e,t){let i=new Map;return t.forEach((n,s)=>{i.set(n,s)}),e.sort((n,s)=>{let o=i.get(n)??1/0,r=i.get(s)??1/0;return o-r})}function JL(e,t,i){if(e>t)return;let n;for(;t>=e;){let s=Math.floor((t+e)/2);i(s)?(n=s,e=s+1):t=s-1}return n}function eF(e,t,i){if(e>t)return;let n;for(;t>=e;){let s=Math.floor((t+e)/2);i(s)?(n=s,t=s-1):e=s+1}return n}function mX(e,t,i){if(e>t)return;let n;for(;t>=e;){let s=Math.floor((t+e)/2),o=i(s);o==null?e=s+1:(n=o,t=s-1)}return n}function fX(e,t){let i=Math.max(e.length,t.length),n=new Set,s=new Set;for(let o=0;o<i;o++){let r=e[o],a=t[o];r!==a&&(s.has(a)?s.delete(a):a&&n.add(a),n.has(r)?n.delete(r):r&&s.add(r))}return{changed:n.size>0||s.size>0,added:n,removed:s}}function CT(e,t,i){let{leading:n=!0,trailing:s=!0}=i??{},o,r,a=!1;function l(){s&&r?(o=setTimeout(l,t),e(...r)):a=!1,r=null}function c(...d){a?r=d:(a=!0,o=setTimeout(l,t),n?e(...d):r=d)}return Object.assign(c,{cancel(){clearTimeout(o),a=!1,r=null}})}function*Al(...e){for(let t of e)yield*pg(t)}function vX(e){return e!=null&&typeof e=="object"&&Symbol.iterator in e?e:[e]}function Hh(e){for(let t of e)return t;throw new Error("AG Charts - no first() value found")}function yX(e,t="and",i=String,n=1/0){if(e.length===1)return i(e[0]);e=e.map(i);let s=e.pop();if(e.length>=n){let o=e.length-(n-1);return`${e.slice(0,n-1).join(", ")}, and ${o} more ${t} ${s}`}return`${e.join(", ")} ${t} ${s}`}function ep(e,t=1/0){switch(typeof e){case"undefined":return"undefined";case"number":if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";default:return e=JSON.stringify(e),e.length>t?`${e.slice(0,t)}... (+${e.length-t} characters)`:e}}function bX(e){let t=1;for(let i=0;i<e.length;i++)e.charCodeAt(i)===10&&t++;return t}function vv(e){return e!=null}function It(e){return Array.isArray(e)}function tF(e){return typeof e=="boolean"}function Rd(e){return e instanceof Date}function kp(e){return Rd(e)&&!isNaN(Number(e))}function CX(e){return e instanceof RegExp}function Bl(e){return typeof e=="function"}function ki(e){return typeof e=="object"&&e!==null&&!It(e)}function Ji(e){return typeof e=="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}function Tn(e){return typeof e=="string"}function Ms(e){return typeof e=="number"}function nt(e){return Number.isFinite(e)}function wX(e){return typeof window<"u"&&e instanceof HTMLElement}function xX(e,t){return Object.values(e).includes(t)}function SX(e){return typeof e=="symbol"}var Tp=Symbol("description"),MX=Symbol("required");function ey(e,t,i=""){if(!ki(e))return{valid:null,errors:[{path:i,value:e,message:wT(i,e,"an object")}]};let n=new Set(Object.keys(e)),s=[],o={};function r(a){return It(t)?`${i}[${a}]`:i?`${i}.${a}`:a}for(let[a,l]of Object.entries(t)){n.delete(a);let c=e[a];if(!(!l[MX]&&typeof c>"u"))if(Bl(l))l(c,e)?o[a]=c:s.push({key:a,path:i,value:c,message:wT(r(a),c,l)});else{let d=ey(c,l,r(a));o[a]=d.valid,s.push(...d.errors)}}for(let a of n)s.push({key:a,path:i,unknown:!0,message:`Unknown option \`${r(a)}\`, ignoring.`});return{valid:o,errors:s}}function wT(e,t,i){let n=Tn(i)?i:i[Tp],s=n?`; expecting ${n}`:"";return`${e?`Option \`${e}\``:"Value"} cannot be set to \`${ep(t)}\`${s}, ignoring.`}function en(e,t){return Object.assign((i,n)=>e(i,n),{[Tp]:t})}var Qf=(...e)=>en((t,i)=>e.every(n=>n(t,i)),e.map(t=>t[Tp]).filter(Boolean).join(" and ")),kl=(...e)=>en((t,i)=>e.some(n=>n(t,i)),e.map(t=>t[Tp]).filter(Boolean).join(" or ")),$ye=en(It,"an array"),Yye=en(tF,"a boolean"),Kye=en(Bl,"a function"),ar=en(nt,"a number"),Sx=en(ki,"an object"),Kn=en(Tn,"a string"),Jf=en(e=>Rd(e)||(nt(e)||Tn(e))&&kp(new Date(e)),"a date"),DX=(e,t=!0)=>en(i=>nt(i)&&(i>e||t&&i===e),`a number greater than ${t?"or equal to ":""}${e}`),_X=(e,t)=>en(i=>nt(i)&&i>=e&&i<=t,`a number between ${e} and ${t} inclusive`),Zye=DX(0),ev=_X(0,1),xT=e=>nt(e)||kp(e),ST=e=>en((t,i)=>!xT(t)||!xT(i[e])||t<i[e],`to be less than ${e}`);function EX(...e){ki(e[0])&&(e=Object.values(e[0]));let t=yX(e,"or",i=>`'${i}'`,6);return en(i=>e.includes(i),`a keyword such as ${t}`)}var eS=(e,t)=>en((i,n)=>It(i)&&i.every(s=>e(s,n)),t??`${e[Tp]} array`),iF={};As(iF,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Zs,fromToMotion:()=>$t,staticFromToMotion:()=>br});var Io={};typeof window<"u"?Io.window=window:typeof global<"u"&&(Io.window=global.window);typeof document<"u"?Io.document=document:typeof global<"u"&&(Io.document=global.document);function mr(e){return e?Io.document?.[e]:Io.document}function Et(e){return e?Io.window?.[e]:Io.window}function nF(e){Io.document=e}function sF(e){Io.window=e}function Ue(e,t,i){let n=mr().createElement(e);if(typeof t=="object"&&(i=t,t=void 0),t)for(let s of t.split(" "))n.classList.add(s);return i&&Object.assign(n.style,i),n}function Es(e){return mr().createElementNS("http://www.w3.org/2000/svg",e)}function oF(e,t){let i=mr("body"),n=Ue("a",{display:"none"});n.href=e,n.download=t,i.appendChild(n),n.click(),setTimeout(()=>i.removeChild(n))}var tS=new Map;function IX(){tS.clear()}function ks(e){let t=e.constructor,i=Object.hasOwn(t,"className")?t.className:t.name;if(!i)throw new Error(`The ${t} is missing the 'className' property.`);let n=(tS.get(i)??0)+1;return tS.set(i,n),`${i}-${n}`}function RX(){return crypto.randomUUID?.()??AX()}function AX(){let e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t="";for(let i=0;i<e.length;i++)(i===4||i===6||i===8||i===10)&&(t+="-"),t+=e[i].toString(16).padStart(2,"0");return t}var ty={containsPoint:kX,isEmpty:TX,normalize:LX};function kX(e,t,i){return t>=e.x&&t<=e.x+e.width&&i>=e.y&&i<=e.y+e.height}function TX(e){return e==null||e.height===0||e.width===0||isNaN(e.height)||isNaN(e.width)}function LX(e){let{x:t,y:i,width:n,height:s}=e;return(n==null||n>0)&&(s==null||s>0)?e:(t!=null&&n!=null&&n<0&&(n=-n,t=t-n),i!=null&&s!=null&&s<0&&(s=-s,i=i-s),{x:t,y:i,width:n,height:s})}var iy=Symbol("interpolate"),Iv=e=>e[iy]!=null;function ny(e,t,i,n=1/0){let s={nearest:void 0,distanceSquared:n};for(let o of i){let r=o.distanceSquared(e,t);if(r===0)return{nearest:o,distanceSquared:0};r<s.distanceSquared&&(s.nearest=o,s.distanceSquared=r)}return s}function FX(e,t,i,n=1/0){let{x:s=e,y:o=t}=i.transformPoint?.(e,t)??{},r={nearest:void 0,distanceSquared:n};for(let a of i.children){let{nearest:l,distanceSquared:c}=a.nearestSquared(s,o,r.distanceSquared);if(c===0)return{nearest:l,distanceSquared:c};c<r.distanceSquared&&(r.nearest=l,r.distanceSquared=c)}return r}function Le(e,t,i){return Math.min(i,Math.max(e,t))}function iS(e,t){let[i,n]=Ti(t);return Le(i,e,n)}function Ti(e){if(e.length===0)return[];let t=[1/0,-1/0];for(let i of e)i<t[0]&&(t[0]=i),i>t[1]&&(t[1]=i);return t}function xd(e){let[t,i]=Ti(e);return i-t}function rF(e,t,i=1e-10){return e>=t[0]-i&&e<=t[1]+i}function Ks(e,t,i=1e-10){return e===t||Math.abs(e-t)<i}function sy(e){return Math.sign(e)===-1||Object.is(e,-0)}function aF(e){return e%1===0}function PX(e,t=2){let i=10**t;return Math.round(e*i)/i}function OS(e,t){return Math.floor(e%t+(e<0?t:0))}function oy(e){if(Math.floor(e)===e)return 0;let t=String(e),i=0;if(e<1e-6||e>=1e21){let s;[t,s]=t.split("e"),s!=null&&(i=Number(s))}let n=t.split(".")[1]?.length??0;return Math.max(n-i,0)}var dp=class ad{constructor(t,i,n,s){this.x=t,this.y=i,this.width=n,this.height=s}static fromDOMRect({x:t,y:i,width:n,height:s}){return new ad(t,i,n,s)}static merge(t){let i=1/0,n=1/0,s=-1/0,o=-1/0;for(let r of t)r.x<i&&(i=r.x),r.y<n&&(n=r.y),r.x+r.width>s&&(s=r.x+r.width),r.y+r.height>o&&(o=r.y+r.height);return new ad(i,n,s-i,o-n)}static nearestBox(t,i,n){return ny(t,i,n)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON(){return{}}}}clone(){let{x:t,y:i,width:n,height:s}=this;return new ad(t,i,n,s)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,i){return ty.containsPoint(this,t,i)}intersection(t){if(!this.collidesBBox(t))return;let i=Le(t.x,this.x,t.x+t.width),n=Le(t.y,this.y,t.y+t.height),s=Le(t.x,this.x+this.width,t.x+t.width),o=Le(t.y,this.y+this.height,t.y+t.height);return new ad(i,n,s-i,o-n)}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(t,i){if(this.containsPoint(t,i))return 0;let n=t-Le(this.x,t,this.x+this.width),s=i-Le(this.y,i,this.y+this.height);return n*n+s*s}shrink(t,i){if(typeof t=="number")this.applyMargin(t,i);else for(let[n,s]of Object.entries(t))this.applyMargin(s,n);return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this}grow(t,i){if(typeof t=="number")this.applyMargin(-t,i);else for(let[n,s]of Object.entries(t))this.applyMargin(-s,n);return this}applyMargin(t,i){switch(i){case"top":this.y+=t;case"bottom":this.height-=t;break;case"left":this.x+=t;case"right":this.width-=t;break;case"vertical":this.y+=t,this.height-=t*2;break;case"horizontal":this.x+=t,this.width-=t*2;break;case void 0:this.x+=t,this.y+=t,this.width-=t*2,this.height-=t*2;break}}translate(t,i){return this.x+=t,this.y+=i,this}[iy](t,i){return new ad(this.x*(1-i)+t.x*i,this.y*(1-i)+t.y*i,this.width*(1-i)+t.width*i,this.height*(1-i)+t.height*i)}};dp.zero=Object.freeze(new dp(0,0,0,0));dp.NaN=Object.freeze(new dp(NaN,NaN,NaN,NaN));var ne=dp;function te(e){return function(t,i){let n=`__${i}`;t[i]||OX(t,i,n,e)}}function OX(e,t,i,n){let{type:s="normal",changeCb:o,convertor:r,checkDirtyOnAssignment:a=!1}=n??{},l={type:s,changeCb:o,checkDirtyOnAssignment:a,convertor:r},c;switch(s){case"normal":c=VX(i,l);break;case"transform":c=GX(i);break;case"path":c=HX(i);break}c=zX(BX(NX(c,l),l),l),Object.defineProperty(e,t,{set:c,get:function(){return this[i]},enumerable:!0,configurable:!0})}function NX(e,t){let{convertor:i}=t;return i?function(n){e.call(this,i(n))}:e}var ry=Symbol("no-change");function BX(e,t){let{changeCb:i}=t;return i?function(n){let s=e.call(this,n);return s!==ry&&i.call(this,this),s}:e}function zX(e,t){let{checkDirtyOnAssignment:i}=t;return i?function(n){let s=e.call(this,n);return n?._dirty===!0&&this.markDirty(),s}:e}function VX(e,t){let{changeCb:i}=t;return function(n){let s=this[e];return n!==s?(this[e]=n,this.markDirty(),i?.(this),n):ry}}function GX(e){return function(t){let i=this[e];return t!==i?(this[e]=t,this.markDirtyTransform(),t):ry}}function HX(e){return function(t){let i=this[e];return t!==i?(this[e]=t,this._dirtyPath||(this._dirtyPath=!0,this.markDirty()),t):ry}}var lF=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(lF||{}),NS=(()=>{let e=class cF{constructor(i){this.serialNumber=cF._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0,thisComplexity:0,complexity:0},this.id=ks(this),this.pointerEvents=0,this._dirty=!0,this.dirtyZIndex=!1,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.name=i?.name,this.tag=i?.tag??NaN,this.zIndex=i?.zIndex??0}static toSVG(i,n,s){let o=i?.toSVG();if(o==null||!o.elements.length&&!o.defs?.length)return;let r=Es("svg");if(r.setAttribute("width",String(n)),r.setAttribute("height",String(s)),r.setAttribute("viewBox",`0 0 ${n} ${s}`),o.defs?.length){let a=Es("defs");a.append(...o.defs),r.append(a)}return r.append(...o.elements),r.outerHTML}static*extractBBoxes(i,n){for(let s of i)if(!n||s.visible&&!s.transitionOut){let o=s.getBBox();o&&(yield o)}}get datum(){return this._datum??this.parentNode?.datum}set datum(i){this._datum!==i&&(this._previousDatum=this._datum,this._datum=i)}get previousDatum(){return this._previousDatum}get layerManager(){return this._layerManager}get dirty(){return this._dirty}preRender(i,n=1){this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1,this.childNodeCounts.complexity=n,this.childNodeCounts.thisComplexity=n;for(let s of this.children()){let o=s.preRender(i);this.childNodeCounts.groups+=o.groups,this.childNodeCounts.nonGroups+=o.nonGroups,this.childNodeCounts.complexity+=o.complexity}return this.childNodeCounts}render(i){let{stats:n}=i;if(this._dirty=!1,i.debugNodeSearch){let s=this.name??this.id;i.debugNodeSearch.some(o=>typeof o=="string"?o===s:o.test(s))&&(i.debugNodes[this.name??this.id]=this)}n&&(n.nodesRendered++,n.opsPerformed+=this.childNodeCounts.thisComplexity)}_setLayerManager(i){this._layerManager=i,this._debug=i?.debug;for(let n of this.children())n._setLayerManager(i)}sortChildren(i){if(this.dirtyZIndex=!1,!this.childNodes)return;let n=[...this.childNodes].sort(i);this.childNodes.clear();for(let s of n)this.childNodes.add(s)}*traverseUp(i){let n=this;for(i&&(yield n);n=n.parentNode;)yield n}*children(){if(this.childNodes)for(let i of this.childNodes)yield i}*descendants(){for(let i of this.children())yield i,yield*pg(i.descendants())}isLeaf(){return!this.childNodes?.size}isRoot(){return!this.parentNode}append(i){this.childNodes??(this.childNodes=new Set);for(let n of vX(i))n.parentNode?.removeChild(n),this.childNodes.add(n),n.parentNode=this,n._setLayerManager(this.layerManager);this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty()}appendChild(i){return this.append(i),i}removeChild(i){return this.childNodes?.delete(i)?(delete i.parentNode,i._setLayerManager(),this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty(),!0):!1}remove(){return this.parentNode?.removeChild(this)??!1}clear(){for(let i of this.children())delete i.parentNode,i._setLayerManager();this.childNodes?.clear(),this.invalidateCachedBBox()}destroy(){this.parentNode?.removeChild(this)}setProperties(i,n){if(n)for(let s of n)this[s]=i[s];else Object.assign(this,i);return this}containsPoint(i,n){return!1}pickNode(i,n,s=!1){if(!this.visible||this.pointerEvents===1||!this.containsPoint(i,n))return;let o=[...this.children()];if(o.length>1e3)for(let r=o.length-1;r>=0;r--){let a=o[r],c=a.containsPoint(i,n)?a.pickNode(i,n):void 0;if(c)return c}else if(o.length)for(let r=o.length-1;r>=0;r--){let a=o[r].pickNode(i,n);if(a)return a}else if(!this.isContainerNode)return this}invalidateCachedBBox(){this.cachedBBox!=null&&(this.cachedBBox=void 0,this.parentNode?.invalidateCachedBBox())}getBBox(){return this.cachedBBox==null&&(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}markDirty(){let{_dirty:i}=this;this.cachedBBox==null&&i||(this.invalidateCachedBBox(),this._dirty=!0,this.parentNode&&this.parentNode.markDirty())}markClean(){if(this._dirty){this._dirty=!1;for(let i of this.children())i.markClean()}}onZIndexChange(){let{parentNode:i}=this;i&&(i.dirtyZIndex=!0)}toSVG(){}};return e._nextSerialNumber=0,e})();b([te()],NS.prototype,"visible",2);b([te({changeCb:e=>e.onZIndexChange()})],NS.prototype,"zIndex",2);var ba=NS,tv=(e,t,i)=>e*(1-i)+t*i,Mx=e=>{let t=e<0?-1:1,i=Math.abs(e);return i<=.04045?e/12.92:t*((i+.055)/1.055)**2.4},Dx=e=>{let t=e<0?-1:1,i=Math.abs(e);return i>.0031308?t*(1.055*i**(1/2.4)-.055):12.92*e},jX=(()=>{let e=class Dt{constructor(i,n,s,o=1){this.r=Le(0,i||0,1),this.g=Le(0,n||0,1),this.b=Le(0,s||0,1),this.a=Le(0,o||0,1)}static validColorString(i){return i.indexOf("#")>=0?!!Dt.parseHex(i):i.indexOf("rgb")>=0?!!Dt.stringToRgba(i):Dt.nameToHex.has(i.toLowerCase())}static fromString(i){if(i.indexOf("#")>=0)return Dt.fromHexString(i);let n=Dt.nameToHex.get(i.toLowerCase());if(n)return Dt.fromHexString(n);if(i.indexOf("rgb")>=0)return Dt.fromRgbaString(i);throw new Error(`Invalid color string: '${i}'`)}static parseHex(i){i=i.replace(/ /g,"").slice(1);let n;switch(i.length){case 6:case 8:n=[];for(let s=0;s<i.length;s+=2)n.push(parseInt(`${i[s]}${i[s+1]}`,16));break;case 3:case 4:n=i.split("").map(s=>parseInt(s,16)).map(s=>s+s*16);break}if(n?.length>=3&&n.every(s=>s>=0))return n.length===3&&n.push(255),n}static fromHexString(i){let n=Dt.parseHex(i);if(n){let[s,o,r,a]=n;return new Dt(s/255,o/255,r/255,a/255)}throw new Error(`Malformed hexadecimal color string: '${i}'`)}static stringToRgba(i){let n=-1,s=-1;for(let l=0;l<i.length;l++){let c=i[l];if(n===-1&&c==="(")n=l;else if(c===")"){s=l;break}}if(n===-1||s===-1)return;let r=i.substring(n+1,s).split(","),a=[];for(let l=0;l<r.length;l++){let c=r[l],d=parseFloat(c);if(!Number.isFinite(d))return;c.indexOf("%")>=0?(d=Le(0,d,100),d/=100):l===3?d=Le(0,d,1):(d=Le(0,d,255),d/=255),a.push(d)}return a}static fromRgbaString(i){let n=Dt.stringToRgba(i);if(n){if(n.length===3)return new Dt(n[0],n[1],n[2]);if(n.length===4)return new Dt(n[0],n[1],n[2],n[3])}throw new Error(`Malformed rgb/rgba color string: '${i}'`)}static fromArray(i){if(i.length===4)return new Dt(i[0],i[1],i[2],i[3]);if(i.length===3)return new Dt(i[0],i[1],i[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(i,n,s,o=1){let r=Dt.HSBtoRGB(i,n,s);return new Dt(r[0],r[1],r[2],o)}static fromHSL(i,n,s,o=1){let r=Dt.HSLtoRGB(i,n,s);return new Dt(r[0],r[1],r[2],o)}static fromOKLCH(i,n,s,o=1){let r=Dt.OKLCHtoRGB(i,n,s);return new Dt(r[0],r[1],r[2],o)}static padHex(i){return i.length===1?"0"+i:i}toHexString(){let i="#"+Dt.padHex(Math.round(this.r*255).toString(16))+Dt.padHex(Math.round(this.g*255).toString(16))+Dt.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(i+=Dt.padHex(Math.round(this.a*255).toString(16))),i}toRgbaString(i=3){let n=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],s=Math.pow(10,i);return this.a!==1?(n.push(Math.round(this.a*s)/s),`rgba(${n.join(", ")})`):`rgb(${n.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return Dt.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(i,n,s){let o=Mx(i),r=Mx(n),a=Mx(s),l=Math.cbrt(.4122214708*o+.5363325363*r+.0514459929*a),c=Math.cbrt(.2119034982*o+.6806995451*r+.1073969566*a),d=Math.cbrt(.0883024619*o+.2817188376*r+.6299787005*a),u=.2104542553*l+.793617785*c-.0040720468*d,h=1.9779984951*l-2.428592205*c+.4505937099*d,p=.0259040371*l+.7827717662*c-.808675766*d,g=Math.atan2(p,h)*180/Math.PI,m=u,f=Math.hypot(h,p),v=g>=0?g:g+360;return[m,f,v]}static OKLCHtoRGB(i,n,s){let o=i,r=n*Math.cos(s*Math.PI/180),a=n*Math.sin(s*Math.PI/180),l=(o+.3963377774*r+.2158037573*a)**3,c=(o-.1055613458*r-.0638541728*a)**3,d=(o-.0894841775*r-1.291485548*a)**3,u=4.0767416621*l-3.3077115913*c+.2309699292*d,h=-1.2684380046*l+2.6097574011*c-.3413193965*d,p=-.0041960863*l-.7034186147*c+1.707614701*d,g=Dx(u),m=Dx(h),f=Dx(p);return[g,m,f]}static RGBtoHSL(i,n,s){let o=Math.min(i,n,s),r=Math.max(i,n,s),a=(r+o)/2,l,c;if(r===o)l=0,c=0;else{let d=r-o;c=a>.5?d/(2-r-o):d/(r+o),r===i?l=(n-s)/d+(n<s?6:0):r===n?l=(s-i)/d+2:l=(i-n)/d+4,l*=60}return[l,c,a]}static HSLtoRGB(i,n,s){if(i=(i%360+360)%360,n===0)return[s,s,s];let o=s<.5?s*(1+n):s+n-s*n,r=2*s-o;function a(u){return u<0&&(u+=1),u>1&&(u-=1),u<.16666666666666666?r+(o-r)*6*u:u<.5?o:u<.6666666666666666?r+(o-r)*(.6666666666666666-u)*6:r}let l=a(i/360+1/3),c=a(i/360),d=a(i/360-1/3);return[l,c,d]}static RGBtoHSB(i,n,s){let o=Math.min(i,n,s),r=Math.max(i,n,s),a=r===0?0:(r-o)/r,l=0;if(o!==r){let c=r-o,d=(r-i)/c,u=(r-n)/c,h=(r-s)/c;i===r?l=h-u:n===r?l=2+d-h:l=4+u-d,l/=6,l<0&&(l=l+1)}return[l*360,a,r]}static HSBtoRGB(i,n,s){i=(i%360+360)%360/360;let o=0,r=0,a=0;if(n===0)o=r=a=s;else{let l=(i-Math.floor(i))*6,c=l-Math.floor(l),d=s*(1-n),u=s*(1-n*c),h=s*(1-n*(1-c));switch(l>>0){case 0:o=s,r=h,a=d;break;case 1:o=u,r=s,a=d;break;case 2:o=d,r=s,a=h;break;case 3:o=d,r=u,a=s;break;case 4:o=h,r=d,a=s;break;case 5:o=s,r=d,a=u;break}}return[o,r,a]}static mix(i,n,s){return new Dt(tv(i.r,n.r,s),tv(i.g,n.g,s),tv(i.b,n.b,s),tv(i.a,n.a,s))}};return e.nameToHex=new Map([["aliceblue","#F0F8FF"],["antiquewhite","#FAEBD7"],["aqua","#00FFFF"],["aquamarine","#7FFFD4"],["azure","#F0FFFF"],["beige","#F5F5DC"],["bisque","#FFE4C4"],["black","#000000"],["blanchedalmond","#FFEBCD"],["blue","#0000FF"],["blueviolet","#8A2BE2"],["brown","#A52A2A"],["burlywood","#DEB887"],["cadetblue","#5F9EA0"],["chartreuse","#7FFF00"],["chocolate","#D2691E"],["coral","#FF7F50"],["cornflowerblue","#6495ED"],["cornsilk","#FFF8DC"],["crimson","#DC143C"],["cyan","#00FFFF"],["darkblue","#00008B"],["darkcyan","#008B8B"],["darkgoldenrod","#B8860B"],["darkgray","#A9A9A9"],["darkgreen","#006400"],["darkgrey","#A9A9A9"],["darkkhaki","#BDB76B"],["darkmagenta","#8B008B"],["darkolivegreen","#556B2F"],["darkorange","#FF8C00"],["darkorchid","#9932CC"],["darkred","#8B0000"],["darksalmon","#E9967A"],["darkseagreen","#8FBC8F"],["darkslateblue","#483D8B"],["darkslategray","#2F4F4F"],["darkslategrey","#2F4F4F"],["darkturquoise","#00CED1"],["darkviolet","#9400D3"],["deeppink","#FF1493"],["deepskyblue","#00BFFF"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1E90FF"],["firebrick","#B22222"],["floralwhite","#FFFAF0"],["forestgreen","#228B22"],["fuchsia","#FF00FF"],["gainsboro","#DCDCDC"],["ghostwhite","#F8F8FF"],["gold","#FFD700"],["goldenrod","#DAA520"],["gray","#808080"],["green","#008000"],["greenyellow","#ADFF2F"],["grey","#808080"],["honeydew","#F0FFF0"],["hotpink","#FF69B4"],["indianred","#CD5C5C"],["indigo","#4B0082"],["ivory","#FFFFF0"],["khaki","#F0E68C"],["lavender","#E6E6FA"],["lavenderblush","#FFF0F5"],["lawngreen","#7CFC00"],["lemonchiffon","#FFFACD"],["lightblue","#ADD8E6"],["lightcoral","#F08080"],["lightcyan","#E0FFFF"],["lightgoldenrodyellow","#FAFAD2"],["lightgray","#D3D3D3"],["lightgreen","#90EE90"],["lightgrey","#D3D3D3"],["lightpink","#FFB6C1"],["lightsalmon","#FFA07A"],["lightseagreen","#20B2AA"],["lightskyblue","#87CEFA"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#B0C4DE"],["lightyellow","#FFFFE0"],["lime","#00FF00"],["limegreen","#32CD32"],["linen","#FAF0E6"],["magenta","#FF00FF"],["maroon","#800000"],["mediumaquamarine","#66CDAA"],["mediumblue","#0000CD"],["mediumorchid","#BA55D3"],["mediumpurple","#9370DB"],["mediumseagreen","#3CB371"],["mediumslateblue","#7B68EE"],["mediumspringgreen","#00FA9A"],["mediumturquoise","#48D1CC"],["mediumvioletred","#C71585"],["midnightblue","#191970"],["mintcream","#F5FFFA"],["mistyrose","#FFE4E1"],["moccasin","#FFE4B5"],["navajowhite","#FFDEAD"],["navy","#000080"],["oldlace","#FDF5E6"],["olive","#808000"],["olivedrab","#6B8E23"],["orange","#FFA500"],["orangered","#FF4500"],["orchid","#DA70D6"],["palegoldenrod","#EEE8AA"],["palegreen","#98FB98"],["paleturquoise","#AFEEEE"],["palevioletred","#DB7093"],["papayawhip","#FFEFD5"],["peachpuff","#FFDAB9"],["peru","#CD853F"],["pink","#FFC0CB"],["plum","#DDA0DD"],["powderblue","#B0E0E6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#FF0000"],["rosybrown","#BC8F8F"],["royalblue","#4169E1"],["saddlebrown","#8B4513"],["salmon","#FA8072"],["sandybrown","#F4A460"],["seagreen","#2E8B57"],["seashell","#FFF5EE"],["sienna","#A0522D"],["silver","#C0C0C0"],["skyblue","#87CEEB"],["slateblue","#6A5ACD"],["slategray","#708090"],["slategrey","#708090"],["snow","#FFFAFA"],["springgreen","#00FF7F"],["steelblue","#4682B4"],["tan","#D2B48C"],["teal","#008080"],["thistle","#D8BFD8"],["tomato","#FF6347"],["transparent","#00000000"],["turquoise","#40E0D0"],["violet","#EE82EE"],["wheat","#F5DEB3"],["white","#FFFFFF"],["whitesmoke","#F5F5F5"],["yellow","#FFFF00"],["yellowgreen","#9ACD32"]]),e})(),Ut=jX;function WX(e,t){return i=>Number(e)*(1-i)+Number(t)*i}function dF(e,t){if(typeof e=="string")try{e=Ut.fromString(e)}catch{e=Ut.fromArray([0,0,0])}if(typeof t=="string")try{t=Ut.fromString(t)}catch{t=Ut.fromArray([0,0,0])}return i=>Ut.mix(e,t,i).toRgbaString()}var Rv=Symbol("BREAK"),fd="__decorator_config";function uF(e,t){Object.getOwnPropertyDescriptor(e,fd)==null&&Object.defineProperty(e,fd,{value:{}});let i=e[fd],n=t.toString();if(typeof i[n]<"u")return i[n];let s=new WeakMap;i[n]={setters:[],getters:[],observers:[],valuesMap:s};let o=Object.getOwnPropertyDescriptor(e,t),r=o?.set,a=o?.get;return Object.defineProperty(e,t,{set:function(d){let{setters:u,observers:h}=i[n],p;u.some(g=>g.length>2)&&(p=a?a.call(this):s.get(this));for(let g of u)if(d=g(this,t,d,p),d===Rv)return;r?r.call(this,d):s.set(this,d);for(let g of h)g(this,d,p)},get:function(){let d=a?a.call(this):s.get(this);for(let u of i[n].getters)if(d=u(this,t,d),d===Rv)return;return d},enumerable:!0,configurable:!1}),i[n]}function fr(e,t,i){return(n,s)=>{let o=uF(n,s);o.setters.push(e),t&&o.getters.unshift(t),i&&Object.assign(o,i)}}function hF(e){return(t,i)=>{uF(t,i).observers.push(e)}}function ay(e){return typeof e<"u"&&fd in e}function Ll(e){let t=new Set;for(;ay(e);)t.add(e?.[fd]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap(i=>Object.keys(i))}function pF(e){return Ll(e).reduce((t,i)=>(t[i]=e[i]??null,t),{})}function UX(e,t){let i=t.toString();for(;ay(e);){let n=e[fd];if(Object.hasOwn(n,i))return n[i];e=Object.getPrototypeOf(e)}}function Ol(e,t){return Array.isArray(e)?!Array.isArray(t)||e.length!==t.length?!1:e.every((i,n)=>Ol(i,t[n])):Ji(e)?Ji(t)?BS(e,t,Ol):!1:e===t}function BS(e,t,i){for(let n of Object.keys(t))if(!(n in e))return!1;for(let n of Object.keys(e))if(!(n in t)||!i(e[n],t[n]))return!1;return!0}function He(...e){let t={};for(let i of e){if(!ki(i))continue;let n=ay(i)?Ll(i):Object.keys(i);for(let s of n)Ji(t[s])&&Ji(i[s])?t[s]=He(t[s],i[s]):t[s]??(t[s]=i[s])}return t}function Av(e,...t){return t&&It(e)?e.map(i=>He(i,...t)):e}function $X(e,t){return Object.entries(e).reduce((i,[n,s])=>(i[n]=t(s,n,e),i),{})}function nS(e,t){let i=w({},e);for(let n of t)delete i[n];return i}function zS(e,t){return(It(t)?t:t.split(".")).reduce((n,s)=>n[s],e)}var VS=new Set(["__proto__","constructor","prototype"]);function GS(e,t,i){let n=It(t)?t.slice():t.split("."),s=n.pop();if(n.some(r=>VS.has(r)))return;let o=n.reduce((r,a)=>r[a],e);return o[s]=i,o[s]}function sS(e,t,i){if(i===void 0)return t;for(let n of e){let s=i[n];s!==void 0&&(t[n]=s)}return t}function tp(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{let i=e[t];i!==null&&(typeof i=="object"||typeof i=="function")&&!Object.isFrozen(i)&&tp(i)}),e}var oS={};As(oS,{easeIn:()=>YX,easeInOut:()=>KX,easeInOutQuad:()=>XX,easeInQuad:()=>ZX,easeOut:()=>up,easeOutQuad:()=>qX,inverseEaseOut:()=>mF,linear:()=>gF});var gF=e=>e,YX=e=>1-Math.cos(e*Math.PI/2),up=e=>Math.sin(e*Math.PI/2),KX=e=>-(Math.cos(e*Math.PI)-1)/2,ZX=e=>e*e,qX=e=>1-(1-e)**2,XX=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,mF=e=>2*Math.asin(e)/Math.PI,kv=.2,ld=["initial","remove","update","add","trailing","end","none"],hp={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:kv,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+kv,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},fF=(e=>(e.Loop="loop",e.Reverse="reverse",e))(fF||{});function QX(e){return e.every(t=>t instanceof ba)}function ly(e){return QX(e)?{nodes:e,selections:[]}:{nodes:[],selections:e}}function rS(e,t){return e===t?!0:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((i,n)=>rS(i,t[n])):Iv(e)&&Iv(t)?e.equals(t):Ji(e)&&Ji(t)?BS(e,t,rS):!1}var vF=class{constructor(e){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=e.id,this.groupId=e.groupId,this.autoplay=e.autoplay??!0,this.ease=e.ease??gF,this.phase=e.phase;let t=e.duration??hp[this.phase].animationDuration;this.duration=t*e.defaultDuration,this.delay=(e.delay??0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),this.from=e.from,e.skip===!0&&(this.onUpdate?.(e.to,!1,this),this.onStop?.(this),this.onComplete?.(this),this.isComplete=!0),e.collapsable!==!1&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,t){return rS(e.from,e.to)?0:t}play(e=!1){this.isPlaying||this.isComplete||(this.isPlaying=!0,this.onPlay?.(this),this.autoplay&&(this.autoplay=!1,e&&this.onUpdate?.(this.from,!0,this)))}stop(){this.isPlaying=!1,this.isComplete||(this.isComplete=!0,this.onStop?.(this))}update(e){if(this.isComplete)return e;!this.isPlaying&&this.autoplay&&this.play(!0);let t=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;let i=this.interpolate(this.isReverse?1-this.delta:this.delta);this.onUpdate?.(i,!1,this);let n=this.delay+this.duration;return this.elapsed>=n?(this.stop(),this.isComplete=!0,this.onComplete?.(this),e-(n-t)):0}get delta(){return this.ease(Le(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,t){if(typeof t!="object"||Iv(t))return this.interpolateValue(e,t);let i=[];for(let n of Object.keys(t)){let s=this.interpolateValue(e[n],t[n]);s!=null&&i.push([n,s])}return n=>{let s={};for(let[o,r]of i)s[o]=r(n);return s}}interpolateValue(e,t){if(!(e==null||t==null)){if(Iv(e))return i=>e[iy](t,i);try{switch(typeof e){case"number":return WX(e,t);case"string":return dF(e,t);case"boolean":if(e===t)return()=>e;break}}catch{}throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}},Zs={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function $t(e,t,i,n,s,o,r){let{fromFn:a,toFn:l,applyFn:c=(g,m)=>g.setProperties(m)}=s,{nodes:d,selections:u}=ly(n),h=(g,m)=>{let f,v=0,y=0;for(let M of m){let D=g[v]===M,E={last:y>=m.length-1,lastLive:v>=g.length-1,prev:m[y-1],prevFromProps:f,prevLive:g[v-1],next:m[y+1],nextLive:g[v+(D?1:0)]},R=`${e}_${t}_${M.id}`;i.stopByAnimationId(R);let I="unknown";D?o&&r&&(I=JX(M,M.datum,o,r)):I="removed",M.transitionOut=I==="removed";let C=a(M,M.datum,I,E),{phase:T,start:F,finish:N,delay:q,duration:pe}=C,fe=Je(C,["phase","start","finish","delay","duration"]),S=l(M,M.datum,I,E),{phase:oe,start:be,finish:xe,delay:re,duration:ve}=S,X=Je(S,["phase","start","finish","delay","duration"]),le=N==null;i.animate({id:R,groupId:e,phase:T??oe??"update",duration:pe??ve,delay:q??re,from:fe,to:X,ease:up,collapsable:le,onPlay:()=>{let ae=w(w(w({},F),be),fe);c(M,ae,"start")},onUpdate(ae){c(M,ae,"update")},onStop:()=>{let ae=w(w(w(w(w(w({},F),be),fe),X),N),xe);c(M,ae,"end")}}),D&&v++,y++,f=fe}},p=0;for(let g of u){let m=g.nodes(),f=m.filter(v=>!g.isGarbage(v));h(f,m),i.animate({id:`${e}_${t}_selection_${p}`,groupId:e,phase:"end",from:0,to:1,ease:up,onStop(){g.cleanup()}}),p++}h(d,d)}function br(e,t,i,n,s,o,r){let{nodes:a,selections:l}=ly(n),{start:c,finish:d,phase:u}=r;i.animate({id:`${e}_${t}`,groupId:e,phase:u??"update",from:s,to:o,ease:up,onPlay:()=>{if(c){for(let h of a)h.setProperties(c);for(let h of l)for(let p of h.nodes())p.setProperties(c)}},onUpdate(h){for(let p of a)p.setProperties(h);for(let p of l)for(let g of p.nodes())g.setProperties(h)},onStop:()=>{for(let h of a)h.setProperties(w(w({},o),d));for(let h of l){for(let p of h.nodes())p.setProperties(w(w({},o),d));h.cleanup()}}})}function JX(e,t,i,n){let s=i(e,t);return n.added.has(s)?"added":n.removed.has(s)?"removed":"updated"}var cy=class{ticks(e,t,i){}niceDomain(e,t=this.domain){return t}tickFormatter(e){}datumFormatter(e){}get bandwidth(){}get step(){}get inset(){}},eQ=(()=>{let e=class yF extends cy{constructor(i=[],n=[]){super(),this.domain=i,this.range=n,this.defaultClamp=!1}static is(i){return i instanceof yF}normalizeDomains(...i){let n,s=1/0,o,r=-1/0;for(let a of i)for(let l of a){let c=l.valueOf();c<s&&(s=c,n=l),c>r&&(r=c,o=l)}return n!=null&&o!=null?{domain:[n,o],animatable:!0}:{domain:[],animatable:!1}}transform(i){return i}transformInvert(i){return i}calcBandwidth(i=1){let{domain:n}=this,s=this.getPixelRange();if(n.length===0)return s;let o=Math.abs(n[1].valueOf()-n[0].valueOf())/i+1,r=Math.floor(s),a=Math.min(o,r);return s/Math.max(1,a)}convert(i,n=this.defaultClamp){let{domain:s}=this;if(!s||s.length<2)return NaN;let o=Number(this.transform(s[0])),r=Number(this.transform(s[1])),a=Number(this.transform(i)),{range:l}=this,[c,d]=l;if(n){let[u,h]=Ti([o,r]);if(a<u)return c;if(a>h)return d}return o===r?(c+d)/2:a===o?c:a===r?d:c+(a-o)/(r-o)*(d-c)}invert(i,n){let s=this.domain.map(u=>this.transform(u)),[o,r]=s,{range:a}=this,[l,c]=a,d;return l===c?d=this.toDomain((Number(o)+Number(r))/2):d=this.toDomain(Number(o)+(i-l)/(c-l)*(Number(r)-Number(o))),this.transformInvert(d)}getPixelRange(){let[i,n]=this.range;return Math.abs(n-i)}};return e.defaultTickCount=5,e})(),ct=eQ,tQ={};As(tQ,{TimeInterval:()=>Sd,day:()=>Tv,friday:()=>fQ,hour:()=>hd,millisecond:()=>bF,minute:()=>ud,monday:()=>hQ,month:()=>Rl,saturday:()=>vQ,second:()=>dd,sunday:()=>ip,thursday:()=>mQ,tuesday:()=>pQ,utcDay:()=>AQ,utcHour:()=>EQ,utcMinute:()=>MQ,utcMonth:()=>LQ,utcYear:()=>OQ,wednesday:()=>gQ,year:()=>dy});var Sd=class{constructor(e,t,i){this._encode=e,this._decode=t,this._rangeCallback=i}floor(e){let t=new Date(e),i=this._encode(t);return this._decode(i)}ceil(e){let t=new Date(Number(e)-1),i=this._encode(t);return this._decode(i+1)}range(e,t,{extend:i=!1,visibleRange:n=[0,1]}={}){let s=!1;e.getTime()>t.getTime()&&([e,t]=[t,e],s=!0);let o=this._rangeCallback?.(e,t),r=this._encode(i?this.floor(e):this.ceil(e)),a=this._encode(i?this.ceil(t):this.floor(t));if(a<r)return[];let l=a-r,c,d;s?(c=Math.ceil(r+(1-n[1])*l),d=Math.floor(r+(1-n[0])*l)):(c=Math.floor(r+n[0]*l),d=Math.ceil(r+n[1]*l));let u=[];for(let h=c;h<=d;h+=1){let p=this._decode(h);u.push(p)}return o?.(),u}},Xn=class extends Sd{getOffset(e,t){return Math.floor(this._encode(new Date(e)))%t}every(e,t){let i=0,n,s=e;e=Math.max(1,Math.round(e)),s!==e&&V.warnOnce(`interval step of [${s}] rounded to [${e}].`);let{snapTo:o="start"}=t??{};if(typeof o=="string"){let l=i;n=(c,d)=>{let u=o==="start"?c:d;return i=this.getOffset(u,e),()=>i=l}}else typeof o=="number"?i=this.getOffset(new Date(o),e):o instanceof Date&&(i=this.getOffset(o,e));let r=l=>Math.floor((this._encode(l)-i)/e),a=l=>this._decode(l*e+i);return new Sd(r,a,n)}};function iQ(e){return e.getTime()}function nQ(e){return new Date(e)}var bF=new Xn(iQ,nQ),da=1e3,Wi=da*60,bn=Wi*60,Is=bn*24,cr=Is*7,jh=Is*30,Md=Is*365,CF=new Date().getTimezoneOffset()*Wi;function sQ(e){return Math.floor((e.getTime()-CF)/da)}function oQ(e){return new Date(CF+e*da)}var dd=new Xn(sQ,oQ),wF=new Date().getTimezoneOffset()*Wi;function rQ(e){return Math.floor((e.getTime()-wF)/Wi)}function aQ(e){return new Date(wF+e*Wi)}var ud=new Xn(rQ,aQ),xF=new Date().getTimezoneOffset()*Wi;function lQ(e){return Math.floor((e.getTime()-xF)/bn)}function cQ(e){return new Date(xF+e*bn)}var hd=new Xn(lQ,cQ);function dQ(e){let t=e.getTimezoneOffset()*Wi;return Math.floor((e.getTime()-t)/Is)}function uQ(e){let t=new Date(1970,0,1);return t.setDate(t.getDate()+e),t}var Tv=new Xn(dQ,uQ);function zl(e){let i=(7+e-4)%7;function n(o){let r=o.getTimezoneOffset()*Wi;return Math.floor((o.getTime()-r)/cr-i/7)}function s(o){let r=new Date(1970,0,1);return r.setDate(r.getDate()+o*7+i),r}return new Xn(n,s)}var ip=zl(0),hQ=zl(1),pQ=zl(2),gQ=zl(3),mQ=zl(4),fQ=zl(5),vQ=zl(6);function yQ(e){return e.getFullYear()*12+e.getMonth()}function bQ(e){let t=Math.floor(e/12),i=e-t*12;return new Date(t,i,1)}var Rl=new Xn(yQ,bQ);function CQ(e){return e.getFullYear()}function wQ(e){let t=new Date;return t.setFullYear(e),t.setMonth(0,1),t.setHours(0,0,0,0),t}var dy=new Xn(CQ,wQ);function xQ(e){return Math.floor(e.getTime()/Wi)}function SQ(e){return new Date(e*Wi)}var MQ=new Xn(xQ,SQ);function DQ(e){return Math.floor(e.getTime()/bn)}function _Q(e){return new Date(e*bn)}var EQ=new Xn(DQ,_Q);function IQ(e){return Math.floor(e.getTime()/Is)}function RQ(e){let t=new Date(0);return t.setUTCDate(t.getUTCDate()+e),t.setUTCHours(0,0,0,0),t}var AQ=new Xn(IQ,RQ);function kQ(e){return e.getUTCFullYear()*12+e.getUTCMonth()}function TQ(e){let t=Math.floor(e/12),i=e-t*12;return new Date(Date.UTC(t,i,1))}var LQ=new Xn(kQ,TQ);function FQ(e){return e.getUTCFullYear()}function PQ(e){let t=new Date;return t.setUTCFullYear(e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}var OQ=new Xn(FQ,PQ),iv={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function HS(e,t=new Date(e.getFullYear(),0,1)){let i=e.getTimezoneOffset()-t.getTimezoneOffset(),n=e.getTime()-t.getTime()+i*6e4,s=36e5*24;return Math.floor(n/s)}function MT(e,t){let n=new Date(e.getFullYear(),0,1).getDay(),s=(t-n+7)%7,o=new Date(e.getFullYear(),0,s+1);return o<=e?Math.floor(HS(e,o)/7)+1:0}var NQ=0,SF=1,DT=4;function MF(e,t=e.getFullYear()){let n=new Date(t,0,1).getDay(),s=(DT-n+7)%7,o=new Date(t,0,s-(DT-SF)+1);return o<=e?Math.floor(HS(e,o)/7)+1:MF(e,t-1)}function BQ(e){let t=e.getTimezoneOffset(),i=Math.abs(t);return`${t>0?"-":"+"}${ji(Math.floor(i/60),2,"0")}${ji(Math.floor(i%60),2,"0")}`}var zQ={a:e=>iv.shortDays[e.getDay()],A:e=>iv.days[e.getDay()],b:e=>iv.shortMonths[e.getMonth()],B:e=>iv.months[e.getMonth()],c:"%x, %X",d:(e,t)=>ji(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>ji(e.getMilliseconds()*1e3,6,t??"0"),H:(e,t)=>ji(e.getHours(),2,t??"0"),I:(e,t)=>{let i=e.getHours()%12;return i===0?"12":ji(i,2,t??"0")},j:(e,t)=>ji(HS(e)+1,3,t??"0"),m:(e,t)=>ji(e.getMonth()+1,2,t??"0"),M:(e,t)=>ji(e.getMinutes(),2,t??"0"),L:(e,t)=>ji(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>ji(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>ji(MT(e,NQ),2,t??"0"),V:(e,t)=>ji(MF(e),2,t??"0"),w:(e,t)=>ji(e.getDay(),2,t??"0"),W:(e,t)=>ji(MT(e,SF),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>ji(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>ji(e.getFullYear(),4,t??"0"),Z:e=>BQ(e),"%":()=>"%"},VQ={_:" ",0:"0","-":""};function ji(e,t,i){let n=String(Math.floor(e));return n.length>=t?n:`${i.repeat(t-n.length)}${n}`}function Lp(e){let t=[];for(;e.length>0;){let i=e.indexOf("%");if(i!==0){let a=i>0?e.substring(0,i):e;t.push(a)}if(i<0)break;let n=e[i+1],s=VQ[n];s!=null&&i++;let o=e[i+1],r=zQ[o];if(typeof r=="function")t.push([r,s]);else if(typeof r=="string"){let a=Lp(r);t.push([a,s])}else t.push(`${s??""}${o}`);e=e.substring(i+2)}return i=>{let n=typeof i=="number"?new Date(i):i;return t.map(s=>typeof s=="string"?s:s[0](n,s[1])).join("")}}function Xi(e){return e instanceof Date?e.getTime():e}function jS(e,t,i){let n=DF(e,t,i),s=Lp(n);return o=>s(o)}function DF(e,t,i=0){let n=1/0;for(let d=1;d<e.length;d++)n=Math.min(n,Math.abs(e[d].valueOf()-e[d-1].valueOf()));let[s,o]=t.length===0?[0,0]:Ti([t[0].valueOf(),t[t.length-1].valueOf()]),r=new Date(s).getFullYear(),l=new Date(o).getFullYear()-r>0,c=isFinite(n)?GQ(n,e):HQ(e[0]);return WQ(Math.max(c-i,0),l,e)}function GQ(e,t){return e<da?0:e<Wi?1:e<bn?2:e<Is?3:e<cr?4:e<Is*28||e<Is*31&&jQ(t)?5:e<Md?6:7}function HQ(e){return dd.floor(e)<e?0:ud.floor(e)<e?1:hd.floor(e)<e?2:Tv.floor(e)<e?3:Rl.floor(e)<e?ip.floor(e)<e?4:5:dy.floor(e)<e?6:7}function jQ(e){let t=new Date(e[0]).getMonth();for(let i=1;i<e.length;i++){let n=new Date(e[i]).getMonth();if(t===n)return!0;t=n}return!1}function WQ(e,t,i){let n=Xi(i[0]),s=Xi(i.at(-1)),o=Math.abs(s-n),r=t||e===7,a=o===0,c=[["hour",6*bn,14*Is,3,"%I %p"],["hour",Wi,6*bn,3,"%I:%M"],["second",1e3,6*bn,1,":%S"],["ms",0,6*bn,0,".%L"],["am/pm",Wi,6*bn,3,"%p"]," ",["day",Is,cr,4,"%a"],["month",a?0:cr,52*cr,5,"%b %d"],["month",5*cr,10*Md,6,"%B"]," ",["year",r?0:Md,1/0,7,"%Y"]].filter(h=>{if(typeof h=="string")return!0;let[p,g,m,f]=h;return f>=e&&g<=o&&o<m}).reduce((h,p)=>(typeof p=="string"?h.result.push(p):h.used.has(p[0])||(h.result.push(p),h.used.add(p[0])),h),{result:[],used:new Set}).result,d=c.findIndex(h=>typeof h!="string"),u=c.findLastIndex(h=>typeof h!="string");return c.slice(d,u+1).map(h=>typeof h=="string"?h:h[4]).join("").replaceAll(/\s+/g," ").trim()}var Ad=(e,t)=>{let i=Symbol(String(t));e[i]=void 0,Object.defineProperty(e,t,{get(){return this[i]},set(n){this[i]!==n&&(this[i]=n,this.invalid=!0)},enumerable:!0,configurable:!1})};function _F(e,t,i){if(i==null||i[0]===0&&i[1]===1)return e;let n=Le(0,Math.floor(i[0]*e.length),e.length),s=Le(0,Math.ceil(i[1]*e.length),e.length),o=t?e.length-s:n,r=t?e.length-n:s;return e.slice(o,r)}var uy=class EF extends cy{constructor(){super(...arguments),this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof EF}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=Le(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this.invalid=!0,this._paddingInner=Le(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this.invalid=!0,this._paddingOuter=Le(0,t,1)}get paddingOuter(){return this._paddingOuter}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&V.warnOnce("Expected update to not invalidate scale"))}ticks(t,i=this.domain,n){return _F(i,!1,n)}convert(t,i){this.refresh();let n=this.getIndex(t);return n==null||n<0||n>=this.domain.length?NaN:this.ordinalRange(n)}invertNearestIndex(t){this.refresh();let{domain:i}=this;if(i.length===0)return-1;let n=0,s=i.length-1,o=1/0,r=0;for(;n<=s;){let a=(s+n)/2|0,l=this.ordinalRange(a),c=Math.abs(l-t);if(c===0)return a;c<o&&(o=c,r=a),l<t?n=a+1:s=a-1}return r}update(){let t=this.domain.length;if(t===0)return;let[i,n]=this.range,{_paddingInner:s}=this,{_paddingOuter:o,round:r}=this,a=n-i,l;t===1?(s=0,l=a*(1-o*2)):l=a/Math.max(1,t-s+o*2);let c=r?Math.floor(l):l,d=i+(a-c*(t-s))/2,u=c*(1-s);r&&(d=Math.round(d),u=Math.round(u)),this._step=c,this._inset=d,this._bandwidth=u,this._rawBandwidth=l*(1-s)}ordinalRange(t){let{_inset:i,_step:n,range:s}=this,o=Math.min(s[0],s[1]),r=Math.max(s[0],s[1]);return Le(o,i+n*t,r)}};b([Ad],uy.prototype,"range",2);b([Ad],uy.prototype,"round",2);b([Ad],uy.prototype,"interval",2);var Fp=uy,Pp=class extends Fp{constructor(){super(...arguments),this.type="band",this.index=void 0,this._domain=[]}set domain(e){this._domain!==e&&(this.invalid=!0,this._domain=e,this.index=void 0)}get domain(){return this._domain}normalizeDomains(...e){let t,i=new Set,n=!0;for(let s of e)i.has(s)||(i.add(s),t==null?t=_T(s):(n&&(n=UQ(s,t)),t=_T([...t,...s])));return t??(t=[]),{domain:t,animatable:n}}toDomain(e){}invert(e,t=!1){this.refresh();let i=t?this.bandwidth/2:0,n=this.invertNearestIndex(Math.max(0,e-i));return t||e===this.ordinalRange(n)?this.domain[n]:void 0}getIndex(e){let{index:t}=this;if(t==null){let{domain:i}=this;t=new Map;for(let n=0;n<i.length;n++)t.set(Xi(i[n]),n);this.index=t}return t.get(Xi(e))}};function _T(e){let t,i=new Set;for(let n of e){let s=Xi(n),o=i.size;i.add(s),i.size!==o?t?.push(n):t??(t=e.slice(0,i.size))}return t??e}function UQ(e,t){let i=-1;for(let n of e){let s=t.indexOf(n);if(s===-1)i=1/0;else{if(s<=i)return!1;i=s}}return!0}var ke=class{set(e){let{className:t=this.constructor.name}=this.constructor;if(typeof e!="object")return V.warn(`unable to set ${t} - expecting a properties object`),this;let i=new Set(Object.keys(e));for(let n of Ll(this))if(i.has(n)){let s=e[n],o=this;if(Ro(o[n]))if(o[n]instanceof Op){let r=o[n].reset(s);r!=null?o[n]=r:V.warn(`unable to set [${n}] - expecting a properties array`)}else o[n].set(s);else o[n]=s;i.delete(n)}for(let n of i)V.warn(`unable to set [${n}] in ${t} - property is unknown`);return this}isValid(e){return Ll(this).every(t=>{let{optional:i}=UX(this,t),n=i===!0||typeof this[t]<"u";return n||V.warnOnce(`${e??""}[${t}] is required.`),n})}toJson(){return Ll(this).reduce((e,t)=>{let i=this[t];return e[t]=Ro(i)?i.toJson():i,e},{})}},Op=class IF extends Array{constructor(t,...i){super(i.length);let s=(o=>!!o?.prototype?.constructor?.name)(t)?o=>new t().set(o):t;Object.defineProperty(this,"itemFactory",{value:s,enumerable:!1,configurable:!1}),this.set(i)}set(t){if(It(t)){this.length=t.length;for(let i=0;i<t.length;i++)this[i]=this.itemFactory(t[i])}return this}reset(t){if(Array.isArray(t))return new IF(this.itemFactory,...t)}toJson(){return this.map(t=>t?.toJson?.()??t)}};function Ro(e){return e instanceof ke||e instanceof Op}function x(e,t={}){let{optional:i=!1,property:n}=t;return fr((s,o,r)=>{let a=A(w({},t),{target:s,property:o});if(i&&typeof r>"u"||e(r,a))return Ro(s[o])&&!Ro(r)?(s[o].set(r),s[o]):r;let l=n??String(o).replace(/^_*/,""),c=s.constructor.className??s.constructor.name.replace(/Properties$/,""),d=ep(r,50);return V.warn(`Property [${l}] of [${c}] cannot be set to [${d}]${e.message?`; expecting ${Vp(e,a)}`:""}, ignoring.`),Rv},void 0,{optional:i})}var ko=(...e)=>{let t=[];return pt((i,n)=>(t.length=0,e.every(s=>{let o=s(i,n);return o||t.push(Vp(s,n)),o})),()=>t.filter(Boolean).join(" AND "))},Ca=(...e)=>pt((t,i)=>e.some(n=>n(t,i)),t=>e.map(tJ(t)).filter(Boolean).join(" OR ")),ee=ZS(pt((e,t)=>Ro(e)||ki(e)&&Ro(t.target[t.property]),"a properties object")),RF=ZS(pt(e=>ki(e),"an object")),me=pt(tF,"a boolean"),wn=pt(Bl,"a function"),B=pt(Tn,"a string"),Qe=nJ(pt(nt,"a number")),AF=pt(e=>Ms(e)&&!isNaN(e),"a real number"),hy=pt(e=>Ms(e)&&isNaN(e),"NaN"),$=Qe.restrict({min:0}),dt=Qe.restrict({min:0,max:1}),kd=Ca(Qe,hy),Np=iJ(pt(It,"an array")),Cr=(e,t)=>pt((i,n)=>It(i)&&i.every(s=>e(s,n)),i=>{let n=Vp(Np,i)??"";return typeof t=="function"?`${n} of ${t(i)}`:t?`${n} of ${t}`:n}),Lv=e=>nt(e)||kp(e),Bp=e=>pt((t,i)=>!Lv(t)||!Lv(i.target[e])||t<i.target[e],`to be less than ${e}`),zp=e=>pt((t,i)=>!Lv(t)||!Lv(i.target[e])||t>i.target[e],`to be greater than ${e}`),WS=pt(kp,"Date object"),US=Ca(WS,$),kF="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",rt=pt(e=>Tn(e)&&Ut.validColorString(e),`color String. ${kF}`),TF=ZS(pt(e=>ki(e)&&e.type==="gradient","a color gradient object")),Qn=pt(Cr(rt),`color strings. ${kF}`),$Q=Cr(me,"boolean values"),py=Cr(Qe,"numbers"),LF=Cr(B,"strings"),YQ=pt(Cr(WS),"Date objects"),$S=pt(Cr(ee),"objects"),KQ=xt(["butt","round","square"],"a line cap"),ZQ=xt(["round","bevel","miter"],"a line join"),qQ=xt(["solid","dashed","dotted"],"a line style"),To=pt(Cr($),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),YS=xt(["top","right","bottom","left"],"a position"),wr=xt(["normal","italic","oblique"],"a font style"),xr=Ca(xt(["normal","bold","bolder","lighter"],"a font weight"),Qe.restrict({min:1,max:1e3})),gy=xt(["never","always","hyphenate","on-space"],"a text wrap strategy"),FF=xt(["left","center","right"],"a text align"),XQ=xt(["top","middle","bottom"],"a vertical align"),QQ=xt(["ellipsis","hide"],"an overflow strategy"),PF=xt(["horizontal","vertical"],"a direction"),JQ=xt(["inside","outside"],"a placement"),my=Ca(xt(["exact","nearest"],"interaction range"),Qe),KS=xt(["top","bottom","left","right"]);function xt(e,t="a"){return pt((i,n)=>{let s=e.find(o=>{let r=typeof o=="string"?o:o.value;return i===r});if(s==null)return!1;if(typeof s!="string"&&(s.deprecated===!0||s.deprecatedTo!=null)){let o=[`Property [%s] with value '${s.value}' is deprecated.`];s.deprecatedTo&&o.push(`Use ${s.deprecatedTo} instead.`),V.warnOnce(o.join(" "),n.property)}return!0},`${t} keyword such as ${eJ(e)}`)}var OF=Ca(ko(Qe.restrict({min:1}),Bp("maxSpacing")),hy),NF=Ca(ko(Qe.restrict({min:1}),zp("minSpacing")),hy);function pt(e,t){return e.message=t,e}function eJ(e){let t=e.filter(n=>typeof n=="string"||n.undocumented!==!0).map(n=>`'${typeof n=="string"?n:n.value}'`);if(t.length===1)return t[0];let i=t.pop();return`${t.join(", ")} or ${i}`}function Vp(e,t){return Bl(e.message)?e.message(t):e.message}function tJ(e){return t=>Vp(t,e)}function iJ(e){return Object.assign(e,{restrict({length:t,minLength:i}={}){let n="an array";return Ms(i)&&i>0?n="a non-empty array":Ms(t)&&(n=`an array of length ${t}`),pt(s=>It(s)&&(Ms(t)?s.length===t:!0)&&(Ms(i)?s.length>=i:!0),n)}})}function nJ(e){return Object.assign(e,{restrict({min:t,max:i}={}){let n=["a number"],s=Ms(t),o=Ms(i);return s&&o?n.push(`between ${t} and ${i} inclusive`):s?n.push(`greater than or equal to ${t}`):o&&n.push(`less than or equal to ${i}`),pt(r=>nt(r)&&(s?r>=t:!0)&&(o?r<=i:!0),n.join(" "))}})}function ZS(e){return Object.assign(e,{restrict(t){return pt(i=>i instanceof t,i=>Vp(e,i)??`an instance of ${t.name}`)}})}var BF={};As(BF,{resetMotion:()=>Ai});function Ai(e,t){let{nodes:i,selections:n}=ly(e);for(let s of n){for(let o of s.nodes()){let r=t(o,o.datum);o.setProperties(r)}s.cleanup()}for(let s of i){let o=t(s,s.datum);s.setProperties(o)}}var sJ=2e3,ET=Date.now(),oJ=()=>{let e=Date.now()-ET;if(e>sJ){let t=(Math.floor(e/100)/10).toFixed(1);V.log(`**** ${t}s since last log message ****`)}ET=Date.now()},wt={create(...e){return Object.assign((...i)=>{wt.check(...e)&&(typeof i[0]=="function"&&(i=Ev(i[0]())),oJ(),V.log(...i))},{check:()=>wt.check(...e),group:(i,n)=>wt.check(...e)?V.logGroup(i,n):n()})},check(...e){return e.length===0&&e.push(!0),Ev(Et("agChartsDebug")).some(i=>e.includes(i))}};function zF({context:e,pixelRatio:t,width:i,height:n}){e.save(),e.resetTransform(),e.clearRect(0,0,Math.ceil(i*t),Math.ceil(n*t)),e.restore()}function VF(e){if(wt.check("canvas")){let t=e.save.bind(e),i=e.restore.bind(e),n=0;Object.assign(e,{save(){t(),n++},restore(){if(n===0)throw new Error("AG Charts - Unable to restore() past depth 0");i(),n--},verifyDepthZero(){if(n!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${n}`)}})}}function IT(e,t,i){return[Math.round(e*i),Math.round(t*i)]}var GF=class{constructor(e){let{width:t,height:i,pixelRatio:n,willReadFrequently:s=!1}=e;this.width=t,this.height=i,this.pixelRatio=n;let[o,r]=IT(t,i,n);this.canvas=new OffscreenCanvas(o,r),this.context=this.canvas.getContext("2d",{willReadFrequently:s}),this.context.setTransform(n,0,0,n,0,0),VF(this.context)}drawImage(e,t=0,i=0){return e.drawImage(this.canvas,t,i)}transferToImageBitmap(){return this.canvas.transferToImageBitmap()}resize(e,t,i){if(!(e>0&&t>0))return;let{canvas:n,context:s}=this;if(e!==this.width||t!==this.height||i!==this.pixelRatio){let[o,r]=IT(e,t,i);n.width=o,n.height=r}s.setTransform(i,0,0,i,0,0),this.width=e,this.height=t,this.pixelRatio=i}clear(){zF(this)}destroy(){this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0),this.canvas=null,this.context=null,Object.freeze(this)}},RT=e=>{let t=Ut.fromString(e),[i,n,s]=Ut.RGBtoOKLCH(t.r,t.g,t.b);return{l:i,c:n,h:s,a:t.a}},_x=1e-6,AT=e=>e.c<_x||e.l<_x||e.l>1-_x,rJ=(e,t,i)=>{i=Le(0,i,1);let n;if(AT(e))n=t.h;else if(AT(t))n=e.h;else{let a=e.h,l=t.h,c=t.h-e.h;c>180?l-=360:c<-180&&(l+=360),n=a*(1-i)+l*i}let s=e.c*(1-i)+t.c*i,o=e.l*(1-i)+t.l*i,r=e.a*(1-i)+t.a*i;return Ut.fromOKLCH(o,s,n,r)},wa=class extends cy{constructor(){super(...arguments),this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(RT)}update(){let{domain:e,range:t}=this;e.length<2&&(V.warnOnce("`colorDomain` should have at least 2 values."),e.length===0?e.push(0,1):e.length===1&&e.push(e[0]+1));for(let i=1;i<e.length;i++){let n=e[i-1],s=e[i];if(n>=s){V.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((o,r)=>o-r);break}}if(t.length<e.length)for(let i=t.length;i<e.length;i++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(RT)}normalizeDomains(...e){return{domain:e.flat(),animatable:!0}}toDomain(){}convert(e){this.refresh();let{domain:t,range:i,parsedRange:n}=this,s=t[0],o=t.at(-1),r=i[0],a=i[i.length-1];if(e<=s)return r;if(e>=o)return a;let l,c;if(t.length===2){let h=(e-s)/(o-s),p=1/(i.length-1);l=i.length<=2?0:Math.min(Math.floor(h*(i.length-1)),i.length-2),c=(h-l*p)/p}else{for(l=0;l<t.length-2&&!(e<t[l+1]);l++);let h=t[l],p=t[l+1];c=(e-h)/(p-h)}let d=n[l],u=n[l+1];return rJ(d,u,c).toRgbaString()}invert(){}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&V.warnOnce("Expected update to not invalidate scale"))}};b([Ad],wa.prototype,"domain",2);b([Ad],wa.prototype,"range",2);var fy=class{constructor(e,t=[],i){this.colorSpace=e,this.stops=t,this.bbox=i,this._cache=void 0}createGradient(e,t){let i=this.bbox??t;if(this._cache!=null&&this._cache.ctx===e&&this._cache.bbox.equals(i))return this._cache.gradient;let{stops:n,colorSpace:s}=this;if(n.length===0)return;if(n.length===1)return n[0].color;let o=this.createCanvasGradient(e,i);if(o==null)return;let r=s==="oklch",a=.05,l=n[0];o.addColorStop(l.offset,l.color);for(let c=1;c<n.length;c+=1){let d=n[c];if(r){let u=new wa;u.domain=[l.offset,d.offset],u.range=[l.color,d.color];for(let h=l.offset+a;h<d.offset;h+=a)o.addColorStop(h,u.convert(h))}o.addColorStop(d.offset,d.color),l=d}return"createPattern"in o&&(o=o.createPattern()),this._cache={ctx:e,bbox:i,gradient:o},o}},Ds=Math.PI*2,Wh=Math.PI/2;function _t(e){return e%=Ds,e+=Ds,e%=Ds,e}function aJ(e){return e%=Ds,e+=Ds,e!==Ds&&(e%=Ds),e}function pp(e){return e%=Ds,e<-Math.PI?e+=Ds:e>=Math.PI&&(e-=Ds),e}function ua(e,t,i){let n=_t(e),s=_t(t),o=_t(i);return s<o?s<=n&&n<=o:s>o?s<=n||n<=o:!0}function mi(e){return e/180*Math.PI}function lJ(e){return e/Math.PI*180}function vy(e,t){return e=_t(e),t=_t(t),t-e+(e>t?Ds:0)}function HF(e){let t=_t(e);return t<=Wh?t/Wh:t<=Math.PI?(Math.PI-t)/Wh:t<=1.5*Math.PI?(t-Math.PI)/Wh:(Ds-t)/Wh}var aS=class extends fy{constructor(e,t,i=0,n){super(e,t,n),this.angle=i}createCanvasGradient(e,t){let{angle:n}=this,s=_t(mi(n+90)),o=Math.cos(s),r=Math.sin(s),a=t.width,l=t.height,c=t.x+a*.5,d=t.y+l*.5,u=Math.sqrt(l*l+a*a)/2,h=Math.atan2(l,a),p;s<Math.PI/2?p=s:s<Math.PI?p=Math.PI-s:s<1.5*Math.PI?p=s-Math.PI:p=2*Math.PI-s;let g=u*Math.abs(Math.cos(p-h));return e.createLinearGradient(c+o*g,d+r*g,c-o*g,d-r*g)}},qS=class extends ke{constructor(){super(...arguments),this.color="black"}};b([x(Qe,{optional:!0})],qS.prototype,"stop",2);b([x(rt,{optional:!0})],qS.prototype,"color",2);function cJ(e){let t;for(let{stop:i}of e)if(i!=null){if(t!=null&&i<t)return!1;t=i}return!0}function jF(e){return e.flatMap((t,i)=>{let{offset:n}=t,s=e.at(i+1)?.color;return s!=null?[t,{offset:n,color:s}]:[t]})}function dJ(e,t){let i=t==="discrete"?1:0,n=e.map((s,o,{length:r})=>({offset:(o+i)/(r-1+i),color:s}));return t==="discrete"?jF(n):n}function WF(e,t,i,n="continuous"){if(e.length===0)return dJ(t,n);if(!cJ(e))return V.warnOnce("[fills] must have the stops defined in ascending order"),[];let s=Math.min(...i),o=Math.max(...i),r=n==="discrete",a=new Float64Array(e.length),l=0,c=-1;for(let p=0;p<e.length;p+=1){let g=e[p];if(p>=c){c=e.length-1;for(let f=p+1;f<e.length;f+=1)if(e[f].stop!=null){c=f;break}}let{stop:m}=g;if(m==null){let f=e[l].stop,v=e[c].stop,y=f??s,C=v??o,S=r&&f==null?1:0;m=y+(C-y)*(p-l+S)/(c-l+S)}else l=p;a[p]=Math.max(0,Math.min(1,(m-s)/(o-s)))}let d=e.find(p=>p.color!=null)?.color,u,h=e.map(({color:p},g)=>{let m=a[g];return p!=null?d=p:d!=null?p=d:(u==null&&(u=new wa,u.domain=[0,1],u.range=t),p=u.convert(m)),{offset:m,color:p}});return n==="discrete"?jF(h):h}function UF(e){return e!==null&&ki(e)&&e.type=="gradient"}function sr(e,t,i){let n=Math.round(t*e)/e;return i==null?n:i===0?0:i<1?Math.ceil(i*e)/e:Math.round((i+t)*e)/e-n}function kT(e,t){return Math.floor(t*e)/e}var uJ=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,Fn=(()=>{let e=class Ys extends ba{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=Ys.defaultStyles.fill,this.stroke=Ys.defaultStyles.stroke,this.strokeWidth=Ys.defaultStyles.strokeWidth,this.lineDash=Ys.defaultStyles.lineDash,this.lineDashOffset=Ys.defaultStyles.lineDashOffset,this.lineCap=Ys.defaultStyles.lineCap,this.lineJoin=Ys.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=Ys.defaultStyles.opacity,this.fillShadow=Ys.defaultStyles.fillShadow,this.gradientFillOptions={domain:[0,1],defaultColorRange:Ys.defaultStyles.defaultColorRange}}restoreOwnStyles(){let{defaultStyles:i}=this.constructor;Object.assign(this,i)}getGradient(i){let n;if(i instanceof fy)return i;if(typeof i=="string"&&i?.startsWith("linear-gradient")&&(n=uJ.exec(i))){let s=parseFloat(n[1]),o=[],r=n[2],a=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi,l;for(;l=a.exec(r);)o.push(l[0]);return new aS("rgb",o.map((c,d)=>({color:c,offset:d/(o.length-1)})),s)}else if(UF(i))return this.createLinearGradient(i)}createLinearGradient(i){let{colorStops:n=[],direction:s}=i,o=s==="horizontal",{domain:r,defaultColorRange:a=[]}=this.gradientFillOptions,l=WF(n,a,r);return new aS("oklch",l,o?0:90)}onFillChange(){this.fillGradient=this.getGradient(this.fill)}onStrokeChange(){this.strokeGradient=this.getGradient(this.stroke)}align(i,n){return sr(this.layerManager?.canvas?.pixelRatio??1,i,n)}fillStroke(i,n){this.renderFill(i,n),this.renderStroke(i,n)}renderFill(i,n){if(this.fill){let{globalAlpha:s}=i;this.applyFill(i),this.applyFillAlpha(i),this.applyShadow(i),this.executeFill(i,n),i.globalAlpha=s}i.shadowColor="rgba(0, 0, 0, 0)"}executeFill(i,n){n?i.fill(n):i.fill()}applyFill(i){let n=this.gradientFillOptions.bbox??this.getBBox();i.fillStyle=this.fillGradient?.createGradient(i,n)??(typeof this.fill=="string"?this.fill:void 0)??"black"}applyStroke(i){i.strokeStyle=this.strokeGradient?.createGradient(i,this.getBBox())??(typeof this.stroke=="string"?this.stroke:void 0)??"black"}applyFillAlpha(i){i.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(i){let n=this.layerManager?.canvas.pixelRatio??1,s=this.fillShadow;s?.enabled&&(i.shadowColor=s.color,i.shadowOffsetX=s.xOffset*n,i.shadowOffsetY=s.yOffset*n,i.shadowBlur=s.blur*n)}renderStroke(i,n){if(this.stroke&&this.strokeWidth){let{globalAlpha:s}=i;this.applyStroke(i),i.globalAlpha*=this.opacity*this.strokeOpacity,i.lineWidth=this.strokeWidth,this.lineDash&&i.setLineDash(this.lineDash),this.lineDashOffset&&(i.lineDashOffset=this.lineDashOffset),this.lineCap&&(i.lineCap=this.lineCap),this.lineJoin&&(i.lineJoin=this.lineJoin),this.miterLimit!=null&&(i.miterLimit=this.miterLimit),this.executeStroke(i,n),i.globalAlpha=s}}executeStroke(i,n){n?i.stroke(n):i.stroke()}containsPoint(i,n){return this.isPointInPath(i,n)}applySvgFillAttributes(i){let{fill:n,fillOpacity:s}=this;i.setAttribute("fill",typeof n=="string"?n:"none"),i.setAttribute("fill-opacity",String(s))}applySvgStrokeAttributes(i){let{stroke:n,strokeOpacity:s,strokeWidth:o,lineDash:r,lineDashOffset:a}=this;if(n!=null&&(i.setAttribute("stroke",typeof n=="string"?n:"none"),i.setAttribute("stroke-opacity",String(s)),i.setAttribute("stroke-width",String(o))),r?.some(l=>l!==0)===!0){let l=r.length%2===1?[...r,...r]:r;i.setAttribute("stroke-dasharray",l.join(" ")),i.setAttribute("stroke-dashoffset",String(a))}}};return e.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,defaultColorRange:["#5090dc","#ef5452"]},e})();b([te()],Fn.prototype,"fillOpacity",2);b([te()],Fn.prototype,"strokeOpacity",2);b([te({changeCb:e=>e.onFillChange()})],Fn.prototype,"fill",2);b([te({changeCb:e=>e.onStrokeChange()})],Fn.prototype,"stroke",2);b([te()],Fn.prototype,"strokeWidth",2);b([te()],Fn.prototype,"lineDash",2);b([te()],Fn.prototype,"lineDashOffset",2);b([te()],Fn.prototype,"lineCap",2);b([te()],Fn.prototype,"lineJoin",2);b([te()],Fn.prototype,"miterLimit",2);b([te({convertor:e=>Le(0,e,1)})],Fn.prototype,"opacity",2);b([te({checkDirtyOnAssignment:!0})],Fn.prototype,"fillShadow",2);b([te({changeCb:e=>e.onFillChange()})],Fn.prototype,"gradientFillOptions",2);var Rs=Fn,$F=[1,0,0,1,0,0],eo=class yv{get e(){return[...this.elements]}constructor(t=$F){this.elements=[...t]}setElements(t){let i=this.elements;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],this}get identity(){let t=this.elements;return Ks(t[0],1)&&Ks(t[1],0)&&Ks(t[2],0)&&Ks(t[3],1)&&Ks(t[4],0)&&Ks(t[5],0)}AxB(t,i,n){let s=t[0]*i[0]+t[2]*i[1],o=t[1]*i[0]+t[3]*i[1],r=t[0]*i[2]+t[2]*i[3],a=t[1]*i[2]+t[3]*i[3],l=t[0]*i[4]+t[2]*i[5]+t[4],c=t[1]*i[4]+t[3]*i[5]+t[5];n=n??t,n[0]=s,n[1]=o,n[2]=r,n[3]=a,n[4]=l,n[5]=c}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){let i=new Array(6);return t instanceof yv?this.AxB(this.elements,t.elements,i):this.AxB(this.elements,[t.a,t.b,t.c,t.d,t.e,t.f],i),new yv(i)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){let t=this.elements,i=t[0],n=t[1],s=t[2],o=t[3],r=t[4],a=t[5],l=1/(i*o-n*s);return i*=l,n*=l,s*=l,o*=l,new yv([o,-n,-s,i,s*a-o*r,n*r-i*a])}invertSelf(){let t=this.elements,i=t[0],n=t[1],s=t[2],o=t[3],r=t[4],a=t[5],l=1/(i*o-n*s);return i*=l,n*=l,s*=l,o*=l,t[0]=o,t[1]=-n,t[2]=-s,t[3]=i,t[4]=s*a-o*r,t[5]=n*r-i*a,this}transformPoint(t,i){let n=this.elements;return{x:t*n[0]+i*n[2]+n[4],y:t*n[1]+i*n[3]+n[5]}}transformBBox(t,i){let n=this.elements,s=n[0],o=n[1],r=n[2],a=n[3],l=t.width*.5,c=t.height*.5,d=t.x+l,u=t.y+c,h=Math.abs(l*s)+Math.abs(c*r),p=Math.abs(l*o)+Math.abs(c*a);return i??(i=new ne(0,0,0,0)),i.x=d*s+u*r+n[4]-h,i.y=d*o+u*a+n[5]-p,i.width=h+h,i.height=p+p,i}toContext(t){if(this.identity)return;let i=this.elements;t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}static updateTransformMatrix(t,i,n,s,o,r,a){let l=i,c=n,d,u;l===1&&c===1?(d=0,u=0):(d=a?.scalingCenterX??0,u=a?.scalingCenterY??0);let h=s,p=Math.cos(h),g=Math.sin(h),m,f;h===0?(m=0,f=0):(m=a?.rotationCenterX??0,f=a?.rotationCenterY??0);let v=o,y=r,C=d*(1-l)-m,S=u*(1-c)-f;return t.setElements([p*l,g*l,-g*c,p*c,p*C-g*S+m+v,g*C+p*S+f+y]),t}};function ra(e){return KF(e.constructor)}var YF=Symbol("isMatrixTransform");function KF(e){return e[YF]===!0}function XS(e){var t,i;let n=e;if(KF(e))return e;let s=Symbol("matrix_combined_transform");class o extends n{constructor(){super(...arguments),this[i]=new eo,this._dirtyTransform=!0}markDirtyTransform(){this._dirtyTransform=!0,super.markDirty()}updateMatrix(a){}computeTransformMatrix(){this._dirtyTransform&&(this[s].setElements($F),this.updateMatrix(this[s]),this._dirtyTransform=!1)}toParent(a){return this.computeTransformMatrix(),this[s].identity?a.clone():this[s].transformBBox(a)}toParentPoint(a,l){return this.computeTransformMatrix(),this[s].identity?{x:a,y:l}:this[s].transformPoint(a,l)}fromParent(a){return this.computeTransformMatrix(),this[s].identity?a.clone():this[s].inverse().transformBBox(a)}fromParentPoint(a,l){return this.computeTransformMatrix(),this[s].identity?{x:a,y:l}:this[s].inverse().transformPoint(a,l)}computeBBox(){let a=super.computeBBox();return a&&this.toParent(a)}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(a,l,c=!1){return c||({x:a,y:l}=this.fromParentPoint(a,l)),super.pickNode(a,l)}render(a){this.computeTransformMatrix();let{ctx:l}=a,c=this[s],d=!1;c.identity||(l.save(),d=!0,c.toContext(l)),super.render(a),d&&l.restore()}toSVG(){this.computeTransformMatrix();let a=super.toSVG(),l=this[s];if(l.identity||a==null)return a;let c=Es("g");c.append(...a.elements);let[d,u,h,p,g,m]=l.e;return c.setAttribute("transform",`matrix(${d} ${u} ${h} ${p} ${g} ${m})`),{elements:[c],defs:a.defs}}}return t=YF,i=s,o[t]=!0,o}function Td(e){var t;let i=e,n=Symbol("matrix_rotation");class s extends XS(i){constructor(){super(...arguments),this[t]=new eo,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0}updateMatrix(r){super.updateMatrix(r);let{rotation:a,rotationCenterX:l,rotationCenterY:c}=this;a!==0&&(eo.updateTransformMatrix(this[n],1,1,a,0,0,{rotationCenterX:l,rotationCenterY:c}),r.multiplySelf(this[n]))}}return t=n,b([te({type:"transform"})],s.prototype,"rotationCenterX",2),b([te({type:"transform"})],s.prototype,"rotationCenterY",2),b([te({type:"transform"})],s.prototype,"rotation",2),s}function QS(e){var t;let i=e,n=Symbol("matrix_scale");class s extends XS(i){constructor(){super(...arguments),this[t]=new eo,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null}updateMatrix(r){super.updateMatrix(r);let{scalingX:a,scalingY:l,scalingCenterX:c,scalingCenterY:d}=this;a===1&&l===1||(eo.updateTransformMatrix(this[n],a,l,0,0,0,{scalingCenterX:c,scalingCenterY:d}),r.multiplySelf(this[n]))}}return t=n,b([te({type:"transform"})],s.prototype,"scalingX",2),b([te({type:"transform"})],s.prototype,"scalingY",2),b([te({type:"transform"})],s.prototype,"scalingCenterX",2),b([te({type:"transform"})],s.prototype,"scalingCenterY",2),s}function Vl(e){var t;let i=e,n=Symbol("matrix_translation");class s extends XS(i){constructor(){super(...arguments),this[t]=new eo,this.translationX=0,this.translationY=0}updateMatrix(r){super.updateMatrix(r);let{translationX:a,translationY:l}=this;a===0&&l===0||(eo.updateTransformMatrix(this[n],1,1,0,a,l),r.multiplySelf(this[n]))}}return t=n,b([te({type:"transform"})],s.prototype,"translationX",2),b([te({type:"transform"})],s.prototype,"translationY",2),s}var Kt=class{static fromCanvas(e,t){let i=[];for(let n of e.traverseUp())ra(n)&&i.unshift(n);for(let n of i)t=n.fromParent(t);return ra(e)&&(t=e.fromParent(t)),t}static toCanvas(e,t){t==null?t=e.getBBox():ra(e)&&(t=e.toParent(t));for(let i of e.traverseUp())ra(i)&&(t=i.toParent(t));return t}static fromCanvasPoint(e,t,i){let n=[];for(let s of e.traverseUp())ra(s)&&n.unshift(s);for(let s of n)({x:t,y:i}=s.fromParentPoint(t,i));return ra(e)&&({x:t,y:i}=e.fromParentPoint(t,i)),{x:t,y:i}}static toCanvasPoint(e,t,i){ra(e)&&({x:t,y:i}=e.toParentPoint(t,i));for(let n of e.traverseUp())ra(n)&&({x:t,y:i}=n.toParentPoint(t,i));return{x:t,y:i}}},Ex=(e,t)=>Math.sign(e-t);function ZF(e,t){if(typeof e=="number"&&typeof t=="number")return Ex(e,t);let i=typeof e=="number"?[e]:e,n=typeof t=="number"?[t]:t,s=Math.min(i.length,n.length);for(let o=0;o<s;o+=1){let r=Ex(i[o],n[o]);if(r!==0)return r}return Ex(i.length,n.length)}var Uh,qF=(()=>{let e=class Zh extends ba{constructor(i){super(i),this.opacity=1,this.renderToOffscreenCanvas=!1,this.optimizeForInfrequentRedraws=!1,this.layer=void 0,this.image=void 0,this._lastWidth=NaN,this._lastHeight=NaN,this._lastDevicePixelRatio=NaN,this.isContainerNode=!0,this.renderToOffscreenCanvas=i?.renderToOffscreenCanvas===!0}static is(i){return i instanceof Zh}static computeChildrenBBox(i,n=!0){return ne.merge(ba.extractBBoxes(i,n))}static compareChildren(i,n){return ZF(i.zIndex,n.zIndex)||i.serialNumber-n.serialNumber}containsPoint(i,n){return!0}computeBBox(){return Zh.computeChildrenBBox(this.children())}computeSafeClippingBBox(i){let n=this.computeBBox();if(!n.isFinite())return;let s=0,o=4;for(let p of this.descendants())p instanceof Rs&&(s=Math.max(s,p.strokeWidth));let r=Math.max(1,s/2*o),{x:a,y:l}=Kt.toCanvasPoint(this,0,0),c=kT(i,a+n.x-r)-a,d=kT(i,l+n.y-r)-l,u=Math.ceil(n.x+n.width-c+r),h=Math.ceil(n.y+n.height-d+r);return new ne(c,d,u,h)}prepareSharedCanvas(i,n,s){return Uh==null||Uh.pixelRatio!==s?Uh=new GF({width:i,height:n,pixelRatio:s}):Uh.resize(i,n,s),Uh}isDirty(i){let{width:n,height:s,devicePixelRatio:o}=i,{dirty:r,dirtyZIndex:a,layer:l}=this,c=l!=null&&(this._lastWidth!==n||this._lastHeight!==s),d=this._lastDevicePixelRatio!==o;if(this._lastWidth=n,this._lastHeight=s,this._lastDevicePixelRatio=o,r||a||c||d)return!0;for(let u of this.children())if(u.dirty)return!0;return!1}preRender(i){let n=super.preRender(i,0);return n.groups+=1,n.nonGroups-=1,this.renderToOffscreenCanvas&&!this.optimizeForInfrequentRedraws&&n.nonGroups>0&&this.getVisibility()?this.layer??(this.layer=this._layerManager?.addLayer({name:this.name})):this.layer!=null&&(this._layerManager?.removeLayer(this.layer),this.layer=void 0),n}render(i){let{layer:n,renderToOffscreenCanvas:s}=this,o=w({},i);if(!s){this.renderInContext(o),super.render(o);return}let{ctx:r,stats:a,devicePixelRatio:l}=i,{image:c}=this;if(this.isDirty(i)){c?.bitmap.close(),c=void 0;let u=n?void 0:this.computeSafeClippingBBox(l),h=(p,...g)=>{let m=p.context;o.ctx=m,p.clear(),m.save(),m.setTransform(...g),m.globalAlpha=1,this.renderInContext(o),m.restore(),m.verifyDepthZero?.()};if(n)h(n,r.getTransform());else if(u){let{x:p,y:g,width:m,height:f}=u,v=this.prepareSharedCanvas(m,f,l);h(v,l,0,0,l,-p*l,-g*l),c={bitmap:v.transferToImageBitmap(),x:p,y:g,width:m,height:f}}else this.dirtyZIndex&&this.sortChildren(Zh.compareChildren);this.image=c,a&&a.layersRendered++}else this.skipRender(o),a&&a.layersSkipped++;let{globalAlpha:d}=r;if(r.globalAlpha=d*this.opacity,n)r.save(),r.resetTransform(),n.drawImage(r),r.restore();else if(c){let{bitmap:u,x:h,y:p,width:g,height:m}=c;r.drawImage(u,0,0,g*l,m*l,h,p,g,m)}r.globalAlpha=d,super.render(o)}skipRender(i){let{stats:n}=i;for(let s of this.children())s.markClean(),n&&(n.nodesSkipped+=this.childNodeCounts.groups+this.childNodeCounts.nonGroups,n.opsSkipped+=this.childNodeCounts.complexity)}applyClip(i,n){let{x:s,y:o,width:r,height:a}=n;i.beginPath(),i.rect(s,o,r,a),i.clip()}renderInContext(i){let{ctx:n,stats:s}=i;this.dirtyZIndex&&this.sortChildren(Zh.compareChildren),n.save(),n.globalAlpha*=this.opacity,this.clipRect!=null&&(this.applyClip(n,this.clipRect),i.clipBBox=Kt.toCanvas(this,this.clipRect));for(let o of this.children()){if(!o.visible){o.markClean(),s&&(s.nodesSkipped+=o.childNodeCounts.nonGroups+o.childNodeCounts.groups,s.opsSkipped+=o.childNodeCounts.complexity);continue}n.save(),o.render(i),n.restore()}n.restore()}setClipRect(i){this.clipRect=i?Kt.fromCanvas(this,i):void 0}setClipRectCanvasSpace(i){this.clipRect=i}_setLayerManager(i){this.layer&&(this._layerManager?.removeLayer(this.layer),this.layer=void 0),super._setLayerManager(i)}getVisibility(){for(let i of this.traverseUp(!0))if(!i.visible)return!1;return!0}toSVG(){if(!this.visible)return;let i=[],n=[];for(let s of this.children()){let o=s.toSVG();o!=null&&(n.push(...o.elements),o.defs!=null&&i.push(...o.defs))}return{elements:n,defs:i}}};return e.className="Group",e})();b([te({convertor:e=>Le(0,e,1)})],qF.prototype,"opacity",2);var _e=qF,hJ=class extends QS(_e){},pJ=class extends Td(_e){},Cn=class extends Vl(_e){},$h=class extends Td(Vl(_e)){};function gJ(e=0,t=0){return new OffscreenCanvas(e,t).getContext("2d")}var JS=class{constructor(e=5){this.maxCacheSize=e,this.store=new Map}get(e){if(!this.store.has(e))return;let t=this.store.get(e);return this.store.delete(e),this.store.set(e,t),t}has(e){return this.store.has(e)}set(e,t){if(this.store.set(e,t),this.store.size>this.maxCacheSize){let i=this.store.keys(),n=this.store.size-this.maxCacheSize;for(;n>0;){let s=i.next();s.done||this.store.delete(s.value),n--}}return t}clear(){this.store.clear()}},Sr=class{static measureText(e,t){return this.getMeasurer(t).measureText(e)}static measureLines(e,t){return this.getMeasurer(t).measureLines(e)}static getMeasurer(e){let t=typeof e.font=="string"?e.font:ri.toFontString(e.font),i=`${t}-${e.textAlign??"start"}-${e.textBaseline??"alphabetic"}`;return this.instanceMap.get(i)??this.createFontMeasurer(t,e,i)}static createFontMeasurer(e,t,i){let n=gJ();n.font=e,n.textAlign=t.textAlign??"start",n.textBaseline=t.textBaseline??"alphabetic";let s=new XF(n,t);return this.instanceMap.set(i,s),s}};Sr.instanceMap=new JS(10);var XF=class{constructor(e,t){this.ctx=e,this.measureMap=new JS(100),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline),e.font=typeof t.font=="string"?t.font:ri.toFontString(t.font),this.textMeasurer=new eM(i=>this.cachedCtxMeasureText(i),t.textBaseline??"alphabetic")}textWidth(e,t){return this.textMeasurer.textWidth(e,t)}measureText(e){return this.textMeasurer.measureText(e)}measureLines(e){return this.textMeasurer.measureLines(e)}cachedCtxMeasureText(e){if(!this.measureMap.has(e)){let t=this.ctx.measureText(e);this.measureMap.set(e,{actualBoundingBoxAscent:t.actualBoundingBoxAscent,emHeightAscent:t.emHeightAscent,emHeightDescent:t.emHeightDescent,actualBoundingBoxDescent:t.actualBoundingBoxDescent,actualBoundingBoxLeft:t.actualBoundingBoxLeft,actualBoundingBoxRight:t.actualBoundingBoxRight,alphabeticBaseline:t.alphabeticBaseline,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent,hangingBaseline:t.hangingBaseline,ideographicBaseline:t.ideographicBaseline,width:t.width})}return this.measureMap.get(e)}},ri=(()=>{let e=class{static toFontString({fontSize:t=10,fontStyle:i,fontWeight:n,fontFamily:s,lineHeight:o}){let r="";return i&&(r+=`${i} `),n&&(r+=`${n} `),r+=`${t}px`,o&&(r+=`/${o}px`),r+=` ${s}`,r.trim()}static getLineHeight(t){return Math.ceil(t*this.defaultLineHeight)}static getVerticalModifier(t){switch(t){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}};return e.EllipsisChar="\u2026",e.defaultLineHeight=1.15,e.lineSplitter=/\r?\n/g,e})(),eM=class{constructor(e,t="alphabetic"){this.measureTextFn=e,this.textBaseline=t,this.charMap=new Map}getMetrics(e){let t=this.measureTextFn(e);return t.fontBoundingBoxAscent??(t.fontBoundingBoxAscent=t.emHeightAscent),t.fontBoundingBoxDescent??(t.fontBoundingBoxDescent=t.emHeightDescent),{width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent,lineHeight:t.fontBoundingBoxAscent+t.fontBoundingBoxDescent,offsetTop:t.actualBoundingBoxAscent,offsetLeft:t.actualBoundingBoxLeft}}getMultilineMetrics(e){let t=0,i=0,n=0,s=0,o=0,r=ri.getVerticalModifier(this.textBaseline),a=[],l=0,c=e.length;for(let d of e){let u=this.measureTextFn(d);u.fontBoundingBoxAscent??(u.fontBoundingBoxAscent=u.emHeightAscent),u.fontBoundingBoxDescent??(u.fontBoundingBoxDescent=u.emHeightDescent),t<u.width&&(t=u.width),s<u.actualBoundingBoxLeft&&(s=u.actualBoundingBoxLeft),l===0?(i+=u.actualBoundingBoxAscent,n+=u.actualBoundingBoxAscent):o+=u.fontBoundingBoxAscent,l===c-1?i+=u.actualBoundingBoxDescent:o+=u.fontBoundingBoxDescent,a.push({text:d,width:u.width,height:u.actualBoundingBoxAscent+u.actualBoundingBoxDescent,lineHeight:u.fontBoundingBoxAscent+u.fontBoundingBoxDescent,offsetTop:u.actualBoundingBoxAscent,offsetLeft:u.actualBoundingBoxLeft}),l++}return i+=o,n+=o*r,{width:t,height:i,offsetTop:n,offsetLeft:s,lineMetrics:a}}textWidth(e,t){if(t){let i=0;for(let n=0;n<e.length;n++)i+=this.textWidth(e.charAt(n));return i}return e.length>1?this.measureTextFn(e).width:this.charMap.get(e)??this.charWidth(e)}measureText(e){return this.getMetrics(e)}measureLines(e){let t=typeof e=="string"?e.split(ri.lineSplitter):e;return this.getMultilineMetrics(t)}charWidth(e){let{width:t}=this.measureTextFn(e);return this.charMap.set(e,t),t}},Jn=class bv extends Rs{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=bv.defaultStyles.textAlign,this.textBaseline=bv.defaultStyles.textBaseline}onTextChange(){this.lines=this.text?.split(`
`).map(t=>t.trim())??[]}static computeBBox(t,i,n,s){let{offsetTop:o,offsetLeft:r,width:a,height:l}=Sr.measureLines(t,s);return new ne(i-r,n-o,a,l)}computeBBox(){let{x:t,y:i,lines:n,textBaseline:s,textAlign:o}=this;return bv.computeBBox(n,t,i,{font:this,textBaseline:s,textAlign:o})}isPointInPath(t,i){let n=this.getBBox();return n?n.containsPoint(t,i):!1}render(t){let{ctx:i,stats:n}=t;if(!this.lines.length||!this.layerManager)return n&&(n.nodesSkipped+=1),super.render(t);let{fill:s,stroke:o,strokeWidth:r}=this,{pixelRatio:a}=this.layerManager.canvas;if(i.font=ri.toFontString(this),i.textAlign=this.textAlign,i.textBaseline=this.textBaseline,s){this.applyFill(i),i.globalAlpha*=this.opacity*this.fillOpacity;let{fillShadow:l}=this;l?.enabled&&(i.shadowColor=l.color,i.shadowOffsetX=l.xOffset*a,i.shadowOffsetY=l.yOffset*a,i.shadowBlur=l.blur*a),this.renderLines((c,d,u)=>i.fillText(c,d,u))}if(o&&r){this.applyStroke(i),i.lineWidth=r,i.globalAlpha*=this.opacity*this.strokeOpacity;let{lineDash:l,lineDashOffset:c,lineCap:d,lineJoin:u}=this;l&&i.setLineDash(l),c&&(i.lineDashOffset=c),d&&(i.lineCap=d),u&&(i.lineJoin=u),this.renderLines((h,p,g)=>i.strokeText(h,p,g))}super.render(t)}renderLines(t){let{lines:i,x:n,y:s}=this,o=this.lineHeight??ri.getLineHeight(this.fontSize),r=(o-o*i.length)*ri.getVerticalModifier(this.textBaseline);for(let a of i)t(a,n,s+r),r+=o}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}toSVG(){if(!this.visible||!this.text)return;let t=Es("text");return this.applySvgFillAttributes(t),t.setAttribute("font-family",this.fontFamily?.split(",")[0]??""),t.setAttribute("font-size",String(this.fontSize)),t.setAttribute("font-style",this.fontStyle??""),t.setAttribute("font-weight",String(this.fontWeight??"")),t.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),t.setAttribute("alignment-baseline",{alphabetic:"alphabetic",top:"top",bottom:"bottom",hanging:"hanging",middle:"middle",ideographic:"ideographic"}[this.textBaseline??"alphabetic"]),t.setAttribute("x",String(this.x)),t.setAttribute("y",String(this.y)),t.textContent=this.text??"",{elements:[t]}}};Jn.className="Text";Jn.defaultStyles=A(w({},Rs.defaultStyles),{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"});b([te()],Jn.prototype,"x",2);b([te()],Jn.prototype,"y",2);b([te({changeCb:e=>e.onTextChange()})],Jn.prototype,"text",2);b([te()],Jn.prototype,"fontStyle",2);b([te()],Jn.prototype,"fontWeight",2);b([te()],Jn.prototype,"fontSize",2);b([te()],Jn.prototype,"fontFamily",2);b([te()],Jn.prototype,"textAlign",2);b([te()],Jn.prototype,"textBaseline",2);b([te()],Jn.prototype,"lineHeight",2);var wi=Jn,QF=class extends Td(wi){},Dd=class extends Td(Vl(wi)){},Ix="color: green",Rx="color: grey";function mJ(){return hF(()=>{})}function lS(e,t){let i=Ll(t);if(i.length===0)return;let n=pF(e);for(let s of i)s in n&&(t[s]=n[s])}var JF=class{transitionRoot(e,t){this.parent?this.parent.transitionRoot(e,t):this.transition(e,t)}},fJ=(()=>{let e=class An extends JF{constructor(i,n,s){super(),this.defaultState=i,this.states=n,this.enterEach=s,this.debug=wt.create(!0,"animation"),this.state=i,this.debug(`%c${this.constructor.name} | init -> ${i}`,Ix)}transition(i,n){if(!this.transitionChild(i,n)||this.state===An.child||this.state===An.parent)return;let o=this.state,r=this.states[this.state],a=r[i],l=`%c${this.constructor.name} | ${this.state} -> ${i} ->`;if(Array.isArray(a))a=a.find(u=>{if(!u.guard)return!0;let h=u.guard(n);return h||this.debug(`${l} (guarded)`,u.target,Rx),h});else if(typeof a=="object"&&!(a instanceof An)&&a.guard&&!a.guard(n)){this.debug(`${l} (guarded)`,a.target,Rx);return}if(!a){this.debug(`${l} ${this.state}`,Rx);return}let c=this.getDestinationState(a),d=c===this.state?void 0:r.onExit;this.debug(`${l} ${c}`,Ix),this.state=c,typeof a=="function"?a(n):typeof a=="object"&&!(a instanceof An)&&a.action?.(n),d?.(),this.enterEach?.(o,c),c!==o&&c!==An.child&&c!==An.parent&&this.states[c].onEnter?.(o,n)}transitionAsync(i,n){setTimeout(()=>{this.transition(i,n)},0)}is(i){return this.state===An.child&&this.childState?this.childState.is(i):this.state===i}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(i,n){return this.state!==An.child||!this.childState||(lS(this,this.childState),this.childState.transition(i,n),!this.childState.is(An.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${i} -> ${this.defaultState}`,Ix),this.state=this.defaultState,this.states[this.state].onEnter?.(),this.childState.resetHierarchy(),!1)}getDestinationState(i){let n=this.state;return typeof i=="string"?n=i:i instanceof An?(this.childState=i,this.childState.parent=this,n=An.child):typeof i=="object"&&(i.target instanceof An?(this.childState=i.target,this.childState.parent=this,n=An.child):i.target!=null&&(n=i.target)),n}};return e.child="__child",e.parent="__parent",e})(),Gp=fJ,vJ=class extends JF{constructor(...e){super(),this.stateMachines=e;for(let t of e)t.parent=this}transition(e,t){for(let i of this.stateMachines)lS(this,i),i.transition(e,t)}transitionAsync(e,t){for(let i of this.stateMachines)lS(this,i),i.transitionAsync(e,t)}};function Pt(e,t){let i=It(e)?e:e.split(".");if(i.length===1){let[n]=i;return fr((s,o,r)=>s[n]=r,s=>s[n],t)}return fr((n,s,o)=>GS(n,i,o),n=>zS(n,i),t)}function yJ(e){return fr((t,i,n)=>t[e]=n)}function Li(e,t){return fr((i,n,s)=>i[e][t??n]=s)}function Pn(e){let{newValue:t,oldValue:i,changeValue:n}=e;return fr((s,o,r,a)=>(r!==a&&(a!==void 0&&i?.call(s,a),r!==void 0&&t?.call(s,r),n?.call(s,r,a)),r))}function xa(e){return hF(e)}var tM=class{static wrapText(e,t){return this.wrapLines(e,t).join(`
`)}static wrapLines(e,t){let i=this.textWrap(e,t);return t.overflow==="hide"&&i.some(n=>n.endsWith(ri.EllipsisChar))?[]:i}static appendEllipsis(e){return e.replace(/[.,]{1,5}$/,"")+ri.EllipsisChar}static truncateLine(e,t,i,n){let s=t.textWidth(ri.EllipsisChar),o=0,r=0;for(;r<e.length;r++){let a=t.textWidth(e.charAt(r));if(o+a>i)break;o+=a}if(e.length===r&&(!n||o+s<=i))return n?e+ri.EllipsisChar:e;for(e=e.slice(0,r).trimEnd();e.length&&t.textWidth(e)+s>i;)e=e.slice(0,-1).trimEnd();return e+ri.EllipsisChar}static textWrap(e,t){let i=e.split(ri.lineSplitter),n=Sr.getMeasurer(t);if(t.textWrap==="never")return i.map(a=>this.truncateLine(a.trimEnd(),n,t.maxWidth));let s=[],o=t.textWrap==="hyphenate",r=t.textWrap==null||t.textWrap==="on-space";for(let a of i){let l=a.trimEnd();if(l===""){s.push(l);continue}let c=0,d=0,u=0;for(;c<l.length;){let h=l.charAt(c);if(d+=n.textWidth(h),h===" "&&(u=c),d>t.maxWidth){if(c===0)break;let p=n.textWidth(l.slice(0,c+1));if(p<=t.maxWidth){d=p,c++;continue}if(u){let f=this.getWordAt(l,u+1),v=n.textWidth(f);if(v<=t.maxWidth){s.push(l.slice(0,u).trimEnd()),l=l.slice(u).trimStart(),c=0,d=0,u=0;continue}else r&&v>t.maxWidth&&s.push(l.slice(0,u).trimEnd(),this.truncateLine(l.slice(u).trimStart(),n,t.maxWidth,!0))}else r&&s.push(this.truncateLine(l,n,t.maxWidth,!0));if(r){l="";break}let g=o?"-":"",m=l.slice(0,c).trim();for(;m.length&&n.textWidth(m+g)>t.maxWidth;)m=m.slice(0,-1).trimEnd();if(s.push(m+g),!m.length){l="";break}l=l.slice(m.length).trimStart(),c=-1,d=0,u=0}c++}l&&s.push(l)}return this.avoidOrphans(s,n,t),this.clipLines(s,n,t)}static getWordAt(e,t){let i=e.indexOf(" ",t);return i===-1?e.slice(t):e.slice(t,i)}static clipLines(e,t,i){if(!i.maxHeight)return e;let{height:n,lineMetrics:s}=t.measureLines(e);if(n<=i.maxHeight)return e;for(let o=0,r=0;o<s.length;o++){let{lineHeight:a}=s[o];if(r+=a,r>i.maxHeight){if(i.overflow==="hide")return[];let l=e.slice(0,o||1),c=l.pop();return l.concat(this.truncateLine(c,t,i.maxWidth,!0))}}return e}static avoidOrphans(e,t,i){if(i.avoidOrphans===!1||e.length<2)return;let{length:n}=e,s=e[n-1],o=e[n-2];if(o.length<s.length)return;let r=o.lastIndexOf(" ");if(r===-1||r===o.indexOf(" ")||s.includes(" "))return;let a=o.slice(r+1);t.textWidth(s+a)<=i.maxWidth&&(e[n-2]=o.slice(0,r),e[n-1]=a+" "+s)}},Ft=(()=>{let e=class extends ke{constructor(){super(...arguments),this.id=ks(this),this.node=new QF({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(t,i){return t.layoutManager.addListener("layout:complete",()=>this.updateA11yText(t,i))}computeTextWrap(t,i){let{text:n,padding:s,wrapping:o}=this,r=Math.min(this.maxWidth??1/0,t)-s*2,a=this.maxHeight??i-s*2;if(!isFinite(r)&&!isFinite(a)){this.node.text=n;return}let l=tM.wrapText(n??"",{maxWidth:r,maxHeight:a,font:this,textWrap:o});this.node.text=l,this.truncated=l.includes(ri.EllipsisChar)}updateA11yText(t,i){let{proxyInteractionService:n}=t;if(this.enabled&&this.text){let s=Kt.toCanvas(this.node);if(s){let{id:o}=this;this.proxyText??(this.proxyText=n.createProxyElement({type:"text",domManagerId:o,where:i})),this.proxyText.textContent=this.text,this.proxyText.setBounds(s),this.proxyText.addListener("mousemove",r=>this.handleMouseMove(t,r)),this.proxyText.addListener("mouseleave",r=>this.handleMouseLeave(t,r))}}else this.proxyText?.destroy(),this.proxyText=void 0}handleMouseMove(t,i){if(i!=null&&this.enabled&&this.node.visible&&this.truncated){let{x:n,y:s}=Kt.toCanvas(this.node),o=i.sourceEvent.offsetX+n,r=i.sourceEvent.offsetY+s,a={type:"pointermove",canvasX:o,canvasY:r};t.tooltipManager.updateTooltip(this.id,{canvasX:o,canvasY:r,lastPointerEvent:a,showArrow:!1},{type:"structured",title:this.text})}}handleMouseLeave(t,i){t.tooltipManager.removeTooltip(this.id)}};return e.SMALL_PADDING=10,e.LARGE_PADDING=20,e})();b([x(me),Li("node","visible")],Ft.prototype,"enabled",2);b([x(B,{optional:!0}),Li("node")],Ft.prototype,"text",2);b([x(FF,{optional:!0}),Li("node")],Ft.prototype,"textAlign",2);b([x(wr,{optional:!0}),Li("node")],Ft.prototype,"fontStyle",2);b([x(xr,{optional:!0}),Li("node")],Ft.prototype,"fontWeight",2);b([x($),Li("node")],Ft.prototype,"fontSize",2);b([x(B),Li("node")],Ft.prototype,"fontFamily",2);b([x(rt,{optional:!0}),Li("node","fill")],Ft.prototype,"color",2);b([x($,{optional:!0})],Ft.prototype,"spacing",2);b([x($,{optional:!0})],Ft.prototype,"maxWidth",2);b([x($,{optional:!0})],Ft.prototype,"maxHeight",2);b([x(gy)],Ft.prototype,"wrapping",2);b([x($)],Ft.prototype,"padding",2);b([x(B)],Ft.prototype,"layoutStyle",2);var iM=(e=>(e.X="x",e.Y="y",e))(iM||{}),nM=class{constructor(){this.moduleMap=new Map}*modules(){for(let e of this.moduleMap.values())yield e.moduleInstance}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){let t=Tn(e)?e:e.optionsKey;this.moduleMap.get(t)?.moduleInstance.destroy(),this.moduleMap.delete(t)}getModule(e){return this.moduleMap.get(Tn(e)?e:e.optionsKey)?.moduleInstance}isEnabled(e){return this.moduleMap.has(Tn(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),(t,i)=>e(t.moduleInstance,i))}destroy(){for(let e of this.moduleMap.keys())this.moduleMap.get(e)?.moduleInstance.destroy();this.moduleMap.clear()}};function e2(e,t){return e.valueOf()-t.valueOf()}function bJ(e){let t=NaN,i=[];for(let n of e){let s=n.valueOf();t!==s&&i.push(n),t=s}return i}function cS(e){let t=e.slice().sort(e2);return sM(t)==null?bJ(t):t}function sM(e){if(e.length===0)return 1;let t=Number(e[e.length-1])>Number(e[0])?1:-1,i=-1/0*t;for(let n of e){let s=n.valueOf();if(Math.sign(s-i)!==t)return;i=s}return t}function t2(e){let t,i,n=wJ.exec(e);n&&([,t,e,i]=n);let s=CJ.exec(e);if(!s)throw new Error(`The number formatter is invalid: ${e}`);let[,o,r,a,l,c,d,u,h,p,g]=s;return{fill:o,align:r,sign:a,symbol:l,zero:c,width:parseInt(d),comma:u,precision:parseInt(h),trim:!!p,type:g,prefix:t,suffix:i}}function i2(e){let t=typeof e=="string"?t2(e):e,{fill:i,align:n,sign:s="-",symbol:o,zero:r,width:a,comma:l,type:c,prefix:d="",suffix:u="",precision:h}=t,{trim:p}=t,g=h==null||isNaN(h),m;if(!c)m=Ss.g,p=!0;else if(c in Ss&&c in pd)m=g?pd[c]:Ss[c];else if(c in Ss)m=Ss[c];else if(c in pd)m=pd[c];else throw new Error(`The number formatter type is invalid: ${c}`);let f;return h==null||g?f=c?6:12:f=h,v=>{let y=m(v,f);return p&&(y=MJ(y)),l&&(y=DJ(y,l)),y=EJ(v,y,s),o&&o!=="#"&&(y=`${o}${y}`),o==="#"&&c==="x"&&(y=`0x${y}`),c==="s"&&(y=`${y}${_J(v)}`),(c==="%"||c==="p")&&(y=`${y}%`),a!=null&&!isNaN(a)&&(y=IJ(y,a,i??r,n)),y=`${d}${y}${u}`,y}}var CJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$€£¥₣₹#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,wJ=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,pd={b:e=>nv(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>nv(e).toString(8),x:e=>nv(e).toString(16),X:e=>pd.x(e).toUpperCase(),n:e=>pd.d(e),"%":e=>`${nv(e*100).toFixed(0)}`},Ss={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>Ss.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>Ss.f(e,t).toUpperCase(),g:(e,t)=>{if(e===0)return"0";let i=Math.abs(e),n=Math.floor(Math.log10(i));return n>=-4&&n<t?i.toFixed(t-1-n):i.toExponential(t-1)},G:(e,t)=>Ss.g(e,t).toUpperCase(),n:(e,t)=>Ss.g(e,t),p:(e,t)=>Ss.r(e*100,t),r:(e,t)=>{if(e===0)return"0";let i=Math.abs(e),s=Math.floor(Math.log10(i))-(t-1);if(s<=0)return i.toFixed(-s);let o=10**s;return(Math.round(i/o)*o).toFixed()},s:(e,t)=>{let i=o2(e);return Ss.r(e/10**i,t)},"%":(e,t)=>Ss.f(e*100,t)},n2=-24,s2=24,xJ={[n2]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xB5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[s2]:"Y"},SJ="\u2212";function nv(e){return Math.floor(Math.abs(e))}function MJ(e){return e.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function DJ(e,t){let i=e.indexOf(".");i<0&&(i=e.length);let n=e.substring(0,i).split(""),s=e.substring(i);for(let o=n.length-3;o>0;o-=3)n.splice(o,0,t);return`${n.join("")}${s}`}function _J(e){return xJ[o2(e)]}function o2(e){return Le(n2,e?Math.floor(Math.log10(Math.abs(e))/3)*3:0,s2)}function EJ(e,t,i=""){if(i==="(")return e>=0?t:`(${t})`;let n=i==="+"?"+":"";return`${e>=0?n:SJ}${t}`}function IJ(e,t,i=" ",n=">"){let s=e;if(n===">"||!n)s=s.padStart(t,i);else if(n==="<")s=s.padEnd(t,i);else if(n==="^"){let o=Math.max(0,t-s.length),r=Math.ceil(o/2),a=Math.floor(o/2);s=s.padStart(r+s.length,i),s=s.padEnd(a+s.length,i)}return s}var Wt=(e,t,i)=>({duration:t*i,timeInterval:e,step:i}),qh=[Wt(dd,da,1),Wt(dd,da,5),Wt(dd,da,15),Wt(dd,da,30),Wt(ud,Wi,1),Wt(ud,Wi,5),Wt(ud,Wi,15),Wt(ud,Wi,30),Wt(hd,bn,1),Wt(hd,bn,3),Wt(hd,bn,6),Wt(hd,bn,12),Wt(Tv,Is,1),Wt(Tv,Is,2),Wt(ip,cr,1),Wt(ip,cr,2),Wt(ip,cr,3),Wt(Rl,jh,1),Wt(Rl,jh,2),Wt(Rl,jh,3),Wt(Rl,jh,4),Wt(Rl,jh,6),Wt(dy,Md,1)],r2=[1,2,5,10];function TT(e,t){return Math.abs(Math.round(e)-e)<t}function oM(e,t,i,n,s,o){if(i<2)return[e,t];let r=gp(e,t,i,n,s);if(!Number.isFinite(r))return[];if(TT(e/r,1e-12)||(e=Math.ceil(e/r)*r),TT(t/r,1e-12)||(t=Math.floor(t/r)*r),o!=null&&o[0]!==0&&o[1]!==1){let a=t-e,l=e+a*o[0],c=t-a*(1-o[1]);return mp(l-l%r,c+c%r,r)}return mp(e,t,r)}function a2(e,t,i,n,s,o){let r=o??Math.abs(t-e)/Math.max(i,1),a=0;for(let h of qh){if(r<=h.duration)break;a++}if(a===0){let h=Math.max(gp(e,t,i,n,s),1);return bF.every(h)}else if(a===qh.length){let h=o==null?gp(e/Md,t/Md,i,n,s):1;return dy.every(h)}let l=qh[a-1],c=qh[a],{timeInterval:d,step:u}=r-l.duration<c.duration-r?l:c;return d.every(u)}function gp(e,t,i,n=0,s=1/0){if(e===t)return Le(1,n,s);if(i<1)return NaN;let o=Math.abs(t-e),r=10**Math.floor(Math.log10(o/i)),a=NaN,l=1/0,c=!1;for(let d of r2){let u=Math.ceil(o/(d*r)),h=u>=n&&u<=s;if(c&&!h)continue;let p=Math.abs(u-i);(l>p||c!==h)&&(c||(c=h),l=p,a=d)}return a*r}function LT(e){for(let t=e.length-1;t>=0;t-=1)if(e[t]!=="0")return t+1;return 0}function FT(e,t){let i=t2(t??",f");(i.precision==null||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...e.map(s=>{if(!Number.isFinite(s))return 0;let[o,r]=s.toExponential((i.type?6:12)-1).split(/[.e]/g);return(o!=="1"&&o!=="-1"?1:0)+LT(r)+1})):"f%".includes(i.type)&&(i.precision=Math.max(...e.map(s=>{if(!Number.isFinite(s)||s===0)return 0;let o=Math.floor(Math.log10(Math.abs(s))),r=i.type?6:12,a=s.toExponential(r-1).split(/[.e]/g)[1],l=LT(a);return Math.max(0,l-o)}))));let n=i2(i);return s=>n(Number(s))}function mp(e,t,i){if(!Number.isFinite(i)||i<=0)return[];let n=10**oy(i),s=Math.min(e,t),o=Math.max(e,t),r=[];for(let a=0;;a+=1){let l=Math.round((s+i*a)*n)/n;if(l>o)break;r.push(l)}return r}function fp(e,t){return e>=t?(V.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function RJ(e,t){let i=Math.abs(t-e),n=10**Math.floor(Math.log10(i)),s=1/0,o=[e,t];for(let r of r2){let a=r*n,l=Math.floor(e/a)*a,c=Math.ceil(t/a)*a,d=1-i/Math.abs(c-l);s>d&&(s=d,o=[l,c])}return o}function l2(e,t,i,n,s,o){o=Math.max(o,e/(s+1)),isNaN(i)&&(i=o),isNaN(n)&&(n=e),i>n&&(i===o?i=n:n=i);let r=Math.max(1,Math.floor(e/(t*i))),a=Math.min(r,Math.ceil(e/(t*n))),l=Le(a,Math.floor(s/t),r);return{minTickCount:a,maxTickCount:r,tickCount:l}}var c2=class extends ct{constructor(){super([],[0,1]),this.type="time"}toDomain(e){return new Date(e)}convert(e,t){return e instanceof Date||(e=new Date(e)),super.convert(e,t)}invert(e){return new Date(super.invert(e))}niceDomain(e,t=this.domain){if(t.length<2)return[];let i=4,[n,s]=t;for(let o=0;o<i;o++){let[r,a]=AJ(n,s,e);if(Xi(n)===Xi(r)&&Xi(s)===Xi(a))break;n=r,s=a}return[n,s]}ticks(e,t=this.domain,i=[0,1]){let{nice:n,interval:s,tickCount:o=ct.defaultTickCount,minTickCount:r,maxTickCount:a}=e;if(t.length<2)return[];let l=t.map(Xi),c=l[0],d=l[l.length-1];if(s!=null){let u=this.getPixelRange();return rM({start:c,stop:d,interval:s,availableRange:u,visibleRange:i})??PT({start:c,stop:d,tickCount:o,minTickCount:r,maxTickCount:a,visibleRange:i})}else{if(n&&o===2)return t;if(n&&o===1)return t.slice(0,1)}return PT({start:c,stop:d,tickCount:o,minTickCount:r,maxTickCount:a,visibleRange:i})}_tickFormatter({domain:e,ticks:t,specifier:i},n){return i!=null?Lp(i):jS(t,e,n)}tickFormatter(e){return this._tickFormatter(e)}datumFormatter(e){return this._tickFormatter(e,1)}};function PT({start:e,stop:t,tickCount:i,minTickCount:n,maxTickCount:s,visibleRange:o}){let r=a2(e,t,i,n,s);return r?r.range(new Date(e),new Date(t),{visibleRange:o}):[]}function rM({start:e,stop:t,interval:i,availableRange:n,visibleRange:s}){if(!i)return[];if(i instanceof Sd){let d=i.range(new Date(e),new Date(t),{visibleRange:s});return fp(d.length,n)?void 0:d}let o=Math.abs(i);if(fp(Math.abs(t-e)/o,n))return;let r=qh.findLast(d=>o%d.duration===0);if(r)return r.timeInterval.every(o/(r.duration/r.step)).range(new Date(e),new Date(t),{visibleRange:s});let a=new Date(Math.min(e,t)),l=new Date(Math.max(e,t)),c=[];for(;a<=l;)c.push(a),a=new Date(a),a.setMilliseconds(a.getMilliseconds()+o);return c}function AJ(e,t,i){let{interval:n}=i,s=Math.min(Xi(e),Xi(t)),o=Math.max(Xi(e),Xi(t)),r=e>t,a;if(n instanceof Sd)a=n;else{let l=typeof n=="number"?(o-s)/Math.max(n,1):i.tickCount??ct.defaultTickCount;a=a2(s,o,l,i.minTickCount,i.maxTickCount)}if(a){let l=a.range(new Date(s),new Date(o),{extend:!0}),c=r?[...l].reverse():l,d=c[0],u=c.at(-1);return[d,u]}else return[e,t]}var _o=class d2 extends Fp{constructor(){super(...arguments),this.type="ordinal-time",this._domain=[],this.isReversed=!1}static is(t){return t instanceof d2}set domain(t){t!==this._domain&&(this.invalid=!0,this._domain=t,this.isReversed=t.length>0&&t[0]>t[t.length-1],this.sortedTimestamps=void 0,this.precomputedSteps=void 0)}get domain(){return this._domain}toDomain(t){return new Date(t)}normalizeDomains(...t){let i=t.filter(s=>s.length>0).map(s=>{let o=sM(s);return o==null&&(s=cS(s.slice()),o=1),{domain:s,sortOrder:o}});if(i.length===0)return{domain:[],animatable:!1};if(i.length===1)return{domain:i[0].domain,animatable:!0};let n=i.flatMap(s=>s.domain);return n=cS(n),i.every(s=>s.sortOrder===-1)&&n.reverse(),{domain:n,animatable:!0}}ticks({interval:t,maxTickCount:i},n=this.domain,s=[0,1]){if(!n.length)return[];this.refresh();let{isReversed:o}=this;if(t==null)return kJ(n,i,o,s);let[r,a]=[n[0].valueOf(),n.at(-1).valueOf()],l=Math.min(r,a),c=Math.max(r,a),[d,u]=this.range,h=Math.abs(u-d),p=rM({start:l,stop:c,interval:t,availableRange:h,visibleRange:s})??[],g=-1;return p.filter(m=>{let f=this.findInterval(m.valueOf()),v=f===g;return g=f,!v})}getSortedTimestamps(){let{sortedTimestamps:t}=this;return t==null&&(t=this.domain.map(Xi),this.isReversed&&t.reverse(),this.sortedTimestamps=t),t}getPrecomputedSteps(){let{domain:t}=this,{precomputedSteps:i}=this,n=t.length<1e4?t.length:Math.ceil(t.length/16);if(i!=null||n<=1)return i;let s=this.getSortedTimestamps();i=new Int32Array(n);let o=s[0],a=s[s.length-1]-o,l=0,c=s.length-1;for(let d=0;d<i.length;d+=1)i[d]=this.findIntervalInRange(o+d/n*a,l,c);this.precomputedSteps=i}findIntervalInRange(t,i,n){let s=this.getSortedTimestamps();for(;i<=n;){let o=(i+n)/2|0;if(s[o]===t)return o;s[o]<t?i=o+1:n=o-1}return i}findInterval(t){let i=this.getPrecomputedSteps(),n,s;if(i==null)n=0,s=this.domain.length-1;else{let o=this.getSortedTimestamps(),r=o[0],a=o[o.length-1],l=Math.min((t-r)/(a-r)*i.length|0,i.length-1|0);n=i[l],s=l<i.length-2?i[l+1]:o.length-1}return this.findIntervalInRange(t,n,s)}tickFormatter({domain:t,ticks:i,specifier:n}){return n!=null?Lp(n):jS(i,t)}datumFormatter(t){return this.tickFormatter(t)}invert(t,i=!1){this.refresh();let{domain:n}=this;if(i){let o=this.invertNearestIndex(t-this.bandwidth/2);return o!=null?n[o]:void 0}return mX(0,n.length-1,o=>this.ordinalRange(o)>=t?n[o]:void 0)??n[0]}getIndex(t){let i=this.getSortedTimestamps(),n=Number(t);if(n<i[0])return;let s=this.findInterval(n);return this.isReversed&&(s=this.domain.length-s-1),s}};function kJ(e,t,i,n){let s=[],o=Math.ceil(e.length/t),r=Math.floor(o/2),a=Math.floor(n[0]*e.length),l=Math.ceil(n[1]*e.length);for(let c=a;c<l;c+=1){let d=i?e.length-1-c:c;(o<=0||(d+r)%o===0)&&s.push(e[c])}return i&&s.reverse(),s}var ai=class _l{constructor(t,i,n=!0){this.parentNode=t,this.autoCleanup=n,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=wt.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(ba,i)?()=>new i:i}static select(t,i,n=!0){return new _l(t,i,n)}static selectAll(t,i){let n=[],s=o=>{i(o)&&n.push(o);for(let r of o.children())s(r)};return s(t),n}static selectByClass(t,...i){return _l.selectAll(t,n=>i.some(s=>n instanceof s))}static selectByTag(t,i){return _l.selectAll(t,n=>n.tag===i)}createNode(t,i,n){let s=this.nodeFactory(t);return s.datum=t,i?.(s),n==null?this._nodes.push(s):this._nodes.splice(n,0,s),this.parentNode.appendChild(s),s}update(t,i,n){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage",t),n){let s=new Map(t.map((o,r)=>[n(o),[o,r]]));for(let[o,r]of this._nodesMap.entries())if(s.has(r)){let[a]=s.get(r);o.datum=a,this.garbageBin.delete(o),s.delete(r)}else this.garbageBin.add(o);for(let[o,[r,a]]of s.entries())this._nodesMap.set(this.createNode(r,i,a),o)}else{let s=Math.max(t.length,this.data.length);for(let o=0;o<s;o++)o>=t.length?this.garbageBin.add(this._nodes[o]):o>=this._nodes.length?this.createNode(t[o],i):(this._nodes[o].datum=t[o],this.garbageBin.delete(this._nodes[o]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),t.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}each(t){for(let i of this._nodes.entries())t(i[1],i[1].datum,i[0]);return this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){let i=this._nodes[t];yield{node:i,datum:i.datum,index:t}}}select(t){return _l.selectAll(this.parentNode,t)}selectByClass(t){return _l.selectByClass(this.parentNode,t)}selectByTag(t){return _l.selectByTag(this.parentNode,t)}nodes(){return this._nodes}at(t){return this._nodes.at(t)}get length(){return this._nodes.length}};function np(e,t,i,n){let s=e-i,o=t-n;return s*s+o*o}function sp(e,t,i,n,s,o,r){if(i===s&&n===o)return Math.min(r,np(e,t,i,n));let a=s-i,l=o-n,c=Math.max(0,Math.min(1,((e-i)*a+(t-n)*l)/(a*a+l*l))),d=i+c*a,u=n+c*l;return Math.min(r,np(e,t,d,u))}function TJ(e,t,i,n,s,o,r,a,l){a&&([r,o]=[o,r]);let c=Math.atan2(t-n,e-i);if(!ua(c,o,r)){let u=i+Math.cos(o)*s,h=n+Math.sin(o)*s,p=i+Math.cos(o)*s,g=n+Math.sin(o)*s;return Math.min(l,np(e,t,u,h),np(e,t,p,g))}let d=s-Math.sqrt(np(e,t,i,n));return Math.min(l,d*d)}var es=class extends Rs{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new ne(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){return this.x1===this.x2||this.y1===this.y2?this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(e,t):!1}distanceSquared(e,t){let{x1:i,y1:n,x2:s,y2:o}=this;return sp(e,t,i,n,s,o,1/0)}render(e){let{ctx:t,devicePixelRatio:i}=e,{x1:n,y1:s,x2:o,y2:r}=this;if(n===o){let{strokeWidth:a}=this,l=Math.round(n*i)/i+Math.trunc(a*i)%2/(i*2);n=l,o=l}else if(s===r){let{strokeWidth:a}=this,l=Math.round(s*i)/i+Math.trunc(a*i)%2/(i*2);s=l,r=l}t.beginPath(),t.moveTo(n,s),t.lineTo(o,r),this.fillStroke(t),this.fillShadow?.markClean(),super.render(e)}toSVG(){if(!this.visible)return;let e=Es("line");return e.setAttribute("x1",String(this.x1)),e.setAttribute("y1",String(this.y1)),e.setAttribute("x2",String(this.x2)),e.setAttribute("y2",String(this.y2)),this.applySvgStrokeAttributes(e),{elements:[e]}}};es.className="Line";es.defaultStyles=A(w({},Rs.defaultStyles),{fill:void 0,strokeWidth:1});b([te()],es.prototype,"x1",2);b([te()],es.prototype,"y1",2);b([te()],es.prototype,"x2",2);b([te()],es.prototype,"y2",2);var LJ=new Intl.NumberFormat("en-US",{maximumFractionDigits:2,useGrouping:!1}),FJ=new Intl.NumberFormat("en-US",{style:"percent"});function vr(e,t=2){return typeof e=="number"?h2(e,t):String(e??"")}function u2(e){return FJ.format(e)}function h2(e,t){return t===2?LJ.format(e):new Intl.NumberFormat("en-US",{maximumFractionDigits:t,useGrouping:!1}).format(e)}var to=class extends Rs{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new ne(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){let{ctx:t}=e,{x1:i,y1:n,x2:s,y2:o}=this;i=this.align(i),n=this.align(n),s=this.align(s),o=this.align(o);let{fill:r,opacity:a,isRange:l}=this;if(!!(l&&r)){let{fillOpacity:m}=this;this.applyFill(t),t.globalAlpha=a*m,t.beginPath(),t.moveTo(i,n),t.lineTo(s,n),t.lineTo(s,o),t.lineTo(i,o),t.closePath(),t.fill()}let{stroke:d,strokeWidth:u,startLine:h,endLine:p}=this;if(!!((h||p)&&d&&u)){let{strokeOpacity:m,lineDash:f,lineDashOffset:v,lineCap:y,lineJoin:C}=this;this.applyStroke(t),t.globalAlpha=a*m,t.lineWidth=u,f&&t.setLineDash(f),v&&(t.lineDashOffset=v),y&&(t.lineCap=y),C&&(t.lineJoin=C),t.beginPath(),h&&(t.moveTo(i,n),t.lineTo(s,n)),p&&(t.moveTo(s,o),t.lineTo(i,o)),t.stroke()}this.fillShadow?.markClean(),super.render(e)}};to.className="Range";to.defaultStyles=A(w({},Rs.defaultStyles),{strokeWidth:1});b([te()],to.prototype,"x1",2);b([te()],to.prototype,"y1",2);b([te()],to.prototype,"x2",2);b([te()],to.prototype,"y2",2);b([te()],to.prototype,"startLine",2);b([te()],to.prototype,"endLine",2);b([te()],to.prototype,"isRange",2);var Si=class extends ke{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return ri.toFontString(this)}};b([x(me)],Si.prototype,"enabled",2);b([x(rt,{optional:!0})],Si.prototype,"color",2);b([x(wr,{optional:!0})],Si.prototype,"fontStyle",2);b([x(xr,{optional:!0})],Si.prototype,"fontWeight",2);b([x($)],Si.prototype,"fontSize",2);b([x(B)],Si.prototype,"fontFamily",2);b([x(wn,{optional:!0})],Si.prototype,"formatter",2);function Fv(e){let{parallelFlipRotation:t=0,regularFlipRotation:i=0}=e,n=e.rotation?_t(mi(e.rotation)):0,s=!n&&t>=0&&t<=Math.PI?-1:1,o=!n&&i>=0&&i<=Math.PI?-1:1,r=0;return e.parallel?r=s*Math.PI/2:o===-1&&(r=Math.PI),{configuredRotation:n,defaultRotation:r,parallelFlipFlag:s,regularFlipFlag:o}}function PJ(e,t){return isNaN(e)?t?0:10:e}function OJ(e,t,i,n){return e&&!t?i*n===-1?"hanging":"bottom":"middle"}function OT(e,t,i,n,s){let o=t>0&&t<=Math.PI,r=i>0&&i<=Math.PI,a=o||r?-1:1;if(e)if(t||i){if(n*a===-1)return"end"}else return"center";else if(n*s===-1)return"end";return"start"}function NJ(e,t,i,n){let s=[];for(let{tickLabel:o,translationY:r}of e){if(!o)continue;let{width:a,height:l}=n.measureLines(o),c=new ne(t,r,a,l),d=new ne(t,r,0,0);i.transformBBox(d,c);let{x:u,y:h}=c;s.push({point:{x:u,y:h},label:{text:o,width:a,height:l}})}return s}function BJ(e){return e!=null&&Object.hasOwn(e,"toString")&&Tn(e.toString())}function zJ(e){return e!=null&&Object.hasOwn(e,"valueOf")&&nt(e.valueOf())}function yy(e){return nt(e)||kp(e)||zJ(e)}function NT(e,t){return e!=null&&(!t||yy(e))}function dS(e){return BJ(e)&&Object.hasOwn(e,"id")?e.id:e}var aM=e=>e==="value"?pt((t,i)=>i.target.type==="line",t=>t.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):pt((t,i)=>i.target.type==="range",t=>t.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),p2=(e,t,i,n,s)=>{let o=e==="line"&&t!==void 0,r=e==="range"&&i!==void 0;if(!o&&!r)return!0;let[a,l]=i??[t,void 0],c=ct.is(n)||_o.is(n),d=NT(a,c)&&!isNaN(n.convert(a)),u=NT(l,c)&&!isNaN(n.convert(l));if(o&&d||r&&d&&u)return s?.()??!0;let h=["Expecting crossLine"];return r?(d||h.push(`range start ${ep(a)}`),u||h.push(`${d?"":"and "}range end ${ep(l)}`)):h.push(`value ${ep(a)}`),h.push("to match the axis scale domain."),V.warnOnce(h.join(" ")),!1},VJ={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},"top-left":{xTranslationDirection:1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"bottom-right":{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:1,yTranslationDirection:0},"inside-right":{xTranslationDirection:-1,yTranslationDirection:0},"inside-top":{xTranslationDirection:0,yTranslationDirection:1},"inside-bottom":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-right":{xTranslationDirection:-1,yTranslationDirection:-1}},GJ={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},"top-left":{xTranslationDirection:-1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"bottom-right":{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:0,yTranslationDirection:1},"inside-right":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top":{xTranslationDirection:-1,yTranslationDirection:0},"inside-bottom":{xTranslationDirection:1,yTranslationDirection:0},"inside-top-left":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"inside-bottom-right":{xTranslationDirection:1,yTranslationDirection:-1}};function uS({yDirection:e,padding:t=0,position:i="top",bbox:n}){let s=e?VJ:GJ,{xTranslationDirection:o,yTranslationDirection:r}=s[i],a=o*(t+n.width/2),l=r*(t+n.height/2);return{xTranslation:a,yTranslation:l}}function g2({yDirection:e,bbox:t,padding:i=0,position:n="top"}){let s={};return n.startsWith("inside")||(n==="top"&&!e?s.top=i+t.height:n==="bottom"&&!e?s.bottom=i+t.height:n==="left"&&e?s.left=i+t.width:n==="right"&&e&&(s.right=i+t.width)),s}var Pv=({direction:e,xEnd:t,yStart:i,yEnd:n})=>e==="y"?{x:t/2,y:i}:{x:t,y:isNaN(n)?i:(i+n)/2},BT=({direction:e,xStart:t,xEnd:i,yStart:n,yEnd:s})=>e==="y"?{x:t,y:isNaN(s)?n:(n+s)/2}:{x:i/2,y:n},zT=({direction:e,xEnd:t,yStart:i,yEnd:n})=>e==="y"?{x:t,y:isNaN(n)?i:(i+n)/2}:{x:t/2,y:isNaN(n)?i:n},VT=({direction:e,xStart:t,xEnd:i,yStart:n,yEnd:s})=>e==="y"?{x:i/2,y:isNaN(s)?n:s}:{x:t,y:isNaN(s)?n:(n+s)/2},HJ=({xEnd:e,yStart:t,yEnd:i})=>({x:e/2,y:isNaN(i)?t:(t+i)/2}),GT=({direction:e,xStart:t,xEnd:i,yStart:n})=>e==="y"?{x:t/2,y:n}:{x:i,y:n},HT=({direction:e,xStart:t,yStart:i,yEnd:n})=>e==="y"?{x:t,y:isNaN(n)?i:n}:{x:t,y:i},jT=({direction:e,xEnd:t,yStart:i,yEnd:n})=>e==="y"?{x:t,y:i}:{x:t,y:isNaN(n)?i:n},WT=({direction:e,xStart:t,xEnd:i,yStart:n,yEnd:s})=>e==="y"?{x:i,y:isNaN(s)?n:s}:{x:t,y:isNaN(s)?n:s},m2={top:{c:Pv},bottom:{c:VT},left:{c:BT},right:{c:zT},"top-left":{c:GT},"top-right":{c:jT},"bottom-left":{c:HT},"bottom-right":{c:WT},inside:{c:HJ},"inside-left":{c:BT},"inside-right":{c:zT},"inside-top":{c:Pv},"inside-bottom":{c:VT},"inside-top-left":{c:GT},"inside-bottom-left":{c:HT},"inside-top-right":{c:jT},"inside-bottom-right":{c:WT}},jJ=xt(["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"],"crossLine label position"),Ts=class extends ke{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};b([x(me,{optional:!0})],Ts.prototype,"enabled",2);b([x(B,{optional:!0})],Ts.prototype,"text",2);b([x(wr,{optional:!0})],Ts.prototype,"fontStyle",2);b([x(xr,{optional:!0})],Ts.prototype,"fontWeight",2);b([x($)],Ts.prototype,"fontSize",2);b([x(B)],Ts.prototype,"fontFamily",2);b([x(Qe)],Ts.prototype,"padding",2);b([x(rt,{optional:!0})],Ts.prototype,"color",2);b([x(jJ,{optional:!0})],Ts.prototype,"position",2);b([x(Qe,{optional:!0})],Ts.prototype,"rotation",2);b([x(me,{optional:!0})],Ts.prototype,"parallel",2);var qn=(()=>{let e=class extends ke{constructor(){super(),this.id=ks(this),this.label=new Ts,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.rangeGroup=new _e({name:this.id}),this.lineGroup=new _e({name:this.id}),this.labelGroup=new _e({name:this.id}),this.crossLineRange=new to,this.crossLineLabel=new Dd,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1,this._isRange=void 0,this.lineGroup.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}update(t){let{enabled:i,data:n,type:s,value:o,range:r,scale:a}=this;if(!s||!a||!i||!t||!p2(s,o,r,a)||n.length===0){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=t,this.lineGroup.visible=t,this.labelGroup.visible=t,this.updateNodes();let{isRange:l}=this;l!==this._isRange&&(l?this.rangeGroup.appendChild(this.crossLineRange):this.lineGroup.appendChild(this.crossLineRange)),this._isRange=l}calculateLayout(t,i){if(!t)return;let{scale:n,gridLength:s,sideFlag:o,direction:r,label:{position:a="top"},clippedRange:l,strokeWidth:c=0}=this;if(this.data=[],!n)return;let d=n.bandwidth??0,u=n.step??0,h=(i?-1:1)*(n instanceof Fp?(u-d)/2:0),[p,g]=[0,o*s],[m,f]=this.getRange(),v=f===void 0&&_o.is(n)?d/2+h:0,[y,C]=[Number(n.convert(m,!0))-h+v,n.convert(f,!0)+d+h];y=iS(y,l),C=iS(C,l),[m,f]=[Number(n.convert(m))+v,n.convert(f)+d];let S=(m===y||f===C||y!==C)&&Math.abs(C-y)>0;if(S&&y>C&&([y,C]=[C,y],[m,f]=[f,m]),m-h>=y&&(m-=h),f+h<=C&&(f+=h),this.isRange=S,this.startLine=c>0&&m>=y&&m<=y+h,this.endLine=c>0&&f>=C-d-h&&f<=C,!S&&!this.startLine&&!this.endLine||(this.data=[y,C],!this.label.enabled))return;let{c:M=Pv}=m2[a]??{},{x:D,y:E}=M({direction:r,xStart:p,xEnd:g,yStart:y,yEnd:C});this.labelPoint={x:D,y:E}}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}updateRangeNode(){let{crossLineRange:t,sideFlag:i,gridLength:n,data:s,startLine:o,endLine:r,isRange:a,fill:l,fillOpacity:c,stroke:d,strokeWidth:u,lineDash:h}=this;t.x1=0,t.x2=i*n,t.y1=s[0],t.y2=s[1],t.startLine=o,t.endLine=r,t.isRange=a,t.fill=l,t.fillOpacity=c??1,t.stroke=d,t.strokeWidth=u??1,t.strokeOpacity=this.strokeOpacity??1,t.lineDash=h}updateLabel(){let{crossLineLabel:t,label:i}=this;i.text&&(t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.fill=i.color,t.text=i.text)}positionLabel(){let{crossLineLabel:t,labelPoint:{x:i=void 0,y:n=void 0}={},label:{parallel:s,rotation:o,position:r="top",padding:a=0},direction:l,parallelFlipRotation:c,regularFlipRotation:d}=this;if(i===void 0||n===void 0)return;let{defaultRotation:u,configuredRotation:h}=Fv({rotation:o,parallel:s,regularFlipRotation:d,parallelFlipRotation:c});t.rotation=u+h,t.textBaseline="middle",t.textAlign="center";let p=t.getBBox();if(!p)return;let g=l==="y",{xTranslation:m,yTranslation:f}=uS({yDirection:g,padding:a,position:r,bbox:p});t.translationX=i+m,t.translationY=n+f}getRange(){let{value:t,range:i,scale:n}=this,s=ct.is(n)||_o.is(n),o=i?.[0]??t,r=i?.[1];return!s&&r===void 0&&(r=o),s&&o===r&&(r=void 0),[o,r]}computeLabelBBox(){let{label:t}=this;if(!t.enabled)return;let i=new Dd;i.fontFamily=t.fontFamily,i.fontSize=t.fontSize,i.fontStyle=t.fontStyle,i.fontWeight=t.fontWeight,i.text=t.text;let{labelPoint:{x:n=void 0,y:s=void 0}={},label:{parallel:o,rotation:r,position:a="top",padding:l=0},direction:c,parallelFlipRotation:d,regularFlipRotation:u}=this;if(n===void 0||s===void 0)return;let{configuredRotation:h}=Fv({rotation:r,parallel:o,regularFlipRotation:u,parallelFlipRotation:d});i.rotation=h,i.textBaseline="middle",i.textAlign="center";let p=i.getBBox();if(!p)return;let g=c==="y",{xTranslation:m,yTranslation:f}=uS({yDirection:g,padding:l,position:a,bbox:p});return i.x=n+m,i.y=s+f,i.getBBox()}calculatePadding(t){let{isRange:i,startLine:n,endLine:s,direction:o,label:{padding:r=0,position:a="top"}}=this;if(!i&&!n&&!s)return;let l=this.computeLabelBBox();if(l?.x==null||l?.y==null)return;let c=g2({yDirection:o==="y",padding:r,position:a,bbox:l});t.left=Math.max(t.left??0,c.left??0),t.right=Math.max(t.right??0,c.right??0),t.top=Math.max(t.top??0,c.top??0),t.bottom=Math.max(t.bottom??0,c.bottom??0)}};return e.className="CrossLine",e})();b([x(me,{optional:!0})],qn.prototype,"enabled",2);b([x(xt(["range","line"],"a crossLine type"),{optional:!0})],qn.prototype,"type",2);b([x(ko(aM("range"),Np.restrict({length:2})),{optional:!0})],qn.prototype,"range",2);b([x(aM("value"),{optional:!0})],qn.prototype,"value",2);b([x(rt,{optional:!0})],qn.prototype,"fill",2);b([x(dt,{optional:!0})],qn.prototype,"fillOpacity",2);b([x(rt,{optional:!0})],qn.prototype,"stroke",2);b([x(Qe,{optional:!0})],qn.prototype,"strokeWidth",2);b([x(dt,{optional:!0})],qn.prototype,"strokeOpacity",2);b([x(To,{optional:!0})],qn.prototype,"lineDash",2);b([x(ee)],qn.prototype,"label",2);var f2=(e=>(e[e.CHART_BACKGROUND=0]="CHART_BACKGROUND",e[e.AXIS_GRID=1]="AXIS_GRID",e[e.AXIS=2]="AXIS",e[e.ZOOM_SELECTION=3]="ZOOM_SELECTION",e[e.SERIES_CROSSLINE_RANGE=4]="SERIES_CROSSLINE_RANGE",e[e.SERIES_LAYER=5]="SERIES_LAYER",e[e.AXIS_FOREGROUND=6]="AXIS_FOREGROUND",e[e.SERIES_CROSSHAIR=7]="SERIES_CROSSHAIR",e[e.SERIES_CROSSLINE_LINE=8]="SERIES_CROSSLINE_LINE",e[e.SERIES_ANNOTATION=9]="SERIES_ANNOTATION",e[e.CHART_ANNOTATION=10]="CHART_ANNOTATION",e[e.CHART_ANNOTATION_FOCUSED=11]="CHART_ANNOTATION_FOCUSED",e[e.STATUS_BAR=12]="STATUS_BAR",e[e.SERIES_LABEL=13]="SERIES_LABEL",e[e.LEGEND=14]="LEGEND",e[e.NAVIGATOR=15]="NAVIGATOR",e[e.FOREGROUND=16]="FOREGROUND",e))(f2||{}),WJ=["stroke","lineDash"],UJ=Cr(e=>ki(e)&&Object.keys(e).every(t=>WJ.includes(t)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),by=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};b([x(me)],by.prototype,"enabled",2);b([x($)],by.prototype,"width",2);b([x(UJ)],by.prototype,"style",2);function Sa(e,t=[void 0]){return fr((i,n,s)=>t.includes(s)?Bl(e)?e(s):e:s)}var v2=pt(e=>nt(e)&&e>0||e instanceof Sd,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Gl=class extends ke{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};b([x(v2,{optional:!0})],Gl.prototype,"step",2);b([x(Np,{optional:!0})],Gl.prototype,"values",2);b([x(OF),Sa(NaN)],Gl.prototype,"minSpacing",2);b([x(NF),Sa(NaN)],Gl.prototype,"maxSpacing",2);var Mi=class extends ke{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.spacing=5,this.minSpacing=NaN,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};b([x(me)],Mi.prototype,"enabled",2);b([x(wr,{optional:!0})],Mi.prototype,"fontStyle",2);b([x(xr,{optional:!0})],Mi.prototype,"fontWeight",2);b([x(Qe.restrict({min:1}))],Mi.prototype,"fontSize",2);b([x(B)],Mi.prototype,"fontFamily",2);b([x($)],Mi.prototype,"spacing",2);b([x(kd),Sa(NaN)],Mi.prototype,"minSpacing",2);b([x(rt,{optional:!0})],Mi.prototype,"color",2);b([x(Qe,{optional:!0})],Mi.prototype,"rotation",2);b([x(me)],Mi.prototype,"avoidCollisions",2);b([x(me)],Mi.prototype,"mirrored",2);b([x(me)],Mi.prototype,"parallel",2);b([x(wn,{optional:!0})],Mi.prototype,"itemStyler",2);b([x(wn,{optional:!0})],Mi.prototype,"formatter",2);b([x(B,{optional:!0})],Mi.prototype,"format",2);var Cy=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};b([x(me)],Cy.prototype,"enabled",2);b([x($)],Cy.prototype,"width",2);b([x(rt,{optional:!0})],Cy.prototype,"stroke",2);var Ld=class extends ke{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};b([x(me)],Ld.prototype,"enabled",2);b([x($)],Ld.prototype,"width",2);b([x($)],Ld.prototype,"size",2);b([x(rt,{optional:!0})],Ld.prototype,"stroke",2);var io=class extends ke{constructor(){super(...arguments),this.caption=new Ft,this.enabled=!1,this.spacing=Ft.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};b([x(me)],io.prototype,"enabled",2);b([x(B,{optional:!0})],io.prototype,"text",2);b([x($,{optional:!0})],io.prototype,"spacing",2);b([x(wr,{optional:!0})],io.prototype,"fontStyle",2);b([x(xr,{optional:!0})],io.prototype,"fontWeight",2);b([x($)],io.prototype,"fontSize",2);b([x(B)],io.prototype,"fontFamily",2);b([x(rt,{optional:!0})],io.prototype,"color",2);b([x(gy)],io.prototype,"wrapping",2);b([x(wn,{optional:!0})],io.prototype,"formatter",2);var y2=(e=>(e[e.TickAndDomain=0]="TickAndDomain",e[e.TicksOnly=1]="TicksOnly",e[e.Off=2]="Off",e))(y2||{});function Ov(e){let[t,i]=Ti(e.range),n=Math.floor(t),s=Math.ceil(i);return{min:n,max:s,visible:n!==s}}var hS=Math.PI*2,$J=hS/2;function YJ(e,t){return Math.abs(t-e)<$J?t:e>t?t+hS:t-hS}function b2(e){let t=(r,a)=>{let[l=e.min,c=e.max]=Ti(a??[]);return r<l||r>c};return{tick:{fromFn(r,a,l){let c=r.y1+r.translationY,d=r.opacity;return(l==="added"||t(r.datum.translationY,r.datum.range))&&(c=a.translationY,d=0),{y:0,translationY:c,opacity:d,phase:Zs[l]}},toFn(r,a,l){let c=a.translationY,d=1;return l==="removed"&&(d=0),{y:0,translationY:c,opacity:d,finish:{y:c,translationY:0}}},applyFn(r,a){r.setProperties(a),r.visible=!t(r.y)}},line:{fromFn(r,a){return A(w({},r.previousDatum??a),{phase:Zs.updated})},toFn(r,a){return w({},a)}},label:{fromFn(r,a,l){let c=r.previousDatum??a,d=c.x,u=c.y,h=c.rotationCenterX,p=Math.round(r.translationY),g=c.rotation,m=r.opacity;return l==="removed"||t(c.y,c.range)?g=a.rotation:(l==="added"||t(r.datum.y,r.datum.range))&&(p=Math.round(c.translationY),m=0,g=a.rotation),{x:d,y:u,rotationCenterX:h,translationY:p,rotation:g,opacity:m,phase:Zs[l]}},toFn(r,a,l){let c=a.x,d=a.y,u=a.rotationCenterX,h=Math.round(a.translationY),p=0,g=1;return l==="added"?p=a.rotation:l==="removed"?(g=0,p=a.rotation):p=YJ(r.previousDatum?.rotation??a.rotation,a.rotation),{x:c,y:d,rotationCenterX:u,translationY:h,rotation:p,opacity:g,finish:{rotation:a.rotation}}}},group:{fromFn(r,a){let{rotation:l,translationX:c,translationY:d}=r;return{rotation:l,translationX:c,translationY:d,phase:Zs.updated}},toFn(r,a){let{rotation:l,translationX:c,translationY:d}=a;return{rotation:l,translationX:c,translationY:d}}}}}function C2(){return(e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function lM(e){let{visible:t,min:i,max:n}=e;return(s,o)=>{let r=o.translationY,a=t&&r>=i&&r<=n;return{y:r,translationY:0,opacity:1,visible:a}}}function cM(){return(e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function w2(){return(e,t)=>w({},t)}var Nv=class extends Vl(es){},x2=(e=>(e[e.TickLines=0]="TickLines",e[e.AxisLine=1]="AxisLine",e[e.TickLabels=2]="TickLabels",e))(x2||{}),Hl=(()=>{let e=class S2{constructor(i,n){this.moduleCtx=i,this.scale=n,this.id=ks(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new Gl,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new $h({name:`${this.id}-axis`}),this.tickLineGroup=this.axisGroup.appendChild(new _e({name:`${this.id}-Axis-tick-lines`,zIndex:0})),this.tickLabelGroup=this.axisGroup.appendChild(new _e({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.labelGroup=new _e({name:`${this.id}-Labels`,zIndex:9}),this.gridGroup=new $h({name:`${this.id}-Axis-grid`,zIndex:1}),this.gridLineGroup=this.gridGroup.appendChild(new _e({name:`${this.id}-gridLines`})),this.crossLineRangeGroup=new $h({name:`${this.id}-CrossLines-Range`,zIndex:4}),this.crossLineLineGroup=new $h({name:`${this.id}-CrossLines-Line`,zIndex:8}),this.crossLineLabelGroup=new $h({name:`${this.id}-CrossLines-Label`,zIndex:13}),this.tickLineGroupSelection=ai.select(this.tickLineGroup,Nv,!1),this.tickLabelGroupSelection=ai.select(this.tickLabelGroup,Dd,!1),this.gridLineGroupSelection=ai.select(this.gridLineGroup,Nv,!1),this._crossLines=[],this.line=new Cy,this.tick=new Ld,this.gridLine=new by,this.label=this.createLabel(),this.defaultTickMinSpacing=S2.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,spacing:this.label.spacing,format:this.label.format}},this.axisContext=void 0,this.labelFormatter=void 0,this.datumFormatter=void 0,this.scaleFormatterParams=void 0,this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new io,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.animatable=!0,this._scaleNiceDomainInputDomain=void 0,this._scaleNiceDomainRangeExtent=NaN,this.moduleMap=new nM,this.range=this.scale.range.slice(),this.crossLines.forEach(s=>this.initCrossLine(s))}get type(){return this.constructor.type??""}get labelNodes(){return this.tickLabelGroupSelection.nodes()}set crossLines(i){let{CrossLineConstructor:n}=this.constructor;this._crossLines.forEach(s=>this.detachCrossLine(s)),this._crossLines=i.map(s=>{let o=new n;return o.set(s),o}),this._crossLines.forEach(s=>{this.attachCrossLine(s),this.initCrossLine(s)})}get crossLines(){return this._crossLines}resetAnimation(i){}attachCrossLine(i){this.crossLineRangeGroup.appendChild(i.rangeGroup),this.crossLineLineGroup.appendChild(i.lineGroup),this.crossLineLabelGroup.appendChild(i.labelGroup)}detachCrossLine(i){this.crossLineRangeGroup.removeChild(i.rangeGroup),this.crossLineLineGroup.removeChild(i.lineGroup),this.crossLineLabelGroup.removeChild(i.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(i=>i())}updateScale(){let{range:i,visibleRange:n,scale:s}=this,o=(i[1]-i[0])/(n[1]-n[0]),r=o*n[0],a=i[0]-r;s.range=[a,a+o],this.crossLines.forEach(l=>{l.clippedRange=[i[0],i[1]]})}setCrossLinesVisible(i){this.crossLineRangeGroup.visible=i,this.crossLineLineGroup.visible=i,this.crossLineLabelGroup.visible=i}attachAxis(i){i.gridNode.appendChild(this.gridGroup),i.axisNode.appendChild(this.axisGroup),i.labelNode.appendChild(this.labelGroup),i.crossLineRangeNode.appendChild(this.crossLineRangeGroup),i.crossLineLineNode.appendChild(this.crossLineLineGroup),i.crossLineLabelNode.appendChild(this.crossLineLabelGroup)}detachAxis(i){i.gridNode.removeChild(this.gridGroup),i.axisNode.removeChild(this.axisGroup),i.labelNode.removeChild(this.labelGroup),i.crossLineRangeNode.removeChild(this.crossLineRangeGroup),i.crossLineLineNode.removeChild(this.crossLineLineGroup),i.crossLineLabelNode.removeChild(this.crossLineLabelGroup)}attachLabel(i){this.labelGroup.append(i)}inRange(i,n=0){let[s,o]=Ti(this.range);return i>=s-n&&i<=o+n}defaultDatumFormatter(i,n){return vr(i,n+1)}defaultLabelFormatter(i,n){return vr(i,n)}onGridLengthChange(i,n){n^i&&this.onGridVisibilityChange(),this.crossLines.forEach(s=>this.initCrossLine(s))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new Mi}update(){this.updatePosition(),this.updateSelections(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled,this.updateLabels(),this.updateGridLines(),this.updateTickLines(),this.updateCrossLines()}getAxisLineCoordinates(){let[i,n]=Ti(this.range);return{x:0,y1:i,y2:n}}getLabelStyles(i,n){let{label:s}=this,o={color:s.color,spacing:s.spacing,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight},r;s.itemStyler&&(r=this.moduleCtx.callbackCache.call(s.itemStyler,w(w({},i),o)));let{color:a,fontFamily:l,fontSize:c,fontStyle:d,fontWeight:u,spacing:h}=He(r,n,o);return{fill:a,fontFamily:l,fontSize:c,fontStyle:d,fontWeight:u,spacing:h}}getTickSize(){return this.tick.enabled?this.tick.size:0}setTitleProps(i,n){let{title:s}=this;if(!s.enabled){i.enabled=!1,i.node.visible=!1;return}i.enabled=!0,i.color=s.color,i.fontFamily=s.fontFamily,i.fontSize=s.fontSize,i.fontStyle=s.fontStyle,i.fontWeight=s.fontWeight,i.wrapping=s.wrapping;let o=i.node,r=(s.spacing??0)+n.spacing,a=this.label.getSideFlag(),l=_t(this.rotation),c=a===-1&&l>Math.PI&&l<Math.PI*2?-1:1,d=c*a*Math.PI/2,u=c===1?"bottom":"top",{range:h}=this,p=Math.floor(c*a*(h[0]+h[1])/2),g=Math.floor(a===-1?c*-r:-r),{callbackCache:m}=this.moduleCtx,{formatter:f=y=>y.defaultValue}=s,v=m.call(f,this.getTitleFormatterParams());i.text=v,o.setProperties({visible:!0,text:v,textBaseline:u,x:p,y:g,rotation:d})}processData(){let{includeInvisibleDomains:i,boundSeries:n,direction:s}=this,r=(i?n:n.filter(a=>a.isEnabled())).map(a=>a.getDomain(s));this.setDomains(...r)}setDomains(...i){let n,s;i.length>0?{domain:n,animatable:s}=this.scale.normalizeDomains(...i):(n=[],s=!0),this.dataDomain=this.normaliseDataDomain(n),this.reverse&&this.dataDomain.domain.reverse(),this.animatable=s}calculateLayout(i){let{scale:n,label:s,visibleRange:o,nice:r}=this;this.updateScale();let a=xd(this.range),l=this.dataDomain.domain,c;o[0]===0&&o[1]===1?c=void 0:r?this._scaleNiceDomainInputDomain===l&&this._scaleNiceDomainRangeExtent===a?c=this.scale.domain:c=this.calculateTickLayout(l,0,[0,1]).niceDomain:c=l;let d;r?c==null?d=0:d=1:d=2;let{niceDomain:u,primaryTickCount:h,ticks:p,tickDomain:g,fractionDigits:m,bbox:f}=this.calculateTickLayout(c??l,d,o,i);this.scale.domain=u,this._scaleNiceDomainInputDomain=r?l:void 0,this._scaleNiceDomainRangeExtent=r?a:NaN;let v=s.format;this.labelFormatter=n.tickFormatter({domain:g,specifier:v,ticks:p,fractionDigits:m})??(E=>this.defaultLabelFormatter(E,m)),this.datumFormatter=n.datumFormatter({domain:g,specifier:v,ticks:p,fractionDigits:m})??(E=>this.defaultDatumFormatter(E,m)),this.scaleFormatterParams={domain:g,ticks:p,fractionDigits:m},this.layout.label={fractionDigits:m,spacing:this.label.spacing,format:this.label.format};let y=s.getSideFlag(),C=this.isAnySeriesActive(),{rotation:S,parallelFlipRotation:M,regularFlipRotation:D}=this.calculateRotations();return this.crossLines.forEach(E=>{var R;E.sideFlag=-y,E.direction=S===-Math.PI/2?"x":"y",E instanceof qn&&((R=E.label).parallel??(R.parallel=s.parallel)),E.parallelFlipRotation=M,E.regularFlipRotation=D,E.calculateLayout?.(C,this.reverse)}),{primaryTickCount:h,bbox:f}}getTransformBox(i){let n=new eo,{rotation:s,translationX:o,translationY:r}=this.getAxisTransform();return eo.updateTransformMatrix(n,1,1,s,o,r),n.transformBBox(i)}calculateRotations(){let i=mi(this.rotation),n=_t(i),s=_t(i-Math.PI/2);return{rotation:i,parallelFlipRotation:n,regularFlipRotation:s}}updateCrossLines(){let i=this.isAnySeriesActive();this.crossLines.forEach(n=>{n.update(i)})}updateTickLines(){let{tick:i,label:n}=this,s=n.getSideFlag();this.tickLineGroupSelection.each((o,r)=>{o.strokeWidth=r.tickWidth??i.width,o.stroke=r.tickStroke??i.stroke,o.x1=s*(r.tickSize??this.getTickSize()),o.x2=0})}getAxisTransform(){return{rotation:mi(this.rotation),translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){let{crossLineRangeGroup:i,crossLineLineGroup:n,crossLineLabelGroup:s,gridGroup:o,translation:r}=this,{rotation:a}=this.calculateRotations(),l=Math.floor(r.x),c=Math.floor(r.y);i.setProperties({rotation:a,translationX:l,translationY:c}),n.setProperties({rotation:a,translationX:l,translationY:c}),s.setProperties({rotation:a,translationX:l,translationY:c}),o.setProperties({rotation:a,translationX:l,translationY:c})}updateGridLines(){let i=this.label.getSideFlag(),{gridLine:{style:n,width:s},gridPadding:o,gridLength:r}=this;r===0||n.length===0||this.gridLineGroupSelection.each((a,l,c)=>{let{stroke:d,lineDash:u}=n[c%n.length];a.setProperties({x1:o,x2:-i*r+o,stroke:d,strokeWidth:s,lineDash:u})})}formatTick(i,n,s,o){let{labelFormatter:r,label:{formatter:a},moduleCtx:{callbackCache:l}}=this,c;return a?c=l.call(a,{value:i,index:n,fractionDigits:s}):o?c=o(i):r&&(c=r(i)),String(c??i)}formatDatum(i){let{label:{formatter:n},moduleCtx:{callbackCache:s},datumFormatter:o=this.labelFormatter}=this,r;return n?r=s.call(n,{value:i,index:NaN}):o?r=s.call(o,i):It(i)&&(r=i.filter(Boolean).join(" - ")),String(r??i)}getScaleValueFormatter(i){let{scaleFormatterParams:n}=this,s;try{i!=null&&n!=null&&(s=this.scale.tickFormatter(A(w({},n),{specifier:i})))}catch{V.warnOnce(`the format string ${i} is invalid, ignoring.`)}return s??(s=o=>this.formatDatum(o)),s}getBBox(){return this.axisGroup.getBBox()}initCrossLine(i){i.scale=this.scale,i.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(i=>this.includeInvisibleDomains||i.isEnabled())}clipTickLines(i,n,s,o){this.tickLineGroup.setClipRect(new ne(i,n,s,o))}clipGrid(i,n,s,o){this.gridGroup.setClipRect(new ne(i,n,s,o))}getTitleFormatterParams(){let{direction:i}=this,n=[];for(let s of this.boundSeries){let o=s.getKeys(i),r=s.getNames(i);for(let a=0;a<o.length;a++)n.push({key:o[a],name:r[a]})}return{direction:i,boundSeries:n,defaultValue:this.title?.text}}normaliseDataDomain(i){return{domain:[...i],clipped:!1}}getLayoutState(){return w({id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),A(w({},this.moduleCtx),{parent:this.axisContext})}createAxisContext(){let{scale:i}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:ct.is(i)||_o.is(i),getCanvasBounds:()=>Kt.toCanvas(this.axisGroup),seriesKeyProperties:()=>this.boundSeries.reduce((n,s)=>(s.getKeyProperties(this.direction).forEach(r=>n.add(r)),n),new Set),seriesIds:()=>this.boundSeries.map(n=>n.id),scaleValueFormatter:n=>this.getScaleValueFormatter(n),scaleInvert:n=>i.invert(n,!0),scaleInvertNearest:n=>i.invert(n,!0),attachLabel:n=>this.attachLabel(n),inRange:(n,s)=>this.inRange(n,s)}}isReversed(){return this.reverse}};return e.defaultTickMinSpacing=50,e.CrossLineConstructor=qn,e})();b([x(me)],Hl.prototype,"nice",2);b([x(me)],Hl.prototype,"reverse",2);b([x(LF)],Hl.prototype,"keys",2);b([x(ee)],Hl.prototype,"interval",2);b([x(ee)],Hl.prototype,"title",2);b([xa((e,t,i)=>e.onGridLengthChange(t,i))],Hl.prototype,"gridLength",2);var dM=Hl;function KJ(e,t,i,n,s,o){if(e.size===0)return!1;let r=e.x,a=e.y;t!=null&&(r-=(t.x-.5)*e.size,a-=(t.y-.5)*e.size);let l=r;r<i?l=i:r>i+s&&(l=i+s);let c=a;a<n?c=n:a>n+o&&(c=n+o);let d=r-l,u=a-c;return Math.sqrt(d*d+u*u)<=e.size*.5}function M2(e,t,i,n,s){let o=e.x+e.width>t&&e.x<t+n,r=e.y+e.height>i&&e.y<i+s;return o&&r}function ZJ(e,t,i,n,s){return t+n<e.x+e.width&&t>e.x&&i>e.y&&i+s<e.y+e.height}function qJ(e){return e!=null&&typeof e.point=="object"&&typeof e.label=="object"}var XJ={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function QJ(e,t,i=5){let n=new Map,s=[],o=new Map([...e.entries()].map(([a,l])=>[a,l.toSorted((c,d)=>d.point.size-c.point.size)])),r=[...o.values()].flat();for(let[a,l]of o.entries()){let c=[];if(l[0]?.label){for(let d=0,u=l.length;d<u;d++){let h=l[d],{point:p,label:g,anchor:m}=h,{text:f,width:v,height:y}=g,C=p.size*.5,S=0,M=0;if(C>0&&h.placement!=null){let N=XJ[h.placement];S=(v*.5+C+i)*N.x,M=(y*.5+C+i)*N.y}let D=p.x-v*.5+S-((m?.x??.5)-.5)*p.size,E=p.y-y*.5+M-((m?.y??.5)-.5)*p.size;if(!(!t||ZJ(t,D,E,v,y))||r.some(N=>KJ(N.point,N.anchor,D,E,v,y))||s.some(N=>M2(N,D,E,v,y)))continue;let F={index:d,text:f,x:D,y:E,width:v,height:y,datum:h};c.push(F),s.push(F)}n.set(a,c)}}return n}function JJ(e,t=0){let i=[];for(let n=0;n<e.length;n++){let s=e[n],{point:{x:o,y:r},label:{text:a}}=s,{width:l,height:c}=s.label;if(l+=t,c+=t,i.some(d=>M2(d,o,r,l,c)))return!0;i.push({index:n,text:a,x:o,y:r,width:l,height:c,datum:s})}return!1}function eee(e,t,i){let[n,s]=Ti(e);n=tee(Math.floor(n),s,t);let o=nee(n,s,t),r=t-1;s=n+r*o;let a=i?[s,n]:[n,s],l=iee(n,o,t);return{domain:a,ticks:l}}function tee(e,t,i){let n=Math.abs(t-e)/(i-1),s=Math.floor(Math.log10(n)),o=Math.pow(10,s);return Math.floor(e/o)*o}function iee(e,t,i){let n=Math.floor(Math.log10(t)),s=t>0&&t<1?Math.abs(n):0,o=Math.pow(10,s),r=[];for(let a=0;a<i;a++){let l=e+t*a;r[a]=Math.round(l*o)/o}return r}function nee(e,t,i){let n=i-1,s=(t-e)/n;return see(s)}function see(e){let t=Math.floor(Math.log10(e)),i=Math.pow(10,t),n=e/i*10;return n>0&&n<=1?i/10:n>1&&n<=2?2*i/10:n>1&&n<=5?5*i/10:n>5&&n<=10?10*i/10:n>10&&n<=20?20*i/10:n>20&&n<=40?40*i/10:n>40&&n<=50?50*i/10:n>50&&n<=100?100*i/10:n}function uM(){let e=new Map;return t=>{let i=e.get(t);return i?(e.set(t,i+1),`${t}_${i}`):(e.set(t,1),t)}}var D2=class{constructor(e){this.axis=e}estimateTickCount(e,t,i){return l2(xd(this.axis.range),xd(e),t,i,ct.defaultTickCount,this.axis.defaultTickMinSpacing)}filterTicks(e,t){let{minSpacing:i,maxSpacing:n}=this.axis.interval,o=!isNaN(i)||!isNaN(n)?Math.ceil(e.length/t):2,r=e.length%o?-1:0;return e.filter((a,l)=>(l+r)%o===0)}generateTicks({domain:e,primaryTickCount:t,visibleRange:i,niceMode:n,parallelFlipRotation:s,regularFlipRotation:o,labelX:r,sideFlag:a}){let{scale:l,label:c,interval:{minSpacing:d,maxSpacing:u}}=this.axis,{parallel:h,rotation:p,fontFamily:g,fontSize:m,fontStyle:f,fontWeight:v}=c,y=t!==void 0,{defaultRotation:C,configuredRotation:S,parallelFlipFlag:M,regularFlipFlag:D}=Fv({rotation:p,parallel:h,regularFlipRotation:o,parallelFlipRotation:s}),E=S+C,R=new eo,{maxTickCount:I}=this.estimateTickCount(i,d,u),F=!(ct.is(l)||_o.is(l))||isNaN(I)?10:I,N=OT(h,S,0,a,D),q=OJ(h,S,a,M),pe=ri.toFontString({fontFamily:g,fontSize:m,fontStyle:f,fontWeight:v}),fe=Sr.getMeasurer({font:pe}),oe={fontFamily:g,fontSize:m,fontStyle:f,fontWeight:v,textBaseline:q,textAlign:N},be=c.enabled&&c.avoidCollisions,xe=({ticks:Me},Ve)=>{if(!be)return!1;let ce=S!==0||Ve!==0,de=E+Ve,H=PJ(c.minSpacing,ce);eo.updateTransformMatrix(R,1,1,de,0,0);let se=NJ(Me,r,R,fe);return JJ(se,H)},re={tickDomain:[],ticks:[],rawTicks:[],fractionDigits:0,niceDomain:void 0},ve=0,X=0,le=!0,ae=!1;for(;!ae&&le&&ve<=F;){X=0;for(let Me of this.getTickStrategies({domain:e,niceMode:n,secondaryAxis:y,index:ve}))({tickData:re,index:ve,autoRotation:X,terminate:ae}=Me({index:ve,tickData:re,textProps:oe,terminate:ae,primaryTickCount:t,visibleRange:i,get labelOverlap(){return xe(re,X)}}));le=xe(re,X)}N=OT(h,S,X,a,D);let Ee=C+S+X;return!y&&re.rawTicks.length>0&&(t=re.rawTicks.length),{tickData:re,primaryTickCount:t,combinedRotation:Ee,textBaseline:q,textAlign:N}}getTickStrategies({domain:e,niceMode:t,index:i,secondaryAxis:n}){let{scale:s,label:o,interval:r}=this.axis,{minSpacing:a}=r,l=ct.is(s)||_o.is(s),c=o.enabled&&o.avoidCollisions,d=!l&&i!==0&&c,u=o.autoRotate===!0&&o.rotation===void 0,h=[],p;r.values?p=3:n?p=1:d?p=2:p=0;let g=({index:m,tickData:f,primaryTickCount:v,visibleRange:y,terminate:C})=>this.createTickData(e,t,y,v,p,m,f,C);if(h.push(g),!l&&!isNaN(a)){let m=({index:f,tickData:v,primaryTickCount:y,visibleRange:C,terminate:S})=>this.createTickData(e,t,C,y,2,f,v,S);h.push(m)}if(c&&u){let m=({index:f,tickData:v,labelOverlap:y,terminate:C})=>({index:f,tickData:v,autoRotation:y?_t(mi(o.autoRotateAngle??0)):0,terminate:C});h.push(m)}return h}createTickData(e,t,i,n,s,o,r,a){let{scale:l,interval:c}=this.axis,{step:d,values:u,minSpacing:h,maxSpacing:p}=c,{maxTickCount:g,minTickCount:m,tickCount:f}=this.estimateTickCount(i,h,p),v=ct.is(l)||_o.is(l),y=!v||isNaN(g)?10:g,C=M=>v?Math.max(f-M,m):g,S=d==null&&u==null&&C(o)>m&&(v||s===2);for(;o<=y;){let M=r.rawTicks;if(r=this.getTicks({domain:e,niceMode:t,visibleRange:i,tickGenerationType:s,previousTicks:M,minTickCount:m,maxTickCount:g,primaryTickCount:n,tickCount:C(o)}),o++,!S||!Do(r.rawTicks,M))break}return a||(a=d!=null||u!=null),{tickData:r,index:o,autoRotation:0,terminate:a}}getTicks({domain:e,niceMode:t,visibleRange:i,tickGenerationType:n,previousTicks:s,tickCount:o,minTickCount:r,maxTickCount:a,primaryTickCount:l}){let{axis:c}=this,{label:d,range:u,scale:h,interval:p}=c,g=uM(),m={nice:t===0,interval:p.step,tickCount:o,minTickCount:r,maxTickCount:a},f=A(w({},m),{nice:t===0||t===1}),v=t===0?h.niceDomain(m,e):e,y=v,C;switch(n){case 3:if(y=p.values,C=p.values,ct.is(h)){let[T,F]=Ti(v.map(Number));C=C.filter(N=>Number(N)>=T&&Number(N)<=F).sort((N,q)=>Number(N)-Number(q))}break;case 1:if(ct.is(h)){let T=eee(e.map(Number),l??0,c.reverse);C=T.ticks,v=T.domain.map(F=>h.toDomain(F))}else C=h.ticks(f,v,i)??[];break;case 2:C=this.filterTicks(s,o);break;default:C=h.ticks(f,v,i)??[]}let S=C.reduce((T,F)=>Math.max(T,typeof F=="number"?oy(F):0),0),M={domain:y,ticks:C,fractionDigits:S,specifier:d.format},D=h.tickFormatter(M),E=h.domain;h.domain=v;let R=(h.bandwidth??0)/2,I=[];for(let T=0;T<C.length;T++){let F=C[T],N=h.convert(F)+R;if(u.length>0&&!c.inRange(N,.001))continue;let q=d.enabled?c.formatTick(F,T,S,D):"";I.push({tick:F,tickId:g(q),tickLabel:q,translationY:Math.floor(N)})}return h.domain=E,{tickDomain:y,rawTicks:C,fractionDigits:S,ticks:I,niceDomain:v}}},hM=class extends Mi{constructor(){super(...arguments),this.autoRotateAngle=335}};b([x(me,{optional:!0})],hM.prototype,"autoRotate",2);b([x(Qe)],hM.prototype,"autoRotateAngle",2);var pM=class _2 extends dM{constructor(t,i){super(t,i),this.lineNode=this.axisGroup.appendChild(new Nv({name:`${this.id}-Axis-line`,zIndex:1})),this.tempText=new Dd,this.tempCaption=new Ft,this.tickGenerator=new D2(this),this.generatedTicks=void 0,this.animationManager=t.animationManager,this.animationState=new Gp("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:s=>this.animateReadyUpdate(s),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.axisGroup.appendChild(this.title.caption.node);let n;this.destroyFns.push(t.layoutManager.addListener("layout:complete",s=>{let o=[s.chart.width,s.chart.height];n!=null&&!Do(o,n)&&this.animationState.transition("resize"),n=o}),this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}static is(t){return t instanceof _2}resetAnimation(t){t==="initial"&&this.animationState.transition("reset")}get direction(){return this.position==="top"||this.position==="bottom"?"x":"y"}createAxisContext(){return A(w({},super.createAxisContext()),{position:this.position})}createLabel(){return new hM}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}calculateLayout(t){return this.updateDirection(),super.calculateLayout(t)}calculateTickLayout(t,i,n,s){let o=this.label.getSideFlag(),{parallelFlipRotation:r,regularFlipRotation:a}=this.calculateRotations(),l=o*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),c=this.tickGenerator.generateTicks({domain:t,niceMode:i,visibleRange:n,primaryTickCount:s,parallelFlipRotation:r,regularFlipRotation:a,labelX:l,sideFlag:o}),{tickData:d,primaryTickCount:u=s}=c,{ticks:h,tickDomain:p,rawTicks:g,fractionDigits:m,niceDomain:f=t}=d,v=h.map(C=>this.getTickLabelProps(C,c)),y=this.tickBBox(h,v);return this.generatedTicks={ticks:h,labels:v},{ticks:g,tickDomain:p,niceDomain:f,primaryTickCount:u,fractionDigits:m,bbox:y}}update(){this.updateDirection();let t=Array.from(this.tickLabelGroupSelection.nodes(),o=>o.datum.tickId);if(super.update(),this.animatable||this.moduleCtx.animationManager.skipCurrentBatch(),this.generatedTicks){let{ticks:o}=this.generatedTicks;if(this.animationManager.isSkipped())this.resetSelectionNodes();else{let r=o.map(l=>l.tickId),a=fX(t,r);this.animationState.transition("update",a)}}let{enabled:i,stroke:n,width:s}=this.line;this.lineNode.setProperties({stroke:n,strokeWidth:i?s:0}),this.updateTitle(!this.generatedTicks?.ticks.length)}updatePosition(){super.updatePosition(),this.axisGroup.datum=this.getAxisTransform()}tickBBox(t,i){let n=this.label.getSideFlag(),s=[],{x:o,y1:r,y2:a}=this.getAxisLineCoordinates(),l=new ne(o+Math.min(n*this.seriesAreaPadding,0),r,this.seriesAreaPadding,a-r);if(s.push(l),this.tick.enabled)for(let u of t){let{x1:h,x2:p,y:g}=this.getTickLineCoordinates(u),m=new ne(h,g,p-h,0);s.push(m)}let{tempText:c}=this;if(this.label.enabled)for(let u of i){if(!u.visible)continue;c.setProperties(A(w({},u),{translationY:Math.round(u.translationY)}));let h=c.getBBox();h&&s.push(h)}if(this.title?.enabled){let u=ne.merge(s).width;this.setTitleProps(this.tempCaption,{spacing:u});let h=this.tempCaption.node.getBBox();h&&s.push(h)}let d=ne.merge(s);return this.getTransformBox(d)}getTickLabelProps(t,i){let{combinedRotation:n,textBaseline:s,textAlign:o}=i,{range:r}=this.scale,a=t.tickLabel,c=this.label.getSideFlag()*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),d=a!==""&&a!=null;return A(w({},this.getLabelStyles({value:t.tickLabel})),{tickId:t.tickId,rotation:n,rotationCenterX:c,translationY:t.translationY,text:a,textAlign:o,textBaseline:s,visible:d,x:c,y:0,range:r})}getTickLineCoordinates(t){let n=this.label.getSideFlag()*this.getTickSize(),s=Math.min(0,n),o=s+Math.abs(n),r=t.translationY;return{x1:s,x2:o,y:r}}updateSelections(){if(!this.generatedTicks)return;let t=this.getAxisLineCoordinates(),{ticks:i,labels:n}=this.generatedTicks,s=o=>o.tickId;this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?i:[],void 0,s),this.tickLineGroupSelection.update(i,void 0,s),this.tickLabelGroupSelection.update(n,void 0,s)}updateTitle(t,i){let{title:n,tickLineGroup:s,tickLabelGroup:o,lineNode:r}=this;n.enabled&&!t&&i==null&&(i=_e.computeChildrenBBox([s,o,r]).width+(o.visible?0:this.seriesAreaPadding)),i??(i=0),this.setTitleProps(n.caption,{spacing:i})}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((t,i)=>{t.fill=i.fill,t.fontFamily=i.fontFamily,t.fontSize=i.fontSize,t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.text=i.text,t.textBaseline=i.textBaseline,t.textAlign=i.textAlign??"center"})}animateReadyUpdate(t){let{animationManager:i}=this.moduleCtx,n=Ov(this),s=b2(n);$t(this.id,"axis-group",i,[this.axisGroup],s.group),$t(this.id,"line",i,[this.lineNode],s.line),$t(this.id,"line-paths",i,[this.gridLineGroupSelection,this.tickLineGroupSelection],s.tick,(o,r)=>r.tickId,t),$t(this.id,"tick-labels",i,[this.tickLabelGroupSelection],s.label,(o,r)=>r.tickId,t)}resetSelectionNodes(){let t=Ov(this);Ai([this.axisGroup],C2()),Ai([this.gridLineGroupSelection,this.tickLineGroupSelection],lM(t)),Ai([this.tickLabelGroupSelection],cM()),Ai([this.lineNode],w2())}};b([x($,{optional:!0})],pM.prototype,"thickness",2);b([x(YS)],pM.prototype,"position",2);var Hp=pM,wy=(()=>{let e=class E2 extends Hp{constructor(i,n=new Pp){super(i,n),this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}static is(i){return i instanceof E2}normaliseDataDomain(i){return{domain:i,clipped:!1}}updateScale(){super.updateScale();let{paddingInner:i,paddingOuter:n}=this;if(!nt(i)||!nt(n)){let s=this.reduceBandScalePadding();i??(i=s.inner),n??(n=s.outer)}this.scale.paddingInner=i??0,this.scale.paddingOuter=n??0}reduceBandScalePadding(){return this.boundSeries.reduce((i,n)=>{let s=n.getBandScalePadding?.();return s&&(i.inner>s.inner&&(i.inner=s.inner),i.outer<s.outer&&(i.outer=s.outer)),i},{inner:1/0,outer:-1/0})}};return e.className="CategoryAxis",e.type="category",e})();b([x(dt)],wy.prototype,"groupPaddingInner",2);b([x(dt,{optional:!0})],wy.prototype,"paddingInner",2);b([x(dt,{optional:!0})],wy.prototype,"paddingOuter",2);var Fd=wy,xy=class{constructor(){this.destroyFns=[]}destroy(){for(let e of this.destroyFns)e()}},oee=class{constructor(){this.modules=[],this.dependencies=new Map,this.modulesByOptionKey=new Map}register(...e){for(let t of e){this.registerDependencies(t);let i=this.modules.find(n=>t.type===n.type&&("optionsKey"in t&&"optionsKey"in n?t.optionsKey===n.optionsKey:!0)&&t.identifier===n.identifier);if(i){if(t.packageType==="enterprise"&&i.packageType==="community"){let n=this.modules.indexOf(i);this.modules.splice(n,1,t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}else this.modules.push(t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}hasEnterpriseModules(){return this.modules.some(e=>e.packageType==="enterprise")}*byType(...e){let t=new Set,i=this.modules.filter(o=>e.includes(o.type)),n=o=>{let r=this.dependencies.get(o);return r?.flatMap(n).concat(r)??[]},s=[];for(let o of i){let r="optionsKey"in o?o.optionsKey:o.contextKey;if(!t.has(r)){for(let a of n(r)){if(t.has(a))continue;let l=this.modulesByOptionKey.get(a);if(!l){s.push(a);continue}e.includes(l.type)&&(yield l,t.add(a))}yield o,t.add(r)}}if(s.length>0)throw new Error(`Could not resolve module dependencies: ${s}`)}registerDependencies(e){if(e.dependencies==null||e.dependencies.length===0)return;let t="optionsKey"in e?e.optionsKey:e.contextKey;this.dependencies.set(t,e.dependencies)}},Eo=new oee,UT=class{constructor(){this.queue=[]}await(e=50){return new Promise(t=>{let i=()=>{clearTimeout(s),t(!0)},s=setTimeout(()=>{let o=this.queue.indexOf(i);o<0||(this.queue.splice(o,1),t(!1))},e);this.queue.push(i)})}notify(){this.queue.splice(0).forEach(e=>e())}};function ree(){return new Promise(e=>{setTimeout(e,0)})}function Bv(e,t){e&&(t=ty.normalize(t),t.width==null?e.style.removeProperty("width"):e.style.width=`${t.width}px`,t.height==null?e.style.removeProperty("height"):e.style.height=`${t.height}px`,t.x==null?e.style.removeProperty("left"):e.style.left=`${t.x}px`,t.y==null?e.style.removeProperty("top"):e.style.top=`${t.y}px`)}function I2(e){let t=parseFloat(e.style.width)||e.offsetWidth,i=parseFloat(e.style.height)||e.offsetHeight,n=parseFloat(e.style.left)||e.offsetLeft,s=parseFloat(e.style.top)||e.offsetTop;return{x:n,y:s,width:t,height:i}}function aee(e){if(e.focus({preventScroll:!0}),e.lastChild?.textContent==null)return;let t=mr().createRange();t.setStart(e.lastChild,e.lastChild.textContent.length),t.setEnd(e.lastChild,e.lastChild.textContent.length);let i=Et().getSelection();i?.removeAllRanges(),i?.addRange(t)}var lee=0;function cee(e){return`${e??"ag-charts-element"}-${lee++}`}function R2(){let e=Et("navigator");if("scheduling"in e){let t=e.scheduling;if("isInputPending"in t)return t.isInputPending({includeContinuous:!0})}return!1}function Sy(e){return`ag-charts-icon ag-charts-icon-${e}`}var pS="class-instance";function yr(e,t,i){if(It(t)){if(!It(e)||e.length!==t.length||t.some((n,s)=>yr(e[s],n)!=null))return t}else if(Ji(t)){if(!Ji(e))return t;let n={},s=new Set([...Object.keys(e),...Object.keys(t)]);for(let o of s)if(!(e[o]===t[o]||i?.includes(o)))if(typeof e[o]==typeof t[o]){let r=yr(e[o],t[o]);r!==null&&(n[o]=r)}else n[o]=t[o];return Object.keys(n).length?n:null}else if(e!==t)return t;return null}function A2(e,t){for(let i of Object.keys(e))if(e[i]!==t?.[i])return!1;return!0}function pi(e,t){return It(e)?e.map(i=>pi(i,t)):Ji(e)?dee(e,t):e instanceof Map?new Map(pi(Array.from(e))):gM(e)}function dee(e,t){let i={};for(let n of Object.keys(e))i[n]=t?.has(n)?gM(e[n]):pi(e[n],t);return i}function gM(e){return It(e)?e.slice(0):Ji(e)?w({},e):Rd(e)?new Date(e):CX(e)?new RegExp(e.source,e.flags):e}function dr(e,t,i,n,s,o){if(It(e)){o=t(e,n,s,o);let r=0;for(let a of e)o=dr(a,t,i,n?.[r],s,o),r++}else if(Ji(e)){o=t(e,n,s,o);for(let r of Object.keys(e)){if(i?.has(r))continue;let a=e[r];o=dr(a,t,i,n?.[r],s,o)}}return o}function op(e,t,i={}){let{path:n,matcherPath:s=n?.replace(/(\[[0-9+]+])/i,"[]"),skip:o=[]}=i;if(e==null)throw new Error(`AG Charts - target is uninitialised: ${n??"<root>"}`);if(t==null)return e;if(Ro(e))return e.set(t);let r=e,a=Ax(e);for(let l of Object.keys(t)){if(VS.has(l))continue;let c=`${s?s+".":""}${l}`;if(o.includes(c))continue;let d=t[l],u=`${n?n+".":""}${l}`,h=r.constructor,p=r[l];try{let g=Ax(p),m=Ax(d);if(a===pS&&!(l in e)){if(d===void 0)continue;V.warn(`unable to set [${u}] in ${h?.name} - property is unknown`);continue}if(g!=null&&m!=null&&m!==g&&(g!==pS||m!=="object")){V.warn(`unable to set [${u}] in ${h?.name} - can't apply type of [${m}], allowed types are: [${g}]`);continue}if(Ro(p))r[l].set(d);else if(m==="object"){if(p==null){V.warn(`unable to set [${u}] in ${h?.name} - property is unknown`);continue}op(p,d,A(w({},i),{path:u,matcherPath:c}))}else r[l]=d}catch(g){V.warn(`unable to set [${u}] in [${h?.name}]; nested error is: ${g.message}`)}}return e}function Ax(e){return e==null?null:wX(e)||Rd(e)?"primitive":It(e)?"array":ki(e)?Ji(e)?"object":pS:Bl(e)?"function":"primitive"}function k2(e,t,i){return gS(e,t,e,i)}function gS(e,t,i,n,s=[],o={}){if(It(e)){$T(e,t,i,s,o);let r=0;for(let a of e)gS(a,t,i,n,[...s,`${r}`],o),r++}else if(Ji(e)){$T(e,t,i,s,o);for(let r of Object.keys(e)){if(n?.has(r))continue;let a=e[r];gS(a,t,i,n,[...s,r],o)}}return o}function $T(e,t,i,n,s){if(It(e))for(let o=0;o<e.length;o++)e[o]=YT(e[o],t,i,[...n,`${o}`],s);else for(let[o,r]of Object.entries(e))e[o]=YT(r,t,i,[...n,o],s)}function YT(e,t,i,n,s){let{operation:o,values:r}=mM(e);return o?(s[n.join(".")]=e,L2(o,r,t,i,n,new Set)):e}var T2=(e=>(e.Ref="$ref",e.Path="$path",e.If="$if",e.Eq="$eq",e.Not="$not",e.Or="$or",e.And="$and",e.Mul="$mul",e.Round="$round",e.Rem="$rem",e.Mix="$mix",e.ForegroundBackgroundMix="$foregroundBackgroundMix",e.ForegroundBackgroundAccentMix="$foregroundBackgroundAccentMix",e))(T2||{}),uee=new Set(Object.values(T2));function mM(e){if(!Ji(e))return{};let[t,...i]=Object.keys(e);return i.length!==0||!uee.has(t)?{}:{operation:t,values:e[t]}}function L2(e,t,i,n,s,o){return It(t)&&(t=t.map(r=>{let{operation:a,values:l}=mM(r);return a?L2(a,l,i,n,s,o):r})),F2[e](t,i,n,s,o)}function sv(e){return Ms(e)&&e>=0&&e<=1}var F2={$ref:(e,t,i,n,s)=>{if(Tn(e)&&e in t){let{operation:o,values:r}=mM(t[e]);if(o!=="$ref")return t[e];if(s?.has(r)){V.warnOnce(`\`$ref\` json operation failed on [${String(e)}] at [${n.join(".")}], circular reference detected with [${[...s].join(", ")}].`);return}return s?.add(r),F2.$ref(r,t,i,n,s)}V.warnOnce(`\`$ref\` json operation failed on [${String(e)}] at [${n.join(".")}], expecting one of [${Object.keys(t).join(", ")}].`)},$path:(e,t,i,n)=>{if(!Tn(e)){V.warnOnce(`\`$path\` json operation failed on [${String(e)}] at [${n.join(".")}], expecting a string.`);return}let s=e.split("/"),o=[...n];for(let a of s)a===".."?(o.pop(),o.pop()):a==="."?o.pop():o.push(a);let r=i;for(let a of o){if(!(a in r)){V.warnOnce(`\`$path\` json operation failed on [${String(e)}] at [${n.join(".")}], could not find path in object.`);return}r=r[a]}return r},$if:([e,t,i])=>e?t:i,$eq:([e,t])=>e===t,$not:([e,t])=>e!==t,$or:([e,t])=>e||t,$and:([e,t])=>e&&t,$mul:([e,t],i,n,s)=>{if(typeof e=="number"&&typeof t=="number")return e*t;V.warnOnce(`\`$mul\` json operation failed on [${String(e)}] and [${String(t)}] at [${s.join(".")}], expecting two numbers.`)},$round:([e],t,i,n)=>{if(typeof e=="number")return Math.round(e);V.warnOnce(`\`$round\` json operation failed on [${String(e)}] at [${n.join(".")}], expecting a number.`)},$rem:([e],t)=>{if(typeof e=="number")return Math.round(e*t.fontSize)},$mix:([e,t,i],n,s,o)=>{if(typeof e=="string"&&typeof t=="string"&&sv(i))try{return Ut.mix(Ut.fromString(e),Ut.fromString(t),i).toString()}catch{}V.warnOnce(`\`$mix\` json operation failed on [${String(e)}, ${String(t)}, ${String(i)}] at [${o.join(".")}], expecting two colors and a number between 0 and 1.`)},$foregroundBackgroundMix:([e],t,i,n)=>{if(sv(e))return Ut.mix(Ut.fromString(t.foregroundColor),Ut.fromString(t.backgroundColor),e).toString();V.warnOnce(`\`$foregroundBackgroundMix\` json operation failed on [${String(e)}}}] at [${n.join(".")}], expecting a number between 0 and 1.`)},$foregroundBackgroundAccentMix:([e,t],i,n,s)=>{if(sv(e)&&sv(t))return Ut.mix(Ut.mix(Ut.fromString(i.foregroundColor),Ut.fromString(i.backgroundColor),e),Ut.fromString(i.accentColor),t).toString();V.warnOnce(`\`$foregroundBackgroundAccentMix\` json operation failed on [${String(e)}, ${String(t)}}] at [${s.join(".")}], expecting two numbers between 0 and 1.`)}},hee=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise(t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch(i=>V.errorOnce(i))})}acquireImmediately(e){return Pe(this,null,function*(){return this.available?(yield this.acquire(e),!0):!1})}waitForClearAcquireQueue(){return Pe(this,null,function*(){return this.acquire(()=>Promise.resolve(void 0))})}dispatchNext(){return Pe(this,null,function*(){this.available=!1;let[e,t]=this.acquireQueue.shift()??[];for(;e;){try{yield e(),t?.()}catch(i){V.error("mutex callback error",i),t?.()}[e,t]=this.acquireQueue.shift()??[]}this.available=!0})}},P2=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");let i=this.eventListeners.get(e);i?i.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){this.eventListeners.get(e)?.delete(t),this.eventListeners.size===0&&this.eventListeners.delete(e)}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){this.eventListeners.get(e.type)?.forEach(t=>t(e))}},Ma=class extends ke{constructor(e=0,t=e,i=e,n=t){super(),this.top=e,this.right=t,this.bottom=i,this.left=n}};b([x($)],Ma.prototype,"top",2);b([x($)],Ma.prototype,"right",2);b([x($)],Ma.prototype,"bottom",2);b([x($)],Ma.prototype,"left",2);function pee(e){return O2((t,i)=>Et().requestAnimationFrame(t),e)}function gee(e){return O2((t,i=0)=>{i===0?queueMicrotask(t):setTimeout(t,i)},e)}function O2(e,t){let i=0,n=!1,s,o,r=()=>n,a=()=>{n=!1,o?.(),o=void 0,s=void 0,i>0&&e(l)},l=()=>{let d=i;i=0,n=!0;let u=t({count:d});if(!u){a();return}u.then(a,a)};return{schedule(d){i===0&&!r()&&e(l,d),i++},await(){return Pe(this,null,function*(){if(r())for(s==null&&(s=new Promise(d=>{o=d}));r();)yield s})}}}function fl(e){return e==="true"}function mee(e){return Number(e)}function Us(e){return e}var fee={role:Us,"aria-checked":fl,"aria-controls":Us,"aria-describedby":Us,"aria-disabled":fl,"aria-expanded":fl,"aria-haspopup":fl,"aria-hidden":fl,"aria-label":Us,"aria-labelledby":Us,"aria-live":Us,"aria-orientation":Us,"aria-selected":fl,"data-preventdefault":fl,class:Us,id:Us,tabindex:mee,title:Us,placeholder:Us};function Ct(e,t,i){i==null||i===""||i===""?e?.removeAttribute(t):e?.setAttribute(t,i.toString())}function Nl(e,t){if(t!=null)for(let[i,n]of Object.entries(t))i!=="class"&&Ct(e,i,n)}function My(e,t,i){if(!(e instanceof HTMLElement))return;let n=e.getAttribute(t);return n===null?i:fee[t]?.(n)??void 0}function qs(e,t,i){e!=null&&(i==null?e.style.removeProperty(t):e.style.setProperty(t,i.toString()))}function vee(e,t){for(let[i,n]of Object.entries(t))qs(e,i,n)}var fM=["blur","change","contextmenu","focus","keydown","keyup","click","dblclick","mouseenter","mousemove","mouseleave","wheel","touchstart","touchmove","touchend","touchcancel"];function nd(e,t,i){let{offsetX:n,offsetY:s,clientX:o,clientY:r}=t,{currentX:a,currentY:l}=ur.calcCurrentXY(i,t);return{type:e,offsetX:n,offsetY:s,clientX:o,clientY:r,currentX:a,currentY:l,sourceEvent:t}}function ov(e,t,i){return{type:e,sourceEvent:t}}var yee={blur:e=>({type:"blur",sourceEvent:e}),change:e=>({type:"change",sourceEvent:e}),contextmenu:(e,t)=>nd("contextmenu",e,t),focus:e=>({type:"focus",sourceEvent:e}),keydown:e=>({type:"keydown",sourceEvent:e}),keyup:e=>({type:"keyup",sourceEvent:e}),click:(e,t)=>nd("click",e,t),dblclick:(e,t)=>nd("dblclick",e,t),mouseenter:(e,t)=>nd("mouseenter",e,t),mousemove:(e,t)=>nd("mousemove",e,t),mouseleave:(e,t)=>nd("mouseleave",e,t),wheel:e=>{let{offsetX:t,offsetY:i,clientX:n,clientY:s}=e,o=e.deltaMode===0?.01:1,r=e.deltaX*o,a=e.deltaY*o;return{type:"wheel",offsetX:t,offsetY:i,clientX:n,clientY:s,deltaX:r,deltaY:a,sourceEvent:e}},touchstart:(e,t)=>ov("touchstart",e,t),touchmove:(e,t)=>ov("touchmove",e,t),touchend:(e,t)=>ov("touchend",e,t),touchcancel:(e,t)=>ov("touchcancel",e,t)},ur=class{static alloc(e,t,i){return yee[e](t,i)}static isHTMLEvent(e){return fM.includes(e)}static calcCurrentXY(e,t){let i=e.getBoundingClientRect();return{currentX:t.clientX-i.x,currentY:t.clientY-i.y}}},bee=class{constructor(){this.widgetListeners={},this.sourceListeners={}}initSourceHandler(e,t){this.sourceListeners??(this.sourceListeners={}),this.sourceListeners[e]=t}lazyGetWidgetListeners(e,t){var i;if(!(e in(this.sourceListeners??{}))){let n=o=>{let r=ur.alloc(e,o,t.getElement());for(let a of this.widgetListeners?.[e]??[])a(r,t)},s={};e.startsWith("touch")&&(s.passive=!1),this.initSourceHandler(e,n),t.getElement().addEventListener(e,n,s)}return this.widgetListeners??(this.widgetListeners={}),(i=this.widgetListeners)[e]??(i[e]=[]),this.widgetListeners[e]}add(e,t,i){this.lazyGetWidgetListeners(e,t).push(i)}remove(e,t,i){let n=this.lazyGetWidgetListeners(e,t),s=n.indexOf(i);s>-1&&n.splice(s,1)}destroy(e){for(let[t,i]of Object.entries(this.sourceListeners??{})){let n=t;e.getElement().removeEventListener(n,i)}this.widgetListeners=void 0,this.sourceListeners=void 0}},Cee=class{constructor(e,t,i,n){this.glob=e,this.self=t,this.window=Et(),this.mousegeneral=l=>{l.stopPropagation(),l.stopImmediatePropagation()},this.mousemove=l=>{l.stopPropagation(),l.stopImmediatePropagation(),this.glob.globalMouseDragCallbacks?.mousemove(l)},this.mouseup=l=>{l.button===0&&(l.stopPropagation(),l.stopImmediatePropagation(),this.glob.globalMouseDragCallbacks?.mouseup(l),this.destroy())};let{window:s,mousegeneral:o,mousemove:r,mouseup:a}=this;s.addEventListener("mousedown",o,{capture:!0}),s.addEventListener("mouseenter",o,{capture:!0}),s.addEventListener("mouseleave",o,{capture:!0}),s.addEventListener("mouseout",o,{capture:!0}),s.addEventListener("mouseover",o,{capture:!0}),s.addEventListener("mousemove",r,{capture:!0}),s.addEventListener("mouseup",a,{capture:!0}),t.mouseDragger=this,e.globalMouseDragCallbacks=i,e.globalMouseDragCallbacks.mousedown(n)}destroy(){let{window:e,mousegeneral:t,mousemove:i,mouseup:n}=this;e.removeEventListener("mousedown",t,{capture:!0}),e.removeEventListener("mouseenter",t,{capture:!0}),e.removeEventListener("mouseleave",t,{capture:!0}),e.removeEventListener("mouseout",t,{capture:!0}),e.removeEventListener("mouseover",t,{capture:!0}),e.removeEventListener("mousemove",i,{capture:!0}),e.removeEventListener("mouseup",n,{capture:!0}),this.glob.globalMouseDragCallbacks=void 0,this.self.mouseDragger=void 0}};function wee(e,t,i,n){if(e.globalMouseDragCallbacks==null)return new Cee(e,t,i,n)}var xee=500,See=100;function Mee(e,t){let i=e.clientX-t.clientX,n=e.clientY-t.clientY;return i*i+n*n}var mS=!1,Dee=class{constructor(e,t,i,n,s){this.glob=e,this.self=t,this.initialTouch=n,this.target=s,this.longTapInterrupted=!1,this.longtap=()=>{let{target:a,initialTouch:l}=this;if(!this.longTapInterrupted){a.dispatchEvent(new TouchEvent("touchcancel",{touches:[l],bubbles:!0})),mS=!0;let c=g=>{g.preventDefault()},d=g=>{mS=!1,g.preventDefault(),a.removeEventListener("touchmove",c),a.removeEventListener("touchend",d),a.removeEventListener("touchcancel",d)};a.addEventListener("touchmove",c,{passive:!1}),a.addEventListener("touchend",d,{passive:!1}),a.addEventListener("touchcancel",d,{passive:!1});let{clientX:u,clientY:h}=l,p=new PointerEvent("contextmenu",{bubbles:!0,cancelable:!0,view:Et(),clientX:u,clientY:h,pointerType:"touch"});a.dispatchEvent(p)}},this.touchmove=a=>{let{glob:l,self:c,initialTouch:d}=this,u=this.findInitialFinger(a.targetTouches);u!=null&&(this.longTapInterrupted=this.longTapInterrupted||Mee(d,u)>See,c.dragTouchEnabled&&u!=null&&l.globalTouchDragCallbacks?.touchmove(a,u))},this.touchend=a=>{this.longTapInterrupted=!0;let l=this.findInitialFinger(a.changedTouches,a.touches);l!=null&&this.glob.globalTouchDragCallbacks?.touchend(a,l),this.destroy()},this.longtapTimer=setTimeout(this.longtap,xee);let{touchmove:o,touchend:r}=this;s.addEventListener("touchmove",o,{passive:!1}),s.addEventListener("touchstart",r,{passive:!1}),s.addEventListener("touchend",r,{passive:!1}),s.addEventListener("touchcancel",r,{passive:!1}),t.touchDragger=this,e.globalTouchDragCallbacks=i}destroy(){let{longtapTimer:e,touchmove:t,touchend:i}=this;clearTimeout(e),this.target.removeEventListener("touchstart",i),this.target.removeEventListener("touchmove",t),this.target.removeEventListener("touchend",i),this.target.removeEventListener("touchcancel",i),this.glob.globalTouchDragCallbacks=void 0,this.self.touchDragger=void 0}findInitialFinger(...e){let t=e.map(i=>Array.from(i)).flat();return Array.from(t).find(i=>i.identifier===this.initialTouch.identifier)}};function _ee(e,t,i,n,s){if(!(e.globalTouchDragCallbacks!=null||mS))return new Dee(e,t,i,n,s)}function kx(e,t,i,n){let{currentX:s,currentY:o}=ur.calcCurrentXY(e.getElement(),n),r=n.pageX-i.pageX,a=n.pageY-i.pageY;return{type:t,device:"mouse",offsetX:i.offsetX+r,offsetY:i.offsetY+a,clientX:n.clientX,clientY:n.clientY,currentX:s,currentY:o,originDeltaX:r,originDeltaY:a,sourceEvent:n}}function Eee(e,{pageX:t,pageY:i}){let{x:n,y:s}=e.getElement().getBoundingClientRect();return{offsetX:t-n,offsetY:i-s}}function Tx(e,t,i,n,s){let{currentX:o,currentY:r}=ur.calcCurrentXY(e.getElement(),s),a=s.pageX-i.pageX,l=s.pageY-i.pageY;return{type:t,device:"touch",offsetX:i.offsetX+a,offsetY:i.offsetY+l,clientX:s.clientX,clientY:s.clientY,currentX:o,currentY:r,originDeltaX:a,originDeltaY:l,sourceEvent:n}}var KT={},ZT=class{constructor(e){this.dispatchCallback=e,this.dragTouchEnabled=!0}destroy(){this.dragTriggerRemover?.(),this.dragTriggerRemover=void 0,this.dragStartListeners=void 0,this.dragMoveListeners=void 0,this.dragEndListeners=void 0,this.mouseDragger?.destroy(),this.touchDragger?.destroy()}add(e,t,i){switch(e){case"drag-start":{this.dragStartListeners??(this.dragStartListeners=[]),this.dragStartListeners.push(i),this.registerDragTrigger(t);break}case"drag-move":{this.dragMoveListeners??(this.dragMoveListeners=[]),this.dragMoveListeners.push(i),this.registerDragTrigger(t);break}case"drag-end":{this.dragEndListeners??(this.dragEndListeners=[]),this.dragEndListeners.push(i),this.registerDragTrigger(t);break}}}remove(e,t,i){switch(e){case"drag-start":return this.removeHandler(this.dragStartListeners,i);case"drag-move":return this.removeHandler(this.dragMoveListeners,i);case"drag-end":return this.removeHandler(this.dragEndListeners,i)}}removeHandler(e,t){let i=e?.indexOf(t);i!==void 0&&e?.splice(i,1)}registerDragTrigger(e){if(this.dragTriggerRemover==null){let t=n=>this.triggerMouseDrag(e,n),i=n=>this.triggerTouchDrag(e,n);e.getElement().addEventListener("mousedown",t),e.getElement().addEventListener("touchstart",i,{passive:!1}),this.dragTriggerRemover=()=>{e.getElement().removeEventListener("mousedown",t),e.getElement().removeEventListener("touchstart",i)}}}triggerMouseDrag(e,t){t.button===0&&this.startMouseDrag(e,t)}startMouseDrag(e,t){let i={pageX:NaN,pageY:NaN,offsetX:NaN,offsetY:NaN};sS(["pageX","pageY","offsetX","offsetY"],i,t);let n={mousedown:s=>{let o=kx(e,"drag-start",i,s);this.dispatch("drag-start",e,o)},mousemove:s=>{let o=kx(e,"drag-move",i,s);this.dispatch("drag-move",e,o)},mouseup:s=>{let o=kx(e,"drag-end",i,s);this.dispatch("drag-end",e,o),this.endDrag(e,o)}};this.mouseDragger=wee(KT,this,n,t)}endDrag(e,{sourceEvent:t,clientX:i,clientY:n}){let s=e.getElement(),o=s.getBoundingClientRect();ty.containsPoint(o,i,n)||(s.dispatchEvent(new MouseEvent("mouseleave",t)),t.target?.dispatchEvent(new MouseEvent("mouseenter",t)))}triggerTouchDrag(e,t){let i=t.targetTouches.item(0);t.targetTouches.length===1&&i!=null&&this.startOneFingerTouch(e,t,i)}startOneFingerTouch(e,t,i){let n=w({pageX:NaN,pageY:NaN},Eee(e,i));sS(["pageX","pageY"],n,i);let s={touchmove:(a,l)=>{let c=Tx(e,"drag-move",n,a,l);this.dispatch("drag-move",e,c)},touchend:(a,l)=>{let c=Tx(e,"drag-end",n,a,l);this.dispatch("drag-end",e,c)}},o=e.getElement();this.touchDragger=_ee(KT,this,s,i,o);let r=Tx(e,"drag-start",n,t,i);this.dispatch("drag-start",e,r)}dispatch(e,t,i){switch(e){case"drag-start":this.dragStartListeners?.forEach(n=>n(i,t));break;case"drag-move":this.dragMoveListeners?.forEach(n=>n(i,t));break;case"drag-end":this.dragEndListeners?.forEach(n=>n(i,t));break}this.dispatchCallback(e,i)}},Iee=class{constructor(e){this.elem=e}setBounds(e){Bv(this.elemContainer??this.elem,e)}getBounds(){return I2(this.elemContainer??this.elem)}static setElementContainer(e,t){let i=e.getBounds();Bv(t,i),vee(e.elem,{width:"100%",height:"100%"}),e.elem.remove(),e.elemContainer=t,e.elemContainer.replaceChildren(e.elem)}},Lo=class extends Iee{constructor(e){super(e),this.elem=e,this.index=NaN,this.children=[]}getElement(){return this.elem}getBoundingClientRect(){return this.elem.getBoundingClientRect()}get clientWidth(){return this.elem.clientWidth}get clientHeight(){return this.elem.clientHeight}destroy(){this.parent?.removeChild(this),this.children.forEach(e=>{e.parent=void 0,e.destroy()}),this.children.length=0,this.destructor(),this.elem.remove(),this.elemContainer?.remove(),this.internalListener?.destroy(),this.htmlListener?.destroy(this)}setHidden(e){qs(this.elem,"display",e?"none":void 0)}isHidden(){return Et()?.getComputedStyle?.(this.elem).display==="none"}setCursor(e){qs(this.elem,"cursor",e)}setTextContent(e){this.elem.textContent=e??null}setAriaDescribedBy(e){Ct(this.elem,"aria-describedby",e)}setAriaHidden(e){Ct(this.elem,"aria-hidden",e)}setAriaLabel(e){Ct(this.elem,"aria-label",e)}setInnerHTML(e){this.elem.innerHTML=e}isDisabled(){return My(this.elem,"aria-disabled",!1)}parseFloat(e){return e===""?0:parseFloat(e)}cssLeft(){return this.parseFloat(this.elem.style.left)}cssTop(){return this.parseFloat(this.elem.style.top)}cssWidth(){return this.parseFloat(this.elem.style.width)}cssHeight(){return this.parseFloat(this.elem.style.height)}focus(){this.elem.focus()}setPreventsDefault(e){Ct(this.elem,"data-preventdefault",e)}setTabIndex(e){Ct(this.elem,"tabindex",e)}addChild(e){this.addChildToDOM(e,this.getBefore(e)),this.children.push(e),e.index=this.children.length-1,e.parent=this,this.onChildAdded(e)}removeChild(e){let t=this.children.findIndex(i=>i===e);this.children.splice(t,1),this.removeChildFromDOM(e),this.onChildRemoved(e)}moveChild(e,t){e.domIndex!==t&&(e.domIndex=t,this.removeChildFromDOM(e),this.addChildToDOM(e,this.getBefore(e)))}addClass(...e){this.elem.classList.add(...e)}removeClass(...e){this.elem.classList.remove(...e)}toggleClass(e,t){this.elem.classList.toggle(e,t)}appendOrInsert(e,t){t?t.getElement().insertAdjacentElement("beforebegin",e):this.elem.appendChild(e)}addChildToDOM(e,t){this.appendOrInsert(e.getElement(),t)}removeChildFromDOM(e){this.elem.removeChild(e.getElement())}onChildAdded(e){}onChildRemoved(e){}getBefore({domIndex:e}){if(e!==void 0)return this.children.filter(t=>t.domIndex!==void 0&&t.domIndex>e).reduce((t,i)=>!t||i.domIndex<t.domIndex?i:t,void 0)}addListener(e,t){return ur.isHTMLEvent(e)?(this.htmlListener??(this.htmlListener=new bee),this.htmlListener.add(e,this,t)):(this.internalListener??(this.internalListener=new ZT(this.onDispatch.bind(this))),this.internalListener.add(e,this,t)),()=>this.removeListener(e,t)}removeListener(e,t){ur.isHTMLEvent(e)?this.htmlListener?.remove(e,this,t):this.htmlListener!=null&&this.internalListener?.remove(e,this,t)}setDragTouchEnabled(e){this.internalListener??(this.internalListener=new ZT(this.onDispatch.bind(this))),this.internalListener.dragTouchEnabled=e}onDispatch(e,t){if(!t.sourceEvent.bubbles)return;let{parent:i}=this;for(;i!=null;){let{internalListener:n}=i;if(n!=null){let s=w(w({},t),ur.calcCurrentXY(i.getElement(),t));n.dispatch(e,i,s)}i=i.parent}}static addWindowEvent(e,t){let i=n=>{n.persisted||t()};return Et().addEventListener("pagehide",i),()=>Et().removeEventListener("pagehide",i)}},vM=(e=>(e[e.Caption=0]="Caption",e[e.Legend=1]="Legend",e[e.ToolbarLeft=2]="ToolbarLeft",e[e.ToolbarBottom=3]="ToolbarBottom",e[e.Navigator=4]="Navigator",e[e.Overlay=5]="Overlay",e))(vM||{}),N2=class{constructor(){this.events=new FS,this.elements=new Map}addListener(e,t){return this.events.on(e,t)}registerElement(e,t){return this.elements.has(e)?this.elements.get(e).add(t):this.elements.set(e,new Set([t])),()=>this.elements.get(e)?.delete(t)}createContext(e,t){let i=new Ree(e,t);for(let n of Object.values(vM))typeof n=="number"&&this.elements.get(n)?.forEach(s=>s(i));return i}emitLayoutComplete(e,t){let i="layout:complete",{width:n,height:s}=e;this.events.emit(i,{type:i,axes:t.axes??[],chart:{width:n,height:s},clipSeries:t.clipSeries??!1,series:t.series})}},Ree=class{constructor(e,t){this.width=e,this.height=t,this.layoutBox=new ne(0,0,e,t)}},Dy=class{constructor(){this.title=new Ft,this.subtitle=new Ft,this.footnote=new Ft}positionCaptions(e){let{title:t,subtitle:i,footnote:n}=this,s=e.layoutBox.height/10;if(t.enabled){let{spacing:o=i.enabled?Ft.SMALL_PADDING:Ft.LARGE_PADDING}=t;this.positionCaption("top",t,e.layoutBox,s),this.shrinkLayoutByCaption("top",t,e.layoutBox,o)}i.enabled&&(this.positionCaption("top",i,e.layoutBox,s),this.shrinkLayoutByCaption("top",i,e.layoutBox,i.spacing)),n.enabled&&(this.positionCaption("bottom",n,e.layoutBox,s),this.shrinkLayoutByCaption("bottom",n,e.layoutBox,n.spacing))}positionAbsoluteCaptions(e){let{title:t,subtitle:i,footnote:n}=this,{rect:s}=e.series;for(let o of[t,i,n])if(o.layoutStyle==="overlay"){if(o.textAlign==="left")o.node.x=s.x+o.padding;else if(o.textAlign==="right"){let r=o.node.getBBox();o.node.x=s.x+s.width-r.width-o.padding}}}computeX(e,t){return e==="left"?t.x:e==="right"?t.x+t.width:t.x+t.width/2}positionCaption(e,t,i,n){let s=Math.max(ri.getLineHeight(t.fontSize),n);t.node.x=this.computeX(t.textAlign,i)+t.padding,t.node.y=i.y+(e==="top"?0:i.height)+t.padding,t.node.textBaseline=e,t.computeTextWrap(i.width,s)}shrinkLayoutByCaption(e,t,i,n=0){if(t.layoutStyle==="block"){let s=t.node.getBBox();i.shrink(Math.ceil(e==="top"?s.y-i.y+s.height+n:i.y+i.height-s.y+n),e)}}};b([x(ee)],Dy.prototype,"title",2);b([x(ee)],Dy.prototype,"subtitle",2);b([x(ee)],Dy.prototype,"footnote",2);var Aee=["candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"],kee=class{constructor(e){this.chartService=e,this.mementoOriginatorKey="chartType"}createMemento(){let e=this.chartService.publicApi?.getOptions()?.chartType;return e==null&&(e="candlestick"),e}guardMemento(e){return e==null||Aee.includes(e)}restoreMemento(e,t,i){if(i==null)return;let n={chartType:i};this.chartService.publicApi?.updateDelta(n).catch(s=>V.error("error restoring state",s))}},B2=class{constructor(){this.destroyFns=[]}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns.length=0}setFns(e){this.destroy(),this.destroyFns=e}push(...e){this.destroyFns.push(...e)}},vp="11.1.1",qT=Symbol("previous-memento-not-found"),Tee=class{constructor(e){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=wt.create(!0,"history"),this.destroyFns=new B2,this.destroyFns.setFns([e.addListener("series-undo",this.undo.bind(this)),e.addListener("series-redo",this.redo.bind(this))])}destroy(){this.destroyFns.destroy()}addMementoOriginator(e){this.originators.set(e.mementoOriginatorKey,e),this.clearState.set(e.mementoOriginatorKey,e.createMemento()),this.debugEvent("History add originator:",e.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(let[e,t]of this.originators.entries())this.clearState.set(e,t.createMemento())}record(e,...t){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));let i=new Map;for(let n of t){if(!this.originators.has(n.mementoOriginatorKey))throw new Error(`Originator [${n.mementoOriginatorKey}] has not been added to the HistoryManager.`);i.set(n.mementoOriginatorKey,n.createMemento())}this.history.push({label:e,mementos:i}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${e}]`)}undo(){let e=this.history[this.historyIndex];if(e){for(let t of e.mementos.keys()){let i=this.findPreviousMemento(t);if(i===qT)throw new Error(`Could not find previous memento for [${t}].`);this.restoreMemento(t,i)}this.historyIndex-=1,this.debugEvent(`History undo: [${e.label}]`)}}redo(){let e=this.history[this.historyIndex+1];if(e){for(let[t,i]of e.mementos.entries())this.restoreMemento(t,i);this.historyIndex+=1,this.debugEvent(`History redo: [${e.label}]`)}}findPreviousMemento(e){for(let t=this.historyIndex-1;t>=0;t--)if(this.history[t].mementos.has(e))return this.history[t].mementos.get(e);return this.clearState.has(e)?this.clearState.get(e):qT}restoreMemento(e,t){this.originators.get(e)?.restoreMemento(vp,vp,t)}debugEvent(...e){this.debug(...e,this.history.map((t,i)=>i===this.historyIndex?`** ${t.label} **`:t.label))}},z2=class fS{constructor(t){this.version=t.split("-")[0]}save(...t){let i={version:this.version};for(let n of Object.values(t))i[n.mementoOriginatorKey]=this.encode(n,n.createMemento());return i}restore(t,...i){if(typeof t!="object"){V.warnOnce(`Could not restore data of type [${typeof t}], expecting an object, ignoring.`);return}if(t==null){V.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in t)||typeof t.version!="string"){V.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(let n of i){let s=this.decode(n,t[n.mementoOriginatorKey]),o=[];if(!n.guardMemento(s,o)){let r=o.length>0?`

${o.join(`

`)}

`:"";V.warnOnce(`Could not restore [${n.mementoOriginatorKey}] data, value was invalid, ignoring.${r}`,s);return}n.restoreMemento(this.version,t.version,s)}}encode(t,i){try{return JSON.parse(JSON.stringify(i,fS.encodeTypes))}catch(n){throw new Error(`Failed to encode [${t.mementoOriginatorKey}] value [${n}].`,{cause:n})}}decode(t,i){if(i==null)return i;try{return JSON.parse(JSON.stringify(i),fS.decodeTypes)}catch(n){throw new Error(`Failed to decode [${t.mementoOriginatorKey}] value [${n}].`,{cause:n})}}static encodeTypes(t,i){return Rd(this[t])?{__type:"date",value:this[t].toISOString()}:i}static decodeTypes(t,i){return ki(this[t])&&"__type"in this[t]&&this[t].__type==="date"?new Date(this[t].value):i}},Lee=class{constructor(){this.caretaker=new z2(vp),this.state=new Map}setState(e,t){Ol(this.state.get(e.mementoOriginatorKey),t)||this.setStateAndRestore(e,t)}setStateAndRestore(e,t){this.state.set(e.mementoOriginatorKey,t),this.restoreState(e)}restoreState(e){let{caretaker:t,state:i}=this;if(!i.has(e.mementoOriginatorKey))return;let n=i.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:n},e)}},Fee=`.ag-charts-wrapper,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box}.ag-charts-wrapper{--align-items: center;--justify-content: center;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ag-charts-wrapper--safe-horizontal{--justify-content: flex-start}.ag-charts-wrapper--safe-vertical{--align-items: flex-start}.ag-charts-tab-guard{width:0%;height:0%;position:absolute;pointer-events:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;pointer-events:auto;display:flex;align-items:var(--align-items);justify-content:var(--justify-content)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none;-webkit-user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{display:block;pointer-events:none}.ag-charts-series-area{outline:none;pointer-events:auto;position:absolute}.ag-charts-swapchain{outline:none;opacity:0;pointer-events:none;position:absolute;width:100%;height:100%}.ag-charts-swapchain:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none;-webkit-user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-accent-color: #2196f3;--ag-charts-background-color: #fff;--ag-charts-border-color: #dddddd;--ag-charts-foreground-color: #464646;--ag-charts-font-family: Verdana, sans-serif;--ag-charts-font-size: 12px;--ag-charts-font-weight: 400;--ag-charts-padding: 20px;--ag-charts-shadow-color: #00000080;--ag-charts-subtle-text-color: #8c8c8c;--ag-charts-text-color: #464646;--ag-charts-chrome-background-color: #fafafa;--ag-charts-chrome-font-family: Verdana, sans-serif;--ag-charts-chrome-font-size: 12px;--ag-charts-chrome-font-weight: 400;--ag-charts-chrome-subtle-text-color: #8c8c8c;--ag-charts-chrome-text-color: #181d1f;--ag-charts-input-background-color: #fff;--ag-charts-input-text-color: #464646;--ag-charts-crosshair-label-background-color: #fff;--ag-charts-crosshair-label-text-color: #464646;--ag-charts-spacing: 4px;--ag-charts-border-radius: 4px;--ag-charts-shadow: 0 2px 8px 0 color-mix(in srgb, black 8%, transparent);--ag-charts-focus-shadow: 0 0 0 3px var(--ag-charts-accent-color);--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 12%);--ag-charts-input-border-color: var(--ag-charts-border-color);--ag-charts-input-border-radius: var(--ag-charts-border-radius);--ag-charts-input-focus-border-color: var(--ag-charts-accent-color);--ag-charts-input-focus-text-color: var(--ag-charts-accent-color);--ag-charts-input-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-input-disabled-border-color: var(--ag-charts-border-color);--ag-charts-input-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-input-text-color) 50% );--ag-charts-input-placeholder-text-color: color-mix( in srgb, var(--ag-charts-input-background-color), var(--ag-charts-input-text-color) 60% );--ag-charts-button-background-color: var(--ag-charts-background-color);--ag-charts-button-border-color: var(--ag-charts-border-color);--ag-charts-button-border-radius: var(--ag-charts-border-radius);--ag-charts-button-text-color: var(--ag-charts-text-color);--ag-charts-button-focus-background-color: color-mix( in srgb, var(--ag-charts-button-background-color), var(--ag-charts-accent-color) 12% );--ag-charts-button-focus-border-color: var(--ag-charts-accent-color);--ag-charts-button-focus-text-color: var(--ag-charts-accent-color);--ag-charts-button-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-button-disabled-border-color: var(--ag-charts-border-color);--ag-charts-button-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-chrome-text-color) 50% );--ag-charts-checkbox-background-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 35% );--ag-charts-checkbox-checked-background-color: var(--ag-charts-accent-color);--ag-charts-chrome-font-size-small: var(--ag-charts-chrome-font-size);--ag-charts-chrome-font-size-medium: calc(var(--ag-charts-chrome-font-size) * (13 / 12));--ag-charts-chrome-font-size-large: calc(var(--ag-charts-chrome-font-size) * (14 / 12));--ag-charts-border: solid 1px var(--ag-charts-border-color);--ag-charts-focus-border: solid 1px var(--ag-charts-accent-color);--ag-charts-focus-border-shadow: 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%);--ag-charts-layer-menu: 6;--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1}.ag-charts-theme-default-dark{--ag-charts-shadow: 0 2px 12px 0 color-mix(in srgb, black 33.3%, transparent);--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 22%)}.ag-chart-canvas-wrapper .ag-charts-theme-default{--ag-charts-border-radius: var(--ag-border-radius, 4px);--ag-charts-border: var(--ag-borders-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-focus-shadow: var(--ag-focus-shadow, 0 0 0 3px var(--ag-charts-accent-color));--ag-charts-focus-border-shadow: var( --ag-focus-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%) )}.ag-charts-icon{display:block;width:20px;height:20px;speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA1aDEydjFIMnoiLz48Y2lyY2xlIGN4PSIxNS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4yNSIgY3k9IjE0LjUiIHI9IjEuNzUiIHN0cm9rZT0iIzAwMCIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0xOCAxNUg2di0xaDEyem0wLTQuNUgydi0xaDE2eiIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-trend-based-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJtNC45OTYgMTIuNjc0IDMuMjkxLTUuNzQzLjg2OC40OTctMy4yOTEgNS43NDN6Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4zNTEiIGN5PSIxNC41IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTggNmgtN1Y1aDd6bTAgNC41aC03di0xaDd6bTAgNC41SDZ2LTFoMTJ6Ii8+PC9zdmc+)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;--input-padding: calc(var(--ag-charts-spacing) * 2);--input-padding-large: calc(var(--ag-charts-spacing) * 2.5);color:var(--ag-charts-input-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);transition-duration:.25s;transition-property:none;transition-timing-function:ease-out}.ag-charts-input:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-button-background-color);border:1px solid var(--ag-charts-border-color);border-radius:var(--ag-charts-button-border-radius);color:var(--ag-charts-button-text-color);cursor:pointer;padding:var(--input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-focus-color)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{--checkbox-transition-duration: .1s;appearance:none;background:var(--ag-charts-checkbox-background-color);border-radius:calc(var(--ag-charts-border-radius) * 9);cursor:pointer;height:18px;margin:0;transition-duration:var(--checkbox-transition-duration);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:calc(var(--ag-charts-border-radius) * 7);content:" ";height:14px;margin:2px;transition-duration:var(--checkbox-transition-duration);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-checkbox-checked-background-color)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--textarea-line-height: 1.38;background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-border-color);border-radius:var(--ag-charts-input-border-radius);line-height:var(--textarea-line-height);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);padding:var(--input-padding-large) var(--input-padding)}.ag-charts-textarea::placeholder{color:var(--ag-charts-input-placeholder-text-color)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:auto;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;-webkit-user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:solid 1px var(--ag-charts-chrome-background-color);box-shadow:var(--ag-charts-focus-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;overflow:visible}.ag-charts-focus-svg-outer-path{stroke:var(--ag-charts-chrome-background-color);stroke-width:4px}.ag-charts-focus-svg-inner-path{stroke:var(--ag-charts-accent-color);stroke-width:2px}.ag-charts-overlay{color:#181d1f;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay{color:#fff}.ag-charts-overlay--loading{color:#8c8c8c}.ag-charts-overlay__loading-background{background:#fff;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay .ag-charts-overlay__loading-background{background:#192232}.ag-charts-tooltip{--tooltip-arrow-size: 8px;position:fixed;inset:unset;margin:0;padding:0;overflow:visible;width:max-content;max-width:100%;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);color:var(--ag-charts-chrome-text-color);background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);box-shadow:var(--ag-charts-shadow)}.ag-charts-tooltip--compact .ag-charts-tooltip-content{padding:3px 6px}.ag-charts-tooltip--arrow:before{content:"";position:absolute;top:100%;left:50%;margin:0 auto;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * -.5)) rotate(45deg);display:block;width:var(--tooltip-arrow-size);height:var(--tooltip-arrow-size);border:inherit;border-top:none;border-left:none;clip-path:polygon(0% 100%,100% 0%,100% 100%)}.ag-charts-tooltip--arrow:after{--tooltip-inner-size: calc(var(--tooltip-arrow-size) - 2px);content:"";position:absolute;top:100%;left:50%;margin:0 auto;transform:translate(-50%) translateY(calc(var(--tooltip-inner-size) * -.5)) rotate(45deg);display:block;width:var(--tooltip-inner-size);height:var(--tooltip-inner-size);border:inherit;border-color:transparent;background:inherit;clip-path:polygon(-10% 100%,100% -10%,100% 100%)}.ag-charts-tooltip--no-interaction{pointer-events:none;user-select:none;-webkit-user-select:none}.ag-charts-tooltip--wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-charts-tooltip--wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-charts-tooltip--wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-charts-tooltip--wrap-never{white-space:nowrap}.ag-charts-tooltip-heading,.ag-charts-tooltip-title,.ag-charts-tooltip-label,.ag-charts-tooltip-value{overflow:hidden;text-overflow:ellipsis}.ag-charts-tooltip-content{display:grid;grid:auto-flow minmax(1em,auto) / 1fr;padding:8px 12px;gap:8px}.ag-charts-tooltip-content:has(.ag-charts-tooltip-symbol){grid:auto-flow minmax(1em,auto) / auto 1fr}.ag-charts-tooltip-heading{grid-column:1 / -1}.ag-charts-tooltip-symbol{grid-column:1 / 2;align-self:center}.ag-charts-tooltip-symbol svg{display:block}.ag-charts-tooltip-title{grid-column:-2 / -1}.ag-charts-tooltip-row{grid-column:1 / -1;display:flex;gap:16px;align-items:baseline;justify-content:space-between;overflow:hidden}.ag-charts-tooltip-row--inline{grid-column:-2 / -1}.ag-charts-tooltip-label{flex:1;min-width:0}.ag-charts-tooltip-value{min-width:0}.ag-charts-popover{position:absolute;border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);background:var(--ag-charts-chrome-background-color);color:var(--ag-charts-chrome-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);box-shadow:var(--ag-charts-shadow);z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-menu{--item-padding: 6px 12px;--icon-color: var(--ag-charts-chrome-text-color);display:grid;grid:auto-flow auto / 1fr;column-gap:12px;font-size:var(--ag-charts-chrome-font-size)}.ag-charts-menu:has(.ag-charts-menu__icon,.ag-charts-menu__row--stroke-width-visible){grid:auto-flow auto / auto 1fr}.ag-charts-menu__row--stroke-width-visible:before{content:"";height:var(--strokeWidth);width:12px;background:var(--icon-color)}.ag-charts-menu__row--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-menu__row{display:grid;grid-column:1 / -1;grid-template-columns:subgrid;align-items:center;padding:var(--item-padding)}.ag-charts-menu__row:not(.ag-charts-menu__row--active){cursor:pointer}.ag-charts-menu__row:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.ag-charts-menu__row:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.ag-charts-menu__row:focus{background:var(--ag-charts-focus-color)}.ag-charts-menu__row:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--ag-charts-layer-menu)}.ag-charts-menu__row--active{--icon-color: var(--ag-charts-accent-color);background:var(--ag-charts-focus-color);color:var(--ag-charts-accent-color)}.ag-charts-menu__label{grid-column:-1 / span 1}.ag-charts-toolbar{--toolbar-gap: calc(var(--ag-charts-spacing) * 2);--toolbar-size: 34px;--toolbar-button-padding: 6px;align-items:center;display:flex;flex-wrap:nowrap;position:absolute}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);color:var(--ag-charts-chrome-text-color);cursor:pointer;display:flex;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-medium);font-weight:var(--ag-charts-chrome-font-weight);justify-content:center;min-height:var(--toolbar-size);min-width:var(--toolbar-size);padding:var(--toolbar-button-padding);position:relative;transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:hover{background:var(--ag-charts-focus-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button--active{background:var(--ag-charts-focus-color);border-color:var(--ag-charts-accent-color);color:var(--ag-charts-accent-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-button-disabled-background-color);color:var(--ag-charts-button-disabled-text-color);cursor:default}.ag-charts-toolbar--horizontal{flex-direction:row;.ag-charts-toolbar__button{margin:0 0 0 -1px}.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar--vertical{flex-direction:column;.ag-charts-toolbar__button{margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-border-radius);border-bottom-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-charts-floating-toolbar{border:none;display:flex;.ag-charts-toolbar{align-items:unset;position:unset}}.ag-charts-floating-toolbar__drag-handle{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);cursor:grab;display:flex;justify-content:center;min-width:24px;padding-left:0;padding-right:0}.ag-charts-floating-toolbar__drag-handle--dragging{cursor:grabbing}
`,Mr=class{constructor(){this.registeredListeners=new Map}addListener(e,t){let i={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(i):this.registeredListeners.set(e,[i]),()=>this.removeListener(i.symbol)}removeListener(e){for(let[t,i]of this.registeredListeners.entries()){let n=i.findIndex(s=>s.symbol===e);if(n>=0){i.splice(n,1),i.length===0&&this.registeredListeners.delete(t);break}}}dispatch(e,...t){for(let i of this.getListenersByType(e))try{i.handler(...t)}catch(n){V.errorOnce(String(n))}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},Da=class{constructor(){this.listeners=new Mr,this.destroyFns=[]}addListener(e,t){return this.listeners.addListener(e,t)}destroy(){this.listeners.destroy(),this.destroyFns.forEach(e=>e())}},Pee=class Cv{constructor(t,i,n){this.element=t,this.topTabGuard=i,this.bottomTabGuard=n,this.destroyFns=[],this.guardTabIndex=0,this.hasFocus=!1,this.initTabGuard(this.topTabGuard,s=>this.onTab(s,!1)),this.initTabGuard(this.bottomTabGuard,s=>this.onTab(s,!0)),this.element.addEventListener("focus",()=>this.onFocus(),{capture:!0}),this.element.addEventListener("blur",s=>this.onBlur(s),{capture:!0})}set tabIndex(t){this.guardTabIndex=t,this.guardTabIndex===0?this.setGuardIndices(void 0):this.hasFocus||this.setGuardIndices(this.guardTabIndex)}destroy(){for(let t of this.destroyFns)t();this.destroyFns.length=0}initTabGuard(t,i){let n=()=>i(t);t.addEventListener("focus",n),this.destroyFns.push(()=>t.removeEventListener("focus",n))}setGuardIndices(t){let i=t;Ct(this.topTabGuard,"tabindex",i),Ct(this.bottomTabGuard,"tabindex",i)}onFocus(){this.hasFocus=!0,this.guardTabIndex!==0&&this.setGuardIndices(0)}onBlur({relatedTarget:t}){let{topTabGuard:i,bottomTabGuard:n}=this;this.hasFocus=!1,this.guardTabIndex!==0&&t!==i&&t!==n&&this.setGuardIndices(this.guardTabIndex)}onTab(t,i){if(this.guardTabIndex!==0){let n;t.tabIndex===0?(n=this.findExitTarget(!i),this.setGuardIndices(this.guardTabIndex)):n=this.findEnterTarget(i),n?.focus()}}static queryFocusable(t,i){let n=Et();return Array.from(t.querySelectorAll(i)).filter(s=>{if(s instanceof HTMLElement){let o=n.getComputedStyle(s);return o.display!=="none"&&o.visibility!=="none"}return!1})}findEnterTarget(t){let i=Cv.queryFocusable(this.element,'[tabindex="0"]'),n=t?i.length-1:0;return i[n]}findExitTarget(t){let i=Cv.queryFocusable(mr(),"[tabindex]").filter(o=>o.tabIndex>0).sort((o,r)=>o.tabIndex-r.tabIndex),{before:n,after:s}=Cv.findBeforeAndAfter(i,this.guardTabIndex);return t?n:s}static findBeforeAndAfter(t,i){let n=0,s=t.length-1,o,r;for(;n<=s;){let a=Math.floor((n+s)/2),l=t[a].tabIndex;if(l===i){o=t[a-1]||void 0,r=t[a+1]||void 0;break}else l<i?(o=t[a],n=a+1):(r=t[a],s=a-1)}return{before:o,after:r}}};function Xs(e,t,i,n,s){t.addEventListener(i,n);let o=()=>t.removeEventListener(i,n,s);return e.push(o),o}function V2(e,t,i){Xs(e,t,"keydown",n=>{n.key==="Escape"&&i(n)})}function Oee(e,t,i){let n=Xs(e,window,"mousedown",s=>{[0,2].includes(s.button)&&!G2(t,s)&&(i(),n())});return n}function Nee(e,t,i){let n=Xs(e,window,"touchstart",s=>{Array.from(s.targetTouches).some(r=>!G2(t,r))&&(i(),n())});return n}function G2(e,t){if(t.target instanceof Element){let{x:i,y:n,width:s,height:o}=e.getBoundingClientRect(),{clientX:r,clientY:a}=t;return r>=i&&a>=n&&r<=i+s&&a<=n+o}return!1}function _y(e){return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)}function yM(e,t,...i){return _y(e)&&(e.key===t||i.some(n=>e.key===n))}function XT(e,t,i,n){i&&Xs(e,t,"keydown",s=>{yM(s,n)&&i.focus()})}function Bee(e,t,i,n,s,o){XT(e,t,s,o),XT(e,t,i,n),Xs(e,t,"keydown",r=>{yM(r,n,o)&&r.preventDefault()})}var vd={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function H2(e){let{orientation:t,buttons:i,wrapAround:n=!1,onEscape:s,onFocus:o,onBlur:r}=e,{nextKey:a,prevKey:l}=vd[t],c=p=>{p.target&&"tabIndex"in p.target&&(i.forEach(g=>g.tabIndex=-1),p.target.tabIndex=0)},[d,u]=n?[i.length,i.length]:[0,1/0],h=[];for(let p=0;p<i.length;p++){let g=i[(d+p-1)%u],m=i[p],f=i[(d+p+1)%u];Xs(h,m,"focus",c),o&&Xs(h,m,"focus",o),r&&Xs(h,m,"blur",r),s&&V2(h,m,s),Bee(h,m,f,a,g,l),m.tabIndex=p===0?0:-1}return h}var zee=class{constructor(e,t,i){this.lastFocus=t,this.closeCallback=i,this.destroyFns=[],this.destroyFns.push(Oee(this.destroyFns,e,()=>this.close(!0))),this.destroyFns.push(Nee(this.destroyFns,e,()=>this.close(!0)))}close(e){this.destroyFns.forEach(t=>t()),this.destroyFns.length=0,this.closeCallback(),this.finishClosing(e)}finishClosing(e){this.destroyFns.forEach(t=>t()),this.destroyFns.length=0,Ct(this.lastFocus,"aria-expanded",!1),e||this.lastFocus?.focus({preventScroll:!0}),this.lastFocus=void 0}};function j2(e){let{sourceEvent:t,orientation:i,menu:n,buttons:s,closeCallback:o,overrideFocusVisible:r,autoCloseOnBlur:a=!1}=e,{nextKey:l,prevKey:c}=vd[i],d=CM(t);Ct(d,"aria-expanded",!0);let u=new zee(n,d,o),h=()=>u.close(),{destroyFns:p}=u;if(n.role="menu",n.ariaOrientation=i,p.push(...H2({orientation:i,buttons:s,onEscape:h,wrapAround:!0})),n.tabIndex=-1,V2(p,n,h),Xs(p,n,"keydown",g=>{g.target===n&&(g.key===l||g.key===c)&&(g.preventDefault(),s[0]?.focus())}),a){let g=m=>{!s.includes(m.relatedTarget)&&h()};for(let m of s)Xs(p,m,"blur",g)}return s[0]?.focus({preventScroll:!0}),r!==void 0&&(s.forEach(m=>m.setAttribute("data-focus-visible-override",r.toString())),Xs(p,n,"keydown",()=>{s.forEach(m=>m.setAttribute("data-focus-visible-override","true"))},{once:!0})),u}function Vee(e,t){return i=>{if(e.ariaDisabled==="true")return i.preventDefault();t(i)}}function bM(e){return"button"in e?e.button===0:_y(e)&&(e.code==="Space"||e.key==="Enter")}function CM(e){if(e?.target instanceof HTMLElement&&"tabindex"in e.target.attributes)return e.target}function W2(e){let t=i=>{if(i.defaultPrevented)return;My(i.target,"data-preventdefault",!0)&&yM(i,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&i.preventDefault()};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}var Gee=class{constructor(e){this.callback=e,this.devicePixelRatio=Et("devicePixelRatio")??1,this.devicePixelRatioMediaQuery=void 0,this.devicePixelRatioListener=t=>{t.matches||(this.devicePixelRatio=Et("devicePixelRatio")??1,this.unregisterDevicePixelRatioListener(),this.registerDevicePixelRatioListener(),this.callback(this.pixelRatio))}}get pixelRatio(){return this.devicePixelRatio}observe(){this.registerDevicePixelRatioListener()}disconnect(){this.unregisterDevicePixelRatioListener()}unregisterDevicePixelRatioListener(){this.devicePixelRatioMediaQuery?.removeEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=void 0}registerDevicePixelRatioListener(){let e=Et("matchMedia")?.(`(resolution: ${this.pixelRatio}dppx)`);e?.addEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=e}},Hee=class{constructor(){this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([t,i])=>this.observe(t,i)),this.queuedObserveRequests=[],this.observeWindow()},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(t=>{for(let{target:i,contentRect:{width:n,height:s}}of t){let o=this.elements.get(i);this.checkSize(o,i,n,s)}}));let e;this.pixelRatioObserver=new Gee(()=>{clearTimeout(e),e=setTimeout(()=>this.checkPixelRatio(),0)}),this.documentReady=mr("readyState")==="complete",this.documentReady?this.observeWindow():Et()?.addEventListener("load",this.onLoad)}destroy(){Et()?.removeEventListener("load",this.onLoad),this.resizeObserver?.disconnect(),this.resizeObserver=void 0,this.pixelRatioObserver?.disconnect(),this.pixelRatioObserver=void 0}observeWindow(){this.pixelRatioObserver?.observe()}checkPixelRatio(){let e=this.pixelRatioObserver?.pixelRatio??1;for(let[t,i]of this.elements)if(i.size!=null&&i.size.pixelRatio!==e){let{width:n,height:s}=i.size;i.size={width:n,height:s,pixelRatio:e},i.cb(i.size,t)}}checkSize(e,t,i,n){if(e&&(i!==e.size?.width||n!==e.size?.height)){let s=this.pixelRatioObserver?.pixelRatio??1;e.size={width:i,height:n,pixelRatio:s},e.cb(e.size,t)}}observe(e,t){if(!this.documentReady){this.queuedObserveRequests.push([e,t]);return}this.elements.has(e)?this.removeFromQueue(e):this.resizeObserver?.observe(e);let i={cb:t};this.elements.set(e,i)}unobserve(e){this.resizeObserver?.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter(([t])=>t!==e)}},_d=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),typeof t<"u"&&super.set(e,t),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},jee='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="presentation" class="ag-charts-series-area"></div></div><div role="presentation" class="ag-charts-canvas-overlay"></div></div></div></div>',Wee=["styles","canvas","canvas-center","canvas-container","canvas-overlay","canvas-proxy","series-area"],QT={safeHorizontal:"ag-charts-wrapper--safe-horizontal",safeVertical:"ag-charts-wrapper--safe-vertical"},Uee=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}]]);function $ee(e,t){if(typeof IntersectionObserver>"u")return;let i=new IntersectionObserver(n=>{for(let s of n)s.target===e&&t(s.intersectionRatio)},{root:e});return i.observe(e),i}var U2={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return U2}};function JT(e,t){let i=Ue("div");return i.className="ag-charts-tab-guard",e.insertAdjacentElement(t,i),i}var $2=class extends Da{constructor(e,t){super(),this.styles=new Map,this.container=void 0,this.containerSize=void 0,this.sizeMonitor=new Hee,this.cursorState=new _d("default"),this.minWidth=0,this.minHeight=0;let i=Ue("div");i.innerHTML=jee,this.element=i.children.item(0),this.styleRootElement=t,this.rootElements=Wee.reduce((a,l)=>{let c=`ag-charts-${l}`,d=this.element.classList.contains(c)?this.element:this.element.querySelector(`.${c}`);if(!d)throw new Error(`AG Charts - unable to find DOM element ${c}`);return a[l]={element:d,children:new Map,listeners:[]},a},{});let n=!1;this.observer=$ee(this.element,a=>{a===0&&!n&&this.listeners.dispatch("hidden",{type:"hidden"}),n=a===0}),this.setSizeOptions(),this.updateContainerSize(),this.addStyles("ag-charts-community",Fee),e&&this.setContainer(e),this.destroyFns.push(W2(this.element));let s=this.element.querySelector(".ag-charts-canvas-center");if(s==null)throw new Error("Error initializing tab guards");let o=JT(s,"beforebegin"),r=JT(s,"afterend");this.tabGuards=new Pee(s,o,r)}destroy(){super.destroy(),this.observer?.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach(e=>{e.children.forEach(t=>t.remove()),e.element.remove()}),this.element.remove()}setSizeOptions(e=300,t=300,i,n){let{style:s}=this.element;s.width=`${i??e}px`,s.height=`${n??t}px`,this.minWidth=i??e,this.minHeight=n??t,this.updateContainerClassName()}updateContainerSize(){let{style:e}=this.rootElements["canvas-center"].element;e.visibility=this.containerSize==null?"hidden":"",this.containerSize?(e.width=`${this.containerSize.width??0}px`,e.height=`${this.containerSize.height??0}px`):(e.width="",e.height=""),this.updateContainerClassName()}setTabGuardIndex(e){this.tabGuards.tabIndex=e}setContainer(e){if(e===this.container)return;if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),!(this.getShadowDocumentRoot(e)!=null))for(let i of this.rootElements.styles.children.keys())this.removeChild("styles",i);this.container=e;for(let[i,n]of this.styles)this.addStyles(i,n);e.appendChild(this.element),this.sizeMonitor.observe(e,i=>{this.containerSize=i,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})}),this.listeners.dispatch("container-changed",{type:"container-changed"})}setThemeClass(e){let t="ag-charts-theme-";this.element.classList.forEach(i=>{i.startsWith(t)&&i!==e&&this.element.classList.remove(i)}),this.element.classList.add(e)}setThemeParameters(e){let t={accentColor:"accent-color",axisColor:"axis-color",backgroundColor:"background-color",borderColor:"border-color",foregroundColor:"foreground-color",fontFamily:"font-family",fontSize:"font-size",fontWeight:"font-weight",gridLineColor:"grid-line-color",padding:"padding",subtleTextColor:"subtle-text-color",textColor:"text-color",chromeBackgroundColor:"chrome-background-color",chromeFontFamily:"chrome-font-family",chromeFontSize:"chrome-font-size",chromeFontWeight:"chrome-font-weight",chromeSubtleTextColor:"chrome-subtle-text-color",chromeTextColor:"chrome-text-color",inputBackgroundColor:"input-background-color",inputTextColor:"input-text-color",crosshairLabelBackgroundColor:"crosshair-label-background-color",crosshairLabelTextColor:"crosshair-label-text-color"},i=["fontSize","chromeFontSize"];for(let[n,s]of Object.entries(e)){let o=`${s}`;i.includes(n)&&(o=`${s}px`),this.element.style.setProperty(`--ag-charts-${t[n]}`,o)}}updateCanvasLabel(e){Ct(this.rootElements["canvas-proxy"].element,"aria-label",e)}getEventElement(e,t){return["focus","blur","keydown","keyup"].includes(t)?this.rootElements["series-area"].element:e}addEventListener(e,t,i){this.getEventElement(this.element,e).addEventListener(e,t,i)}removeEventListener(e,t,i){this.getEventElement(this.element,e).removeEventListener(e,t,i)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){let e=Et(),t=new ne(0,0,e.innerWidth,e.innerHeight),i=this.getRawOverlayClientRect();return t.intersection(i)?.toDOMRect()??U2}getRawOverlayClientRect(){let e=this.element;for(;e!=null;){let o=e.computedStyleMap?.()?.get("overflow-y")?.toString();if(o==="auto"||o==="scroll")return ne.fromDOMRect(e.getBoundingClientRect());e=e.parentElement}let t=this.getShadowDocumentRoot();if(t!=null)return ne.fromDOMRect(t.getBoundingClientRect());let{innerWidth:i,innerHeight:n}=Et();return new ne(0,0,i,n)}getShadowDocumentRoot(e=this.container){let t=e?.ownerDocument?.body??mr("body");for(;e!=null;){if(e===t)return;if(e.parentNode instanceof DocumentFragment)return e;e=e.parentNode}return this.container}getParent(e){return this.rootElements[e].element}getChildBoundingClientRect(e){let{children:t}=this.rootElements[e],i=[];for(let n of t.values())i.push(ne.fromDOMRect(n.getBoundingClientRect()));return ne.merge(i)}isManagedChildDOMElement(e,t,i){let{children:n}=this.rootElements[t],s=n?.get(i);return s!=null&&e.contains(s)}contains(e,t){return t==null?this.element.contains(e):this.rootElements[t].element.contains(e)}addStyles(e,t){let i="data-ag-charts";if(this.styles.set(e,t),this.container==null)return;let n=r=>r.getAttribute(i)===e,s=r=>{let a=new Set(["TITLE","META"]),l=!0,c;for(let u of r.children){if(l&&a.has(u.tagName)){c=u;continue}if(l=!1,n(u))return;u.hasAttribute(i)&&(c=u)}let d=Ue("style");return c!=null?r.insertBefore(d,c.nextSibling):r.prepend(d),d},o;this.styleRootElement?o=s(this.styleRootElement):this.getShadowDocumentRoot(this.container)!=null?o=this.addChild("styles",e):o=s(mr("head")),!(o==null||n(o))&&(o.setAttribute(i,e),o.innerHTML=t)}removeStyles(e){this.removeChild("styles",e)}updateCursor(e,t){this.cursorState.set(e,t),this.element.style.cursor=this.cursorState.stateValue()}getCursor(){return this.element.style.cursor}addChild(e,t,i,n){let{element:s,children:o,listeners:r}=this.rootElements[e];if(!o)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(o.has(t))return o.get(t);let{childElementType:a="div"}=Uee.get(e)??{};if(i&&i.tagName.toLowerCase()!==a.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");let l=i??Ue(a);for(let[c,d,u]of r)l.addEventListener(c,d,u);if(o.set(t,l),n){let c=s.querySelector(n.query);if(c==null)throw new Error(`AG Charts - addChild query failed ${n.query}`);c.insertAdjacentElement(n.where,l)}else s?.appendChild(l);return l}removeChild(e,t){let{children:i}=this.rootElements[e];i&&(i.get(t)?.remove(),i.delete(t))}incrementDataCounter(e){let{dataset:t}=this.element;t[e]??(t[e]="0"),t[e]=String(Number(t[e])+1)}setDataBoolean(e,t){this.element.dataset[e]=String(t)}updateContainerClassName(){let{element:e,containerSize:t,minWidth:i,minHeight:n}=this;e.classList.toggle(QT.safeHorizontal,i>=(t?.width??1/0)),e.classList.toggle(QT.safeVertical,n>=(t?.height??1/0))}},Yee=class extends Lo{constructor(){super(Ue("div")),this.textElement=Es("text"),this.textElement.role="presentation",this.svgElement=Es("svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.elem.appendChild(this.svgElement),this.elem.role="presentation"}set textContent(e){this.textElement.textContent=e;let i=this.textElement.getBBox?.();i&&this.svgElement.setAttribute("viewBox",`${i.x} ${i.y} ${i.width} ${i.height}`)}get textContent(){return this.textElement.textContent}destructor(){}},jp=class extends Lo{constructor(){super(Ue("button")),this.setEnabled(!0)}destructor(){}setEnabled(e){Ct(this.elem,"aria-disabled",!e),qs(this.elem,"pointer-events",e?void 0:"none")}addListener(e,t){return super.addListener(e,(i,n)=>{(e==="click"||e==="dblclick")&&this.isDisabled()||t(i,n)})}},Kee=class extends Lo{constructor(){super(Ue("div")),Ct(this.elem,"role","group")}destructor(){}},Y2=class extends Lo{constructor(e,t){super(Ue("div")),this.focusedChildIndex=0,this.onChildFocus=(i,n)=>{let s=this.children[this.focusedChildIndex];this.focusedChildIndex=n.index,s?.setTabIndex(-1),n.setTabIndex(0)},this.onChildKeyDown=(i,n)=>{let s=this.orientation,[o,r]=s==="both"?[vd.horizontal,vd.vertical]:[vd[s],void 0],a=-1;if(_y(i.sourceEvent)){let l=i.sourceEvent.key;l===o.nextKey||l===r?.nextKey?a=n.index+1:(l===o.prevKey||l===r?.prevKey)&&(a=n.index-1)}this.children[a]?.focus()},this.orientation=e,Ct(this.elem,"role",t)}get orientation(){return My(this.elem,"aria-orientation")??"both"}set orientation(e){Ct(this.elem,"aria-orientation",e!=="both"?e:void 0)}focus(){this.children[this.focusedChildIndex]?.focus()}onChildAdded(e){e.addListener("focus",this.onChildFocus),e.addListener("keydown",this.onChildKeyDown),e.setTabIndex(this.children.length===1?0:-1)}onChildRemoved(e){e.removeListener("focus",this.onChildFocus),e.removeListener("keydown",this.onChildKeyDown)}},Zee=class extends Y2{constructor(){super("both","list"),this.setHidden(!0)}destructor(){this.children.forEach(e=>e.getElement().parentElement.remove())}addChildToDOM(e,t){let i=Ue("div");Ct(i,"role","listitem"),qs(i,"position","absolute"),Lo.setElementContainer(e,i),this.appendOrInsert(i,t),this.setHidden(!1)}removeChildFromDOM(e){e.getElement().parentElement.remove(),this.setHidden(this.children.length===0)}setHidden(e){this.children.length===0&&(e=!0),super.setHidden(e)}},Ed=class extends Lo{constructor(e){super(e)}destructor(){}},qee=(()=>{let e=class Xh extends Lo{constructor(){super(Ue("input")),this._step=Xh.STEP_ONE,this.orientation="both"}get step(){return this._step}set step(i){this._step=i,this.getElement().step=i.attributeValue}get keyboardStep(){return this._keyboardStep?.step??this._step}set keyboardStep(i){if(i!==this._keyboardStep?.step&&(this._keyboardStep!==void 0&&(this.removeListener("keydown",this._keyboardStep.onKeyDown),this.removeListener("keyup",this._keyboardStep.onKeyUp),this.removeListener("blur",this._keyboardStep.onBlur),this._keyboardStep=void 0),i!==void 0)){let n=()=>this.getElement().step=i.attributeValue,s=()=>this.getElement().step=this._step.attributeValue;this._keyboardStep={step:i,onKeyDown:n,onKeyUp:s,onBlur:s},this.addListener("keydown",this._keyboardStep.onKeyDown),this.addListener("keyup",this._keyboardStep.onKeyUp),this.addListener("blur",this._keyboardStep.onBlur)}}get orientation(){return My(this.elem,"aria-orientation")??"both"}set orientation(i){Ct(this.elem,"aria-orientation",i!=="both"?i:void 0),Xh.registerDefaultPreventers(this,i)}destructor(){}clampValueRatio(i,n){let s=this.getValueRatio(),o=Le(i,s,n);return o!==s&&this.setValueRatio(o),o}setValueRatio(i,n){let{divider:s}=this.step,o=Math.round(i*1e4)/s,{ariaValueText:r=u2(o/s)}=n??{},a=this.getElement();a.value=`${o}`,a.ariaValueText=r}getValueRatio(){return parseFloat(this.getElement().value)/this.step.divider}static registerDefaultPreventers(i,n){n==="both"?i.removeListener("keydown",Xh.onKeyDown):i.addListener("keydown",Xh.onKeyDown)}static onKeyDown(i,n){let s=[],{orientation:o}=n;o==="horizontal"?s=["ArrowUp","ArrowDown"]:o==="vertical"&&(s=["ArrowLeft","ArrowRight"]),s.includes(i.sourceEvent.code)&&i.sourceEvent.preventDefault()}};return e.STEP_ONE={attributeValue:"1",divider:1},e.STEP_HUNDRETH={attributeValue:"0.01",divider:100},e})(),wM=qee,Xee=class extends jp{constructor(){super(),Ct(this.elem,"role","switch"),this.setChecked(!1)}setChecked(e){Ct(this.elem,"aria-checked",e)}},Ey=class extends Y2{constructor(e="horizontal"){super(e,"toolbar")}destructor(){}};function sd(e,t){return t.params?.type===e}function Qee(e){if(e==="button")return new jp;if(e==="slider")return new wM;if(e==="toolbar")return new Ey;if(e==="group")return new Kee;if(e==="list")return new Zee;if(e==="region")return new Ed(Ue("div"));if(e==="text")return new Yee;if(e==="listswitch")return new Xee;throw Error("AG Charts - error allocating meta")}function eL(e){let t={params:e,result:void 0};return t.result=Qee(t.params.type),t}var K2=class{constructor(e,t){this.localeManager=e,this.domManager=t,this.destroyFns=[]}destroy(){this.destroyFns.forEach(e=>e())}addLocalisation(e){e(),this.destroyFns.push(this.localeManager.addListener("locale-changed",e))}createProxyContainer(e){let t=eL(e),{params:i,result:n}=t,s=n.getElement();return this.domManager.addChild("canvas-proxy",i.domManagerId,s),s.classList.add(...i.classList,"ag-charts-proxy-container"),s.role=i.type,"ariaOrientation"in i&&(s.ariaOrientation=i.ariaOrientation),sd("toolbar",t)&&(t.result.orientation=t.params.orientation),this.addLocalisation(()=>{s.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),n}createProxyElement(e){let t=eL(e);if(sd("button",t)){let{params:i,result:n}=t,s=n.getElement();if(this.initInteract(i,n),typeof i.textContent=="string")s.textContent=i.textContent;else{let{textContent:o}=i;this.addLocalisation(()=>{s.textContent=this.localeManager.t(o.id,o.params)})}this.setParent(t.params,t.result)}if(sd("slider",t)){let{params:i,result:n}=t,s=n.getElement();this.initInteract(i,n),s.type="range",s.role="presentation",s.style.margin="0px",this.addLocalisation(()=>{s.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),this.setParent(t.params,t.result)}if(sd("text",t)){let{params:i,result:n}=t;this.initElement(i,n),this.setParent(t.params,t.result)}if(sd("listswitch",t)){let{params:i,result:n}=t;this.initInteract(i,n),n.setTextContent(i.textContent),n.setChecked(i.ariaChecked),n.setAriaDescribedBy(i.ariaDescribedBy),this.setParent(t.params,t.result)}if(sd("region",t)){let{params:i,result:n}=t,s=n.getElement();this.initInteract(i,n),s.role="region",this.setParent(t.params,t.result)}return t.result}initElement(e,t){let i=t.getElement();return Ct(i,"id",e.id),qs(i,"cursor",e.cursor),i.classList.toggle("ag-charts-proxy-elem",!0),i}initInteract(e,t){let{tabIndex:i,domIndex:n}=e,s=this.initElement(e,t);i!==void 0&&(s.tabIndex=i),n!==void 0&&(t.domIndex=n)}setParent(e,t){if("parent"in e)e.parent?.addChild(t);else{let i={where:e.where,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",e.domManagerId,t.getElement(),i)}}},Jee={ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAddHorizontalLine:"Add Horizontal Line",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColorPicker:"Color picker",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",overlayUnsupportedBrowser:"Incompatible browser version. Please upgrade your browser.",seriesHistogramTooltipFrequency:"Frequency",seriesHistogramTooltipSum:"${yName} (sum)",seriesHistogramTooltipCount:"${yName} (count)",seriesHistogramTooltipMean:"${yName} (mean)",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsFibonacciRetracement:"Fib Retracement",toolbarAnnotationsFibonacciRetracementTrendBased:"Fib Trend Based",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsFibonacciAnnotations:"Fibonacci",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderFibonacciRange:"Fib Retracement",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputReverse:"Reverse",dialogInputShowFill:"Show Fill",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",dialogInputFibonacciBands:"Bands",dialogInputFibonacciBandsAltText:"Fibonacci Bands",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}"},ete=/\$\{(\w+)}(?:\[(\w+)])?/gi,Lx={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},tte=({defaultValue:e,variables:t})=>e?.replaceAll(ete,(i,n,s)=>{let o=t[n],r=s!=null?Lx[s]:null;return s!=null&&r==null&&V.warnOnce(`Format style [${s}] is not supported`),r!=null?r.format(o):typeof o=="number"?Lx.number.format(o):o instanceof Date?Lx.datetime.format(o):String(o)}),ite=class extends Mr{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.dispatch("locale-changed"))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.dispatch("locale-changed"))}t(e,t={}){let{localeText:i=Jee,getLocaleText:n}=this,s=i[e];return n?.({key:e,defaultValue:s,variables:t})??tte({key:e,defaultValue:s,variables:t})??e}},xM=class{constructor(e){this.enabled=!0,this.width=600,this.height=300;let{width:t,height:i,canvasElement:n,willReadFrequently:s=!1}=e;this.pixelRatio=e.pixelRatio??Et("devicePixelRatio")??1,this.element=n??Ue("canvas"),this.element.style.display="block",this.element.style.width=(t??this.width)+"px",this.element.style.height=(i??this.height)+"px",this.element.width=Math.round((t??this.width)*this.pixelRatio),this.element.height=Math.round((i??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:s}),this.onEnabledChange(),this.resize(t??0,i??0,this.pixelRatio),VF(this.context)}drawImage(e,t=0,i=0){return e.drawImage(this.context.canvas,t,i)}toDataURL(e){return this.element.toDataURL(e)}resize(e,t,i){if(!(e>0&&t>0))return;let{element:n,context:s}=this;n.width=Math.round(e*i),n.height=Math.round(t*i),s.setTransform(i,0,0,i,0,0),n.style.width=e+"px",n.style.height=t+"px",this.width=e,this.height=t,this.pixelRatio=i}clear(){zF(this)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}};b([xa(e=>e.onEnabledChange())],xM.prototype,"enabled",2);var nte=class{constructor(e){this.canvas=e,this.debug=wt.create(!0,"scene"),this.layersMap=new Map,this.nextLayerId=0}get size(){return this.layersMap.size}resize(e,t,i){this.canvas.resize(e,t,i),this.layersMap.forEach(({canvas:n})=>n.resize(e,t,i))}addLayer(e){let{width:t,height:i,pixelRatio:n}=this.canvas,{name:s}=e,o=new GF({width:t,height:i,pixelRatio:n});return this.layersMap.set(o,{id:this.nextLayerId++,name:s,canvas:o}),this.debug("Scene.addLayer() - layers",this.layersMap),o}removeLayer(e){this.layersMap.has(e)&&(this.layersMap.delete(e),e.destroy(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}clear(){for(let e of this.layersMap.values())e.canvas.destroy();this.layersMap.clear()}};function ste(e){for(let t of["B","KB","MB","GB"]){if(e<1536)return`${e.toFixed(1)}${t}`;e/=1024}return`${e.toFixed(1)}TB}`}function ote(){if(!("memory"in performance))return;let{totalJSHeapSize:e,usedJSHeapSize:t,jsHeapSizeLimit:i}=performance.memory,n=[];for(let s of[t,e,i])typeof s=="number"&&n.push(ste(s));return`Heap ${n.join(" / ")}`}function tL(e,t,i,n,s={},o=ne.zero){if(!wt.check("scene:stats","scene:stats:verbose"))return;let{layersRendered:r=0,layersSkipped:a=0,nodesRendered:l=0,nodesSkipped:c=0,opsPerformed:d=0,opsSkipped:u=0}=n??{},h=performance.now(),T=t,{start:p}=T,g=Je(T,["start"]),m=Object.entries(g).map(([F,N])=>iL(F,N)).filter(F=>F!=null).join(" + "),f=Object.entries(s).map(([F,N])=>`${F}: ${JSON.stringify(N)}`).join(" ; "),v=wt.check("scene:stats:verbose"),y=ote(),C=[`${iL("\u23F1\uFE0F",p,h)} (${m})`,`${f}`,`Layers: ${v?Fx(r,a):e.size}`,v?`Nodes: ${Fx(l,c)}`:null,v?`Ops: ${Fx(d,u)}`:null,v&&y?y:null].filter(Tn),S=new eM(F=>i.measureText(F)),M=new Map(C.map(F=>[F,S.measureLines(F)])),D=Math.max(...Array.from(M.values(),F=>F.width)),E=ute(M.values(),F=>F.height),R=2+o.x;i.save(),i.fillStyle="white",i.fillRect(R,0,D,E),i.fillStyle="black";let I=0;for(let[F,N]of M.entries())I+=N.height,i.fillText(F,R,I);i.restore()}function rte(e){let t=Ev(Et("agChartsSceneDebug")),i=[];for(let n of t)n==="layout"?i.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):i.push(n);e.debugNodeSearch=i}function ate(e,t){e.save();for(let[i,n]of Object.entries(t)){let s=Kt.toCanvas(n);if(!s){V.log(`Scene.render() - no bbox for debugged node [${i}].`);continue}e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(s.x,s.y,s.width,s.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(i,s.x,s.y,s.width),e.fillText(i,s.x,s.y,s.width)}e.restore()}var lte=new Set,cte=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function dte(e){let t=Je(e,[]);for(let i of Object.keys(t))cte.has(i)||typeof t[i]!="number"&&typeof t[i]!="string"&&typeof t[i]!="boolean"&&(lte.add(i),delete t[i]);return t}function wv(e,t){if(!wt.check(!0,"scene"))return{};let i=0;return w({node:t==="json"?dte(e):e,name:e.name??e.id,dirty:e.dirty},Array.from(e.children(),n=>wv(n,t)).reduce((n,s)=>{let{name:o}=s,{node:{visible:r,opacity:a,zIndex:l,translationX:c,translationY:d,rotation:u,scalingX:h,scalingY:p},node:g}=s;(!r||a<=0)&&(o=`(${o})`),_e.is(g)&&g.renderToOffscreenCanvas&&(o=`*${o}*`);let m=Array.isArray(l)?`(${l.join(", ")})`:l,f=[`${(i++).toString().padStart(3,"0")}|`,`${o??"<unknown>"}`,`z: ${m}`,c&&`x: ${c}`,d&&`y: ${d}`,u&&`r: ${u}`,h!=null&&h!==1&&`sx: ${h}`,p!=null&&p!==1&&`sy: ${p}`].filter(C=>!!C).join(" "),v=f,y=1;for(;n[v]!=null&&y<100;)v=`${f} (${y++})`;return n[v]=s,n},{}))}function Z2(e){if(!e.dirty)return{dirtyTree:{},paths:[]};let t=Array.from(e.children(),s=>Z2(s)).filter(s=>s.paths.length>0),i=_e.is(e)?e.name??e.id:e.id,n=t.length?t.flatMap(s=>s.paths).map(s=>`${i}.${s}`):[i];return{dirtyTree:w({name:i,node:e,dirty:e.dirty},t.map(s=>s.dirtyTree).filter(s=>s.dirty!=null).reduce((s,o)=>(s[o.name??"<unknown>"]=o,s),{})),paths:n}}function Fx(e,t){let i=e+t;return`${e} / ${i} (${Math.round(100*e/i)}%)`}function iL(e,t,i){let n=i!=null?i-t:t;return`${e}: ${Math.round(n*100)/100}ms`}function ute(e,t){let i=0;for(let n of e)i+=t(n);return i}var SM=(()=>{let e=class{constructor(t){this.debug=wt.create(!0,"scene"),this.id=ks(this),this.root=null,this.pendingSize=null,this.isDirty=!1,this.canvas=new xM(t),this.layersManager=new nte(this.canvas)}get width(){return this.pendingSize?.[0]??this.canvas.width}get height(){return this.pendingSize?.[1]??this.canvas.height}get pixelRatio(){return this.pendingSize?.[2]??this.canvas.pixelRatio}setContainer(t){let{element:i}=this.canvas;return i.parentElement?.removeChild(i),t.appendChild(i),this}setRoot(t){return this.root===t?this:(this.isDirty=!0,this.root?._setLayerManager(),this.root=t,t&&(t.visible=!0,t._setLayerManager(this.layersManager)),this)}clear(){this.canvas.clear()}attachNode(t){return this.appendChild(t),()=>this.removeChild(t)}appendChild(t){return this.root?.appendChild(t),this}removeChild(t){return this.root?.removeChild(t),this}download(t,i){oF(this.canvas.toDataURL(i),t?.trim()??"image")}getDataURL(t){return this.canvas.toDataURL(t)}resize(t,i,n){return t=Math.round(t),i=Math.round(i),n??(n=this.pixelRatio),t>0&&i>0&&(t!==this.width||i!==this.height||n!==this.pixelRatio)?(this.pendingSize=[t,i,n],this.isDirty=!0,!0):!1}render(t){let{debugSplitTimes:i={start:performance.now()},extraDebugStats:n,seriesRect:s}=t??{},{canvas:o,canvas:{context:r}={},root:a,pendingSize:l,width:c,height:d,pixelRatio:u}=this;if(!r)return;let h=performance.now();if(l&&(this.layersManager.resize(...l),this.pendingSize=null),a&&!a.visible){this.isDirty=!1;return}if(a?.dirty===!1&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{tree:wv(a,"console")}),tL(this.layersManager,i,r,void 0,n,s);return}let p={ctx:r,width:c,height:d,devicePixelRatio:u,debugNodes:{}};wt.check("scene:stats:verbose")&&(p.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0,opsPerformed:0,opsSkipped:0}),rte(p);let g=!1;if(a?.dirty!==!1&&(g=!0,o.clear()),a&&wt.check("scene:dirtyTree")){let{dirtyTree:m,paths:f}=Z2(a);wt.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:m,paths:f})}if(a&&g){if(a.visible&&a.preRender(p),this.debug.check()){let m=wv(a,"console");this.debug("Scene.render() - before",{canvasCleared:g,tree:m})}a.visible&&(r.save(),a.render(p),r.restore())}i["\u270D\uFE0F"]=performance.now()-h,r.verifyDepthZero?.(),this.isDirty=!1,tL(this.layersManager,i,r,p.stats,n,s),ate(r,p.debugNodes),a&&this.debug.check()&&this.debug("Scene.render() - after",{tree:wv(a,"console"),canvasCleared:g})}toSVG(){let{root:t,width:i,height:n}=this;if(t!=null)return ba.toSVG(t,i,n)}strip(){let{context:t,pixelRatio:i}=this.canvas;t.setTransform(i,0,0,i,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};return e.className="Scene",e})(),hte=class{constructor(){this.cache=new WeakMap}call(e,...t){let i,n=this.cache.get(e);try{i=JSON.stringify(t)}catch{return this.invoke(e,t,n)}return n==null&&(n=new Map,this.cache.set(e,n)),n.has(i)?n.get(i):this.invoke(e,t,n,i)}invoke(e,t,i,n){try{let s=e(...t);return i&&n!=null&&i.set(n,s),s}catch(s){V.warnOnce("User callback errored, ignoring",s);return}}invalidateCache(){this.cache=new WeakMap}},pte=class extends Da{constructor(e){super(),this.annotationRoot=e,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return e==null||It(e)}restoreMemento(e,t,i){this.annotations=this.cleanData(i??[]).map(n=>{let s=this.getAnnotationTypeStyles(n.type);return He(n,s)}),this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:this.annotations})}updateData(e){this.annotations=this.cleanData(e??[])}attachNode(e){return this.annotationRoot.append(e),()=>(this.annotationRoot?.removeChild(e),this)}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){return this.styles?.[e]}cleanData(e){for(let t of e)"textAlign"in t&&delete t.textAlign;return e}},gte=class{constructor(e){this.sceneRoot=e,this.axes=new Map,this.axisGridGroup=new _e({name:"Axes-Grids",zIndex:1}),this.axisGroup=new _e({name:"Axes",zIndex:2}),this.axisLabelGroup=new _e({name:"Axes-Labels",zIndex:13}),this.axisCrosslineRangeGroup=new _e({name:"Axes-Crosslines-Range",zIndex:4}),this.axisCrosslineLineGroup=new _e({name:"Axes-Crosslines-Line",zIndex:8}),this.axisCrosslineLabelGroup=new _e({name:"Axes-Crosslines-Label",zIndex:13}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup),this.sceneRoot.appendChild(this.axisLabelGroup),this.sceneRoot.appendChild(this.axisCrosslineRangeGroup),this.sceneRoot.appendChild(this.axisCrosslineLineGroup),this.sceneRoot.appendChild(this.axisCrosslineLabelGroup)}updateAxes(e,t){let i={axisNode:this.axisGroup,gridNode:this.axisGridGroup,labelNode:this.axisLabelGroup,crossLineRangeNode:this.axisCrosslineRangeGroup,crossLineLineNode:this.axisCrosslineLineGroup,crossLineLabelNode:this.axisCrosslineLabelGroup};for(let n of e)t.includes(n)||(n.detachAxis(i),n.destroy());for(let n of t)e?.includes(n)||n.attachAxis(i);this.axes.clear();for(let n of t){let s=n.createAxisContext();this.axes.has(s.direction)?this.axes.get(s.direction)?.push(s):this.axes.set(s.direction,[s])}}getAxisContext(e){return this.axes.get(e)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},Iy=class extends Mr{constructor(e){super(),this.animationManager=e,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=wt.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){typeof e=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(e){this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(e){return CT(t=>this.fetch(t).catch(i=>V.error("callback failed",i)),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return CT((t,i)=>{this.debug(`DataService - dispatching 'data-load' | ${t}`),this.dispatch("data-load",{type:"data-load",data:i})},e,{leading:!0,trailing:!0})}fetch(e){return Pe(this,null,function*(){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");let t=performance.now(),i=this.requestCounter++;this.debug(`DataService - requesting | ${i}`),this.freshRequests.push(i);let n;try{n=yield this.dataSourceCallback(e),this.debug(`DataService - response | ${performance.now()-t}ms | ${i}`)}catch(o){this.debug(`DataService - request failed | ${i}`),V.errorOnce(`DataService - request failed | [${o}]`)}this.isLoadingInitialData=!1;let s=this.freshRequests.findIndex(o=>o===i);if(s===-1||this.dispatchOnlyLatest&&s!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${i}`);return}this.freshRequests=this.freshRequests.slice(s+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(n)?this.throttledDispatch(i,n):this.dispatch("data-error")})}};b([Pn({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],Iy.prototype,"dispatchThrottle",2);b([Pn({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],Iy.prototype,"requestThrottle",2);var nL=class{constructor(e){this.maxAnimationTime=e,this.debug=wt.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(ld.map(t=>[t,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(ld[this.currentPhase])??[]}checkOverlappingId(e){e!=null&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){if(e.isComplete)return;if(ld.indexOf(e.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",e.id),e.stop();return}this.controllers.set(e.id,e),this.phases.get(e.phase)?.push(e)}removeAnimation(e){this.controllers.delete(e.id);let t=this.phases.get(e.phase),i=t?.indexOf(e);i!=null&&i>=0&&t?.splice(i,1)}progress(e){if(!this.isReady)return;let t=e===0?.01:e,i=()=>{let c=ld[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:c,phaseMeta:hp[c]}},{phase:n,phaseControllers:s,phaseMeta:o}=i(),r=()=>ld[this.currentPhase]==null,a=()=>{for({phase:n,phaseControllers:s,phaseMeta:o}=i();!r()&&s.length===0;)this.currentPhase++,{phase:n,phaseControllers:s,phaseMeta:o}=i(),this.debug(`AnimationBatch - phase changing to ${n}`,{unusedTime:t},s)},l=this.controllers.size;this.debug(`AnimationBatch - ${e}ms; phase ${n} with ${s?.length} of ${l}`);do{let c=t,d=o.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0,u=0;for(let h of s)d?h.stop():t=Math.min(h.update(c),t),h.isComplete&&(u++,this.removeAnimation(h));this.animationTimeConsumed+=c-t,this.debug(`AnimationBatch - updated ${s.length} controllers; ${u} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),a()}while(t>0&&!r());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let e=!0;for(let[,t]of this.controllers)if(t.duration>0&&hp[t.phase].skipIfNoEarlierAnimations!==!0){e=!1;break}if(!e)for(let[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(e=!0){if(this.skipAnimations===!1&&e===!0){for(let t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(let e of this.controllers.values())e.play()}stop(){for(let e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){V.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(e){if(e!=null&&this.controllers.has(e)){let t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(let t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(e=>e()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}},q2=(e=>(e[e.Default=32]="Default",e[e.ZoomDrag=16]="ZoomDrag",e[e.Annotations=8]="Annotations",e[e.ContextMenu=4]="ContextMenu",e[e.Animation=2]="Animation",e[e.AnnotationsSelected=1]="AnnotationsSelected",e[e.Clickable=41]="Clickable",e[e.Focusable=34]="Focusable",e[e.Keyable=43]="Keyable",e[e.ContextMenuable=36]="ContextMenuable",e[e.AnnotationsMoveable=9]="AnnotationsMoveable",e[e.AnnotationsDraggable=57]="AnnotationsDraggable",e[e.ZoomDraggable=50]="ZoomDraggable",e[e.ZoomClickable=34]="ZoomClickable",e[e.ZoomWheelable=59]="ZoomWheelable",e[e.All=63]="All",e))(q2||{}),X2=class{constructor(){this.stateQueue=34}pushState(e){this.stateQueue|=e}popState(e){this.stateQueue&=~e}isState(e){return!!(this.stateQueue&-this.stateQueue&e)}};function sL(e){return e==null?!0:!isNaN(e)&&e>=0&&e<=2}var Q2=class{constructor(e,t){this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new nL(this.defaultDuration*1.5),this.debug=wt.create(!0,"animation"),this.events=new FS,this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(e,t){return this.events.on(e,t)}animate(e){let t=this.batch;try{t.checkOverlappingId(e.id)}catch(a){this.failsafeOnError(a);return}let{id:i}=e;i==null&&(i=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);let n=this.isSkipped()||e.phase==="none";n&&this.debug("AnimationManager - skipping animation");let{delay:s,duration:o}=e;if(!sL(s))throw new Error(`Animation delay of ${s} is unsupported (${i})`);if(!sL(o))throw new Error(`Animation duration of ${o} is unsupported (${i})`);let r=new vF(A(w({},e),{id:i,skip:n,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration}));if(!this.forceTimeJump(r,this.defaultDuration))return this.batch.addAnimation(r),r}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(e=!0){this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=Et().requestAnimationFrame(t=>{e(t).catch(i=>V.error(i))})}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let e,t=i=>Pe(this,null,function*(){let n=()=>{let s=i-(e??i);e=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:s}),this.interactionManager.pushState(2);try{this.batch.progress(s)}catch(o){this.failsafeOnError(o)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:s})};this.isSkippingFrames()?yield this.chartUpdateMutex.acquireImmediately(n):yield this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(t):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))});this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(e,t=!0){V.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.destroy(),this.batch=new nL(this.defaultDuration*1.5),e===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}destroy(){this.stop(),this.events.clear()}},J2=class extends Da{seriesEvent(e){this.listeners.dispatch(e,{type:e})}seriesKeyNavZoom(e,t){let i={type:"series-keynav-zoom",delta:e,widgetEvent:t};this.listeners.dispatch("series-keynav-zoom",i)}legendItemClick(e,t,i,n,s){let o={type:"legend-item-click",legendType:e,series:t,itemId:i,enabled:n,legendItemName:s};this.listeners.dispatch("legend-item-click",o)}legendItemDoubleClick(e,t,i,n,s,o){let r={type:"legend-item-double-click",legendType:e,series:t,itemId:i,enabled:n,legendItemName:o,numVisibleItems:s};this.listeners.dispatch("legend-item-double-click",r)}},eP=class{constructor(){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new Mr}static check(e,t){return t.type===e}static checkCallback(e,t,i){return e===t}dispatchContext(e,t,i,n){let{sourceEvent:s}=t,o=n?.x??t.canvasX,r=n?.y??t.canvasY;s.stopPropagation();let a={type:e,x:o,y:r,context:i,sourceEvent:s};this.listeners.dispatch("",a)}addListener(e){return this.listeners.addListener("",e)}filterActions(e){return this.defaultActions.filter(t=>t.id!=null&&!this.hiddenActions.has(t.id)&&["all",e].includes(t.type))}registerDefaultAction(e){let t=e.id!=null&&!this.defaultActions.some(({id:i})=>i===e.id);return t&&this.defaultActions.push(e),()=>{let i=t?this.defaultActions.findIndex(({id:n})=>n===e.id):-1;i!==-1&&this.defaultActions.splice(i,1)}}enableAction(e){this.disabledActions.delete(e)}disableAction(e){this.disabledActions.add(e)}showAction(e){this.hiddenActions.add(e)}hideAction(e){this.hiddenActions.delete(e)}isDisabled(e){return this.disabledActions.has(e)}},tP=class extends Da{constructor(){super(...arguments),this.highlightStates=new _d}updateHighlight(e,t){let{activeHighlight:i}=this;this.highlightStates.set(e,t),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i,callerId:e})}getActiveHighlight(){return this.activeHighlight}isEqual(e,t){return e===t||e!=null&&t!=null&&e?.series===t?.series&&e?.itemId===t?.itemId&&e?.datum===t?.datum}};function oL(e,t){if(e==null||t.length===0)return[!1,!1];let i=e.valueOf(),n=t[0],s=t[t.length-1];if(typeof n=="string")return[i===n,i===s];let o=n.valueOf(),r=s.valueOf();return o>r&&([o,r]=[r,o]),[i===o,i===r]}function fa(e,t,i,n,s){let{xValue:o,yValue:r}=e,[a,l]=oL(r,s),[c,d]=oL(o,n);return{datum:e,xKey:t,yKey:i,xValue:o,yValue:r,first:c,last:d,min:a,max:l}}function iP(e,[t,i],n){let s=eF(0,e-1,r=>{let a=n(r)?.[1]??NaN;return!Number.isFinite(a)||a>t})??0,o=JL(0,e-1,r=>{let a=n(r)?.[0]??NaN;return!Number.isFinite(a)||a<i})??e-1;return o=Math.min(o+1,e),[s,o]}function MM(e,t){let i=t.yBar?.upperPoint??t.midPoint??e.datumMidPoint?.(t);if(i){let{x:n,y:s}=Kt.toCanvasPoint(e.contentGroup,i.x,i.y);return{canvasX:Math.round(n),canvasY:Math.round(s)}}}function nP(e,t,i,n,s){let o=-1,r=0,a=0,l=!1;for(;r<n&&o<=t-e;){o+=1;let c=i+a;if(l||(a*=-1),a>=0&&(a+=1),l&&a<0&&(a-=1),c<e||c>t){l=!0;continue}s(c)&&(r+=1)}return r}var zv=class{constructor(e,t){this.domManager=e,this.tooltip=t,this.stateTracker=new _d,this.suppressState=new _d(!1),this.appliedState=null,t.setup(e),e.addListener("hidden",()=>this.tooltip.hide())}updateTooltip(e,t,i){this.tooltip.enabled&&(i??(i=this.stateTracker.get(e)?.content),this.stateTracker.set(e,{content:i,meta:t}),this.applyStates())}removeTooltip(e){this.tooltip.enabled&&(this.stateTracker.delete(e),this.applyStates())}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){let e=this.stateTracker.stateId(),t=e?this.stateTracker.get(e):null;if(this.suppressState.stateValue()||t?.meta==null||t?.content==null){this.appliedState=null,this.tooltip.hide();return}let i=this.domManager.getBoundingClientRect(),n=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():i;if(this.appliedState?.content===t?.content){let s=this.tooltip.isVisible();this.tooltip.show(n,i,t?.meta,null,s)}else this.tooltip.show(n,i,t?.meta,t?.content);this.appliedState=t}static makeTooltipMeta(e,t,i){let{canvasX:n,canvasY:s}=e,o=t.properties.tooltip,r={canvasX:n,canvasY:s,enableInteraction:o.interaction?.enabled??!1,lastPointerEvent:{type:e.type,canvasX:n,canvasY:s},showArrow:o.showArrow,position:{type:o.position.type,xOffset:o.position.xOffset,yOffset:o.position.yOffset}},a=MM(t,i);return(o.position.type==="node"||o.position.type==="sparkline")&&a?A(w({},r),{canvasX:a.canvasX,canvasY:a.canvasY}):r}isEnteringInteractiveTooltip(e){let{tooltip:t}=this,i=e.sourceEvent.relatedTarget;return t.interactive&&t.enabled&&t.isVisible()&&t.contains(i)}},rL=3,mte=505;function Px(e,t,i){let{offsetX:n,offsetY:s,clientX:o,clientY:r,currentX:a,currentY:l,sourceEvent:c}=i;return{type:t,device:e,offsetX:n,offsetY:s,clientX:o,clientY:r,currentX:a,currentY:l,sourceEvent:c}}function aL(e,t){let i=e*e+t*t,n=rL*rL;return i>=n}var sP=class{constructor(e){this.destroyFns=[],this.listeners=new Mr,this.isDragging=!1,this.touch={distanceTravelledX:0,distanceTravelledY:0,clientX:0,clientY:0},this.destroyFns.push(e.addListener("touchstart",this.onTouchStart.bind(this)),e.addListener("touchmove",this.onTouchMove.bind(this)),e.addListener("touchend",this.onTouchEnd.bind(this)),e.addListener("mousemove",this.onMouseMove.bind(this)),e.addListener("dblclick",this.onDblClick.bind(this)),e.addListener("drag-start",this.onDragStart.bind(this)),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",this.onDragEnd.bind(this)))}destroy(){this.destroyFns.forEach(e=>e()),this.listeners.destroy()}addListener(e,t){return this.listeners.addListener(e,t)}dispatch(e){this.listeners.dispatch(e.type,e)}onTouchStart(e){let{clientX:t,clientY:i}=e.sourceEvent.targetTouches.item(0)??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX=0,this.touch.distanceTravelledY=0,this.touch.clientX=t,this.touch.clientY=i}onTouchMove(e){let{clientX:t,clientY:i}=e.sourceEvent.targetTouches.item(0)??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX+=Math.abs(this.touch.clientX-t),this.touch.distanceTravelledY+=Math.abs(this.touch.clientY-i),this.touch.clientX=t,this.touch.clientY=i}onTouchEnd(e){e.sourceEvent.preventDefault()}onMouseMove(e){this.dispatch(e)}onDblClick(e){this.dispatch(w({device:"mouse"},e))}onDragStart(e){this.dragStartEvent=e}onDragMove(e){this.dragStartEvent!=null&&aL(e.originDeltaX,e.originDeltaY)&&(this.dispatch(this.dragStartEvent),this.dispatch(A(w({},this.dragStartEvent),{type:"drag-move"})),this.dragStartEvent=void 0,this.isDragging=!0),this.isDragging&&this.dispatch(e)}onDragEnd(e){if(this.isDragging){this.dispatch(e),this.isDragging=!1;return}if(e.device==="mouse"){let t=Px("mouse","click",e);this.dispatch(t)}else if(e.sourceEvent.type==="touchend"){if(aL(this.touch.distanceTravelledX,this.touch.distanceTravelledY))return;let t=Px("touch","click",e);this.dispatch(t);let i=Date.now();if(this.lastClickTime!==void 0&&i-this.lastClickTime<=mte){let n=Px(e.device,"dblclick",e);this.dispatch(n),this.lastClickTime=void 0}else this.lastClickTime=i}}},Ox=class extends Ed{constructor(e){super(e)}addChildToDOM(){}removeChildFromDOM(){}},fte=class{constructor(e){this.seriesWidget=new Ox(e.getParent("series-area")),this.chartWidget=new Ox(e.getParent("canvas-proxy")),this.containerWidget=new Ox(e.getParent("canvas-container")),this.containerWidget.addChild(this.chartWidget),this.chartWidget.addChild(this.seriesWidget),this.seriesDragInterpreter=new sP(this.seriesWidget)}destroy(){this.seriesDragInterpreter.destroy(),this.seriesWidget.destroy(),this.chartWidget.destroy(),this.containerWidget.destroy()}},vS={bottomCenter:wte,center:Cte,clone:Dte,collides:_te,end:yte,from:Ete,height:Ste,round:Mte,start:vte,topCenter:bte,origin:Ite,width:xte};function vte(e){return{x:e.x1,y:e.y1}}function yte(e){return{x:e.x2,y:e.y2}}function bte(e){return{x:(e.x1+e.x2)/2,y:Math.min(e.y1,e.y2)}}function Cte(e){return{x:(e.x1+e.x2)/2,y:(e.y1+e.y2)/2}}function wte(e){return{x:(e.x1+e.x2)/2,y:Math.max(e.y1,e.y2)}}function xte(e){return Math.abs(e.x2-e.x1)}function Ste(e){return Math.abs(e.y2-e.y1)}function Mte(e){return{x1:Math.round(e.x1),y1:Math.round(e.y1),x2:Math.round(e.x2),y2:Math.round(e.y2)}}function Dte(e){return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}function _te(e,t){let i=lL(e),n=lL(t);return i.x1<=n.x2&&i.x2>=n.x1&&i.y1<=n.y2&&i.y2>=n.y1}function lL(e){return{x1:Math.min(e.x1,e.x2),x2:Math.max(e.x1,e.x2),y1:Math.min(e.y1,e.y2),y2:Math.max(e.y1,e.y2)}}function Ete(e,t,i,n){if(typeof e=="number")return{x1:e,y1:t,x2:i,y2:n};if("width"in e)return{x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height};throw new Error(`Values can not be converted into a vector4: [${JSON.stringify(e)}] [${t}] [${i}] [${n}]`)}function Ite(){return{x1:0,y1:0,x2:0,y2:0}}function rv(e,t,i,n,s){return t+(n-t)*((s-e)/(i-e))}function cL(e,t,i,n,s){return e+(s-t)*((i-e)/(n-t))}function dL(e,t,i){return[cL(e,i.min,t,i.max,0),cL(e,i.min,t,i.max,1)]}function Rte(e,t,i){let[n,s]=dL(e.x1,e.x2,t),[o,r]=dL(e.y1,e.y2,i);return{x1:n,x2:s,y1:o,y2:r}}function uL(e,t,i,n,s,o){if(i<=s&&o<=n)return i;let r=s-i,a=o-n,l=Math.abs(r)<Math.abs(a)?r:a;return Le(e,i+l,t)}function Ate(e,t,i){let{x:n={min:0,max:1},y:s={min:0,max:1}}=t,o=vS.from(i),r=vS.from(e),a=Rte(r,n,s),l=uL(a.x1,a.x2,r.x1,r.x2,o.x1,o.x2),c=uL(a.y1,a.y2,r.y1,r.y2,o.y1,o.y2);return{x:{min:rv(r.x1,n.min,r.x2,n.max,l),max:rv(r.x1,n.min,r.x2,n.max,l+e.width)},y:{min:rv(r.y1,s.min,r.y2,s.max,c),max:rv(r.y1,s.min,r.y2,s.max,c+e.height)}}}var kte=["rangeX","rangeY","ratioX","ratioY","autoScaledAxes"],Tte=class{constructor(){this.enabled=!1,this.padding=0,this.manuallyAdjusted=!1}},hL=e=>en((t,i)=>!ct.is(e?.scale)&&!_o.is(e?.scale)||t==null||i.end==null?!0:t<=i.end,"to be less than end"),oP=class extends Da{constructor(e,t){super(),this.fireChartEvent=e,this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new _d(void 0,"initial"),this.axes=[],this.didLayoutAxes=!1,this.autoScaleYAxis=new Tte,this.lastRestoredState=void 0,this.independentAxes=!1,this.navigatorModule=!1,this.zoomModule=!1,this.pendingMemento=void 0,this.destroyFns.push(t.addListener("layout:complete",()=>{let{pendingMemento:i}=this,n=!this.didLayoutAxes;this.didLayoutAxes=!0,i?this.restoreMemento(i.version,i.mementoVersion,i.memento):n&&this.autoScaleYZoom("zoom-manager")}))}createMemento(){return this.getMementoRanges()}guardMemento(e,t){if(e==null)return!0;if(!ki(e))return!1;for(let r of Object.keys(e))if(!kte.includes(r))return!1;let i=this.getPrimaryAxis("x"),n=this.getPrimaryAxis("y"),s={rangeX:{start:Qf(kl(ar,Jf),hL(i)),end:kl(ar,Jf)},rangeY:{start:Qf(kl(ar,Jf),hL(n)),end:kl(ar,Jf)},ratioX:{start:Qf(ev,ST("end")),end:ev},ratioY:{start:Qf(ev,ST("end")),end:ev},autoScaledAxes:eS(EX("y"))},o=ey(e,s);return o.errors.length>0?(t.push(...o.errors.map(r=>r.message)),!1):!0}restoreMemento(e,t,i){let{independentAxes:n}=this;if(!this.axes||!this.didLayoutAxes){this.pendingMemento={version:e,mementoVersion:t,memento:i};return}this.pendingMemento=void 0;let s=this.getDefinedZoom();if(i?.rangeX?s.x=this.rangeToRatio(i.rangeX,"x")??{min:0,max:1}:i?.ratioX?s.x={min:i.ratioX.start??0,max:i.ratioX.end??1}:s.x={min:0,max:1},!this.navigatorModule||this.zoomModule){let a=i?.autoScaledAxes?.includes("y");i?.rangeY?(s.y=this.rangeToRatio(i.rangeY,"y")??{min:0,max:1},a??(a=!1)):i?.ratioY?(s.y={min:i.ratioY.start??0,max:i.ratioY.end??1},a??(a=!1)):(s.y={min:0,max:1},a??(a=!0)),s.autoScaleYAxis=a}if(this.lastRestoredState=s,n!==!0){this.updateZoom("zoom-manager",s);return}let o=this.getPrimaryAxis("x"),r=this.getPrimaryAxis("y");for(let a of[o,r])a&&this.updateAxisZoom("zoom-manager",a.id,s[a.direction])}updateAxes(e){this.axes=e;let t=new Map(e.map(i=>[i.id,this.axisZoomManagers.get(i.id)]));this.axisZoomManagers.clear();for(let i of e)this.axisZoomManagers.set(i.id,t.get(i.id)??new Lte(i));this.state.size>0&&e.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}setIndependentAxes(e=!0){this.independentAxes=e}setAutoScaleYAxis(e,t){this.autoScaleYAxis.enabled=e,this.autoScaleYAxis.padding=t}setNavigatorEnabled(e=!0){this.navigatorModule=e}setZoomModuleEnabled(e=!0){this.zoomModule=e}isZoomEnabled(){return this.zoomModule}updateZoom(e,t){if(t?.x&&(t.x.min<0||t.x.max>1)&&(V.warnOnce(`Attempted to update x-axis zoom to an invalid ratio of [{ min: ${t.x.min}, max: ${t.x.max} }], expecting a ratio of 0 to 1, ignoring.`),t.x=void 0),t?.y&&(t.y.min<0||t.y.max>1)&&(V.warnOnce(`Attempted to update y-axis zoom to an invalid ratio of [{ min: ${t.y.min}, max: ${t.y.max} }], expecting a ratio of 0 to 1, ignoring.`),t.y=void 0),this.axisZoomManagers.size===0){let n=this.state.stateId();(n==="initial"||n===e)&&this.state.set(e,t);return}this.state.set(e,t);let i=t?.autoScaleYAxis;i!=null&&(this.autoScaleYAxis.manuallyAdjusted=!i),this.axisZoomManagers.forEach(n=>{n.updateZoom(e,t?.[n.getDirection()])}),this.applyChanges(e)}updateAxisZoom(e,t,i){this.axisZoomManagers.get(t)?.updateZoom(e,i),this.applyChanges(e)}resetZoom(e){this.autoScaleYAxis.manuallyAdjusted=!1;let t=this.getRestoredZoom();this.updateZoom(e,{x:{min:t?.x?.min??0,max:t?.x?.max??1},y:{min:t?.y?.min??0,max:t?.y?.max??1},autoScaleYAxis:t?.autoScaleYAxis??!0})}resetAxisZoom(e,t){let n=this.axisZoomManagers.get(t)?.getDirection();if(n==null)return;let s=this.getRestoredZoom();if(n==="y"){let o=s?.autoScaleYAxis??!0;this.autoScaleYAxis.manuallyAdjusted=!o}this.updateAxisZoom(e,t,s?.[n]??{min:0,max:1})}setAxisManuallyAdjusted(e,t){this.axisZoomManagers.get(t)?.getDirection()==="y"&&(this.autoScaleYAxis.manuallyAdjusted=!0)}updatePrimaryAxisZoom(e,t,i){let n=this.getPrimaryAxis(t);n&&this.updateAxisZoom(e,n.id,i)}panToBBox(e,t,i){if(!this.isZoomEnabled())return!1;let n=this.getZoom();if(n===void 0||!n.x&&!n.y)return!1;if(!(t.width>0&&t.height>0&&Math.abs(i.width)<=Math.abs(t.width)&&Math.abs(i.height)<=Math.abs(t.height)))return V.warnOnce("cannot pan to target BBox - chart too small?"),!1;let o=Ate(t,n,i);return this.independentAxes?(this.updatePrimaryAxisZoom(e,"x",o.x),this.updatePrimaryAxisZoom(e,"y",o.y)):this.updateZoom(e,o),!0}fireZoomPanStartEvent(e){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:e})}extendToEnd(e,t,i){return this.extendWith(e,t,n=>Number(n)-i)}extendWith(e,t,i){let n=this.getPrimaryAxis(t);if(!n)return;let s=this.getDomainExtents(n);if(!s)return;let[,o]=s,r=i(o),a=this.rangeToRatio({start:r,end:o},t);a&&this.updateZoom(e,{[t]:a})}updateWith(e,t,i){let n=this.getPrimaryAxis(t);if(!n)return;let s=this.getDomainExtents(n);if(!s)return;let[o,r]=s;[o,r]=i(o,r);let a=this.rangeToRatio({start:o,end:r},t);a&&this.updateZoom(e,{[t]:a})}getZoom(){let e,t;if(this.axisZoomManagers.forEach(i=>{i.getDirection()==="x"?e??(e=i.getZoom()):i.getDirection()==="y"&&(t??(t=i.getZoom()))}),e||t)return{x:e,y:t}}getAxisZoom(e){return this.axisZoomManagers.get(e)?.getZoom()??{min:0,max:1}}getAxisZooms(){let e={};for(let[t,i]of this.axisZoomManagers.entries())e[t]={direction:i.getDirection(),zoom:i.getZoom()};return e}getRestoredZoom(){return this.lastRestoredState}getPrimaryAxisId(e){return this.getPrimaryAxis(e)?.id}isVisibleItemsCountAtLeast(e,t){let i=this.getPrimaryAxis("x"),n=this.getPrimaryAxis("y"),s=new Set,o=0,r=[e.x.min,e.x.max],a=[e.y.min,e.y.max];for(let l of i?.boundSeries??[]){s.add(l.id);let c=t-(o??0),d=l.getVisibleItems(r,a,c);if(o+=d,o>=t)return!0}for(let l of n?.boundSeries??[]){if(s.has(l.id))continue;let c=t-(o??0),d=l.getVisibleItems(r,a,c);if(o+=d,o>=t)return!0}return s.size===0}getMementoRanges(){let e=this.getDefinedZoom(),t;return this.autoScaleYAxis.enabled&&(t=this.autoScaleYAxis.manuallyAdjusted?[]:["y"]),{rangeX:this.getRangeDirection(e.x,"x"),rangeY:this.getRangeDirection(e.y,"y"),ratioX:{start:e.x.min,end:e.x.max},ratioY:{start:e.y.min,end:e.y.max},autoScaledAxes:t}}autoScaleYZoom(e,t=!0){if(!this.isZoomEnabled())return;let{independentAxes:i,autoScaleYAxis:n}=this,s=this.getZoom();if(s?.x==null||!n.enabled||n.manuallyAdjusted)return;let{padding:o}=n,r;if(s.x?.min===0&&s.x?.max===1?r={min:0,max:1}:i?r=this.primaryAxisZoom("y",s.x,{padding:o}):r=this.combinedAxisZoom("y",s.x,{padding:o}),r!=null){if(i){let a=this.getPrimaryAxis("y");(a==null?void 0:this.axisZoomManagers.get(a.id))?.updateZoom("zoom-manager",r)}else for(let a of this.axisZoomManagers.values())a.getDirection()==="y"&&a.updateZoom("zoom-manager",r);t&&this.applyChanges(e)}}applyChanges(e){if(this.autoScaleYZoom(e,!1),!Array.from(this.axisZoomManagers.values(),n=>n.applyChanges()).includes(!0))return;let i={};for(let[n,s]of this.axisZoomManagers.entries())i[n]=s.getZoom();this.listeners.dispatch("zoom-change",A(w({type:"zoom-change"},this.getZoom()),{axes:i,callerId:e})),this.fireChartEvent(w({type:"zoom"},this.getMementoRanges()))}getRangeDirection(e,t){let i=this.getPrimaryAxis(t);if(!i||!ct.is(i.scale)&&!_o.is(i.scale))return;let n=this.getDomainPixelExtents(i);if(!n)return;let[s,o]=n,r,a;return s<=o?(r=i.scale.invert(0),a=i.scale.invert(s+(o-s)*e.max)):(r=i.scale.invert(s-(s-o)*e.min),a=i.scale.invert(0)),{start:r,end:a}}rangeToRatio(e,t){let i=this.getPrimaryAxis(t);if(!i)return;let n=this.getDomainPixelExtents(i);if(!n)return;let[s,o]=n,r=e.start==null?s:i.scale.convert?.(e.start),a=e.end==null?o:i.scale.convert?.(e.end);if(!nt(r)||!nt(a))return;let[l,c]=[Math.min(s,o),Math.max(s,o)];if(r<l||r>c){V.warnOnce(`Invalid range start [${e.start}], expecting a value between [${i.scale.invert?.(s)}] and [${i.scale.invert?.(o)}], ignoring.`);return}if(a<l||a>c){V.warnOnce(`Invalid range end [${e.end}], expecting a value between [${i.scale.invert?.(s)}] and [${i.scale.invert?.(o)}], ignoring.`);return}r=Math.min(c,Math.max(l,r)),a=Math.min(c,Math.max(l,a));let d=o-s,u=Math.abs((r-s)/d),h=Math.abs((a-s)/d);return{min:u,max:h}}getPrimaryAxis(e){return this.axes?.find(t=>t.direction===e)}getDomainExtents(e){let{domain:t}=e.scale,i=t.at(0),n=t.at(-1);if(!(i==null||n==null))return[i,n]}getDomainPixelExtents(e){let{domain:t}=e.scale,i=e.scale.convert?.(t.at(0)),n=e.scale.convert?.(t.at(-1));if(!(!nt(i)||!nt(n)))return[i,n]}getDefinedZoom(){let e=this.getZoom();return{x:{min:e?.x?.min??0,max:e?.x?.max??1},y:{min:e?.y?.min??0,max:e?.y?.max??1}}}zoomBounds(e,t,i,n){let s=e.scale,o=s.range;s.range=[0,1];let r=t.scale,a=r.range;r.range=[0,1];let l=1,c=!1,d=0,u=!1;for(let g of t.boundSeries){let{connectsToYAxis:m}=g,f=g.getRange("y",[i.min,i.max]);for(let v of f){let y=r.convert(v);Number.isFinite(y)&&(y<l&&(l=y,c=!m||v<0),y>d&&(d=y,u=!m||v>0))}}if(nt(t.min)&&(l=0),nt(t.max)&&(d=1),s.range=o,r.range=a,l>=d)return;let h=(c?n:0)+(u?n:0),p=Math.min((d-l)*(1+h),1);if(!(p<=0)){if(c&&u){let g=(d+l)/2;l=g-p/2,d=g+p/2}else!c&&u?d=l+p:c&&!u&&(l=d-p);return l<0?(d+=-l,l=0):d>1&&(l-=d-1,d=1),{min:l,max:d}}}primaryAxisZoom(e,t,{padding:i=0}={}){let n=e==="x"?"y":"x",s=this.getPrimaryAxis(n),o=this.getPrimaryAxis(e);if(!(s==null||o==null))return this.zoomBounds(s,o,t,i)}combinedAxisZoom(e,t,{padding:i=0}={}){let n=e==="x"?"y":"x",s=new Map;for(let l of this.axes)if(l.direction===n)for(let c of l.boundSeries)s.set(c,l);let o=1,r=0;for(let l of this.axes)if(l.direction===e)for(let c of l.boundSeries){let d=s.get(c);if(d==null)continue;let u=this.zoomBounds(d,l,t,i);if(u==null)return;o=Math.min(o,u.min),r=Math.max(r,u.max)}let a=1e-6;if(o<a&&(o=0),r>1-a&&(r=1),!(o>r))return{min:o,max:r}}},Lte=class{constructor(e){this.axis=e;let[t=0,i=1]=e.visibleRange;this.state=new _d({min:t,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(e,t){this.state.set(e,t)}getZoom(){return pi(this.state.stateValue())}hasChanges(){let e=this.currentZoom,t=this.state.stateValue();return e.min!==t.min||e.max!==t.max}applyChanges(){let e=this.hasChanges();return this.currentZoom=this.state.stateValue(),e}},Fte=class{constructor(){this.labelData=new Map}updateLabels(e,t,i=ne.zero){let n={x:-t.left,y:-t.top,width:i.width+t.left+t.right,height:i.height+t.top+t.bottom},s=new Set(e.map(r=>r.id));for(let r of this.labelData.keys())s.has(r)||this.labelData.delete(r);for(let r of e){let a=r.getLabelData();a.every(qJ)&&this.labelData.set(r.id,a)}let o=QJ(this.labelData,n,5);for(let r of e)r.updatePlacedLabelData?.(o.get(r.id)??[])}},Pte=class extends Da{constructor(){super(...arguments),this.mementoOriginatorKey="legend",this.legendDataMap=new Map}createMemento(){return this.getData().filter(({hideInLegend:e,isFixed:t})=>!e&&!t).map(({enabled:e,seriesId:t,itemId:i,legendItemName:n})=>({visible:e,seriesId:t,itemId:i,legendItemName:n}))}guardMemento(e){return e==null||It(e)}restoreMemento(e,t,i){i?.forEach(n=>{let{seriesId:s,data:o}=this.getRestoredData(n)??{};!s||!o||this.updateData(s,o)}),this.update()}getRestoredData(e){let{seriesId:t,itemId:i,legendItemName:n,visible:s}=e;if(t){let r=(this.legendDataMap.get(t)??[]).map(a=>{let l=a.seriesId===t&&(!i||a.itemId===i);return l&&a.isFixed&&this.warnFixed(a.seriesId,a.itemId),!a.isFixed&&l?A(w({},a),{enabled:s}):a});return{seriesId:t,data:r}}if(!(i==null&&n==null))for(let o of this.getData()){if(i!=null&&o.itemId!==i||n!=null&&o.legendItemName!==n)continue;if(o.isFixed){this.warnFixed(o.seriesId,i);return}let r=(this.legendDataMap.get(o.seriesId)??[]).map(a=>a.itemId===i||a.legendItemName===n?A(w({},a),{enabled:s}):a);return{seriesId:o.seriesId,data:r}}}warnFixed(e,t){V.warnOnce(`The legend item with seriesId [${e}] and itemId [${t}] is not configurable, this series item cannot be toggled through the legend.`)}update(e){this.listeners.dispatch("legend-change",{type:"legend-change",legendData:e??this.getData()})}updateData(e,t=[]){this.legendDataMap.set(e,t)}clearData(){this.legendDataMap.clear()}toggleItem({enabled:e,seriesId:t,itemId:i,legendItemName:n}){if(n){this.getData().forEach(a=>{let l=(this.legendDataMap.get(a.seriesId)??[]).map(c=>c.legendItemName===n?A(w({},c),{enabled:e}):c);this.updateData(a.seriesId,l)});return}let s=this.getData(t),o=s.length===1,r=s.map(a=>i==null&&o||a.itemId===i?A(w({},a),{enabled:e}):a);this.updateData(t,r)}getData(e){return e?this.legendDataMap.get(e)??[]:[...this.legendDataMap].reduce((t,[i,n])=>t.concat(n),[])}getDatum({seriesId:e,itemId:t}={}){return this.getData(e).find(i=>i.itemId===t)}getSeriesEnabled(e){let t=this.getData(e);if(t.length>0)return t.some(i=>i.enabled)}getItemEnabled({seriesId:e,itemId:t}={}){return this.getDatum({seriesId:e,itemId:t})?.enabled??!0}},Ote=class{constructor(){this.groups={}}registerSeries({internalId:e,seriesGrouping:t,visible:i,type:n}){var s;t&&((s=this.groups)[n]??(s[n]={}),this.groups[n][e]={grouping:t,visible:i})}updateSeries({internalId:e,seriesGrouping:t,visible:i,type:n}){if(!t)return;let s=this.groups[n]?.[e];s&&(s.grouping=t,s.visible=i)}deregisterSeries({internalId:e,type:t}){this.groups[t]&&delete this.groups[t][e],this.groups[t]&&Object.keys(this.groups[t]).length===0&&delete this.groups[t]}getVisiblePeerGroupIndex({type:e,seriesGrouping:t,visible:i}){if(!t)return{visibleGroupCount:i?1:0,visibleSameStackCount:i?1:0,index:0};let n=new Set,s=new Set;for(let r of Object.values(this.groups[e]??{}))r.visible&&(n.add(r.grouping.groupIndex),r.grouping.groupIndex===t.groupIndex&&s.add(r.grouping.stackIndex));let o=Array.from(n);return o.sort((r,a)=>r-a),{visibleGroupCount:o.length,visibleSameStackCount:s.size,index:o.indexOf(t.groupIndex)}}},rp=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=4]="SERIES_UPDATE",e[e.PRE_SCENE_RENDER=5]="PRE_SCENE_RENDER",e[e.SCENE_RENDER=6]="SCENE_RENDER",e[e.NONE=7]="NONE",e))(rp||{}),rP=class{constructor(e){this.updateCallback=e,this.events=new FS}addListener(e,t){return this.events.on(e,t)}removeListener(e,t){return this.events.on(e,t)}destroy(){this.events.clear()}update(e=0,t){this.updateCallback(e,t)}dispatchUpdateComplete(){this.events.emit("update-complete",{type:"update-complete"})}dispatchPreDomUpdate(){this.events.emit("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(){this.events.emit("pre-scene-render",{type:"pre-scene-render"})}dispatchProcessData({series:e}){this.events.emit("process-data",{type:"process-data",series:e})}},Nte=class{constructor(e,t){this.callbackCache=new hte,this.chartEventManager=new J2,this.highlightManager=new tP,this.layoutManager=new N2,this.localeManager=new ite,this.seriesStateManager=new Ote,this.stateManager=new Lee,this.seriesLabelLayoutManager=new Fte,this.contextModules=[];let{scene:i,root:n,syncManager:s,container:o,fireEvent:r,updateCallback:a,updateMutex:l,styleContainer:c,chartType:d}=t;this.chartService=e,this.syncManager=s,this.domManager=new $2(o,c),this.widgets=new fte(this.domManager);let u=this.domManager.addChild("canvas","scene-canvas",i?.canvas.element);this.scene=i??new SM({canvasElement:u}),this.scene.setRoot(n),this.axisManager=new gte(n),this.legendManager=new Pte,this.annotationManager=new pte(e.annotationRoot),this.chartTypeOriginator=new kee(e),this.interactionManager=new X2,this.contextMenuRegistry=new eP,this.updateService=new rP(a),this.proxyInteractionService=new K2(this.localeManager,this.domManager),this.historyManager=new Tee(this.chartEventManager),this.animationManager=new Q2(this.interactionManager,l),this.dataService=new Iy(this.animationManager),this.tooltipManager=new zv(this.domManager,e.tooltip),this.zoomManager=new oP(r,this.layoutManager);for(let h of Eo.byType("context")){if(!h.chartTypes.includes(d))continue;let p=h.moduleFactory(this);this.contextModules.push(p),this[h.contextKey]=p}}destroy(){this.animationManager.destroy(),this.highlightManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.chartEventManager.destroy(),this.domManager.destroy(),this.highlightManager.destroy(),this.proxyInteractionService.destroy(),this.syncManager.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy(),this.widgets.destroy(),this.contextModules.forEach(e=>e.destroy())}},aP=class extends ke{constructor(){super(...arguments),this.range="tooltip"}};b([x(xt(["tooltip","node"],"a range"))],aP.prototype,"range",2);function Bte(e,t){if(e.size!==t.size)return!1;for(let i of e)if(!t.has(i))return!1;return!0}function zte(e,t){if(e==null||t==null)return e===t;if(e.size!==t.size)return!1;for(let[i,n]of e){let s=t.get(i);if(s==null||!Bte(n,s))return!1}return!0}function Vte(e,t){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s+=1){let i=e[s],{type:o,idsMap:r,scopes:a,data:l}=i,c=Je(i,["type","idsMap","scopes","data"]),n=t[s],{type:d,idsMap:u,scopes:h,data:p}=n,g=Je(n,["type","idsMap","scopes","data"]);if(o!==d||a&&h&&!Do(a,h)||l&&p&&l!==p||!Ol(c,g)||!zte(r,u))return!1}return!0}function Gte(e,t){let r=e,{props:i}=r,n=Je(r,["props"]),a=t,{props:s}=a,o=Je(a,["props"]);return Ol(n,o)&&Vte(i,s)}function Hte(e,t,i,n){return t===e.data&&Do(i,e.ids)&&Gte(n,e.opts)}var pL=class lP{constructor(){this.domain=new Set}static is(t){return t instanceof lP}extend(t){this.domain.add(t)}getDomain(){return Array.from(this.domain)}},la=class cP{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof cP}static extendDomain(t,i=[1/0,-1/0]){for(let n of t)typeof n=="number"&&(i[0]>n&&(i[0]=n),i[1]<n&&(i[1]=n));return i}extend(t){this.domain[0]>t&&(this.domain[0]=t),this.domain[1]<t&&(this.domain[1]=t)}getDomain(){return[...this.domain]}},od=0,rd=1,Co=2,jte=class{constructor(e){let t=e.reduce((o,r)=>Math.max(o,r.length),0),n=1<<32-Math.clz32(t);t===n/2&&(n=n>>>1),this.maxLevelSize=n;let s=new Float64Array((n*2-1)*2).fill(NaN);for(let o of e)for(let r=0;r<o.length;r+=1){let a=Number(o[r]),l=n+r-1,c=(l*Co|0)+od,d=(l*Co|0)+rd,u=s[c],h=s[d];(!Number.isFinite(u)||a<u)&&(s[c]=a),(!Number.isFinite(h)||a>h)&&(s[d]=a)}for(let o=n/2|0;o>=1;o=o/2|0){let r=o-1|0,a=r+o|0;for(let l=0;l<o;l+=1){let c=r+l,d=a+l*2,u=d+1,h=s[(d*Co|0)+od],p=s[(u*Co|0)+od];s[(c*Co|0)+od]=!Number.isFinite(p)||h<p?h:p;let g=s[(d*Co|0)+rd],m=s[(u*Co|0)+rd];s[(c*Co|0)+rd]=!Number.isFinite(m)||g>m?g:m}}this.buffer=s}computeRangeInto(e,t,i,n,s,o,r){let a=s+o-1;if(a<t||s>=i)return r;if(s>=t&&a<i){let l=e[(n*Co|0)+od],c=e[(n*Co|0)+rd];Number.isFinite(l)&&(r[0]=Math.min(r[0],l)),Number.isFinite(c)&&(r[1]=Math.max(r[1],c))}else o>1&&(n=n*2|0,o=o/2|0,this.computeRangeInto(e,t,i,n+1|0,s,o,r),this.computeRangeInto(e,t,i,n+2|0,s+o,o,r));return r}rangeBetween(e,t){if(e>t)return[NaN,NaN];let{maxLevelSize:i,buffer:n}=this,s=[1/0,-1/0];return this.computeRangeInto(n,e,t,0,0,i,s),s}get range(){let{buffer:e}=this;return[e[od],e[rd]]}},gL=Symbol("domain-ranges");function Wte(e){return e.map(t=>ki(t)?JSON.stringify(t):t).join("-")}function mL(e){return Number.isInteger(e)?e:Math.abs(e)>1e4?Math.trunc(e):Math.round(e*1e4)/1e4}function Ln(e){let t=e?.map(Number);return t?.every(Number.isFinite)?t:[]}function DM(e,t){return t?.get(e.id)??0}function Ute(e){return"scopes"in e&&Array.isArray(e.scopes)}var av=Symbol("invalid");function Nx(e,t){let i=[];for(let n=0;n<e;n+=1)i[n]=t;return i}function Vv(e,t,i){let n=[];for(let s of e){let o=s.get(t)?.[i];if(o==null)return;n.push(o)}return n}function dP(e){let t=[],i=0,n,s=/((?:(?:^|\.)\s*\w+|\[\s*(?:'(?:[^']|(?<!\\)\\')*'|"(?:[^"]|(?<!\\)\\")*"|-?\d+)\s*\])\s*)/g;for(;n=s.exec(e);){if(n.index!==i)return;i=n.index+n[0].length;let o=n[1].trim();if(o.startsWith("."))t.push(o.slice(1).trim());else if(o.startsWith("[")){let r=o.slice(1,-1).trim();r.startsWith("'")?t.push(r.slice(1,-1).replace(/(?<!\\)\\'/g,"'")):r.startsWith('"')?t.push(r.slice(1,-1).replace(/(?<!\\)\\"/g,'"')):t.push(r)}else t.push(o)}if(i===e.length)return t}function $te(e){return t=>{let i=t;for(let n of e)i=i[n];return i}}var uP=class{constructor(e,t="standalone",i=!1){this.opts=e,this.mode=t,this.suppressFieldDotNotation=i,this.debug=wt.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[],this.markScopeDatumInvalid=function(a,l,c,d){for(let u of a)d.has(u)||d.set(u,Nx(l.length,!1)),d.get(u)[c]=!0};let n=!0;for(let a of e.props){if(a.type==="key"&&!n)throw new Error("AG Charts - internal config error: keys must come before values.");a.type==="value"&&n&&(n=!1)}let s=({matchGroupIds:a=[]})=>{for(let l of a)if(this.values.every(c=>c.groupId!==l))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${l}).`)},o=new Set,r=new Set;for(let a of e.props){let l=a.type==="key"?o:r;switch(Ute(a)&&a.scopes?.forEach(c=>l.add(c)),a.type){case"key":this.keys.push(A(w({},a),{index:this.keys.length,missing:new Map}));break;case"value":if(a.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(a)}`);this.values.push(A(w({},a),{index:this.values.length,missing:new Map}));break;case"aggregate":s(a),this.aggregates.push(A(w({},a),{index:this.aggregates.length}));break;case"group-value-processor":s(a),this.groupProcessors.push(A(w({},a),{index:this.groupProcessors.length}));break;case"property-value-processor":this.propertyProcessors.push(A(w({},a),{index:this.propertyProcessors.length}));break;case"reducer":this.reducers.push(A(w({},a),{index:this.reducers.length}));break;case"processor":this.processors.push(A(w({},a),{index:this.processors.length}));break}}if(this.opts.groupByKeys||this.opts.groupByFn!=null){let a=new Set(r.values());if(o.forEach(l=>a.delete(l)),a.size>0)throw new Error(`AG Charts - scopes missing key for grouping, illegal configuration: ${[...a.values()]}`)}}resolveProcessedDataDefById(e,t){let i=this.scopeCache.get(e.id)?.get(t);if(!i)throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`);return{index:i.index,def:i}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveKeysById(e,t,i){let n=this.resolveProcessedDataIndexById(e,t),s=i.keys[n];if(s==null)throw new Error(`AG Charts - didn't find keys for [${t}, ${e.id}]`);return s.get(e.id)}hasColumnById(e,t){return this.scopeCache.get(e.id)?.get(t)!=null}resolveColumnById(e,t,i){let n=this.resolveProcessedDataIndexById(e,t),s=i.columns?.[n];if(s==null)throw new Error(`AG Charts - didn't find column for [${t}, ${e.id}]`);return s}*forEachDatum(e,t,i){let n=t.columnScopes.findIndex(s=>s.has(e.id));for(let s of i.datumIndices[n]??[])yield t.columns[n][s]}*forEachGroupDatum(e,t){let i=t.columnScopes.findIndex(o=>o.has(e.id)),n={groupIndex:0,columnIndex:i},s=[];for(let o of t.groups){n.group=o;let r=0;for(let a of o.datumIndices[i]??s)n.datumIndex=a,n.valueIndex=r++,yield n;n.groupIndex++}}*forEachGroupDatumTuple(e,t){let n={columnIndex:t.columnScopes.findIndex(s=>s.has(e.id)),datumIndexes:[void 0,void 0,void 0]};for(let s of this.forEachGroupDatum(e,t))n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=s.group,n.nextGroupIndex=s.groupIndex,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=s.datumIndex,n.group!=null&&n.datumIndexes[1]!=null&&(yield n);n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=void 0,n.nextGroupIndex=void 0,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=void 0,n.group!=null&&n.datumIndexes[1]!=null&&(yield n)}getDomain(e,t,i,n){return this.getDomainsByType(i??"value",n)?.[this.resolveProcessedDataIndexById(e,t)]??[]}getDomainBetweenRange(e,t,[i,n],s){let o=t.map(c=>this.resolveProcessedDataIndexById(e,c)),r=o.join(":"),a=s[gL],l=a.get(r);if(l==null){let c=o.map(d=>s.columns[d]);l=new jte(c),a.set(r,l)}return l.rangeBetween(i,n)}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e){let{opts:{groupByKeys:t,groupByFn:i},aggregates:n,groupProcessors:s,reducers:o,processors:r,propertyProcessors:a}=this,l=performance.now();if(t&&this.keys.length===0)return;let c=this.extractData(e);t?c=this.groupData(c):i&&(c=this.groupData(c,i(c))),s.length>0&&c.type==="grouped"&&this.postProcessGroups(c),n.length>0&&c.type==="ungrouped"?this.aggregateUngroupedData(c):n.length>0&&c.type==="grouped"&&this.aggregateGroupedData(c),a.length>0&&this.postProcessProperties(c),o.length>0&&this.reduceData(c),r.length>0&&this.postProcessData(c),this.warnDataMissingProperties(e);let d=performance.now();return c.time=d-l,this.debug.check()&&Yte(c),this.processScopeCache(),c}warnDataMissingProperties(e){if(e.size!==0)for(let t of Al(this.keys,this.values))for(let[i,n]of t.missing){if(n<(e.get(i)?.length??1/0))continue;let s=i==null?"":` for ${i}`;V.warnOnce(`the key '${t.property}' was not found in any data element${s}.`)}}processScopeCache(){this.scopeCache.clear();for(let e of Al(this.keys,this.values,this.aggregates))if(e.idsMap)for(let[t,i]of e.idsMap)for(let n of i)if(!this.scopeCache.has(t))this.scopeCache.set(t,new Map([[n,e]]));else{if(this.scopeCache.get(t)?.has(n))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(t).set(n,e)}}valueGroupIdxLookup({matchGroupIds:e}){let t=[];for(let[i,n]of this.values.entries())(!e||n.groupId&&e.includes(n.groupId))&&t.push(i);return t}valueIdxLookup(e,t){let i=e==null||e.length===0,n=typeof t=="string"?t:t.id,s=r=>{if(r.idsMap){for(let[a,l]of r.idsMap)if(e?.includes(a)&&l.has(n))return!0}return!1},o=this.values.reduce((r,a,l)=>((a.scopes==null||i&&!a.scopes.length||a.scopes.some(d=>e?.includes(d)))&&(a.property===n||a.id===n||s(a))&&r.push(l),r),[]);if(o.length===0)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`);return o}extractData(e){let{dataDomain:t,processValue:i,allScopesHaveSameDefs:n}=this.initDataDomainProcessor(),{keys:s,values:o}=this,{invalidData:r,invalidKeys:a,allKeyMappings:l}=this.extractKeys(s,e,i),{columns:c,columnScopes:d,partialValidDataCount:u,maxDataLength:h}=this.extractValues(r,o,e,a,i),p=g=>{let m=t.get(g),f=m.getDomain();return la.is(m)&&f[0]>f[1]?[]:f};return{type:"ungrouped",input:{count:h},scopes:new Set(e.keys()),dataSources:e,aggregation:void 0,keys:[...l.values()],columns:c,columnScopes:d,invalidKeys:a,invalidData:r,domain:{keys:s.map(p),values:o.map(p)},defs:{allScopesHaveSameDefs:n,keys:s,values:o},partialValidDataCount:u,time:0,[gL]:new Map}}extractKeys(e,t,i){let n=new Map,s=new Map,o=new Map,r,a,l=(c,d)=>{let u=a.get(c);r.set(d,r.get(u)),n.has(u)&&(n.set(d,n.get(u)),s.set(d,s.get(u)))};for(let c of e){let{invalidValue:d,scopes:u}=c;r=new Map,a=new Map,o.set(c,r);for(let h of u??[]){let p=t.get(h)??[];if(a.has(p)){l(p,h);continue}let g=[];r.set(h,g),a.set(p,h);let m,f;for(let v=0;v<p.length;v++){let y=i(c,p[v],v,h);if(y!==av){g.push(y);continue}g.push(d),m??(m=Nx(p.length,!1)),f??(f=Nx(p.length,!1)),m[v]=!0,f[v]=!0}m&&f&&(n.set(h,m),s.set(h,f))}}return{invalidData:s,invalidKeys:n,allKeyMappings:o}}extractValues(e,t,i,n,s){let o=0,r=[],a=[],l=0;for(let c of t){let{invalidValue:d}=c;if(new Set(c.scopes.map(f=>i.get(f))).size>1)throw new Error(`AG Charts - more than one data source for: ${JSON.stringify(c)}`);let h=new Set(c.scopes),p=Hh(c.scopes),g=i.get(p),m=g.map((f,v)=>{let y=n.get(p)?.[v],C=s(c,f,v,c.scopes);return(y||C===av)&&this.markScopeDatumInvalid(c.scopes,g,v,e),y?C=d:C===av&&(o+=1,C=d),C});r.push(m),a.push(h),l=Math.max(l,m.length)}return{columns:r,columnScopes:a,partialValidDataCount:o,maxDataLength:l}}groupData(e,t){var i;let n=new Map,{keys:s,columns:o,columnScopes:r,invalidKeys:a,invalidData:l}=e,c=e.scopes,d=new Set;for(let p of c){let g=o.map((S,M)=>M).filter(S=>!d.has(S)&&r[S].has(p));if(g.length===0)continue;for(let S of g)d.add(S);let m=new Set;for(let S of g)for(let M of r[S])m.add(M);let f=s.map(S=>S.get(p)).filter(S=>S!=null),v=o[Hh(g)],y=l?.get(p),C=a?.get(p);for(let S=0;S<v.length;S++){if(C?.[S]===!0)continue;let M=f.map(I=>I[S]);if(M==null||M.length===0)throw new Error("AG Charts - no keys found for scope: "+p);let D=t?.(M)??M,E=Wte(D),R=n.get(E)??{keys:D,datumIndices:[],validScopes:c};if(n.has(E)||n.set(E,R),y?.[S]===!0){R.validScopes===c&&(R.validScopes=new Set(c.values()));for(let I of m)R.validScopes.delete(I)}if(R.validScopes.size!==0)for(let I of g)(i=R.datumIndices)[I]??(i[I]=[]),R.datumIndices[I].push(S)}}let u=[],h=[];for(let{keys:p,datumIndices:g,validScopes:m}of n.values())m?.size!==0&&(u.push(p),h.push({datumIndices:g,keys:p,aggregation:[],validScopes:m}));return A(w({},e),{type:"grouped",domain:A(w({},e.domain),{groups:u}),groups:h})}aggregateUngroupedData(e){let t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;let{keys:i,columns:n,dataSources:s}=e,o=Hh(s.keys()),r=s.get(o);e.aggregation=r?.map((a,l)=>{let c=[];for(let[d,u]of this.aggregates.entries()){let h=this.valueGroupIdxLookup(u),p=u.groupAggregateFunction?.()??[1/0,-1/0],g=h.map(y=>n[y][l]),m=Vv(i,o,l),f=m!=null?u.aggregateFunction(g,m):void 0;f&&(p=u.groupAggregateFunction?.(f,p)??la.extendDomain(f,p));let v=u.finalFunction?.(p)??p;if(u.round===!0)for(let y in v)v[y]=mL(v[y]);c[d]=v,la.extendDomain(v,t[d])}return c})}aggregateGroupedData(e){let t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;let{columns:i}=e;for(let[n,s]of this.aggregates.entries()){let o=this.valueGroupIdxLookup(s);for(let r of e.groups){if(r.aggregation??(r.aggregation=[]),r.validScopes?.size===0)continue;let a=r.keys,l=s.groupAggregateFunction?.()??[1/0,-1/0],c=Math.max(...o.map(u=>r.datumIndices[u]?.length??0));for(let u=0;u<c;u++){let h=o.map(g=>i[g][r.datumIndices[g]?.[u]]),p=s.aggregateFunction(h,a);p&&(l=s.groupAggregateFunction?.(p,l)??la.extendDomain(p,l))}let d=s.finalFunction?.(l)??l;if(s.round===!0)for(let u in d)d[u]=mL(d[u]);r.aggregation[n]=d,la.extendDomain(d,t[n])}}}postProcessGroups(e){let{groupProcessors:t}=this,{columnScopes:i,columns:n,invalidData:s,scopes:o}=e;for(let r of t){let a=this.valueGroupIdxLookup(r),l=r.adjust()();for(let c of e.groups)c.validScopes===o&&l(n,a,c);for(let c of a){let u=this.values[c].valueType==="category",h=n[c],p=Hh(i[c]),g=s?.get(p),m=u?new pL:new la;for(let f=0;f<h.length;f+=1)g?.[f]!==!0&&m.extend(h[f]);e.domain.values[c]=m.getDomain()}}}postProcessProperties(e){for(let{adjust:t,property:i,scopes:n}of this.propertyProcessors)for(let s of this.valueIdxLookup(n,i))t()(e,s)}reduceData(e){e.reduced??(e.reduced={});let{dataSources:t,keys:i}=e;for(let n of this.reducers){let s=n.reducer(),o=n.initialValue;if(e.type==="grouped")for(let r of e.groups)o=s(o,r.keys);else{let r=Hh(t.keys()),a=i.map(d=>d.get(r)).filter(d=>d!=null),l=a.map(()=>{}),c=t.get(r);for(let d=0;d<c.length;d+=1){for(let u=0;u<l.length;u++)l[u]=a[u]?.[d];o=s(o,l)}}e.reduced[n.property]=o}}postProcessData(e){e.reduced??(e.reduced={});for(let t of this.processors)e.reduced[t.property]=t.calculate(e,e.reduced[t.property])}initDataDomainProcessor(){let{keys:e,values:t}=this,i=new Set;for(let c of t)if(c.scopes)for(let d of c.scopes)i.add(d);let n=new Map,s=new Map,o=!0,r=()=>{for(let c of Al(e,t))c.valueType==="category"?n.set(c,new pL):(n.set(c,new la),o&&(o=(c.scopes??[]).length===i.size))};r();let a=this.buildAccessors(Al(e,t));return{dataDomain:n,processValue:(c,d,u,h)=>{let p,g;if(a.has(c.property)){try{g=a.get(c.property)(d)}catch{}p=g!=null}else p=c.property in d,g=p?d[c.property]:c.missingValue;c.forceValue!=null&&(g=p&&sy(g)?-1*c.forceValue:c.forceValue,p=!0);let m="missingValue"in c;if(!p&&!m)if(typeof h=="string"){let f=c.missing.get(h)??0;c.missing.set(h,f+1)}else for(let f of h){let v=c.missing.get(f)??0;c.missing.set(f,v+1)}if(n.has(c)||r(),p&&c.validation?.(g,d,u)===!1)if("invalidValue"in c)g=c.invalidValue;else return this.mode!=="integrated"&&V.warnOnce(`invalid value of type [${typeof g}] for [${c.scopes} / ${c.id}] ignored:`,`[${g}]`),av;return c.processor&&(s.has(c)||s.set(c,c.processor()),g=s.get(c)?.(g)),n.get(c)?.extend(g),g},initDataDomain:r,scopes:i,allScopesHaveSameDefs:o}}buildAccessors(e){let t=new Map;if(this.suppressFieldDotNotation)return t;for(let i of e){if(!(i.property.includes(".")||i.property.includes("[")))continue;let s=dP(i.property);if(s==null){V.warnOnce("Invalid property path [%s]",i.property);continue}let o=$te(s);t.set(i.property,o)}return t}};function Yte(e){let t=(i,n)=>{n.length>0&&(V.log(`DataModel.processData() - ${i}`),V.table(n))};V.log("DataModel.processData() - processedData",e),t("Key Domains",e.domain.keys),t("Group Domains",e.domain.groups??[]),t("Value Domains",e.domain.values),t("Aggregate Domains",e.domain.aggValues??[])}var Kte=(()=>{let e=class or{constructor(i,n){this.mode=i,this.suppressFieldDotNotation=n,this.debug=wt.create(!0,"data-model"),this.requested=[],this.status="setup"}request(i,n,s){return Pe(this,null,function*(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((o,r)=>{this.requested.push({id:i,opts:s,data:n,resolve:o,reject:r})})})}execute(i){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);let n=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",n);let s=this.mergeRequested(n);this.debug("DataController.execute() - merged",s),this.debug.check()&&(Et().processedData=[]);let o=[];for(let{data:r,ids:a,opts:l,resolves:c,rejects:d}of s){let u=i?.find(g=>Hte(g,r,a,l)),h,p;if(u==null)try{h=new uP(l,this.mode,this.suppressFieldDotNotation);let g=new Map(n.map(m=>[m.id,m.data]));p=h.processData(g)}catch(g){d.forEach(m=>m(g));continue}else({dataModel:h,processedData:p}=u);o.push({opts:l,data:r,ids:a,dataModel:h,processedData:p}),this.debug.check()&&Et("processedData").push(p),p?.partialValidDataCount===0?c.forEach(g=>g({dataModel:h,processedData:p})):p?this.splitResult(h,p,a,c):d.forEach(g=>g(new Error("AG Charts - no processed data generated")))}return o}validateRequests(i){let n=[];for(let[s,o]of i.entries())s>0&&o.data.length!==i[0].data.length&&o.opts.groupByData===!1&&o.opts.groupByKeys===!1?o.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):n.push(o);return n}mergeRequested(i){let n=[];for(let s of i){let o=n.find(or.groupMatch(s));o?o.push(s):n.push([s])}return n.map(or.mergeRequests)}splitResult(i,n,s,o){for(let r=0;r<s.length;r++){let a=o[r];a({dataModel:i,processedData:n})}}static groupMatch({data:i,opts:n}){function s(d){return d.filter(u=>u.type==="key").map(u=>u.property).join(";")}let{groupByData:o,groupByKeys:r=!1,groupByFn:a,props:l}=n,c=s(l);return([d])=>(o===!1||d.data===i)&&(d.opts.groupByKeys??!1)===r&&d.opts.groupByFn===a&&s(d.opts.props)===c}static mergeRequests(i){let n=new Set(["key","group-value-processor"]);return i.reduce((s,u)=>{var{id:o,data:r,resolve:a,reject:l,opts:h}=u,p=h,{props:c}=p,d=Je(p,["props"]);s.ids.push(o),s.rejects.push(l),s.resolves.push(a),s.data??(s.data=r),s.opts??(s.opts=A(w({},d),{props:[]}));for(let g of c){let m=A(w({},g),{scopes:[o],data:r});or.createIdsMap(o,m);let f=s.opts.props.find(v=>v.type===m.type&&(n.has(v.type)||v.data===m.data)&&or.deepEqual(v,m));if(!f){s.opts.props.push(m);continue}f.scopes??(f.scopes=[]),f.scopes.push(...m.scopes??[]),(f.type==="key"||f.type==="value")&&m.idsMap?.size&&or.mergeIdsMap(m.idsMap,f.idsMap)}return s},{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(i,n){for(let[s,o]of i){let r=n.get(s);if(r==null)n.set(s,new Set(o));else for(let a of o)r.add(a)}}static createIdsMap(i,n){n.id!=null&&(n.idsMap??(n.idsMap=new Map),n.idsMap.has(i)?n.idsMap.get(i).add(n.id):n.idsMap.set(i,new Set([n.id])))}static deepEqual(i,n){if(i===n)return!0;if(i&&n&&typeof i=="object"&&typeof n=="object"){if(i.constructor!==n.constructor)return!1;let s,o;if(Array.isArray(i)){if(o=i.length,o!==n.length)return!1;for(s=o-1;s>=0;s--)if(!or.deepEqual(i[s],n[s]))return!1;return!0}let r=Object.keys(i);if(o=r.length,o!==Object.keys(n).length)return!1;for(s=o-1;s>=0;s--){let a=r[s];if(!or.skipKeys.has(a)&&(!Object.hasOwn(n,a)||!or.deepEqual(i[a],n[a])))return!1}return!0}return!1}};return e.skipKeys=new Set(["id","idsMap","type","scopes","data"]),e})(),hP=Kte,Zte=class{constructor(){this.axesMap=new Map,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.moduleFactory),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate)}create(e,t){let i=this.axesMap.get(e);if(i)return i(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},hr=new Zte,Pd=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"root",optionsKey:"ranges",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"]},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bar",community:!0},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"line",community:!0},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"radial-gauge"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"},{type:"context",contextKey:"sharedToolbar",chartTypes:["cartesian"]}];function qte(e){return Pd.some(t=>t.type==="series"&&t.identifier===e)}function jl(e){return Pd.find(t=>t.type==="series"&&t.identifier===e)?.chartTypes}function Xte(e){return jl(e)?.find(i=>i==="cartesian")==="cartesian"}function Qte(e){return jl(e)?.find(i=>i==="polar")==="polar"}function Jte(e){return jl(e)?.find(i=>i==="hierarchy")==="hierarchy"}function eie(e){return jl(e)?.find(i=>i==="topology")==="topology"}function tie(e){return jl(e)?.find(i=>i==="flow-proportion")==="flow-proportion"}function iie(e){return jl(e)?.find(i=>i==="standalone")==="standalone"}function nie(e){return jl(e)?.find(i=>i==="gauge")==="gauge"}function sie(e){return e.packageType==="enterprise"}function oie(e){if(!sie(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");let t=Pd.find(i=>i.type===e.type&&("optionsKey"in i&&"optionsKey"in e?i.optionsKey===e.optionsKey:!0)&&("contextKey"in i&&"contextKey"in e?i.contextKey===e.contextKey:!0)&&i.identifier===e.identifier&&e.chartTypes.every(n=>i.chartTypes.includes(n)));return t&&(t.useCount??(t.useCount=0),t.useCount++),t!=null}function rie(){return Pd.filter(({useCount:e})=>e==null||e===0)}var aie=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,{optionsKey:t,moduleFactory:i,themeTemplate:n}){this.legendMap.set(e,{optionsKey:t,moduleFactory:i}),this.themeTemplates.set(t,n)}create(e,t){let i=this.legendMap.get(e)?.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown legend type: ${e}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((e,[t,i])=>(e[t]=i.optionsKey,e),{})}},_M=new aie,pP=class extends Map{get(e){return super.get(e)??"unknown"}isCartesian(e){return this.get(e)==="cartesian"}isPolar(e){return this.get(e)==="polar"}isHierarchy(e){return this.get(e)==="hierarchy"}isTopology(e){return this.get(e)==="topology"}isFlowProportion(e){return this.get(e)==="flow-proportion"}isStandalone(e){return this.get(e)==="standalone"}isGauge(e){return this.get(e)==="gauge"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(e=>this.isCartesian(e))}get polarTypes(){return this.seriesTypes.filter(e=>this.isPolar(e))}get hierarchyTypes(){return this.seriesTypes.filter(e=>this.isHierarchy(e))}get topologyTypes(){return this.seriesTypes.filter(e=>this.isTopology(e))}get flowProportionTypes(){return this.seriesTypes.filter(e=>this.isFlowProportion(e))}get standaloneTypes(){return this.seriesTypes.filter(e=>this.isStandalone(e))}get gaugeTypes(){return this.seriesTypes.filter(e=>this.isGauge(e))}},lie=class extends Map{set(e,t){return super.set(e,He(t,this.get(e)))}},zt=new pP,gP=new pP,yS=new lie,cie=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,{chartTypes:[t],moduleFactory:i,tooltipDefaults:n,defaultAxes:s,themeTemplate:o,paletteFactory:r,solo:a,stackable:l,groupable:c,stackedByDefault:d,hidden:u}){this.setThemeTemplate(e,o),this.seriesMap.set(e,{moduleFactory:i,tooltipDefaults:n,defaultAxes:s,paletteFactory:r,solo:a,stackable:l,groupable:c,stackedByDefault:d}),zt.set(e,t),u||gP.set(e,t)}create(e,t){let i=this.seriesMap.get(e)?.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown series type: ${e}`)}cloneDefaultAxes(e,t){let i=this.seriesMap.get(e)?.defaultAxes;if(i==null)return null;let n=typeof i=="function"?i(t):i;return{axes:pi(n)}}isDerivedDefaultAxes(e){return typeof this.seriesMap.get(e)?.defaultAxes=="function"}setThemeTemplate(e,t){let i=this.themeTemplates.get(e);this.themeTemplates.set(e,He(t,i))}getThemeTemplate(e){return this.themeTemplates.get(e)}getPaletteFactory(e){return this.seriesMap.get(e)?.paletteFactory}getTooltipDefauls(e){return this.seriesMap.get(e)?.tooltipDefaults}isSolo(e){return this.seriesMap.get(e)?.solo??!1}isGroupable(e){return this.seriesMap.get(e)?.groupable??!1}isStackable(e){return this.seriesMap.get(e)?.stackable??!1}isStackedByDefault(e){return this.seriesMap.get(e)?.stackedByDefault??!1}},kn=new cie,EM=class El extends Da{constructor(t){super(),this.chart=t}subscribe(t=El.DEFAULT_GROUP){let i=this.get(t);return i||(i=new Set,El.chartsGroups.set(t,i)),i.add(this.chart),this}unsubscribe(t=El.DEFAULT_GROUP){return this.get(t)?.delete(this.chart),this}getChart(){return this.chart}getGroup(t=El.DEFAULT_GROUP){let i=this.get(t);return i?Array.from(i):[]}getGroupSiblings(t=El.DEFAULT_GROUP){return this.getGroup(t).filter(i=>i!==this.chart)}get(t){return El.chartsGroups.get(t)}};EM.chartsGroups=new Map;EM.DEFAULT_GROUP=Symbol("sync-group-default");var die=EM,IM=class extends ke{constructor(){super(...arguments),this.enabled=!1}};b([x(me)],IM.prototype,"enabled",2);b([x(Qe)],IM.prototype,"tabIndex",2);var mP=["top","right","bottom","left"];function uie(e){return typeof e=="string"&&mP.includes(e)}function hie(e){let t=[],i=[],n=[...mP];for(let s of e)s instanceof Hp&&(uie(s.position)?i.push(s.position):t.push(s));for(let s of t){let o;do o=n.pop();while(o&&i.includes(o));if(o==null)break;s.position=o}}var pie=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function gie(e,t,i){let n=(c,d,u)=>{let h=[c];for(let p of pie)p in d&&d[p]!=null&&h.push(`${p}=${d[p]}`);return u?.seriesGrouping&&h.push(`seriesGrouping.groupId=${u?.seriesGrouping.groupId}`),h.join(";")},s=new Map,o=0;for(let c of e){let d=n(c.type,c.properties,i?.[o]);s.has(d)||s.set(d,[]),s.get(d)?.push([c,o++])}let r=new Map;o=0;for(let c of t){let d=n(c.type,c,c);r.has(d)||r.set(d,[]),r.get(d)?.push([c,o++])}if(![...s.keys()].some(c=>r.has(c)))return{status:"no-overlap",oldKeys:s.keys(),newKeys:r.keys()};let l=[];for(let[c,d]of r.entries())for(let[u,h]of d){let p=s.get(c);if(p==null||p.length<1){l.push({opts:u,targetIdx:h,idx:h,status:"add"}),s.delete(c);continue}let[g,m]=p.shift(),f=i?.[m]??{},v=yr(f,u??{}),{groupIndex:y,stackIndex:C}=v?.seriesGrouping??{};y!=null||C!=null?l.push({opts:u,series:g,diff:v,targetIdx:h,idx:m,status:"series-grouping"}):v?l.push({opts:u,series:g,diff:v,targetIdx:h,idx:m,status:"update"}):l.push({opts:u,series:g,targetIdx:h,idx:m,status:"no-op"}),p.length===0&&s.delete(c)}for(let c of s.values())for(let[d,u]of c)l.push({series:d,idx:u,targetIdx:-1,status:"remove"});return{status:"overlap",changes:l}}function Dr(e){let{series:t}=e;if(t)return t[0]?.type??"line"}function RM(e){let t=Dr(e);return t==null?!1:zt.isCartesian(t)||Xte(t)}function fP(e){let t=Dr(e);return t==null?!1:zt.isPolar(t)||Qte(t)}function mie(e){let t=Dr(e);return t==null?!1:zt.isHierarchy(t)||Jte(t)}function fie(e){let t=Dr(e);return t==null?!1:zt.isTopology(t)||eie(t)}function vie(e){let t=Dr(e);return t==null?!1:zt.isFlowProportion(t)||tie(t)}function vP(e){let t=Dr(e);return t==null?!1:zt.isStandalone(t)||iie(t)}function yP(e){let t=Dr(e);return t==null?!1:zt.isGauge(t)||nie(t)}function yie(e){let t=Dr(e);return fP(e)&&t!=="pie"&&t!=="donut"}function bie(e){return e==null?!1:zt.has(e)}function Cie(e){return e==null?!1:hr.has(e)}var wie=class extends nM{applyOptions(e){for(let t of this.moduleMap.values())t.module.optionsKey in e&&Ro(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(let{module:e,moduleInstance:t}of this.moduleMap.values())e.type==="legend"&&(yield{legendType:e.identifier,legend:t})}},bS="ag-charts-overlay",fL="ag-charts-dark-overlay",Tl=class extends ke{constructor(e,t){super(),this.className=e,this.defaultMessageId=t,this.enabled=!0}getText(e){return e.t(this.text??this.defaultMessageId)}getElement(e,t,i){if(this.content?.remove(),this.focusBox=i,this.renderer){let n=this.renderer();if(n instanceof HTMLElement)this.content=n;else{let s=Ue("div");s.innerHTML=n,this.content=s.firstElementChild}}else{let n=Ue("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",fontFamily:"var(--ag-charts-font-family)",fontSize:"var(--ag-charts-font-size)",fontWeight:"var(--ag-charts-font-weight)"});n.innerText=this.getText(t),this.content=n,e?.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(s){n.style.opacity=String(s)},onStop(){n.style.opacity="1"}})}return this.content}removeElement(e=()=>this.content?.remove(),t){if(this.content){if(t){let{content:i}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(n){i.style.opacity=String(n)},onStop(){e?.()}})}else e?.();this.content=void 0,this.focusBox=void 0}}};b([x(me)],Tl.prototype,"enabled",2);b([x(B,{optional:!0})],Tl.prototype,"text",2);b([x(wn,{optional:!0})],Tl.prototype,"renderer",2);var Od=class extends ke{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new Tl("ag-charts-loading-overlay","overlayLoadingData"),this.noData=new Tl("ag-charts-no-data-overlay","overlayNoData"),this.noVisibleSeries=new Tl("ag-charts-no-visible-series","overlayNoVisibleSeries"),this.unsupportedBrowser=new Tl("ag-charts-unsupported-browser","overlayUnsupportedBrowser")}getFocusInfo(e){for(let t of[this.loading,this.noData,this.noVisibleSeries,this.unsupportedBrowser])if(t.focusBox!==void 0)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement(),this.unsupportedBrowser.removeElement()}};b([x(me)],Od.prototype,"darkTheme",2);b([x(ee)],Od.prototype,"loading",2);b([x(ee)],Od.prototype,"noData",2);b([x(ee)],Od.prototype,"noVisibleSeries",2);b([x(ee)],Od.prototype,"unsupportedBrowser",2);function xie(e,t){let{animationDuration:i}=hp.add,n=i*t,s=Ue("div",`${bS}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${n}ms linear 50ms both`}),o=Ue("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),r=Ue("p",{marginTop:"1em"});r.innerText=e;let a=Ue("div",`${bS}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=Ue("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),s.replaceChildren(l,o,r,a),s}var bP=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.ANY_CONTENT=1]="ANY_CONTENT",e))(bP||{}),CP=(e=>(e[e.FOREGROUND=0]="FOREGROUND",e[e.HIGHLIGHT=1]="HIGHLIGHT",e[e.LABEL=2]="LABEL",e))(CP||{}),wP=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_NODE=1]="NEAREST_NODE",e[e.AXIS_ALIGNED=2]="AXIS_ALIGNED",e))(wP||{}),Sie=.25,Mie=.125,Wp=class{constructor(e,t,{datum:i},n){this.type=e,this.event=t,this.datum=i,this.seriesId=n.id}},AM=class{constructor(e,t,i){this.series=e,this.seriesGrouping=t,this.oldGrouping=i,this.type="groupingChanged"}},Ry=class extends P2{constructor(e){super(),this.destroyFns=[],this.usesPlacedLabels=!1,this.seriesGrouping=void 0,this.NodeEvent=Wp,this.internalId=ks(this),this.contentGroup=new Cn({name:`${this.internalId}-content`,zIndex:1}),this.highlightGroup=new Cn({name:`${this.internalId}-highlight`,zIndex:1}),this.annotationGroup=new Cn({name:`${this.internalId}-annotation`}),this.labelGroup=new Cn({name:`${this.internalId}-series-labels`}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new nM,this.datumCallbackCache=new Map,this.connectsToYAxis=!1,this._declarationOrder=-1,this.seriesListeners=new Mr,this._pickNodeCache=new JS;let{moduleCtx:t,pickModes:i,directionKeys:n={},directionNames:s={},canHaveAxes:o=!1,usesPlacedLabels:r=!1}=e;this.ctx=t,this.directionKeys=n,this.directionNames=s,this.canHaveAxes=o,this.usesPlacedLabels=r,this.highlightGroup=new Cn({name:`${this.internalId}-highlight`}),this.highlightNode=this.highlightGroup.appendChild(new _e({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new _e({name:"highlightLabel",zIndex:10})),this.pickModes=i}get pickModeAxis(){return"main"}get id(){return this.properties?.id??this.internalId}get type(){return this.constructor.type??""}get focusable(){return!0}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.ctx.legendManager.toggleItem({enabled:e,seriesId:this.id}),this.ctx.legendManager.update(),this.visibleMaybeChanged()}get visible(){return this.ctx.legendManager.getSeriesEnabled(this.id)??this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){return this.properties.tooltip?.enabled??!1}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){let{internalId:i,type:n,visible:s}=this;e&&this.ctx.seriesStateManager.deregisterSeries(this),t&&this.ctx.seriesStateManager.registerSeries({internalId:i,type:n,visible:s,seriesGrouping:t}),this.fireEvent(new AM(this,t,e))}getBandScalePadding(){return{inner:1,outer:0}}attachSeries(e,t,i){e.appendChild(this.contentGroup),t.appendChild(this.highlightGroup),t.appendChild(this.labelGroup),i?.appendChild(this.annotationGroup)}detachSeries(e,t,i){e?.removeChild(this.contentGroup),t.removeChild(this.highlightGroup),t.removeChild(this.labelGroup),i?.removeChild(this.annotationGroup)}setSeriesIndex(e){return e===this._declarationOrder?!1:(this._declarationOrder=e,this.contentGroup.zIndex=[1,e,0],this.highlightGroup.zIndex=[1,e,1],this.labelGroup.zIndex=[1,e,2],this.annotationGroup.zIndex=e,!0)}renderToOffscreenCanvas(){return!1}addEventListener(e,t){return super.addEventListener(e,t)}addListener(e,t){return this.seriesListeners.addListener(e,t)}dispatch(e,t){this.seriesListeners.dispatch(e,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns=[],this.resetDatumCallbackCache(),this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(e,t){let i=this.resolveKeyDirection(e),n=t?.[i],s=[];if(!n)return s;let o=(...r)=>{for(let a of r)Array.isArray(a)?o(...a):typeof a=="object"?o(...Object.values(a)):s.push(a)};return o(...n.map(r=>this.properties[r])),s}getKeys(e){return this.getDirectionValues(e,this.directionKeys)}getKeyProperties(e){return this.directionKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getDirectionValues(e,this.directionNames)}resolveKeyDirection(e){return e}getDomain(e){let t=this.getSeriesDomain(e),i=this.moduleMap.mapModules(n=>n.getDomain(e)).flat();return i.length!==0?t.concat(i):t}getRange(e,t){return this.getSeriesRange(e,t)}getVisibleItems(e,t,i){return 1/0}getGradientFillOptions({bounds:e},t){let{axes:i}=this,n=i.x,s=i.y,o=n?.range??[0,1],r=s?.range??[0,1],[a,l]=Ti(o),[c,d]=Ti(r),u=l-a,h=d-c,p=[0,1];return e==="series"?p=this.getSeriesDomain("y"):e==="axes"&&(p=s?.scale.domain??[0,1]),{bbox:new ne(a,c,u,h),domain:p,defaultColorRange:t}}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){let{dimOpacity:t=1,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||t===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return t}}getStrokeWidth(e){let{strokeWidth:t,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||t===void 0)return e;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return e}}isItemIdHighlighted(){let e=this.ctx.highlightManager?.getActiveHighlight()?.series;return e==null?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,t)=>Object.assign(e,t),{})}pickNode(e,t,i=!1){let{pickModes:n,pickModeAxis:s,visible:o,contentGroup:r}=this;if(!o||!r.visible||t==="highlight"&&!this.properties.highlight.enabled||t==="highlight-tooltip"&&!this.properties.highlight.enabled)return;let a=1/0;if(t==="tooltip"||t==="highlight-tooltip"){let{tooltip:h}=this.properties;a=typeof h.range=="number"?h.range:1/0,i||(i=h.range==="exact")}else if(t==="event"||t==="context-menu"){let{nodeClickRange:h}=this.properties;a=typeof h=="number"?h:1/0,i||(i=h==="exact")}let l=n.filter(h=>!i||h===0),{x:c,y:d}=e,u=JSON.stringify({x:c,y:d,maxDistance:a,selectedPickModes:l});if(this._pickNodeCache.has(u))return this._pickNodeCache.get(u);for(let h of l){let p;switch(h){case 0:p=this.pickNodeExactShape(e);break;case 1:p=this.pickNodeClosestDatum(e);break;case 2:p=s!=null?this.pickNodeMainAxisFirst(e,s==="main-category"):void 0;break}if(p&&p.distance<=a)return this._pickNodeCache.set(u,{pickMode:h,match:p.datum,distance:p.distance})}return this._pickNodeCache.set(u,void 0)}pickNodeExactShape(e){let t=this.contentGroup.pickNode(e.x,e.y);if(t&&t.datum.missing!==!0)return{datum:t.datum,distance:0}}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,t){let i=ny(e.x,e.y,t);if(i.nearest!==void 0&&i.nearest.datum.missing!==!0)return{datum:i.nearest.datum,distance:Math.sqrt(i.distanceSquared)}}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}getLabelData(){return[]}updatePlacedLabelData(e){}fireNodeClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeClick",e,t,this))}fireNodeDoubleClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeDoubleClick",e,t,this))}createNodeContextMenuActionEvent(e,t){return new this.NodeEvent("nodeContextMenuAction",e,t,this)}onLegendInitialState(e,t){let{visible:i=!0,itemId:n,legendItemName:s}=t??{};this.toggleSeriesItem(i,e,n,s)}onLegendItemClick(e){let{enabled:t,itemId:i,series:n,legendType:s}=e,o="legendItemName"in this.properties?this.properties.legendItemName:void 0,r="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,a=o!=null&&o===e.legendItemName;(n.id===this.id||a||r!=null)&&this.toggleSeriesItem(t,s,i,o,e)}onLegendItemDoubleClick(e){let{enabled:t,itemId:i,series:n,numVisibleItems:s,legendType:o}=e,r="legendItemName"in this.properties?this.properties.legendItemName:void 0,a="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,l=r!=null&&r===e.legendItemName;n.id===this.id||l||a!=null?this.toggleSeriesItem(!0,o,i,r,e):t&&s===1?this.toggleSeriesItem(!0,o,void 0,r):this.toggleSeriesItem(!1,o,void 0,r)}toggleSeriesItem(e,t,i,n,s){let o=this.id;(e||t!=="category")&&(this.visible=e),this.nodeDataRefresh=!0,this._pickNodeCache.clear();let r={type:"seriesVisibilityChange",seriesId:o,itemId:i,legendItemName:s?.legendItemName??n,visible:e};this.fireEvent(r),this.ctx.legendManager.toggleItem({enabled:e,seriesId:o,itemId:i,legendItemName:n})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return A(w({},this.ctx),{series:this})}getLabelText(e,t,i=vr){return e.formatter?this.ctx.callbackCache.call(e.formatter,w({seriesId:this.id},t))??i(t.value):i(t.value)}getMarkerStyle(e,t,i=e.getStyle()){let n={size:t.datum.point?.size??0},s=He(n,i);if(e.itemStyler){let o=this.ctx.callbackCache.call(e.itemStyler,A(w(w({seriesId:this.id},s),t),{datum:t.datum.datum}));return He(o,s)}return s}updateMarkerStyle(e,t,i,n=t.getStyle(),{applyTranslation:s=!0,selected:o=!0}={}){let{point:r}=i.datum,a=this.getMarkerStyle(t,i,n),l=this.visible&&a.size>0&&r&&!isNaN(r.x)&&!isNaN(r.y);if(s?e.setProperties(A(w({visible:l},a),{translationX:r?.x,translationY:r?.y})):e.setProperties(w({visible:l},a)),o||(e.fillOpacity*=Sie,e.strokeOpacity*=Mie),typeof t.shape=="function"&&!e.dirtyPath){e.path.clear(!0),e.updatePath(),e.checkPathDirty();let c=e.getBBox();if(r!==void 0&&c.isFinite()){let d=c.computeCenter(),[u,h]=["x","y"].map(p=>(a.strokeWidth??0)+Math.abs(d[p]-r[p]));r.focusSize=Math.max(c.width+u,c.height+h)}}}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){let{width:t,height:i}=e??{width:NaN,height:NaN},n=e?{seriesRectWidth:t,seriesRectHeight:i}:void 0,s=yr(this.nodeDataDependencies,n)!=null;return s&&(this._nodeDataDependencies=n,this.markNodeDataDirty()),s}pickFocus(e){}resetDatumCallbackCache(){this.datumCallbackCache.clear()}cachedDatumCallback(e,t){let{datumCallbackCache:i}=this,n=i.get(e);if(n!=null)return n;let s=t();return i.set(e,s),s}};b([Pn({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],Ry.prototype,"seriesGrouping",2);function Die(e,t){let i=-t/e;return e!==0&&i>=0&&i<=1?[i]:[]}function _ie(e,t,i){if(e===0)return Die(t,i);let n=t*t-4*e*i,s=[];if(n===0){let o=-t/(2*e);o>=0&&o<=1&&s.push(o)}else if(n>0){let o=Math.sqrt(n),r=(-t-o)/(2*e),a=(-t+o)/(2*e);r>=0&&r<=1&&s.push(r),a>=0&&a<=1&&s.push(a)}return s}function Eie(e,t,i,n){if(e===0)return _ie(t,i,n);let s=t/e,o=i/e,r=n/e,a=(3*o-s*s)/9,l=(9*s*o-27*r-2*s*s*s)/54,c=a*a*a+l*l,d=1/3,u=[];if(c>=0){let h=Math.sqrt(c),p=Math.sign(l+h)*Math.pow(Math.abs(l+h),d),g=Math.sign(l-h)*Math.pow(Math.abs(l-h),d),m=Math.abs(Math.sqrt(3)*(p-g)/2),f=-d*s+(p+g);if(f>=0&&f<=1&&u.push(f),m===0){let v=-d*s-(p+g)/2;v>=0&&v<=1&&u.push(v)}}else{let h=Math.acos(l/Math.sqrt(-a*a*a)),p=d*s,g=2*Math.sqrt(-a),m=g*Math.cos(d*h)-p,f=g*Math.cos(d*(h+2*Math.PI))-p,v=g*Math.cos(d*(h+4*Math.PI))-p;m>=0&&m<=1&&u.push(m),f>=0&&f<=1&&u.push(f),v>=0&&v<=1&&u.push(v)}return u}function gd(e,t,i,n,s,o,r,a){let l=(i-e)*(a-o)-(n-t)*(r-s);if(l===0)return 0;let c=((r-s)*(t-o)-(e-s)*(a-o))/l,d=((i-e)*(t-o)-(n-t)*(e-s))/l;return c>=0&&c<=1&&d>=0&&d<=1?1:0}function Iie(e,t,i,n,s,o,r,a,l,c,d,u){let h=0,p=c-u,g=d-l,m=l*(u-c)-c*(d-l),f=vL(e,i,s,r),v=vL(t,n,o,a),y=p*f[0]+g*v[0],C=p*f[1]+g*v[1],S=p*f[2]+g*v[2],M=p*f[3]+g*v[3]+m,D=Eie(y,C,S,M);for(let E of D){let R=E*E,I=E*R,T=f[0]*I+f[1]*R+f[2]*E+f[3],F=v[0]*I+v[1]*R+v[2]*E+v[3],N;l===d?N=(F-c)/(u-c):N=(T-l)/(d-l),N>=0&&N<=1&&h++}return h}function vL(e,t,i,n){return[-e+3*t-3*i+n,3*e-6*t+3*i,-3*e+3*t,e]}function xP(e,t,i,n,s,o,r,a,l,c){if(isNaN(e)||isNaN(t))return 0;o&&([s,n]=[n,s]);let d=(c-a)/(l-r),u=a-d*r,h=Math.pow(d,2)+1,p=2*(d*(u-t)-e),g=Math.pow(e,2)+Math.pow(u-t,2)-Math.pow(i,2),m=Math.pow(p,2)-4*h*g;if(m<0)return 0;let f=(-p+Math.sqrt(m))/2/h,v=(-p-Math.sqrt(m))/2/h,y=0;return[f,v].forEach(C=>{if(!(C>=Math.min(r,l)&&C<=Math.max(r,l)))return;let M=d*C+u,D=C-e,E=M-t,R=Math.atan2(E,D);ua(R,n,s)&&y++}),y}function Gv(e,t,i,n,s){return(1-s)**3*e+3*(1-s)**2*s*t+3*(1-s)*s**2*i+s**3*n}function Hv(e,t,i,n,s){if(s<=Math.min(e,n))return e<n?0:1;if(s>=Math.max(e,n))return e<n?1:0;let o=0,r=1,a=NaN;for(let l=0;l<12;l+=1)a=(o+r)/2,Gv(e,t,i,n,a)<s?o=a:r=a;return a}function jv(e,t,i,n,s,o,r,a,l){let c=(1-l)*e+l*i,d=(1-l)*t+l*n,u=(1-l)*i+l*s,h=(1-l)*n+l*o,p=(1-l)*s+l*r,g=(1-l)*o+l*a,m=(1-l)*c+l*u,f=(1-l)*d+l*h,v=(1-l)*u+l*p,y=(1-l)*h+l*g,C=(1-l)*m+l*v,S=(1-l)*f+l*y;return[[{x:e,y:t},{x:c,y:d},{x:m,y:f},{x:C,y:S}],[{x:C,y:S},{x:v,y},{x:p,y:g},{x:r,y:a}]]}function CS(e,t,i,n){let s=-e+3*t-3*i+n,o=3*e-6*t+3*i,r=-3*e+3*t;if(s===0){if(o!==0){let l=-r/o;if(l>0&&l<1)return[l]}return[]}let a=o*o-4*s*r;if(a>=0){let l=Math.sqrt(a),c=(-o+l)/(2*s),d=(-o-l)/(2*s);return[c,d].filter(u=>u>0&&u<1)}return[]}function SP(e,t,i,n,s,o,r,a){let l=CS(e,i,s,r),c=CS(t,n,o,a);return[...l,...c]}var yp=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isEmpty(){return this.commands.length===0}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,t){this.openedPath=!0,this.path2d.moveTo(e,t),this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.openedPath?(this.path2d.lineTo(e,t),this.commands.push(1),this.params.push(e,t)):this.moveTo(e,t)}rect(e,t,i,n){this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+n),this.lineTo(e,t+n),this.closePath()}roundRect(e,t,i,n,s){s=Math.min(s,i/2,n/2),this.moveTo(e,t+s),this.arc(e+s,t+s,s,Math.PI,1.5*Math.PI),this.lineTo(e+s,t),this.lineTo(e+i-s,t),this.arc(e+i-s,t+s,s,1.5*Math.PI,2*Math.PI),this.lineTo(e+i,t+s),this.lineTo(e+i,t+n-s),this.arc(e+i-s,t+n-s,s,0,Math.PI/2),this.lineTo(e+i-s,t+n),this.lineTo(e+s,t+n),this.arc(e+ +s,t+n-s,s,Math.PI/2,Math.PI),this.lineTo(e,t+n-s),this.closePath()}arc(e,t,i,n,s,o){this.openedPath=!0,this.path2d.arc(e,t,i,n,s,o),this.commands.push(2),this.params.push(e,t,i,n,s,o?1:0)}cubicCurveTo(e,t,i,n,s,o){this.openedPath||this.moveTo(e,t),this.path2d.bezierCurveTo(e,t,i,n,s,o),this.commands.push(3),this.params.push(e,t,i,n,s,o)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,t){let i=this.commands,n=this.params,s=i.length,o=-1e4,r=-1e4,a=NaN,l=NaN,c=0,d=0,u=0;for(let h=0,p=0;h<s;h++)switch(i[h]){case 0:u+=gd(a,l,c,d,o,r,e,t),c=n[p++],a=c,d=n[p++],l=d;break;case 1:u+=gd(c,d,n[p++],n[p++],o,r,e,t),c=n[p-2],d=n[p-1];break;case 3:u+=Iie(c,d,n[p++],n[p++],n[p++],n[p++],n[p++],n[p++],o,r,e,t),c=n[p-2],d=n[p-1];break;case 2:{let g=n[p++],m=n[p++],f=n[p++],v=n[p++],y=n[p++],C=!!n[p++];if(u+=xP(g,m,f,v,y,C,o,r,e,t),!isNaN(a)){let S=g+Math.cos(v)*f,M=m+Math.sin(v)*f;u+=gd(c,d,S,M,o,r,e,t)}c=g+Math.cos(y)*f,d=m+Math.sin(y)*f;break}case 4:u+=gd(a,l,c,d,o,r,e,t);break}return u%2===1}distanceSquared(e,t){let i=1/0,n=this.commands,s=this.params,o=n.length,r=NaN,a=NaN,l=0,c=0;for(let d=0,u=0;d<o;d++)switch(n[d]){case 0:l=r=s[u++],c=a=s[u++];break;case 1:{let h=s[u++],p=s[u++];i=sp(e,t,l,c,h,p,i);break}case 3:V.error("Command.Curve distanceSquare not implemented");break;case 2:{let h=s[u++],p=s[u++],g=s[u++],m=s[u++],f=s[u++],v=h+Math.cos(m)*g,y=p+Math.sin(m)*g,C=!!s[u++];i=sp(e,t,l,c,v,y,i),i=TJ(e,t,h,p,g,m,f,C,i),l=h+Math.cos(f)*g,c=p+Math.sin(f)*g;break}case 4:i=sp(e,t,l,c,r,a,i);break}return i}toSVG(e=(t,i)=>({x:t,y:i})){let t=[],{commands:i,params:n}=this,s=(r,...a)=>{t.push(r);for(let l=0;l<a.length;l+=2){let{x:c,y:d}=e(a[l],a[l+1]);t.push(c,d)}},o=0;for(let r of i)switch(r){case 0:s("M",n[o++],n[o++]);break;case 1:s("L",n[o++],n[o++]);break;case 3:s("C",n[o++],n[o++],n[o++],n[o++],n[o++],n[o++]);break;case 2:{let a=n[o++],l=n[o++],c=n[o++],d=n[o++],u=n[o++],h=n[o++],p=h?d-u:u-d;p<0&&(p+=Math.ceil(-p/(2*Math.PI))*2*Math.PI),h&&(p=-p);let g=Math.max(Math.ceil(Math.abs(p)/(Math.PI/2)),1),m=p/g,f=4/3*Math.tan(m/4),v=t.length===0?"M":"L";s(v,a+Math.cos(d)*c,l+Math.sin(d)*c);for(let y=0;y<g;y+=1){let C=d+m*(y+0),S=d+m*(y+1),M=c*Math.sin(C),D=c*Math.cos(C),E=c*Math.sin(S),R=c*Math.cos(S);s("C",a+D-f*M,l+M+f*D,a+R+f*E,l+E-f*R,a+R,l+E)}break}case 4:t.push("Z");break}return t.join(" ")}computeBBox(){let{commands:e,params:t}=this,[i,n,s,o]=[1/0,1/0,-1/0,-1/0],[r,a]=[NaN,NaN],[l,c]=[NaN,NaN],d=(h,p,g)=>{i=Math.min(p,i),n=Math.min(h,n),s=Math.max(h,s),o=Math.max(p,o),g&&([r,a]=[h,p])},u=0;for(let h of e)switch(h){case 0:d(t[u++],t[u++],!0),[l,c]=[r,a];break;case 1:d(t[u++],t[u++],!0);break;case 3:{let p=t[u++],g=t[u++],m=t[u++],f=t[u++],v=t[u++],y=t[u++];d(v,y,!0),SP(r,a,p,g,m,f,v,y).forEach(S=>{let M=Gv(r,p,m,v,S),D=Gv(a,g,f,y,S);d(M,D)});break}case 2:{let p=t[u++],g=t[u++],m=t[u++],f=_t(t[u++]),v=_t(t[u++]);t[u++]&&([f,v]=[v,f]);let C=(M,D)=>{let E=p+m*Math.cos(M),R=g+m*Math.sin(M);d(E,R,D)};C(f),C(v,!0);let S=[0,Math.PI/2,Math.PI,3*Math.PI/2];for(let M of S)(f<v&&f<=M&&M<=v||f>v&&(f<=M||M<=v))&&C(M);break}case 4:[r,a]=[l,c];break}return new ne(n,i,s-n,o-i)}};function Ae(e){let{changeCb:t,convertor:i}=e??{};return te({type:"path",convertor:i,changeCb:t})}var On=(()=>{let e=class extends Rs{constructor(){super(...arguments),this.path=new yp,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0,this.lastPixelRatio=NaN}set clipX(t){this._clipX=t,this.dirtyPath=!0}set clipY(t){this._clipY=t,this.dirtyPath=!0}set dirtyPath(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty())}get dirtyPath(){return this._dirtyPath}checkPathDirty(){this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(this.fillShadow?.isDirty()??!1)||(this._clipPath?.isDirty()??!1))}isPointInPath(t,i){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(t,i)}distanceSquared(t,i){return this.distanceSquaredTransformedPoint(t,i)}svgPathData(t){return this.updatePathIfDirty(),this.path.toSVG(t)}distanceSquaredTransformedPoint(t,i){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(t,i)?0:this.path.distanceSquared(t,i)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(t){return t.devicePixelRatio!==this.lastPixelRatio&&(this.dirtyPath=!0),this.lastPixelRatio=t.devicePixelRatio,this.updatePathIfDirty(),super.preRender(t,this.path.commands.length)}render(t){let{ctx:i}=t;if(this.clip&&!isNaN(this._clipX)&&!isNaN(this._clipY)){i.save();let n=this.strokeWidth/2;this._clipPath??(this._clipPath=new yp),this._clipPath.clear(),this._clipPath.rect(-n,-n,this._clipX+n,this._clipY+n+n),i.clip(this._clipPath?.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(i),i.restore()}else this._clipPath=void 0,this.drawPath(i);this.fillShadow?.markClean(),super.render(t)}drawPath(t){this.fillStroke(t,this.path.getPath2D())}toSVG(){if(!this.visible)return;let t=Es("path");return t.setAttribute("d",this.svgPathData()),this.applySvgFillAttributes(t),this.applySvgStrokeAttributes(t),{elements:[t]}}};return e.className="Path",e})();b([Ae()],On.prototype,"clip",2);b([Ae()],On.prototype,"clipX",1);b([Ae()],On.prototype,"clipY",1);var Rie=class{constructor(e){this.swapChain=e,this.div=Ue("div"),this.svg=Es("svg"),this.outerPath=Es("path"),this.innerPath=Es("path"),this.svg.append(this.outerPath),this.svg.append(this.innerPath),this.outerPath.classList.add("ag-charts-focus-svg-outer-path"),this.innerPath.classList.add("ag-charts-focus-svg-inner-path"),this.element=Ue("div","ag-charts-focus-indicator"),this.element.ariaHidden="true",this.element.append(this.svg),this.swapChain.addListener("swap",t=>this.onSwap(t))}clear(){}update(e,t,i){if(t!=null)if(e instanceof On){let n=(o,r)=>{let{x:a,y:l}=Kt.toCanvasPoint(e,o,r);return a-=t.x??0,l-=t.y??0,{x:a,y:l}},s=e.svgPathData(n);this.outerPath.setAttribute("d",s),this.innerPath.setAttribute("d",s),this.show(this.svg)}else{let n;if(i){let s=Math.max(e.x-t.x,0),o=Math.max(e.y-t.y,0),r=Math.min(e.x+e.width-t.x,t.width),a=Math.min(e.y+e.height-t.y,t.height);n=new ne(s,o,r-s,a-o)}else n=new ne(e.x-t.x,e.y-t.y,e.width,e.height);Bv(this.div,n),this.show(this.div)}}onSwap(e){e!==this.element.parentElement&&(this.element.remove(),e.appendChild(this.element),this.overrideFocusVisible(this.focusVisible))}show(e){this.element.innerHTML="",this.element.append(e)}overrideFocusVisible(e){this.focusVisible=e;let t={true:"1",false:"0",undefined:""};this.element.parentElement?.style.setProperty("opacity",t[`${e}`])}isFocusVisible(){let e=this.element.parentElement;return e!=null&&Et().getComputedStyle(e).opacity==="1"}},Aie=class{constructor(e,t,i,n){this.label1=e,this.label2=t,this.hasFocus=!1,this.skipDispatch=!1,this.listeners={blur:[],focus:[],swap:[]},this.onBlur=s=>(qs(s.target,"pointer-events",void 0),!this.skipDispatch&&this.dispatch("blur",s)),this.onFocus=s=>(qs(s.target,"pointer-events","auto"),!this.skipDispatch&&this.dispatch("focus",s)),Ct(this.label1,"id",`${i}-label1`),Ct(this.label2,"id",`${i}-label2`),qs(this.label1,"display","none"),qs(this.label2,"display","none"),this.activeAnnouncer=this.createAnnouncer(n),this.inactiveAnnouncer=this.createAnnouncer(n),Ct(this.activeAnnouncer,"tabindex",0),this.label2.insertAdjacentElement("afterend",this.activeAnnouncer),this.label2.insertAdjacentElement("afterend",this.inactiveAnnouncer),this.swap("")}createAnnouncer(e){let t=Ue("div");return t.role=e,t.className="ag-charts-swapchain",t.addEventListener("blur",this.onBlur),t.addEventListener("focus",this.onFocus),t}destroy(){for(let e of[this.activeAnnouncer,this.inactiveAnnouncer])e.removeEventListener("blur",this.onBlur),e.removeEventListener("focus",this.onFocus),e.remove()}focus(e){this.focusOptions=e,this.activeAnnouncer.focus(e),this.focusOptions=void 0}update(e){this.skipDispatch=!0,this.swap(e),this.hasFocus&&this.activeAnnouncer.focus(this.focusOptions),this.skipDispatch=!1}addListener(e,t){this.listeners[e].push(t),e==="swap"&&t(this.activeAnnouncer)}dispatch(e,t){e==="focus"?this.hasFocus=!0:e==="blur"&&(this.hasFocus=!1),this.listeners[e].forEach(i=>i(t))}swap(e){let t=this.activeAnnouncer.tabIndex;this.label2.textContent=e,[this.inactiveAnnouncer,this.activeAnnouncer]=[this.activeAnnouncer,this.inactiveAnnouncer],[this.label1,this.label2]=[this.label2,this.label1],Nl(this.inactiveAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!0,tabindex:void 0}),Nl(this.activeAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!1,tabindex:t}),this.dispatch("swap",this.activeAnnouncer)}},kie={arrowdown:{bindings:[{code:"ArrowDown"}]},arrowleft:{bindings:[{code:"ArrowLeft"}]},arrowright:{bindings:[{code:"ArrowRight"}]},arrowup:{bindings:[{code:"ArrowUp"}]},delete:{bindings:[{key:"Backspace"},{key:"Delete"}],activatesFocusIndicator:!1},redo:{bindings:[{key:"y",ctrlOrMeta:!0},{key:"z",ctrlOrMeta:!0,shift:!0}],activatesFocusIndicator:!1},undo:{bindings:[{key:"z",ctrlOrMeta:!0}],activatesFocusIndicator:!1},submit:{bindings:[{key:"Enter"},{code:"Enter"},{code:"Space"}]},zoomin:{bindings:[{key:"+"},{code:"ZoomIn"},{code:"Add"}],activatesFocusIndicator:!1},zoomout:{bindings:[{key:"-"},{code:"ZoomOut"},{code:"Substract"}],activatesFocusIndicator:!1}};function Tie(e,t){for(let i of t)if("code"in i){if(i.code===e.code)return!0}else if(i.key===e.key&&(i.shift===void 0||i.shift===e.shiftKey)&&(i.ctrlOrMeta===void 0||i.ctrlOrMeta===e.ctrlKey||i.ctrlOrMeta===e.metaKey))return!0;return!1}function Lie(e){for(let[t,{activatesFocusIndicator:i=!0,bindings:n}]of Object.entries(kie))if(Tie(e,n))return{name:t,activatesFocusIndicator:i}}function Fie(e,t,i){let n=MM(e,i.datum);if(n!=null)return{x:n.canvasX,y:n.canvasY};let s=i.bounds;if(s!=null){if(s instanceof ne){let{x:o,y:r}=s.computeCenter();return{x:t.x+o,y:t.y+r}}return Kt.toCanvas(s).computeCenter()}}function Pie({bounds:e}){return e instanceof ne?e:e!=null?Kt.toCanvas(e):ne.NaN}function Oie(e,t,i){let{x:n,y:s}=Fie(e,t,i)??{};if(n!==void 0&&s!==void 0)return{type:"keyboard",canvasX:n,canvasY:s}}function wS(e,t,i,n){let{top:s,right:o,bottom:r,left:a,width:l,height:c}=n;return a!=null?l!=null?o=i.width-a+l:o!=null&&(l=i.width-a-o):o!=null&&l!=null&&(a=i.width-o-l),s!=null?c!=null?r=i.height-s-c:r!=null&&(c=i.height-r-s):r!=null&&c!=null&&(s=i.height-r-c),l==null?c==null?(l=e,c=t):l=Math.ceil(e*c/t):c==null&&(c=Math.ceil(t*l/e)),a==null&&(o==null?a=Math.floor((i.width-l)/2):a=i.width-o-l),s==null&&(r==null?s=Math.floor((i.height-c)/2):s=i.height-c-r),{x:a,y:s,width:l,height:c}}var lv=null;function yd(e){if(e!=null)return e===""?"":(lv??(lv=Ue("div")),lv.textContent=String(e),lv.innerHTML)}function Qh(e,t){let{path:i,size:n}=e,{x:s,y:o}=e;i.clear();let r=!1;for(let[a,l]of t){let c=s+(a-.5)*n,d=o+(l-.5)*n;r?i.lineTo(c,d):i.moveTo(c,d),r=!0}i.closePath()}var Nie={circle({path:e,x:t,y:i,size:n}){let s=n/2;e.clear(),e.arc(t,i,s,0,Math.PI*2),e.closePath()},cross(e){Qh(e,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},diamond(e){Qh(e,[[.5,0],[1,.5],[.5,1],[0,.5]])},heart({path:e,x:t,y:i,size:n}){let s=n/4;i=i+s/2,e.clear(),e.arc(t-s,i-s,s,mi(130),mi(330)),e.arc(t+s,i-s,s,mi(220),mi(50)),e.lineTo(t,i+s),e.closePath()},pin({path:e,x:t,y:i,size:n}){e.moveTo(t+(.15625-.5)*n,i+(.34375-.5)*n),e.cubicCurveTo(t+(.15625-.5)*n,i+(.151491-.5)*n,t+(.307741-.5)*n,i+(0-.5)*n,t+(.5-.5)*n,i+(0-.5)*n),e.cubicCurveTo(t+(.692259-.5)*n,i+(0-.5)*n,t+(.84375-.5)*n,i+(.151491-.5)*n,t+(.84375-.5)*n,i+(.34375-.5)*n),e.cubicCurveTo(t+(.84375-.5)*n,i+(.493824-.5)*n,t+(.784625-.5)*n,i+(.600181-.5)*n,t+(.716461-.5)*n,i+(.695393-.5)*n),e.cubicCurveTo(t+(.699009-.5)*n,i+(.719769-.5)*n,t+(.681271-.5)*n,i+(.743104-.5)*n,t+(.663785-.5)*n,i+(.766105-.5)*n),e.cubicCurveTo(t+(.611893-.5)*n,i+(.834367-.5)*n,t+(.562228-.5)*n,i+(.899699-.5)*n,t+(.528896-.5)*n,i+(.980648-.5)*n),e.cubicCurveTo(t+(.524075-.5)*n,i+(.992358-.5)*n,t+(.512663-.5)*n,i+(1-.5)*n,t+(.5-.5)*n,i+(1-.5)*n),e.cubicCurveTo(t+(.487337-.5)*n,i+(1-.5)*n,t+(.475925-.5)*n,i+(.992358-.5)*n,t+(.471104-.5)*n,i+(.980648-.5)*n),e.cubicCurveTo(t+(.487337-.5)*n,i+(1-.5)*n,t+(.475925-.5)*n,i+(.992358-.5)*n,t+(.471104-.5)*n,i+(.980648-.5)*n),e.cubicCurveTo(t+(.437772-.5)*n,i+(.899699-.5)*n,t+(.388107-.5)*n,i+(.834367-.5)*n,t+(.336215-.5)*n,i+(.766105-.5)*n),e.cubicCurveTo(t+(.318729-.5)*n,i+(.743104-.5)*n,t+(.300991-.5)*n,i+(.719769-.5)*n,t+(.283539-.5)*n,i+(.695393-.5)*n),e.cubicCurveTo(t+(.215375-.5)*n,i+(.600181-.5)*n,t+(.15625-.5)*n,i+(.493824-.5)*n,t+(.15625-.5)*n,i+(.34375-.5)*n),e.closePath()},plus(e){Qh(e,[[1/3,0],[2/3,0],[2/3,1/3],[1,1/3],[1,2/3],[2/3,2/3],[2/3,1],[1/3,1],[1/3,2/3],[0,2/3],[0,1/3],[1/3,1/3]])},square({path:e,x:t,y:i,size:n,pixelRatio:s}){let o=n/2;e.clear(),e.moveTo(sr(s,t-o),sr(s,i-o)),e.lineTo(sr(s,t+o),sr(s,i-o)),e.lineTo(sr(s,t+o),sr(s,i+o)),e.lineTo(sr(s,t-o),sr(s,i+o)),e.closePath()},star({path:e,x:t,y:i,size:n}){let o=n/2,r=o/2,a=Math.PI/2;for(let l=0;l<5*2;l++){let c=l%2===0?o:r,d=l*Math.PI/5-a,u=t+Math.cos(d)*c,h=i+Math.sin(d)*c;e.lineTo(u,h)}e.closePath()},triangle(e){Qh(e,[[.5,0],[1,.87],[0,.87]])}},Up=class extends On{constructor(){super(...arguments),this.shape="square",this.x=0,this.y=0,this.size=12}updatePath(){let{path:e,shape:t,x:i,y:n,size:s}=this,o=this.layerManager?.canvas?.pixelRatio??1,r=xi.anchor(t),a={path:e,x:i-(r.x-.5)*s,y:n-(r.y-.5)*s,size:s,pixelRatio:o};e.clear(),typeof t=="string"?Nie[t](a):typeof t=="function"&&t(a)}computeBBox(){let{x:e,y:t,size:i}=this,n=xi.anchor(this.shape);return new ne(e-i*n.x,t-i*n.y,i,i)}executeFill(e,t){if(t)return super.executeFill(e,t)}executeStroke(e,t){if(t)return super.executeStroke(e,t)}};b([Ae()],Up.prototype,"shape",2);b([Ae()],Up.prototype,"x",2);b([Ae()],Up.prototype,"y",2);b([Ae({convertor:Math.abs})],Up.prototype,"size",2);var xi=class extends Td(QS(Vl(Up))){static anchor(e){return e==="pin"?{x:.5,y:1}:typeof e=="function"&&"anchor"in e?e.anchor:{x:.5,y:.5}}constructor(e){super(e),e?.shape!=null&&(this.shape=e.shape)}};function MP(e,t,i=t*(5/3)){let n=new _e,s=Math.min(e.marker.strokeWidth,2),o=Math.min(e.line?.strokeWidth??0,2),r=Math.max(e.marker.enabled===!1?0:t,e.line==null?0:i),a=Math.max(e.marker.enabled===!1?0:t,o);if(e.line!=null){let{stroke:l,strokeOpacity:c,lineDash:d}=e.line,u=new es;u.x1=0,u.y1=a/2,u.x2=r,u.y2=a/2,u.stroke=l,u.strokeOpacity=c,u.strokeWidth=o,u.lineDash=d,n.append(u)}if(e.marker.enabled!==!1){let{shape:l,fill:c,fillOpacity:d,stroke:u,strokeOpacity:h,lineDash:p,lineDashOffset:g}=e.marker,m=new xi;m.shape=l??"square",m.size=t,m.fill=c,m.fillOpacity=d,m.stroke=u,m.strokeOpacity=h,m.strokeWidth=s,m.lineDash=p,m.lineDashOffset=g;let f=xi.anchor(l),v=r/2+(f.x-.5)*t,y=a/2+(f.y-.5)*t,C=t/(t+s);m.x=0,m.y=0,m.translationX=v,m.translationY=y,m.scalingX=C,m.scalingY=C,n.append(m)}return _e.toSVG(n,r,a)}var yL=.1,bL=200,CL=12,Bie=.5,zie=class extends Mr{constructor(){super(...arguments),this.x1=NaN,this.y1=NaN,this.x=NaN,this.y=NaN,this.vx=0,this.vy=0,this.t0=NaN,this.animationFrameHandle=void 0}reset(){this.x=NaN,this.y=NaN,this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0)}update(e,t){if(Number.isNaN(this.x)||Number.isNaN(this.y)){this.x=e,this.y=t,this.vx=0,this.vy=0,this.emitUpdate(),this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0);return}this.x1=e,this.y1=t,this.t0=Date.now(),this.animationFrameHandle==null&&(this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this)))}onFrame(){this.animationFrameHandle=void 0;let{x1:e,y1:t,t0:i}=this,n=Date.now(),s=n-i;this.t0=n;let o=.001,r=Math.ceil(s/(o*1e3))|0,{x:a,y:l,vx:c,vy:d}=this;for(let u=0;u<r;u+=1){let h=a-e,p=l-t,g=-(bL*h+CL*c)/yL,m=-(bL*p+CL*d)/yL;c+=g*o,d+=m*o,a+=c*o,l+=d*o}Math.hypot(a-e,l-t)<Bie?(this.x=this.x1,this.y=this.y1,this.vx=0,this.vy=0):(this.x=a,this.y=l,this.vx=c,this.vy=d,this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this))),this.emitUpdate()}emitUpdate(){this.dispatch("update",{type:"update",x:this.x,y:this.y})}},Qi="ag-charts-tooltip",DP="ag-charts-tooltip--dark";function _P(e){let t=[];return e.type==="raw"?"":(e.heading!=null&&t.push(e.heading),e.title!=null&&t.push(e.title),e.data?.forEach(i=>{t.push(i.label??i.fallbackLabel,i.value)}),t.join("; "))}function wL(e,t,i){let n="";e==null?n+=`<span class="${Qi}-label">${yd(t)}</span>`:(n+=`<span class="${Qi}-label">${yd(e)}</span>`,n+=" ",n+=`<span class="${Qi}-value">${yd(t)}</span>`);let s=[`${Qi}-row`];return i&&s.push(`${Qi}-row--inline`),n=`<div class="${s.join(" ")}">${n}</div>`,n}function Vie(e){if(e.type==="raw")return e.rawHtmlString;let t="";if((e.heading==null||e.title==null)&&e.data?.length===1&&e.data[0].label==null&&e.data[0].value!=null){let i=e.data[0];t+=wL(e.heading??e.title,i.value,!1)}else{let i=e.title==null&&e.data?.length===1;e.heading!=null&&(t+=`<span class="${Qi}-heading">${yd(e.heading)}</span>`,t+=" ");let n=e.symbol==null?void 0:MP(e.symbol,12);n!=null&&(e.title!=null||e.data?.length)&&(t+=`<span class="${Qi}-symbol">${n}</span>`),e.title!=null&&(t+=`<span class="${Qi}-title">${yd(e.title)}</span>`,t+=" "),e.data?.forEach(s=>{t+=wL(s.label??s.fallbackLabel,s.value,i),t+=" "})}return t=`<div class="${Qi}-content">${t.trimEnd()}</div>`,t}var Nd=class extends ke{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};b([x(xt(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left",{value:"sparkline",undocumented:!0},{value:"sparkline-",undocumented:!0}],"a position type"))],Nd.prototype,"type",2);b([x(Qe)],Nd.prototype,"xOffset",2);b([x(Qe)],Nd.prototype,"yOffset",2);var Fo=class extends ke{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new Nd,this.darkTheme=!1,this.bounds="extended",this.destroyFns=[],this.springAnimation=new zie,this.enableInteraction=!1,this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0,this._compact=!1,this._visible=!1,this.positionParams=void 0,this.destroyFns.push(this.springAnimation.addListener("update",this.updateTooltipPosition.bind(this)))}get interactive(){return this.enableInteraction}setup(e){"togglePopover"in Et().HTMLElement.prototype&&(this.element=e.addChild("canvas-overlay",Qi),this.element.setAttribute("popover","manual"),this.element.className=Qi)}destroy(e){e.removeChild("canvas-overlay",Qi),this.destroyFns.forEach(t=>t())}isVisible(){return this._visible}contains(e){return this.element?.contains(e)??!1}updateTooltipPosition(){let{element:e,positionParams:t}=this;if(e==null||t==null)return;let{canvasRect:i,relativeRect:n,meta:s}=t,{x:o,y:r}=this.springAnimation,a=s.position?.type??this.position.type,l=s.position?.xOffset??0,c=s.position?.yOffset??0,d=n.x,u=n.y,h=n.width-e.clientWidth-1+d,p=n.height-e.clientHeight+u,g=this.getTooltipBounds({positionType:a,canvasX:o,canvasY:r,yOffset:c,xOffset:l,canvasRect:i}),m=wS(e.clientWidth,e.clientHeight,n,g);a==="sparkline"&&(m.x<=d||m.x>=h)&&(g=this.getTooltipBounds({positionType:"sparkline-constrained",canvasX:o,canvasY:r,yOffset:c,xOffset:l,canvasRect:i}),m=wS(e.clientWidth,e.clientHeight,n,g));let f=Le(d,m.x,h),v=Le(u,m.y,p),y=f!==m.x||v!==m.y,C=(a==="node"||a==="pointer")&&!y&&!l&&!c,S=s.showArrow??this.showArrow??C;this.updateShowArrow(S),this.updateCompact(a==="sparkline"||a==="sparkline-constrained"),e.style.transform=`translate(${f}px, ${v}px)`}show(e,t,i,n,s=!1){let{element:o}=this;if(o!=null&&n!=null)o.innerHTML=Vie(n);else if(o==null||o.innerHTML===""){this.toggle(!1);return}let r={x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height};this.positionParams={canvasRect:t,relativeRect:r,meta:i},this.springAnimation.update(i.canvasX,i.canvasY),o.style.top=`${t.top}px`,o.style.left=`${t.left}px`,i.enableInteraction?(this.enableInteraction=!0,o.style.pointerEvents="auto",o.removeAttribute("aria-hidden")):(this.enableInteraction=!1,o.style.pointerEvents="none",o.setAttribute("aria-hidden","true")),this.delay>0&&!s?(this.toggle(!1),this.showTimeout=setTimeout(()=>{this.toggle(!0)},this.delay)):this.toggle(!0)}hide(){this.springAnimation.reset(),this.toggle(!1)}toggle(e){if(!this.element?.isConnected)return;this._visible=e;let{classList:t}=this.element,i=(n,s)=>t.toggle(`${Qi}--${n}`,s);e||clearTimeout(this.showTimeout),i("no-interaction",!this.enableInteraction),i("arrow",this._showArrow),i("compact",this._compact),t.toggle(DP,this.darkTheme),this.element.togglePopover(e),e&&this.updateTooltipPosition();for(let n of this.wrapTypes)t.toggle(`${Qi}--wrap-${n}`,n===this.wrapping)}updateShowArrow(e){this._showArrow=e}updateCompact(e){this._compact=e}getTooltipBounds(e){if(!this.element)return{};let{positionType:t,canvasX:i,canvasY:n,yOffset:s,xOffset:o,canvasRect:r}=e,{clientWidth:a,clientHeight:l}=this.element,c={width:a,height:l};switch(t){case"node":case"pointer":return c.top=n+s-l-8,c.left=i+o-a/2,c;case"top":return c.top=s,c.left=r.width/2-a/2+o,c;case"right":return c.top=r.height/2-l/2+s,c.left=r.width-a/2+o,c;case"left":return c.top=r.height/2-l/2+s,c.left=o,c;case"bottom":return c.top=r.height-l+s,c.left=r.width/2-a/2+o,c;case"top-left":return c.top=s,c.left=o,c;case"top-right":return c.top=s,c.left=r.width-a+o,c;case"bottom-right":return c.top=r.height-l+s,c.left=r.width-a+o,c;case"bottom-left":return c.top=r.height-l+s,c.left=o,c;case"sparkline":return c.top=n+s-l/2,c.left=i+o+8,c;case"sparkline-constrained":return c.top=n+s-l/2,c.left=i+o-8-a,c}}};b([x(me)],Fo.prototype,"enabled",2);b([x(me,{optional:!0})],Fo.prototype,"showArrow",2);b([x($)],Fo.prototype,"delay",2);b([x(my,{optional:!0})],Fo.prototype,"range",2);b([x(gy)],Fo.prototype,"wrapping",2);b([x(ee)],Fo.prototype,"position",2);b([x(me)],Fo.prototype,"darkTheme",2);b([x(xt(["extended","canvas"]))],Fo.prototype,"bounds",2);var Gie=class extends Da{constructor(e){super(),this.chart=e,this.id=ks(this),this.series=[],this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="pointer",this.previousInputDevice="keyboard",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.hoverScheduler=pee(()=>{if(!(!this.tooltip.lastHover&&!this.highlight.pendingHoverEvent)){if(this.chart.getUpdateType()<=4){this.hoverScheduler.schedule();return}this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)}});let t=e.ctx.domManager.addChild("series-area","series-area-aria-label1"),i=e.ctx.domManager.addChild("series-area","series-area-aria-label2");this.swapChain=new Aie(t,i,this.id,"img"),this.swapChain.addListener("blur",()=>this.onBlur()),this.swapChain.addListener("focus",()=>this.onFocus()),this.focusIndicator=new Rie(this.swapChain),this.focusIndicator.overrideFocusVisible(e.mode==="integrated"?!1:void 0);let{seriesDragInterpreter:n,seriesWidget:s,containerWidget:o}=e.ctx.widgets;s.setTabIndex(-1),this.destroyFns.push(()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label1"),()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label2"),s.addListener("focus",()=>this.swapChain.focus()),s.addListener("mousemove",r=>this.onHover(r)),s.addListener("wheel",r=>this.onWheel(r)),s.addListener("mouseleave",r=>this.onLeave(r)),s.addListener("keydown",r=>this.onKeyDown(r)),s.addListener("contextmenu",(r,a)=>this.onContextMenu(r,a)),n.addListener("drag-move",r=>this.onDragMove(r)),n.addListener("click",r=>this.onClick(r,s)),n.addListener("dblclick",r=>this.onClick(r,s)),o.addListener("contextmenu",(r,a)=>this.onContextMenu(r,a)),o.addListener("click",(r,a)=>this.onClick(r,a)),o.addListener("dblclick",(r,a)=>this.onClick(r,a)),e.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),e.ctx.domManager.addListener("resize",()=>this.clearAll()),e.ctx.highlightManager.addListener("highlight-change",r=>this.changeHighlightDatum(r)),e.ctx.layoutManager.addListener("layout:complete",r=>this.layoutComplete(r)),e.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),e.ctx.updateService.addListener("update-complete",()=>this.updateComplete()),e.ctx.zoomManager.addListener("zoom-change",()=>this.clearAll()),e.ctx.zoomManager.addListener("zoom-pan-start",()=>this.clearAll()))}isState(e){return this.chart.ctx.interactionManager.isState(e)}isIgnoredTouch(e){return!(e.device!=="touch"||e.type==="click"||this.chart.ctx.chartService.touch.dragAction==="hover"||this.chart.ctx.chartService.touch.dragAction==="drag"&&this.isState(9))}dataChanged(){var e;(e=this.highlight).stashedHoverEvent??(e.stashedHoverEvent=this.highlight.appliedHoverEvent),this.chart.ctx.tooltipManager.removeTooltip(this.id),this.focusIndicator.clear(),this.clearHighlight()}preSceneRender(){this.highlight.stashedHoverEvent!=null&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),this.tooltip.lastHover!=null&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}updateComplete(){this.focusIndicator.isFocusVisible()&&this.isState(34)&&this.handleSeriesFocus(0,0,!0)}update(e,t){this.chart.ctx.updateService.update(e,t)}seriesChanged(e){this.focus.sortedSeries=[...e].sort((t,i)=>{let n=t.properties.focusPriority??1/0,s=i.properties.focusPriority??1/0;return n===s&&([n,s]=[t._declarationOrder,i._declarationOrder]),n<s?-1:n>s?1:0}),this.series=e}layoutComplete(e){this.seriesRect=e.series.rect,this.hoverRect=e.series.paddedRect,this.chart.ctx.widgets.seriesWidget.setBounds(e.series.paddedRect),this.chart.ctx.widgets.chartWidget.setBounds(e.chart)}onContextMenu(e,t){let{sourceEvent:i}=e;if(i.currentTarget!=t.getElement())return;if(i.target==this.chart.ctx.widgets.containerWidget.getElement()){if(this.isState(36)){let{currentX:l,currentY:c}=e;this.chart.ctx.contextMenuRegistry.dispatchContext("all",{sourceEvent:i,canvasX:l,canvasY:c},{})}return}let n,s;if(this.focusIndicator.isFocusVisible())n=this.chart.ctx.highlightManager.getActiveHighlight(),n&&this.seriesRect&&n.midPoint&&(s=Kt.toCanvasPoint(n.series.contentGroup,n.midPoint.x,n.midPoint.y));else if(this.isState(36)){let l=this.pickNode({x:e.currentX,y:e.currentY},"context-menu");l&&(this.chart.ctx.highlightManager.updateHighlight(this.id),n=l.datum)}let o=n?.series;this.clearAll();let r=e.currentX+t.cssLeft(),a=e.currentY+t.cssTop();this.chart.ctx.contextMenuRegistry.dispatchContext("series-area",{sourceEvent:i,canvasX:r,canvasY:a},{pickedSeries:o,pickedNode:n},s)}onLeave(e){!this.isState(41)||e.sourceEvent.relatedTarget?.className==="ag-charts-text-input__textarea"||this.chart.ctx.tooltipManager.isEnteringInteractiveTooltip(e)||(this.chart.ctx.domManager.updateCursor(this.id),this.focusIndicator.isFocusVisible()||this.clearAll())}onWheel(e){this.isState(41)&&(this.focusIndicator?.overrideFocusVisible(!1),this.previousInputDevice="pointer")}onDragMove(e){this.isState(41)&&(this.focusIndicator?.overrideFocusVisible(!1),this.onHoverLikeEvent(e))}onHover(e){this.isState(41)&&this.onHoverLikeEvent(e)}onHoverLikeEvent(e){if(!this.isIgnoredTouch(e)&&((e.device==="touch"||Hie(e,"drag-move"))&&(this.tooltip.lastHover=e),e.device==="touch"&&this.chart.ctx.chartService.touch.dragAction==="hover"&&e.sourceEvent.preventDefault(),this.hoverDevice="pointer",this.previousInputDevice="pointer",this.highlight.pendingHoverEvent=e,this.hoverScheduler.schedule(),this.isState(32))){let{currentX:t,currentY:i}=e,n=this.pickNode({x:t,y:i},"event");n?.series.hasEventListener("nodeClick")||n?.series.hasEventListener("nodeDoubleClick")?this.chart.ctx.domManager.updateCursor(this.id,"pointer"):this.chart.ctx.domManager.updateCursor(this.id)}}onClick(e,t){if(e.device==="touch"&&t===this.chart.ctx.widgets.seriesWidget&&this.swapChain.focus({preventScroll:!0}),!this.isState(41))return;if(t===this.chart.ctx.widgets.seriesWidget){if(!t.getElement().contains(e.sourceEvent.target))return}else if(e.sourceEvent.target!=t.getElement())return;if(this.focusIndicator.overrideFocusVisible(!1),this.onHoverLikeEvent(e),!this.isState(32))return;if(t==this.chart.ctx.widgets.seriesWidget&&this.checkSeriesNodeClick(e)){this.update(4),e.sourceEvent.preventDefault();return}let i={type:e.type==="click"?"click":"doubleClick",event:e.sourceEvent};this.chart.fireEvent(i)}onFocus(){this.isState(34)&&(this.hoverDevice=this.focusIndicator.isFocusVisible()?"keyboard":"pointer",this.handleFocus(0,0))}onBlur(){this.isState(34)&&(this.hoverDevice="pointer",this.clearAll(),this.focusIndicator.overrideFocusVisible(void 0))}onKeyDown(e){if(!this.isState(43))return;let t=Lie(e.sourceEvent);switch(t?.activatesFocusIndicator===!1&&this.focusIndicator.overrideFocusVisible(this.previousInputDevice==="keyboard"),t?.name){case"redo":return this.chart.ctx.chartEventManager.seriesEvent("series-redo");case"undo":return this.chart.ctx.chartEventManager.seriesEvent("series-undo");case"zoomin":return this.chart.ctx.chartEventManager.seriesKeyNavZoom(1,e);case"zoomout":return this.chart.ctx.chartEventManager.seriesKeyNavZoom(-1,e);case"arrowup":return this.onArrow(-1,0,e);case"arrowdown":return this.onArrow(1,0,e);case"arrowleft":return this.onArrow(0,-1,e);case"arrowright":return this.onArrow(0,1,e);case"submit":return this.onSubmit(e)}}onArrow(e,t,i){this.isState(34)&&(this.hoverDevice="keyboard",this.previousInputDevice="keyboard",this.focusIndicator.overrideFocusVisible(!0),this.focus.seriesIndex+=e,this.focus.datumIndex+=t,this.handleFocus(e,t),i.sourceEvent.preventDefault(),this.chart.ctx.chartEventManager.seriesEvent("series-focus-change"))}onSubmit(e){if(!this.isState(34))return;let{series:t,datum:i}=this.focus,n=e.sourceEvent;t!==void 0&&i!==void 0?t.fireNodeClickEvent(n,i):this.chart.fireEvent({type:"click",event:n}),n.preventDefault()}checkSeriesNodeClick(e){let t=this.pickNode({x:e.currentX,y:e.currentY},"event");return t==null?!1:e.type==="click"?(t.series.fireNodeClickEvent(e.sourceEvent,t.datum),!0):e.type==="dblclick"?(e.preventZoomDblClick=t.distance===0,t.series.fireNodeDoubleClickEvent(e.sourceEvent,t.datum),!0):!1}handleFocus(e,t){let i=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);i==null?this.handleSeriesFocus(e,t):this.focusIndicator.update(i.rect,this.seriesRect,!1)}handleSeriesFocus(e,t,i=!1){if(this.chart.chartType==="hierarchy"||this.chart.chartType==="gauge"){this.handleSoloSeriesFocus(e,t,i);return}let{focus:n,seriesRect:s}=this,o=n.sortedSeries.filter(d=>d.visible&&d.focusable);if(o.length===0)return;let r={datumIndex:n.datumIndex-t,otherIndex:n.seriesIndex-e};n.seriesIndex=Le(0,n.seriesIndex,o.length-1),n.series=o[n.seriesIndex];let{datumIndex:a,seriesIndex:l}=n,c=n.series.pickFocus({datumIndex:a,datumIndexDelta:t,otherIndex:l,otherIndexDelta:e,seriesRect:s});this.updatePickedFocus(e,t,r,c,i)}handleSoloSeriesFocus(e,t,i){this.focus.series=this.focus.sortedSeries[0];let{focus:{series:n,seriesIndex:s,datumIndex:o},seriesRect:r}=this;if(n==null)return;let a={datumIndex:this.focus.datumIndex-t,otherIndex:this.focus.seriesIndex-e},l=n.pickFocus({datumIndex:o,datumIndexDelta:t,otherIndex:s,otherIndexDelta:e,seriesRect:r});this.updatePickedFocus(e,t,a,l,i)}updatePickedFocus(e,t,i,n,s){let{focus:o,hoverRect:r}=this;if(n===void 0||o.series===void 0||r===void 0)return;let{datum:a,datumIndex:l,otherIndex:c}=n;if(c!==void 0&&(o.seriesIndex=c),o.datumIndex=l,o.datum=a,this.focusIndicator.isFocusVisible()&&this.chart.ctx.animationManager.reset(),this.focusIndicator.isFocusVisible()){let u=Pie(n),{x:h,y:p}=u.computeCenter();if(!r.containsPoint(h,p)&&this.chart.ctx.zoomManager.panToBBox(this.id,r,u))return}this.focusIndicator.update(n.bounds,this.seriesRect,n.clipFocusBox);let d=Oie(o.series,r,n);if(d!==void 0&&this.hoverDevice==="keyboard"){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;let u=o.series.getTooltipContent(a),h=zv.makeTooltipMeta(d,o.series,a);this.chart.ctx.highlightManager.updateHighlight(this.id,a),this.chart.tooltip.enabled&&o.series.tooltipEnabled?this.chart.ctx.tooltipManager.updateTooltip(this.id,h,u):this.chart.ctx.tooltipManager.removeTooltip(this.id),s||(t===0&&e===0||i.datumIndex!==n.datumIndex||i.otherIndex!==(n.otherIndex??o.seriesIndex))&&this.swapChain.update(this.getDatumAriaText(a,u))}}getDatumAriaText(e,t){let i=t==null?"":_P(t);return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:e.series.getDatumAriaText?.(e,i)??i})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){this.clearHighlight(),this.clearTooltip(),this.focusIndicator.clear()}handleHoverHighlight(e){this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;let t=this.highlight.appliedHoverEvent;if(!t||!this.isState(41))return;let{currentX:i,currentY:n}=t,s=t.currentX+(this.hoverRect?.x??0),o=t.currentY+(this.hoverRect?.y??0);if(e?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(s,o)){this.clearHighlight();return}let{range:r}=this.chart.highlight,a=r==="tooltip"?"highlight-tooltip":"highlight",l=this.pickNode({x:i,y:n},a);if(l){this.chart.ctx.highlightManager.updateHighlight(this.id,l.datum),this.hoverDevice="pointer";return}this.chart.ctx.highlightManager.updateHighlight(this.id)}handleHoverTooltip(e,t){if(!this.isState(41))return;let{currentX:i,currentY:n}=e,s=i+(this.hoverRect?.x??0),o=n+(this.hoverRect?.y??0),r=e.sourceEvent.target;if(t?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(s,o)){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(r&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(r,"canvas-overlay",Qi))return;let a=this.pickNode({x:e.currentX,y:e.currentY},"tooltip");if(!a){this.hoverDevice=="pointer"&&this.clearTooltip();return}this.hoverDevice="pointer";let l=a.series.getTooltipContent(a.datum);if(this.chart.tooltip.enabled&&a.series.tooltipEnabled&&l!=null){let u=zv.makeTooltipMeta({type:"pointermove",canvasX:s,canvasY:o},a.series,a.datum);this.chart.ctx.tooltipManager.updateTooltip(this.id,u,l)}else this.chart.ctx.tooltipManager.removeTooltip(this.id)}changeHighlightDatum(e){let t=new Set,{series:i=void 0,datum:n}=e.currentHighlight??{},{series:s=void 0,datum:o}=e.previousHighlight??{};s&&t.add(s),i&&t.add(i),s?.properties.cursor&&o&&this.chart.ctx.domManager.updateCursor(s.id),i?.properties.cursor&&i?.properties.cursor!=="default"&&n&&this.chart.ctx.domManager.updateCursor(i.id,i.properties.cursor),i==null||s==null?this.update(4):this.update(4,{seriesToUpdate:t})}pickNode(e,t,i){let n=[...this.series].reverse(),s;for(let o of n){if(!o.visible||!o.contentGroup.visible)continue;let{match:r,distance:a}=o.pickNode(e,t,i)??{};if(!(!r||a==null)&&((!s||s.distance>a)&&(s={series:o,distance:a,datum:r}),a===0))break}return s}};function Hie(e,t){return e.type!==t}var xL=30,jie=class{constructor(e){this.seriesRoot=e,this.groups=new Map,this.series=new Map,this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}requestGroup(e){let{internalId:t,type:i,contentGroup:n,seriesGrouping:s}=e,{groupIndex:o=t}=s??{},r=this.series.get(t);if(r!=null)throw new Error(`AG Charts - series already has an allocated layer: ${JSON.stringify(r)}`);this.series.size===0&&(this.mode=this.expectedSeriesCount>=xL?"aggressive-grouping":"normal");let a=this.groups.get(i);a==null&&(a=new Map,this.groups.set(i,a));let l=this.lookupIdx(o),c=a.get(l);return c==null&&(c={type:i,id:l,seriesIds:[],group:this.seriesRoot.appendChild(new _e({name:`${e.contentGroup.name??i}-managed-layer`,zIndex:e.contentGroup.zIndex,renderToOffscreenCanvas:!1}))},a.set(l,c)),this.series.set(t,{layerState:c,seriesConfig:e}),c.seriesIds.push(t),c.group.appendChild(n),c.group}changeGroup(e){let{internalId:t,seriesGrouping:i,type:n,contentGroup:s,oldGrouping:o}=e,{groupIndex:r=t}=i??{};this.groups.get(n)?.get(r)?.seriesIds.includes(t)||(this.series.has(t)&&this.releaseGroup({internalId:t,seriesGrouping:o,type:n,contentGroup:s}),this.requestGroup(e))}releaseGroup(e){let{internalId:t,contentGroup:i,type:n}=e;if(!this.series.has(t))throw new Error(`AG Charts - series doesn't have an allocated layer: ${t}`);let s=this.series.get(t)?.layerState;s&&(s.seriesIds=s.seriesIds.filter(o=>o!==t),s.group.removeChild(i)),s?.seriesIds.length===0?(this.seriesRoot.removeChild(s.group),this.groups.get(s.type)?.delete(s.id),this.groups.get(n)?.delete(t)):s!=null&&s.seriesIds.length>0&&(s.group.zIndex=this.getLowestSeriesZIndex(s.seriesIds)),this.series.delete(t)}updateLayerCompositing(){this.groups.forEach(e=>{e.forEach(t=>{let{group:i,seriesIds:n}=t,s;n.length===0?s=!1:n.length>1?s=!0:s=this.series.get(n[0])?.seriesConfig.renderToOffscreenCanvas()===!0,i.renderToOffscreenCanvas=s,i.zIndex=this.getLowestSeriesZIndex(n)})})}lookupIdx(e){return this.mode==="normal"?e:typeof e=="string"&&(e=Number(e.split("-").at(-1)),!e)?0:Math.floor(Le(0,e/this.expectedSeriesCount,1)*xL)}destroy(){this.groups.forEach(e=>{e.forEach(t=>{this.seriesRoot.removeChild(t.group)})}),this.groups.clear(),this.series.clear()}getLowestSeriesZIndex(e){return e.reduce((i,n)=>{let o=this.series.get(n)?.seriesConfig.contentGroup.zIndex;return i==null||o==null?o:ZF(i,o)<=0?i:o},void 0)??1}},EP=class extends ke{constructor(){super(...arguments),this.dragAction="drag"}};b([x(xt(["none","drag","hover"]))],EP.prototype,"dragAction",2);var Wie=class{constructor(e,t,i,n,s){this.chart=e,this.dataService=t,this.updateService=i,this.zoomManager=n,this.animationManager=s,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(e=>e())}onDataLoad(){this.animationManager.skip(),this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow()}onZoomChange(){this.dirtyZoom=!0}updateWindow(){if(!this.dataService.isLazy())return;let e=this.getValidAxis(),t,i=!0;if(e){let n=this.zoomManager.getAxisZoom(e.id);t=this.getAxisWindow(e,n),i=this.shouldRefresh(e,n)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:t?.min,windowEnd:t?.max})}getValidAxis(){return this.chart.axes.find(e=>e.type==="time")}shouldRefresh(e,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;let i=this.lastAxisZooms.get(e.id);return i&&t.min===i.min&&t.max===i.max?!1:(this.lastAxisZooms.set(e.id,t),!0)}getAxisWindow(e,t){let{domain:i}=e.scale;if(!t||i.length===0||isNaN(Number(i[0])))return;let n=Number(i[1])-Number(i[0]),s=new Date(Number(i[0])+n*t.min),o=new Date(Number(i[0])+n*t.max);return{min:s,max:o}}},Uie=/^((?!chrome|android).)*safari/i,$ie=/Version\/(\d+(\.\d+)?)/,Yie=/Chrome/,Kie=/Chrome\/(\d+)/,Zie=/Edg/,qie=/OPR/;function Xie(){let{userAgent:e}=Et("navigator");if(Uie.test(e)){let t=parseFloat($ie.exec(e)?.[1]??"0"),i=Math.floor(t)>16;return i||V.warnOnce(`Unsupported Safari version: ${t}; ${e}`),!i}else if(Yie.test(e)&&!Zie.test(e)&&!qie.test(e)){let t=parseInt(Kie.exec(e)?.[1]??"0",10),i=t>126;return i||V.warnOnce(`Unsupported Chrome version: ${t}; ${e}`),!i}return!1}var Qie=new Set(["map-shape-background","map-line-background"]),Jie=class{constructor(e,t,i,n,s,o,r){this.chartLike=e,this.overlays=t,this.dataService=i,this.layoutManager=n,this.localeManager=s,this.animationManager=o,this.domManager=r,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(bS),this.destroyFns.push(this.layoutManager.addListener("layout:complete",a=>this.onLayoutComplete(a)))}destroy(){this.destroyFns.forEach(e=>e()),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:e}}){let t=this.dataService.isLoading(),i=this.chartLike.series.some(c=>c.hasData),n=this.chartLike.series.some(c=>c.visible&&!Qie.has(c.type));this.overlays.darkTheme?this.overlayElem.classList.add(fL):this.overlayElem.classList.remove(fL),this.overlayElem.style.left=`${e.x}px`,this.overlayElem.style.top=`${e.y}px`,this.overlayElem.style.width=`${e.width}px`,this.overlayElem.style.height=`${e.height}px`;let s=t,o=!t&&!i,r=i&&!n,a=this.overlays.unsupportedBrowser.enabled&&Xie();s?this.showOverlay(this.overlays.loading,e):this.hideOverlay(this.overlays.loading),o?this.showOverlay(this.overlays.noData,e):this.hideOverlay(this.overlays.noData),r?this.showOverlay(this.overlays.noVisibleSeries,e):this.hideOverlay(this.overlays.noVisibleSeries),a?this.showOverlay(this.overlays.unsupportedBrowser,e):this.hideOverlay(this.overlays.unsupportedBrowser);let l=s||o||r||a;Ct(this.overlayElem,"aria-hidden",!l)}showOverlay(e,t){if(!e.enabled)return;let i=e.getElement(this.animationManager,this.localeManager,t);this.overlayElem.appendChild(i)}hideOverlay(e){e.removeElement(()=>{this.overlayElem.innerText="\xA0"},this.animationManager)}},$s=wt.create(!0,"opts"),kM=class extends ke{constructor(){super(...arguments),this.padding=new Ma(0)}};b([x(me,{optional:!0})],kM.prototype,"clip",2);b([x(ee)],kM.prototype,"padding",2);var fi=(()=>{let e=class IP extends P2{constructor(i,n){var s;super(),this.id=ks(this),this.seriesRoot=new Cn({name:`${this.id}-series-root`,zIndex:5}),this.annotationRoot=new Cn({name:`${this.id}-annotation-root`,zIndex:9}),this.titleGroup=new _e({name:"titles",zIndex:13}),this.debug=wt.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this._autoSizeNotify=new UT,this.padding=new Ma(20),this.seriesArea=new kM,this.keyboard=new IM,this.touch=new EP,this.mode="standalone",this.chartCaptions=new Dy,this.suppressFieldDotNotation=!1,this.destroyed=!1,this._destroyFns=[],this.skipSync=!1,this.chartAnimationPhase="initial",this.modulesManager=new wie,this.processors=[],this.queuedUserOptions=[],this.queuedChartOptions=[],this.firstApply=!0,this._pendingFactoryUpdatesCount=0,this._performUpdateSkipAnimations=!1,this._performUpdateNotify=new UT,this.performUpdateType=7,this.runningUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new hee,this.updateRequestors={},this.performUpdateTrigger=gee(({count:u})=>{this.destroyed||this.updateMutex.acquire(()=>Pe(this,null,function*(){try{yield this.performUpdate(u)}catch(h){V.error("update error",h)}})).catch(h=>V.errorOnce(h))}),this._performUpdateSplits={},this.axes=[],this.series=[],this._cachedData=void 0,this.onSeriesNodeClick=u=>{this.fireEvent(A(w({},u),{type:"seriesNodeClick"}))},this.onSeriesNodeDoubleClick=u=>{this.fireEvent(A(w({},u),{type:"seriesNodeDoubleClick"}))},this.onSeriesVisibilityChange=u=>{this.fireEvent(u)},this.seriesGroupingChanged=u=>{if(!(u instanceof AM))return;let{series:h,seriesGrouping:p,oldGrouping:g}=u;h.contentGroup.isRoot()||this.seriesLayerManager.changeGroup({internalId:h.internalId,type:h.type,contentGroup:h.contentGroup,renderToOffscreenCanvas:()=>h.renderToOffscreenCanvas(),seriesGrouping:p,oldGrouping:g})},this.chartOptions=i;let o=n?.scene,r=n?.container??i.processedOptions.container??void 0,a=n?.styleContainer??i.specialOverrides.styleContainer;o&&(this._firstAutoSize=!1,this._lastAutoSize=[o.width,o.height,o.pixelRatio]);let l=new _e({name:"root"});l.visible=!1,l.append(this.seriesRoot),l.append(this.annotationRoot),l.append(this.titleGroup),this.titleGroup.append(this.title.node),this.titleGroup.append(this.subtitle.node),this.titleGroup.append(this.footnote.node),this.tooltip=new Fo,this.seriesLayerManager=new jie(this.seriesRoot),this.mode=i.userOptions.mode??this.mode;let c=this.ctx=new Nte(this,{chartType:this.getChartType(),scene:o,root:l,container:r,styleContainer:a,syncManager:new die(this),fireEvent:u=>this.fireEvent(u),updateCallback:(u,h)=>this.update(u,h),updateMutex:this.updateMutex});this._destroyFns.push(c.domManager.addListener("resize",()=>this.parentResize(c.domManager.containerSize))),this.overlays=new Od,(s=this.overlays.loading).renderer??(s.renderer=()=>xie(this.overlays.loading.getText(c.localeManager),c.animationManager.defaultDuration)),this.processors=[new Wie(this,c.dataService,c.updateService,c.zoomManager,c.animationManager),new Jie(this,this.overlays,c.dataService,c.layoutManager,c.localeManager,c.animationManager,c.domManager)],this.highlight=new aP,this.container=r;let d=this.getModuleContext();c.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new Gie(this.initSeriesAreaDependencies()),this._destroyFns.push(c.layoutManager.registerElement(0,u=>{u.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(u)}),c.layoutManager.addListener("layout:complete",u=>this.chartCaptions.positionAbsoluteCaptions(u)),c.dataService.addListener("data-load",u=>{this.data=u.data}),this.title.registerInteraction(d,"beforebegin"),this.subtitle.registerInteraction(d,"beforebegin"),this.footnote.registerInteraction(d,"afterend"),Lo.addWindowEvent("page-left",()=>this.destroy()),c.animationManager.addListener("animation-frame",()=>{this.update(6)}),c.animationManager.addListener("animation-start",()=>c.domManager.setDataBoolean("animating",!0)),c.animationManager.addListener("animation-stop",()=>c.domManager.setDataBoolean("animating",!1)),c.zoomManager.addListener("zoom-change",()=>{this.series.forEach(h=>h.animationState?.transition("updateData"));let u=this.chartAnimationPhase!=="initial";this.update(3,{forceNodeDataRefresh:!0,skipAnimations:u})})),this.parentResize(c.domManager.containerSize)}static getInstance(i){return IP.chartsInstances.get(i)}get canvasElement(){return this.ctx.scene.canvas.element}download(i,n){this.ctx.scene.download(i,n)}getCanvasDataURL(i){return this.ctx.scene.getDataURL(i)}toSVG(){return this.ctx.scene.toSVG()}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getChartOptions(){return this.queuedChartOptions.at(-1)??this.chartOptions}overrideFocusVisible(i){this.seriesAreaManager.focusIndicator.overrideFocusVisible(i)}initSeriesAreaDependencies(){let{ctx:i,tooltip:n,highlight:s,overlays:o,seriesRoot:r,mode:a}=this,l=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,chartType:l,ctx:i,tooltip:n,highlight:s,overlays:o,seriesRoot:r,mode:a}}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(i=>i.enabled&&i.text).map(i=>i.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(let i of this.series)i.resetAnimation(this.chartAnimationPhase);for(let i of this.axes)i.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}detachAndClear(){this.container=void 0,this.ctx.scene.clear()}destroy(i){if(this.destroyed)return;let n=i?.keepTransferableResources,s;return this.performUpdateType=7,this._destroyFns.forEach(o=>o()),this.processors.forEach(o=>o.destroy()),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),n?(this.ctx.scene.strip(),s={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(o=>o.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),s}requestFactoryUpdate(i){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(()=>Pe(this,null,function*(){if(!this.destroyed)try{yield i(this)}finally{this.destroyed||this._pendingFactoryUpdatesCount--}})).catch(n=>V.errorOnce(n)))}update(i=0,n){if(this.destroyed)return;let{forceNodeDataRefresh:s=!1,skipAnimations:o,seriesToUpdate:r=this.series,newAnimationBatch:a}=n??{};this.ctx.widgets.seriesWidget.setDragTouchEnabled(this.touch.dragAction!=="none"),s&&this.series.forEach(l=>l.markNodeDataDirty());for(let l of r)this.seriesToUpdate.add(l);if(o&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),a&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.skipSync=n?.skipSync??!1,this.debug.check()){let l=new Error().stack??"<unknown>";l=l.replace(/\([^)]*/g,""),this.updateRequestors[l]=i}i<this.performUpdateType&&(this.performUpdateType=i,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(n?.backOffMs))}performUpdate(i){return Pe(this,null,function*(){let{performUpdateType:n,extraDebugStats:s,_performUpdateSplits:o,ctx:r}=this,a=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),this.runningUpdateType=n,this.updateShortcutCount===0&&n<6&&(r.animationManager.startBatch(this._performUpdateSkipAnimations),r.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",rp[n]);let l=performance.now();o.start??(o.start=l);let c=u=>{o[u]??(o[u]=0),o[u]+=performance.now()-l,l=performance.now()};switch(n){case 0:if(this.checkUpdateShortcut(0))break;this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:if(this.checkUpdateShortcut(1))break;yield this.updateData(),c("\u2B07\uFE0F");case 2:if(this.checkUpdateShortcut(2))break;yield this.processData(),this.seriesAreaManager.dataChanged(),c("\u{1F3ED}");case 3:if(yield this.checkFirstAutoSize(),this.checkUpdateShortcut(3))break;yield this.processLayout(),c("\u2316");case 4:{if(this.checkUpdateShortcut(4))break;yield this.updateSeries(a),c("\u{1F914}"),this.updateAriaLabels(),this.seriesLayerManager.updateLayerCompositing()}case 5:if(this.checkUpdateShortcut(5))break;r.updateService.dispatchPreSceneRender(),c("\u2196");case 6:if(this.checkUpdateShortcut(6))break;r.animationManager.endBatch(),s.updateShortcutCount=this.updateShortcutCount,r.scene.render({debugSplitTimes:o,extraDebugStats:s,seriesRect:this.seriesRect}),this.extraDebugStats={};for(let u of Object.keys(o))delete o[u];this.ctx.domManager.incrementDataCounter("sceneRenders");case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,r.animationManager.endBatch()}this.destroyed||(r.updateService.dispatchUpdateComplete(),this.ctx.domManager.setDataBoolean("updatePending",!1),this.runningUpdateType=7),this._performUpdateNotify.notify();let d=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((d-o.start)*100)/100,count:i,performUpdateType:rp[n]})})}updateThemeClassName(){let i="ag-charts-theme-",n=[`${i}default`,`${i}default-dark`],s=n[0],o=!1,{theme:r}=this.chartOptions.processedOptions;for(;typeof r!="string"&&r!=null;)r=r.baseTheme;typeof r=="string"&&(s=r.replace("ag-",i),o=r.includes("-dark")),n.includes(s)||(s=o?n[1]:n[0]),this.ctx.domManager.setThemeClass(s)}updateDOM(){this.updateThemeClassName();let{enabled:i,tabIndex:n}=this.keyboard;this.ctx.domManager.setTabGuardIndex(i?n??0:-1),this.ctx.domManager.setThemeParameters(this.chartOptions.themeParameters)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(i){return this.destroyed?!0:this.updateShortcutCount>3?(V.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=i?(this.updateShortcutCount++,!0):!1}checkFirstAutoSize(){return Pe(this,null,function*(){this.width!=null&&this.height!=null||this._lastAutoSize||(yield this._autoSizeNotify.await(500))||this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")})}onAxisChange(i,n){n==null&&i.length===0||this.ctx.axisManager.updateAxes(n??[],i)}onSeriesChange(i,n){let s=n?.filter(o=>!i.includes(o))??[];this.destroySeries(s),this.seriesLayerManager?.setSeriesCount(i.length);for(let o of i){if(n?.includes(o))continue;let r=this.seriesLayerManager.requestGroup(o);o.attachSeries(r,this.seriesRoot,this.annotationRoot);let a=this;o.chart={get mode(){return a.mode},get isMiniChart(){return!1},get seriesRect(){return a.seriesRect}},o.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(o),o.addChartEventListeners()}this.seriesAreaManager?.seriesChanged(i)}destroySeries(i){i?.forEach(n=>{n.removeEventListener("nodeClick",this.onSeriesNodeClick),n.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),n.removeEventListener("groupingChanged",this.seriesGroupingChanged),n.destroy(),this.seriesLayerManager.releaseGroup(n),n.detachSeries(void 0,this.seriesRoot,this.annotationRoot),n.chart=void 0})}addSeriesListeners(i){this.hasEventListener("seriesNodeClick")&&i.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&i.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.hasEventListener("seriesVisibilityChange")&&i.addEventListener("seriesVisibilityChange",this.onSeriesVisibilityChange),i.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(let i of this.axes)i.boundSeries=this.series.filter(n=>n.axes[i.direction]===i)}assignAxesToSeries(){let i=PS(this.axes,n=>n.direction);for(let n of this.series)for(let s of n.directions){let o=i[s];if(!o){V.warnOnce(`no available axis for direction [${s}]; check series and axes configuration.`);return}let r=n.getKeys(s),a=o.find(l=>!l.keys.length||r.some(c=>l.keys.includes(c)));if(!a){V.warnOnce(`no matching axis for direction [${s}] and keys [${r}]; check series and axes configuration.`);return}n.axes[s]=a}}parentResize(i){if(i==null||this.width!=null&&this.height!=null)return;let{width:n,height:s}=i,{pixelRatio:o}=i;if(n=Math.floor(n),s=Math.floor(s),n===0&&s===0)return;let[r=0,a=0,l=1]=this._lastAutoSize??[];r===n&&a===s&&l===o||(this._lastAutoSize=[n,s,o],this.resize("SizeMonitor",{}))}resize(i,n){let{scene:s,animationManager:o}=this.ctx,{inWidth:r,inHeight:a,inMinWidth:l,inMinHeight:c,inOverrideDevicePixelRatio:d}=n;this.ctx.domManager.setSizeOptions(l??this.minWidth,c??this.minHeight,r??this.width,a??this.height);let u=r??this.width??this._lastAutoSize?.[0],h=a??this.height??this._lastAutoSize?.[1],p=d??this.overrideDevicePixelRatio??this._lastAutoSize?.[2];if(this.debug(`Chart.resize() from ${i}`,{width:u,height:h,pixelRatio:p,stack:new Error().stack}),!(u==null||h==null||!nt(u)||!nt(h))&&s.resize(u,h,p)){o.reset();let g=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(g=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:g}),this._autoSizeNotify.notify()}}updateData(){return Pe(this,null,function*(){this.series.forEach(n=>n.setChartData(this.data));let i=this.modulesManager.mapModules(n=>n.updateData?.(this.data));yield Promise.all(i)})}processData(){return Pe(this,null,function*(){this.series.some(o=>o.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());let i=new hP(this.mode,this.suppressFieldDotNotation),n=this.series.map(o=>(o.resetDatumCallbackCache(),o.processData(i))),s=this.modulesManager.mapModules(o=>o.processData?.(i));this._cachedData=i.execute(this._cachedData),yield Promise.all([...n,...s]);for(let o of this.axes)o.processData();this.updateLegends()})}updateLegends(i){for(let{legend:n,legendType:s}of this.modulesManager.legends())s==="category"?this.setCategoryLegendData(i):this.setLegendData(s,n)}setCategoryLegendData(i){var n;let{ctx:{legendManager:s,stateManager:o}}=this;i&&this.series.forEach(a=>{let l=i.find(c=>c.seriesId===a.id);a.onLegendInitialState("category",l)});let r=this.series.flatMap(a=>{let l=a.getLegendData("category");return s.updateData(a.id,l),l});if(i){o.setStateAndRestore(s,i);return}if(this.mode!=="integrated"){let a={},l=new Map(this.series.map(c=>[c.id,c.type]));for(let{seriesId:c,symbol:{marker:d},label:u}of r.filter(h=>!h.hideInLegend)){if(d.fill==null)continue;let h=l.get(c),p=a[h]??(a[h]={});p[n=u.text]??(p[n]=d.fill),p[u.text]!==d.fill&&V.warnOnce(`legend item '${u.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}s.update()}setLegendData(i,n){n.data=this.series.filter(s=>s.properties.showInLegend).flatMap(s=>s.getLegendData(i))}processLayout(){return Pe(this,null,function*(){let i=this.animationRect,{width:n,height:s}=this.ctx.scene,o=this.ctx.layoutManager.createContext(n,s);yield this.performLayout(o),i&&!this.animationRect?.equals(i)&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)})}updateSeries(i){return Pe(this,null,function*(){let{seriesRect:n}=this;yield Promise.all(i.map(s=>s.update({seriesRect:n}))),this.ctx.seriesLabelLayoutManager.updateLabels(this.series.filter(s=>s.visible&&s.usesPlacedLabels),this.padding,this.seriesRect)})}waitForUpdate(i=1e4,n=!1){return Pe(this,null,function*(){let s=performance.now();for(;(this._pendingFactoryUpdatesCount>0||this.performUpdateType!==7||this.runningUpdateType!==7)&&!this.destroyed;){if(this._pendingFactoryUpdatesCount>0&&(yield this.updateMutex.waitForClearAcquireQueue()),(this.performUpdateType!==7||this.runningUpdateType!==7)&&(yield this._performUpdateNotify.await()),performance.now()-s>i){let o=`Chart.waitForUpdate() timeout of ${i} reached - first chart update taking too long.`;if(n)throw new Error(o);V.warnOnce(o)}R2()&&(yield ree())}})}filterMiniChartSeries(i){return i?.filter(n=>n.showInMiniChart!==!1)}applyOptions(i){let n=this.firstApply?i.processedOptions:i.diffOptions(this.chartOptions);if(n==null||Object.keys(n).length===0)return;let s=this.firstApply?{}:this.chartOptions.processedOptions,o=i.processedOptions;$s("Chart.applyOptions() - applying delta",n);let r=this.applyModules(o),a=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer"];n.listeners&&this.registerListeners(this,n.listeners),op(this,n,{skip:a});let l=!1,c="no-op";n.series!=null&&(c=this.applySeries(this,n.series,s?.series),l=!0),c==="replaced"&&this.resetAnimations(),this.applyAxes(this,o,s,c,[])&&(l=!0),n.data&&(this.data=n.data),n.legend?.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,n.legend.listeners),n.locale?.localeText&&(this.modulesManager.getModule("locale").localeText=n.locale?.localeText),this.chartOptions=i;let d=this.modulesManager.getModule("navigator"),u=this.modulesManager.getModule("zoom");!d?.enabled&&!u?.enabled&&this.ctx.zoomManager.updateZoom("chart");let h=d?.miniChart,p=o.navigator?.miniChart?.series??o.series;h?.enabled===!0&&p!=null?this.applyMiniChartOptions(h,p,o,s):h?.enabled===!1&&(h.series=[],h.axes=[]),this.ctx.annotationManager.setAnnotationStyles(i.annotationThemes),l||(l=this.shouldForceNodeDataRefresh(n,c));let m=l||r?0:3;this.maybeResetAnimations(c),this.shouldClearLegendData(o,s,c)&&this.ctx.legendManager.clearData(),this.applyInitialState(o),$s("Chart.applyOptions() - update type",rp[m],{seriesStatus:c,forceNodeDataRefresh:l}),this.update(m,{forceNodeDataRefresh:l,newAnimationBatch:!0}),this.firstApply=!1}applyInitialState(i){let{annotationManager:n,chartTypeOriginator:s,historyManager:o,stateManager:r,zoomManager:a}=this.ctx,{initialState:l}=i;if("annotations"in i&&i.annotations?.enabled&&l?.annotations!=null){let c=l.annotations.map(d=>{let u=n.getAnnotationTypeStyles(d.type);return He(d,u)});r.setState(n,c)}l?.chartType!=null&&r.setState(s,l.chartType),(i.navigator?.enabled||i.zoom?.enabled)&&l?.zoom!=null&&r.setState(a,l.zoom),l?.legend!=null&&this.updateLegends(l.legend),l!=null&&o.clear()}maybeResetAnimations(i){if(this.mode==="standalone")switch(i){case"series-grouping-change":case"replaced":this.resetAnimations();break;default:}}shouldForceNodeDataRefresh(i,n){let s=!!i.data||n==="data-change"||n==="replaced",o=_M.getKeys(),r=Object.values(o).some(l=>i[l]!=null),a=i.title!=null&&i.subtitle!=null;return s||r||a}shouldClearLegendData(i,n,s){let o=s==="replaced"||s==="series-grouping-change"||s==="updated",r=n.legend!=null&&i.legend==null;return o||r}applyMiniChartOptions(i,n,s,o){let r=o?.navigator?.miniChart?.series??o?.series,a=this.applySeries(i,this.filterMiniChartSeries(n),this.filterMiniChartSeries(r));this.applyAxes(i,s,o,a,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);let l=i.series;for(let u of l)u.properties.id=void 0;let c=i.axes,d=c.find(u=>u.direction==="x");for(let u of c)u.nice=!1,u.gridLine.enabled=!1,u.label.enabled=u===d,u.tick.enabled=!1,u.interactionEnabled=!1;if(d!=null){let u=s.navigator?.miniChart,h=u?.label,p=u?.label?.interval;if(d.line.enabled=!1,d.label.set(nS(h,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),d.tick.set(nS(p,["enabled","width","size","color","interval","step"])),d.type==="grouped-category"){d.label.enabled=!1,d.label.rotation=0;let{depthOptions:m}=d;if(m.length===0)m.set([{label:{enabled:!0}}]);else for(let f=1;f<m.length;f++)m[f].label.enabled=!1}let g=p?.step;g!=null&&(d.interval.step=g)}}applyModules(i){let{type:n}=this.constructor,s=!1;for(let o of Eo.byType("root","legend")){let a=i[o.optionsKey]!=null&&o.chartTypes.includes(n);a!==this.modulesManager.isEnabled(o)&&(a?(this.modulesManager.addModule(o,l=>l.moduleFactory(this.getModuleContext())),o.type==="legend"&&this.modulesManager.getModule(o)?.attachLegend(this.ctx.scene),this[o.optionsKey]=this.modulesManager.getModule(o)):(this.modulesManager.removeModule(o),delete this[o.optionsKey]),s=!0)}return s}initSeriesDeclarationOrder(i){for(let n=0;n<i.length;n++)i[n].setSeriesIndex(n)}applySeries(i,n,s){if(!n)return"no-change";let o=gie(i.series,n,s);if(o.status==="no-overlap"){$s(`Chart.applySeries() - creating new series instances, status: ${o.status}`,o);let u=n.map(h=>this.createSeries(h));return this.initSeriesDeclarationOrder(u),i.series=u,"replaced"}$s("Chart.applySeries() - matchResult",o);let r=[],a=!1,l=!1,c=!1,d=o.changes.toSorted((u,h)=>u.targetIdx-h.targetIdx);for(let u of d)switch(l||(l=u.status==="series-grouping"),a||(a=u.diff?.data!=null),c||(c=u.status!=="no-op"),u.status){case"add":{let h=this.createSeries(u.opts);r.push(h),$s("Chart.applySeries() - created new series",h);break}case"remove":$s(`Chart.applySeries() - removing series at previous idx ${u.idx}`,u.series);break;case"no-op":r.push(u.series),$s(`Chart.applySeries() - no change to series at previous idx ${u.idx}`,u.series);break;case"series-grouping":case"update":default:{let{series:h,diff:p,idx:g}=u;$s(`Chart.applySeries() - applying series diff previous idx ${g}`,p,h),this.applySeriesValues(h,p),h.markNodeDataDirty(),r.push(h)}}return this.initSeriesDeclarationOrder(r),$s("Chart.applySeries() - final series instances",r),i.series=r,l?"series-grouping-change":a?"data-change":c?"updated":"no-op"}applyAxes(i,n,s,o,r=[]){if(!("axes"in n)||!n.axes)return!1;r=["axes[].type",...r];let{axes:a}=n;return!(o==="replaced")&&i.axes.length===a.length&&i.axes.every((d,u)=>d.type===a[u].type)&&RM(s)?(i.axes.forEach((d,u)=>{let h=s.axes?.[u]??{},p=yr(h,a[u]);$s(`Chart.applyAxes() - applying axis diff idx ${u}`,p);let g=`axes[${u}]`;op(d,p,{path:g,skip:r})}),!0):($s(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${o}`),i.axes=this.createAxis(a,r),!0)}createSeries(i){let n=kn.create(i.type,this.getModuleContext());return this.applySeriesOptionModules(n,i),this.applySeriesValues(n,i),n}applySeriesOptionModules(i,n){let s=i.createModuleContext(),o=i.getModuleMap();for(let r of Eo.byType("series-option"))r.optionsKey in n&&r.seriesTypes.includes(i.type)&&o.addModule(r,a=>a.moduleFactory(s))}applySeriesValues(i,n){let s=i.getModuleMap(),u=n,{type:o,data:r,listeners:a,seriesGrouping:l,showInMiniChart:c}=u,d=Je(u,["type","data","listeners","seriesGrouping","showInMiniChart"]);for(let h of Pd)if(h.type==="series-option"&&h.optionsKey in d){let p=s.getModule(h.optionsKey);if(p){let g=d[h.optionsKey];delete d[h.optionsKey],p.properties.set(g)}}i.properties.set(d),"data"in n&&i.setOptionsData(r),a&&this.registerListeners(i,a),"seriesGrouping"in n&&(l==null?i.seriesGrouping=void 0:i.seriesGrouping=w(w({},i.seriesGrouping),l))}createAxis(i,n){let s=[],o=this.getModuleContext();for(let r=0;r<i.length;r++){let a=i[r],l=hr.create(a.type,o);this.applyAxisModules(l,a),op(l,a,{path:`axes[${r}]`,skip:n}),s.push(l)}return hie(s),s}applyAxisModules(i,n){let s=i.createModuleContext(),o=i.getModuleMap();for(let r of Eo.byType("axis-option")){let a=n[r.optionsKey]!=null;a!==o.isEnabled(r)&&(a?(o.addModule(r,l=>l.moduleFactory(s)),i[r.optionsKey]=o.getModule(r)):(o.removeModule(r),delete i[r.optionsKey]))}}registerListeners(i,n){i.clearEventListeners();for(let[s,o]of Object.entries(n))Bl(o)&&i.addEventListener(s,o)}};return e.chartsInstances=new WeakMap,e})();b([Pn({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),fi.chartsInstances.set(e,this))},oldValue(e){fi.chartsInstances.delete(e)}})],fi.prototype,"container",2);b([Pn({newValue(e){this.resize("width option",{inWidth:e})}})],fi.prototype,"width",2);b([Pn({newValue(e){this.resize("height option",{inHeight:e})}})],fi.prototype,"height",2);b([Pn({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],fi.prototype,"minWidth",2);b([Pn({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],fi.prototype,"minHeight",2);b([Pn({newValue(e){this.resize("overrideDevicePixelRatio option",{inOverrideDevicePixelRatio:e})}})],fi.prototype,"overrideDevicePixelRatio",2);b([x(ee)],fi.prototype,"padding",2);b([x(ee)],fi.prototype,"seriesArea",2);b([x(ee)],fi.prototype,"keyboard",2);b([x(ee)],fi.prototype,"touch",2);b([x(xt(["standalone","integrated"],"a chart mode"))],fi.prototype,"mode",2);b([Pt("chartCaptions.title")],fi.prototype,"title",2);b([Pt("chartCaptions.subtitle")],fi.prototype,"subtitle",2);b([Pt("chartCaptions.footnote")],fi.prototype,"footnote",2);b([x(me)],fi.prototype,"suppressFieldDotNotation",2);b([Pn({changeValue(e,t){this.onAxisChange(e,t)}})],fi.prototype,"axes",2);b([Pn({changeValue(e,t){this.onSeriesChange(e,t)}})],fi.prototype,"series",2);var Ay=fi,ene={2:(e,t)=>Math.log2(t),[Math.E]:(e,t)=>Math.log(t),10:(e,t)=>Math.log10(t)},tne=(e,t)=>Math.log(t)/Math.log(e);function Bx(e,t,i){let n=Math.min(...t),s=ene[e]??tne;return n>=0?s(e,i):-s(e,-i)}var ine={[Math.E]:(e,t)=>Math.exp(t),10:(e,t)=>t>=0?10**t:1/10**-t},nne=(e,t)=>e**t;function zx(e,t,i){let n=Math.min(...t),s=ine[e]??nne;return n>=0?s(e,i):-s(e,-i)}var TM=class extends ct{constructor(e=[1,10],t=[0,1]){super(e,t),this.type="log",this.defaultClamp=!0,this.base=10,this.log=i=>Bx(this.base,this.domain,i),this.pow=i=>zx(this.base,this.domain,i)}toDomain(e){return e}transform(e){let[t,i]=Ti(this.domain);return t>=0!=i>=0?NaN:t>=0?Math.log(e):-Math.log(-e)}transformInvert(e){let[t,i]=Ti(this.domain);return t>=0!=i>=0?NaN:t>=0?Math.exp(e):-Math.exp(-e)}niceDomain(e,t=this.domain){if(t.length<2)return[];let{base:i}=this,[n,s]=t,o=n>s?Math.ceil:Math.floor,r=n>s?Math.floor:Math.ceil,a=zx(i,t,o(Bx(i,t,n))),l=zx(i,t,r(Bx(i,t,s)));return[a,l]}ticks({interval:e,tickCount:t=ct.defaultTickCount},i=this.domain,n){if(!i||i.length<2||t<1)return[];let s=this.base,[o,r]=i,a=Math.min(o,r),l=Math.max(o,r),c=this.log(a),d=this.log(l);if(e){let m=y=>y>=a&&y<=l,f=Math.min(Math.abs(e),Math.abs(d-c)),v=mp(c,d,f).map(this.pow).filter(m);if(!fp(v.length,this.getPixelRange()))return v}if(!aF(s)||d-c>=t)return oM(c,d,Math.min(d-c,t)).map(this.pow);let u=[],h=a>0;c=Math.floor(c)-1,d=Math.round(d)+1;let p=xd(this.range)/t,g=1/0;for(let m=c;m<=d;m++){let f=this.convert(this.pow(m+1));for(let v=1;v<s;v++){let y=h?v:s-v+1,C=this.pow(m)*y,S=this.convert(C),M=Math.abs(g-S),D=Math.abs(S-f),E=M>=p&&D>=p;C>=a&&C<=l&&(v===1||E||u.length===0)&&(u.push(C),g=S)}}return u=_F(u,h,n),u}tickFormatter({specifier:e}){return e!=null?i2(e):String}datumFormatter(e){return this.tickFormatter(e)}},sne=class{constructor(e,t,i){this.root=new ane(e,t,i)}clear(e){this.root.clear(e)}addValue(e,t){let i={hitTester:e,value:t,distanceSquared:(n,s)=>e.distanceSquared(n,s)};this.root.addElem(i)}find(e,t){let i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,i),i.best}},one=class{constructor(e,t,i,n){this.nw=e,this.ne=t,this.sw=i,this.se=n}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,i){this.nw.find(e,t,i),this.ne.find(e,t,i),this.sw.find(e,t,i),this.se.find(e,t,i)}},rne=class{constructor(e,t,i){this.capacity=e,this.maxdepth=t,this.boundary=i??ne.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,i){this.findCondition(e,t,i)&&(this.subdivisions===void 0?this.findAction(e,t,i):this.subdivisions.find(e,t,i))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(let t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){let{x:e,y:t,width:i,height:n}=this.boundary,{capacity:s}=this,o=this.maxdepth-1,r=i/2,a=n/2,l=new ne(e,t,r,a),c=new ne(e+r,t,r,a),d=new ne(e,t+a,r,a),u=new ne(e+r,t+a,r,a);return new one(this.child(s,o,l),this.child(s,o,c),this.child(s,o,d),this.child(s,o,u))}},ane=class RP extends rne{addCondition(t){let{x:i,y:n}=t.hitTester.midPoint;return this.boundary.containsPoint(i,n)}findCondition(t,i,n){let{best:s}=n;return s.distanceSquared!==0&&this.boundary.distanceSquared(t,i)<s.distanceSquared}findAction(t,i,n){let s=ny(t,i,this.elems,n.best.distanceSquared);s.nearest!==void 0&&s.distanceSquared<n.best.distanceSquared&&(n.best=s)}child(t,i,n){return new RP(t,i,n)}},Qs=class AP extends ct{constructor(){super([0,1],[0,1]),this.type="number"}static getTickStep(t,i,n){let{interval:s,tickCount:o=ct.defaultTickCount,minTickCount:r,maxTickCount:a}=n;return s??gp(t,i,o,r,a)}toDomain(t){return t}ticks({interval:t,tickCount:i=ct.defaultTickCount,minTickCount:n,maxTickCount:s},o=this.domain,r){if(!o||o.length<2||i<1||!o.every(isFinite))return[];let[a,l]=o;if(t){let c=Math.abs(t);if(!fp((l-a)/c,this.getPixelRange()))return mp(a,l,c)}return oM(a,l,i,n,s,r)}niceDomain(t,i=this.domain){if(i.length<2)return[];let{tickCount:n=ct.defaultTickCount}=t,[s,o]=i;if(n===1)[s,o]=RJ(s,o);else if(n>1){let r=s>o?Math.ceil:Math.floor,a=s>o?Math.floor:Math.ceil,l=4;for(let c=0;c<l;c++){let d=s,u=o,h=AP.getTickStep(s,o,t),[p,g]=i;if(s=r(p/h)*h,o=a(g/h)*h,s===d&&o===u)break}}return[s,o]}tickFormatter({ticks:t,fractionDigits:i,specifier:n}){return n!=null?FT(t,n):s=>vr(s,i)}datumFormatter({ticks:t,fractionDigits:i,specifier:n}){return n!=null?FT(t,n):s=>vr(s,i+1)}};function _r(e){if(e.length===0)return null;let t=1/0,i=-1/0;for(let s of e){let o=s instanceof Date?s.getTime():s;typeof o=="number"&&(o<t&&(t=o),o>i&&(i=o))}let n=[t,i];return n.every(isFinite)?n:null}function LM(e,t,i){let n=!1;return e.length>2&&(e=_r(e)??[NaN,NaN]),isNaN(t)||(n||(n=t>e[0]),e=[t,e[1]]),isNaN(i)||(n||(n=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{extent:e,clipped:n}}var Bd=(()=>{let e=class extends Hp{constructor(t,i=new Qs){super(t,i),this.min=NaN,this.max=NaN}normaliseDataDomain(t){let{min:i,max:n}=this,{extent:s,clipped:o}=LM(t,i,n);return{domain:s,clipped:o}}};return e.className="NumberAxis",e.type="number",e})();b([x(ko(kd,Bp("max"))),Sa(NaN)],Bd.prototype,"min",2);b([x(ko(kd,zp("min"))),Sa(NaN)],Bd.prototype,"max",2);var $p=(()=>{let e=class extends Hp{constructor(t){super(t,new c2),this.min=void 0,this.max=void 0}normaliseDataDomain(t){let{min:i,max:n}=this,s=!1;return typeof i=="number"&&(i=new Date(i)),typeof n=="number"&&(n=new Date(n)),t.length>2&&(t=_r(t)?.map(o=>new Date(o))??[]),i instanceof Date&&(s||(s=i>t[0]),t=[i,t[1]]),n instanceof Date&&(s||(s=n<t[1]),t=[t[0],n]),t[0]>t[1]&&(t=[]),{domain:t,clipped:s}}};return e.className="TimeAxis",e.type="time",e})();b([x(ko(US,Bp("max")),{optional:!0})],$p.prototype,"min",2);b([x(ko(US,zp("min")),{optional:!0})],$p.prototype,"max",2);var FM=class extends Ry{constructor(){super(...arguments),this.clipFocusBox=!0}getScaleInformation({xScale:e,yScale:t}){let i=ct.is(e),n=ct.is(t);return{isContinuousX:i,isContinuousY:n,xScaleType:e?.type,yScaleType:t?.type}}getModulePropertyDefinitions(){let e=this.axes.x?.scale,t=this.axes.y?.scale;return this.moduleMap.mapModules(i=>i.getPropertyDefinitions(this.getScaleInformation({xScale:e,yScale:t}))).flat()}requestDataModel(e,t,i){return Pe(this,null,function*(){i.props.push(...this.getModulePropertyDefinitions());let{dataModel:n,processedData:s}=yield e.request(this.id,t??[],i);return this.dataModel=n,this.processedData=s,this.dispatch("data-processed",{dataModel:n,processedData:s}),{dataModel:n,processedData:s}})}isProcessedDataAnimatable(){let e=this.processedData?.reduced?.animationValidation;if(!e)return!0;let{orderedKeys:t,uniqueKeys:i}=e;return t&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(e){let t=this.getNodeData();if(t===void 0||t.length===0)return;let i=this.computeFocusDatumIndex(e,t);if(i===void 0)return;let{clipFocusBox:n}=this,s=t[i],o=A(w({},e),{datumIndex:i}),r=this.computeFocusBounds(o);if(r!==void 0)return{bounds:r,clipFocusBox:n,datum:s,datumIndex:i}}computeFocusDatumIndex(e,t){let i=a=>{let{missing:l=!1,enabled:c=!0,focusable:d=!0}=t[a];return!l&&c&&d},n=(a,l)=>{for(;a>=0&&!i(a);)a+=l;return a===-1?void 0:a},s=(a,l)=>{for(;a<t.length&&!i(a);)a+=l;return a===t.length?void 0:a},o,r=Le(0,e.datumIndex,t.length-1);return e.datumIndexDelta<0?o=n(r,e.datumIndexDelta):e.datumIndexDelta>0?o=s(r,e.datumIndexDelta):o=s(r,1)??n(r,-1),o===void 0?e.datumIndexDelta===0?void 0:e.datumIndex-e.datumIndexDelta:o}},Er=class extends ke{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};b([x(rt,{optional:!0})],Er.prototype,"fill",2);b([x(dt,{optional:!0})],Er.prototype,"fillOpacity",2);b([x(rt,{optional:!0})],Er.prototype,"stroke",2);b([x($,{optional:!0})],Er.prototype,"strokeWidth",2);b([x(dt,{optional:!0})],Er.prototype,"strokeOpacity",2);b([x(To,{optional:!0})],Er.prototype,"lineDash",2);b([x($,{optional:!0})],Er.prototype,"lineDashOffset",2);var ky=class extends ke{};b([x($,{optional:!0})],ky.prototype,"strokeWidth",2);b([x(dt,{optional:!0})],ky.prototype,"dimOpacity",2);b([x(me,{optional:!0})],ky.prototype,"enabled",2);var kP=class extends ke{constructor(){super(...arguments),this.color="black"}};b([x(rt,{optional:!0})],kP.prototype,"color",2);var PM=class extends ke{constructor(){super(...arguments),this.enabled=!0}};b([x(me,{optional:!0})],PM.prototype,"enabled",2);var Yp=class extends ke{constructor(){super(...arguments),this.item=new Er,this.series=new ky,this.text=new kP}};b([x(ee)],Yp.prototype,"item",2);b([x(ee)],Yp.prototype,"series",2);b([x(ee)],Yp.prototype,"text",2);var ts=class extends ke{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new PM,this.highlightStyle=new Yp}};b([x(B,{optional:!0})],ts.prototype,"id",2);b([x(me)],ts.prototype,"visible",2);b([x(AF,{optional:!0})],ts.prototype,"focusPriority",2);b([x(me)],ts.prototype,"showInLegend",2);b([x(B)],ts.prototype,"cursor",2);b([x(my)],ts.prototype,"nodeClickRange",2);b([x(ee)],ts.prototype,"highlight",2);b([x(ee)],ts.prototype,"highlightStyle",2);var Wl={x:["xKey"],y:["yKey"]},Ul={x:["xName"],y:["yName"]},OM=class extends Wp{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},Ir=class extends ts{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};b([x(B,{optional:!0})],Ir.prototype,"legendItemName",2);b([x(me,{optional:!0})],Ir.prototype,"pickOutsideVisibleMinorAxis",2);var Wv=100,_a=class extends FM{constructor(u){var h=u,{pathsPerSeries:e=["path"],hasMarkers:t=!1,hasHighlightedLabels:i=!1,pathsZIndexSubOrderOffset:n=[],datumSelectionGarbageCollection:s=!0,markerSelectionGarbageCollection:o=!0,animationAlwaysUpdateSelections:r=!1,animationResetFns:a,directionKeys:l,directionNames:c}=h,d=Je(h,["pathsPerSeries","hasMarkers","hasHighlightedLabels","pathsZIndexSubOrderOffset","datumSelectionGarbageCollection","markerSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns","directionKeys","directionNames"]);if(super(w({directionKeys:l,directionNames:c,canHaveAxes:!0},d)),this.NodeEvent=OM,this.dataNodeGroup=this.contentGroup.appendChild(new _e({name:`${this.id}-series-dataNodes`,zIndex:0})),this.markerGroup=this.contentGroup.appendChild(new _e({name:`${this.id}-series-markers`,zIndex:1})),this.labelGroup=this.contentGroup.appendChild(new Cn({name:`${this.id}-series-labels`})),this.labelSelection=ai.select(this.labelGroup,wi),this.highlightSelection=ai.select(this.highlightNode,()=>this.opts.hasMarkers?new xi:this.nodeFactory()),this.highlightLabelSelection=ai.select(this.highlightLabel,wi),this.annotationSelections=new Set,this.debug=wt.create(),!l||!c)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:e,hasMarkers:t,hasHighlightedLabels:i,pathsZIndexSubOrderOffset:n,directionKeys:l,directionNames:c,animationResetFns:a,animationAlwaysUpdateSelections:r,datumSelectionGarbageCollection:s,markerSelectionGarbageCollection:o},this.paths=e.map(p=>new On({name:`${this.id}-${p}`})),this.datumSelection=ai.select(this.dataNodeGroup,()=>this.nodeFactory(),s),this.markerSelection=ai.select(this.markerGroup,xi,o),this.animationState=new Gp("empty",{empty:{update:{target:"ready",action:p=>this.animateEmptyUpdateReady(p)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:p=>this.animateReadyHighlight(p),highlightMarkers:p=>this.animateReadyHighlightMarkers(p),resize:p=>this.animateReadyResize(p),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:p=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(p):this.animateWaitingUpdateReady(p)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:p=>this.resetAllAnimation(p),reset:"empty"},clearing:{update:{target:"empty",action:p=>this.animateClearingUpdateEmpty(p)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){return this.contextNodeData?.nodeData}attachSeries(e,t,i){super.attachSeries(e,t,i),this.attachPaths(this.paths,t,i)}detachSeries(e,t,i){super.detachSeries(e,t,i),this.detachPaths(this.paths,t,i)}attachPaths(e,t,i){for(let n of e)this.contentGroup.appendChild(n)}detachPaths(e,t,i){for(let n of e)this.contentGroup.removeChild(n)}renderToOffscreenCanvas(){let e=this.getNodeData();return e!=null&&e.length>Wv}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"?this.animationState.transition("skip"):e==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>this.onLegendItemClick(e)),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>this.onLegendItemDoubleClick(e)))}destroy(){super.destroy(),this._contextNodeData=void 0}update({seriesRect:e}){let{visible:t,_contextNodeData:i}=this,s=this.ctx.highlightManager?.getActiveHighlight()?.series===this,o=this.checkResize(e),r=this.updateHighlightSelection(s);this.updateSelections(t),this.updateNodes(r,s,t);let a=this.getAnimationData(e,i);a&&(o&&this.animationState.transition("resize",a),this.animationState.transition("update",a))}updateSelections(e){var t;let i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!e&&i)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=this.createNodeData();let n=this.isProcessedDataAnimatable();this._contextNodeData&&((t=this._contextNodeData).animationValid??(t.animationValid=n));let{dataModel:s,processedData:o}=this;s!==void 0&&o!==void 0&&this.dispatch("data-update",{dataModel:s,processedData:o})}this.updateSeriesSelections()}}updateSeriesSelections(e){let{datumSelection:t,labelSelection:i,markerSelection:n,paths:s}=this,o=this._contextNodeData;if(!o)return;let{nodeData:r,labelData:a,itemId:l}=o;this.updatePaths({seriesHighlighted:e,itemId:l,contextData:o,paths:s}),this.datumSelection=this.updateDatumSelection({nodeData:r,datumSelection:t}),this.labelSelection=this.updateLabelSelection({labelData:a,labelSelection:i})??i,this.opts.hasMarkers&&(this.markerSelection=this.updateMarkerSelection({nodeData:r,markerSelection:n}))}updateNodes(e,t,i){let{highlightSelection:n,highlightLabelSelection:s,opts:{hasMarkers:o,hasHighlightedLabels:r}}=this,a=!this.ctx.animationManager.isSkipped(),l=this.visible&&this._contextNodeData!=null&&i;this.contentGroup.visible=a||l,this.highlightGroup.visible=(a||l)&&t;let c=this.getOpacity();o?(this.updateMarkerNodes({markerSelection:n,isHighlight:!0}),this.animationState.transition("highlightMarkers",n)):(this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n)),r&&this.updateLabelNodes({labelSelection:s});let{dataNodeGroup:d,markerGroup:u,datumSelection:h,labelSelection:p,markerSelection:g,paths:m,labelGroup:f}=this,{itemId:v}=this.contextNodeData??{};d.opacity=c,d.visible=a||l,f.visible=l,o&&(u.opacity=c,u.visible=l),f&&(f.opacity=c),this.updatePathNodes({seriesHighlighted:t,itemId:v,paths:m,opacity:c,visible:l,animationEnabled:a}),d.visible&&(this.updateDatumNodes({datumSelection:h,highlightedItems:e,isHighlight:!1}),this.usesPlacedLabels||this.updateLabelNodes({labelSelection:p}),o&&this.updateMarkerNodes({markerSelection:g,isHighlight:!1}))}getHighlightLabelData(e,t){let i=e.filter(n=>n.datum===t.datum&&n.itemId===t.itemId);return i.length===0?void 0:i}getHighlightData(e,t){return t?[t]:void 0}updateHighlightSelection(e){let{highlightSelection:t,highlightLabelSelection:i,_contextNodeData:n}=this;if(!n)return;let s=this.ctx.highlightManager?.getActiveHighlight(),o=e&&s?.datum?s:void 0,r,a;if(o!=null){let l=this.isLabelEnabled(),{labelData:c,nodeData:d}=n;a=this.getHighlightData(d,o),r=l?this.getHighlightLabelData(c,o):void 0}return this.highlightSelection=this.updateHighlightSelectionItem({items:a,highlightSelection:t}),this.highlightLabelSelection=this.updateHighlightSelectionLabel({items:r,highlightLabelSelection:i}),a}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(let{node:e}of this.datumSelection)e.datum.missing!==!0&&(yield e)}getQuadTree(){if(this.quadtree===void 0){let{width:e,height:t}=this.ctx.scene.canvas,i=new ne(0,0,e,t);this.quadtree=new sne(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodeExactShape(e){let t=super.pickNodeExactShape(e);if(t)return t;let{x:i,y:n}=e,{opts:{hasMarkers:s}}=this,o,{dataNodeGroup:r,markerGroup:a}=this;if(o=r.pickNode(i,n),!o&&s&&(o=a?.pickNode(i,n)),o&&o.datum.missing!==!0)return{datum:o.datum,distance:0};for(let l of this.moduleMap.modules()){let{datum:c}=l.pickNodeExact(e)??{};if(c!=null&&c?.missing!==!0)return{datum:c,distance:0}}}pickNodeClosestDatum(e){let{x:t,y:i}=e,{axes:n,_contextNodeData:s}=this;if(!s)return;let o=n.x,r=n.y,a={x:t,y:i},l=1/0,c;for(let d of s.nodeData){let{point:{x:u=NaN,y:h=NaN}={}}=d;if(isNaN(u)||isNaN(h)||!(o?.inRange(u)&&r?.inRange(h)))continue;let g=Math.max((a.x-u)**2+(a.y-h)**2,0);g<l&&(l=g,c=d)}for(let d of this.moduleMap.modules()){let u=d.pickNodeNearest(e);if(u!==void 0&&u.distanceSquared<l){l=u.distanceSquared,c=u.datum;break}}if(c){let d=Math.max(Math.sqrt(l)-(c.point?.size??0),0);return{datum:c,distance:d}}}pickNodeMainAxisFirst(e,t){let{x:i,y:n}=e,{axes:s,_contextNodeData:o}=this,{pickOutsideVisibleMinorAxis:r}=this.properties;if(!o)return;let a=s.x,l=s.y,c=[a,l].filter(Fd.is).map(g=>g.direction);if(t&&c.length===0)return;let[d="x"]=c,u=[i,n];d!=="x"&&u.reverse();let h=[1/0,1/0],p;for(let g of o.nodeData){let{x:m=NaN,y:f=NaN}=g.point??g.midPoint??{};if(isNaN(m)||isNaN(f)||g.missing===!0)continue;let v=[a?.inRange(m),l?.inRange(f)];if(d!=="x"&&v.reverse(),!v[0]||!r&&!v[1])continue;let y=[m,f];d!=="x"&&y.reverse();let C=!0;for(let S=0;S<y.length;S++){let M=Math.abs(y[S]-u[S]);if(M>h[S]){C=!1;break}else M<h[S]&&(h[S]=M,h.fill(1/0,S+1,h.length))}C&&(p=g)}if(p){let g=Math.max(h[0]**2+h[1]**2-(p.point?.size??0),0);for(let m of this.moduleMap.modules()){let f=m.pickNodeMainAxisFirst(e);if(f!==void 0&&f.distanceSquared<g){p=f.datum,g=f.distanceSquared;break}}return{datum:p,distance:Math.sqrt(g)}}}isPathOrSelectionDirty(){return!1}shouldFlipXY(){return!1}keysOrValues(e){let t=this.dataModel.resolveProcessedDataIndexById(this,e);return this.processedData?.keys[t]?.get(this.id)??this.processedData?.columns[t]??[]}visibleRange(e,t,i){let n=this.keysOrValues(e),s=0;return iP(i?.length??n.length,t,o=>{let r=i?.[o]??o;return this.xCoordinateRange(n[r],s,r)})}domainForVisibleRange(e,t,i,n,s,o){let{processedData:r,dataModel:a}=this,[l,c]=n,d=this.keysOrValues(i);if(s){let g=this.visibleRange(i,n,o);return a.getDomainBetweenRange(this,t,g,r)}let u=t.map(g=>this.keysOrValues(g)),h=1/0,p=-1/0;return d.forEach((g,m)=>{let[f,v]=this.xCoordinateRange(g,0,m);if(!(v<l||f>c))for(let y=0;y<t.length;y++){let C=u[y][m];h=Math.min(h,C),p=Math.max(p,C)}}),h>p?[NaN,NaN]:[h,p]}domainForClippedRange(e,t,i,n){let{processedData:s,dataModel:o,axes:r}=this,l=lne(r[e==="x"?"y":"x"]);if(!l)return t.flatMap(g=>o.getDomain(this,g,"value",s));let c=this.keysOrValues(i);if(n){let g=cne(c.length,l,m=>c[m]);return o.getDomainBetweenRange(this,t,g,s)}let d=t.map(g=>this.keysOrValues(g)),u=l[0].valueOf(),h=l[1].valueOf(),p=[];return c.forEach((g,m)=>{let f=g.valueOf();if(f<u||f>h)return;let v=d.map(y=>y[m]);f>=u&&p.push(...v),f<=h&&p.push(...v)}),p}countVisibleItems(e,t,i,n,s){let{dataModel:o,processedData:r}=this;if(!o||!r)return 1/0;let a=this.keysOrValues(e),l=t.map(M=>o.resolveColumnById(this,M,r)),c=this.axes.x,d=this.axes.y,u=this.shouldFlipXY(),h=c.range,p=d.range,g=(M,D,E)=>M[0]+(E-D[0])/(D[1]-D[0])*(M[1]-M[0]),m=g(h,c.visibleRange,i[0]),f=g(h,c.visibleRange,i[1]),v=g(p,d.visibleRange,u?n[0]:n[1]),y=g(p,d.visibleRange,u?n[1]:n[0]),C=Math.round((i[0]+(i[1]-i[0])/2)*a.length),S=0;return nP(0,a.length-1,C,s,M=>{let[D,E]=this.xCoordinateRange(a[M],S,M),[R,I]=this.yCoordinateRange(l.map(T=>T[M]),S,M);return!nt(D)||!nt(E)||!nt(R)||!nt(I)?!1:(u&&([D,E,R,I]=[R,I,D,E]),D>=m&&E<=f&&R>=v&&I<=y)})}updateHighlightSelectionItem(e){let{opts:{hasMarkers:t}}=this,{items:i,highlightSelection:n}=e,s=i??[];if(t){let o=n;return this.updateMarkerSelection({nodeData:s,markerSelection:o})}else return this.updateDatumSelection({nodeData:s,datumSelection:n})}updateHighlightSelectionLabel(e){return this.updateLabelSelection({labelData:e.items??[],labelSelection:e.highlightLabelSelection})}updateDatumSelection(e){return e.datumSelection}updateDatumNodes(e){}updateMarkerSelection(e){return e.markerSelection}updateMarkerNodes(e){}updatePaths(e){e.paths.forEach(t=>t.visible=!1)}updatePathNodes(e){let{paths:t,opacity:i,visible:n}=e;for(let s of t)s.opacity=i,s.visible=n}resetPathAnimation(e){let{path:t}=this.opts?.animationResetFns??{};t&&e.paths.forEach(i=>{Ai([i],t)})}resetDatumAnimation(e){let{datum:t}=this.opts?.animationResetFns??{};t&&Ai([e.datumSelection],t)}resetLabelAnimation(e){let{label:t}=this.opts?.animationResetFns??{};t&&Ai([e.labelSelection],t)}resetMarkerAnimation(e){let{marker:t}=this.opts?.animationResetFns??{};t&&this.opts.hasMarkers&&Ai([e.markerSelection],t)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(e),this.resetDatumAnimation(e),this.resetLabelAnimation(e),this.resetMarkerAnimation(e),e.contextData?.animationValid===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){let{datum:t}=this.opts?.animationResetFns??{};t&&Ai([e],t)}animateReadyHighlightMarkers(e){let{marker:t}=this.opts?.animationResetFns??{};t&&Ai([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(e,t){let{_contextNodeData:i}=this;return i?{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:t,paths:this.paths,seriesRect:e}:void 0}updateLabelSelection(e){return e.labelSelection}getScaling(e){if(e instanceof TM){let{range:t,domain:i}=e;return{type:"log",convert:n=>e.convert(n),domain:[i[0],i[1]],range:[t[0],t[1]]}}else if(e instanceof ct){let{range:t,domain:i}=e;return{type:"continuous",domain:[i[0],i[1]],range:[t[0],t[1]]}}else if(e instanceof Fp){let{domain:t}=e;return{type:"category",domain:t,inset:e.inset,step:e.step}}}calculateScaling(){let e={};for(let t of Object.values(iM)){let i=this.axes[t];if(!i)continue;let n=this.getScaling(i.scale);n!=null&&(e[t]=n)}return e}};function lne(e){let t,i;if(e instanceof Bd&&(Number.isFinite(e.min)||Number.isFinite(e.max))?(t=Number.isFinite(e.min)?e.min:void 0,i=Number.isFinite(e.max)?e.max:void 0):e instanceof $p&&(e.min!=null||e.max!=null)&&({min:t,max:i}=e),!(t==null&&i==null))return t??(t=-1/0),i??(i=1/0),[t,i]}function cne(e,t,i){let n=t[0].valueOf(),s=t[1].valueOf(),o=eF(0,e-1,a=>{let l=i(a)?.valueOf();return!Number.isFinite(l)||l>=n}),r=JL(0,e-1,a=>{let l=i(a)?.valueOf();return!Number.isFinite(l)||l<=s});return o==null||r==null?[0,0]:(r=Math.min(r+1,e),[o,r])}var dne=["top","right","bottom","left"],une=(()=>{let e=class xS extends Ay{constructor(i,n){super(i,n),this.paired=!0,this.lastUpdateClipRect=void 0,this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}onAxisChange(i,n){super.onAxisChange(i,n),this.ctx!=null&&this.ctx.zoomManager.updateAxes(i)}destroySeries(i){super.destroySeries(i),this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}getChartType(){return"cartesian"}setRootClipRects(i){let{seriesRoot:n,annotationRoot:s}=this;n.setClipRect(i),s.setClipRect(i)}processData(){return Pe(this,null,function*(){yield TD(xS.prototype,this,"processData").call(this);for(let i of this.axes){let n=this.getSyncedDomain(i);n!=null&&i.setDomains(n)}this.ctx.updateService.dispatchProcessData({series:{shouldFlipXY:this.shouldFlipXY()}})})}performLayout(i){let{seriesRoot:n,annotationRoot:s}=this,{clipSeries:o,seriesRect:r,visible:a}=this.updateAxes(i.layoutBox);this.seriesRoot.visible=a,this.seriesRect=r,this.animationRect=i.layoutBox;let{x:l,y:c}=r;if(i.width!==this.lastLayoutWidth||i.height!==this.lastLayoutHeight)for(let p of[n,s])p.translationX=Math.floor(l),p.translationY=Math.floor(c);else{let{translationX:p,translationY:g}=n;br(this.id,"seriesRect",this.ctx.animationManager,[n,s],{translationX:p,translationY:g},{translationX:Math.floor(l),translationY:Math.floor(c)},{phase:"update"})}this.lastLayoutWidth=i.width,this.lastLayoutHeight=i.height;let d=r.clone().grow(this.seriesArea.padding),u=this.seriesArea.clip||o?d:void 0,{lastUpdateClipRect:h}=this;this.lastUpdateClipRect=u,this.ctx.animationManager.isActive()&&h!=null?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:h,to:d,onUpdate:p=>this.setRootClipRects(p),onComplete:()=>this.setRootClipRects(u)}):this.setRootClipRects(u),this.ctx.layoutManager.emitLayoutComplete(i,{axes:this.axes.map(p=>p.getLayoutState()),series:{visible:a,rect:r,paddedRect:d},clipSeries:o})}updateAxes(i){let{clipSeries:n,seriesRect:s,overflows:o}=this.resolveAxesLayout(i);for(let r of this.axes)r.update(),r.setCrossLinesVisible(!o),this.clipAxis(r,s,i);return{clipSeries:n,seriesRect:s,visible:!o}}resolveAxesLayout(i){let n,s,o=0,r=10;do if(s=n??this.getDefaultState(),n=this.updateAxesPass(new Map(s.axisAreaWidths),i.clone()),o++>r){V.warn("Max iterations reached. Unable to stabilize axes layout.");break}while(!this.isLayoutStable(n,s));return this.lastAreaWidths=n.axisAreaWidths,n}updateAxesPass(i,n){let s=new Map,o={},r=!1,a=!1;for(let y of dne){let C=this.seriesArea.padding[y],S=this.axes.findLast(M=>M.position===y);S?S.seriesAreaPadding=C:n.shrink(C,y)}let l=(i.get("left")??0)+(i.get("right")??0),c=(i.get("top")??0)+(i.get("bottom")??0),d=this.buildCrossLinePadding(i);n.width<=l+d.hPadding||n.height<=c+d.vPadding?r=!0:n.shrink(d);let u=n.clone().shrink(Object.fromEntries(i));for(let y of this.axes){let{position:C="left",direction:S}=y;this.sizeAxis(y,u,C);let M=S==="y",{primaryTickCount:D,bbox:E}=y.calculateLayout(y.nice?o[S]:void 0);o[S]??(o[S]=D),a||(a=y.dataDomain.clipped||y.visibleRange[0]>0||y.visibleRange[1]<1),s.set(y.id,Math.ceil(y.thickness??(M?E?.width:E?.height)??0))}let h=Object.entries(PS(this.axes,y=>y.position??"left")),{width:p,height:g,pixelRatio:m}=this.ctx.scene,f=new Map,v=new Map;for(let[y,C]of h){let M=y==="left"||y==="right"?g%m:p%m,D=0;for(let E of C){v.set(E.id,M);let R=s.get(E.id)??0;D=Math.max(D,M+R),E.layoutConstraints.stacked&&(M+=R+xS.AxesPadding)}f.set(y,Math.ceil(D))}for(let[y,C]of h)this.positionAxes({axes:C,position:y,axisWidths:s,axisOffsets:v,axisAreaWidths:f,axisBound:n,seriesRect:u});return{clipSeries:a,seriesRect:u,axisAreaWidths:f,overflows:r}}buildCrossLinePadding(i){let n={top:0,right:0,bottom:0,left:0,hPadding:0,vPadding:0};this.axes.forEach(s=>{s.crossLines?.forEach(o=>{o.calculatePadding?.(n)})});for(let[s,o=0]of Object.entries(n))n[s]=Math.max(o-(i.get(s)??0),0);return n.hPadding=n.left+n.right,n.vPadding=n.top+n.bottom,n}clampToOutsideSeriesRect(i,n,s,o){let r=s==="x"?i.x:i.y,a=s==="x"?i.width:i.height;return o===1?Math.min(n,r+a):Math.max(n,r)}getSyncedDomain(i){let n=this.modulesManager.getModule("sync");if(!n?.enabled)return;let s=n.getSyncedDomain(i);if(s&&i.dataDomain.domain.length){let o,{domain:r}=i.scale;if(ct.is(i.scale)){let[a,l]=Ti(s);o=a!==r[0]||l!==r[1]}else o=!Do(s,r);o&&!this.skipSync&&n.updateSiblings()}return s}sizeAxis(i,n,s){let o=i instanceof Fd,r=s==="left"||s==="right",{width:a,height:l}=n,c=r?l:a,d=0,u=c,{min:h,max:p}=this.ctx.zoomManager.getAxisZoom(i.id),{width:g,unit:m,align:f}=i.layoutConstraints;m==="px"?u=d+g:u=u*g/100,f==="end"&&(d=c-(u-d),u=c),r&&(o?[h,p]=[1-p,1-h]:[d,u]=[u,d]),i.range=[d,u],i.visibleRange=[h,p],i.gridLength=r?a:l}positionAxes(i){let{axes:n,axisBound:s,axisWidths:o,axisOffsets:r,axisAreaWidths:a,seriesRect:l,position:c}=i,d=a.get(c)??0,u="x",h="y",p=1;(c==="top"||c==="bottom")&&(u="y",h="x");let g=s[u];(c==="right"||c==="bottom")&&(p=-1,g+=u==="x"?s.width:s.height);for(let m of n){let f=a.get(h==="x"?"left":"top")??0,v=o.get(m.id)??0,y=r.get(m.id)??0;m.gridPadding=d-y-v,m.translation[h]=s[h]+f,m.translation[u]=this.clampToOutsideSeriesRect(l,g+p*(y+v),u,p)}}shouldFlipXY(){return this.series.every(i=>i instanceof _a&&i.shouldFlipXY())}getDefaultState(){let i=new Map;if(this.lastAreaWidths)for(let{position:n="left"}of this.axes){let s=this.lastAreaWidths.get(n);s!=null&&i.set(n,s)}return{axisAreaWidths:i,clipSeries:!1,overflows:!1}}isLayoutStable(i,n){if(n.overflows!==i.overflows||n.clipSeries!==i.clipSeries)return!1;for(let s of i.axisAreaWidths.keys())if(!n.axisAreaWidths.has(s))return!1;for(let[s,o]of n.axisAreaWidths.entries()){let r=i.axisAreaWidths.get(s);if((o!=null||r!=null)&&o!==r)return!1}return!0}clipAxis(i,n,s){let o=Math.ceil(i.gridLine?.width??0),r=Math.ceil(i.line?.width??0),{width:a,height:l}=n;switch(a+=i.direction==="x"?o:r,l+=i.direction==="y"?o:r,i.clipGrid(n.x,n.y,a,l),i.position){case"left":case"right":i.clipTickLines(s.x,n.y-o,s.width+o,n.height+o*2);break;case"top":case"bottom":i.clipTickLines(n.x-o,s.y,n.width+o*2,s.height+o);let{label:c,labelNodes:d,scale:u}=i;if(ct.is(u)&&c.enabled&&c.avoidCollisions&&d.length>1){let h=d.toSorted((f,v)=>f.translationY-v.translationY),p=h.at(-1),g=p.getBBox(),m=n.x+g.y+g.height<=s.x+s.width+this.padding.right;if(p.visible=m,m||i.visibleRange[0]>0||i.visibleRange[1]<1)h[0].visible=!0;else{let f=h[0].getBBox();h[0].visible=f.y>=0}}break}}};return e.className="CartesianChart",e.type="cartesian",e.AxesPadding=15,e})(),hne=une,pne={type:"chart",name:"cartesian",detect:RM,create(e,t){return new hne(e,t)}},SL=wt.create(!0,"opts"),xv=(()=>{let e=class{constructor(i,n,s){this.factoryApi=n,this.licenseManager=s,this.chart=i}update(i){return Pe(this,null,function*(){return SL.group("AgChartInstance.update()",()=>Pe(this,null,function*(){this.factoryApi.update(i,this),yield this.chart.waitForUpdate()}))})}updateDelta(i){return Pe(this,null,function*(){return SL.group("AgChartInstance.updateDelta()",()=>Pe(this,null,function*(){this.factoryApi.updateUserDelta(this,i),yield this.chart.waitForUpdate()}))})}getOptions(){let i=pi(this.chart.getOptions());for(let n of Object.keys(i))n.startsWith("_")&&delete i[n];return i}waitForUpdate(){return this.chart.waitForUpdate()}download(i){return Pe(this,null,function*(){let n=yield this.prepareResizedChart(this,i);try{n.chart.download(i?.fileName,i?.fileFormat)}finally{n.destroy()}})}__toSVG(i){return Pe(this,null,function*(){let n=yield this.prepareResizedChart(this,w({width:600,height:300},i));try{return n.chart.toSVG()}finally{n.destroy()}})}getImageDataURL(i){return Pe(this,null,function*(){let n=yield this.prepareResizedChart(this,i);try{return n.chart.getCanvasDataURL(i?.fileFormat)}finally{n.destroy()}})}getState(){return this.factoryApi.caretaker.save(...this.getEnabledOriginators())}setState(i){return Pe(this,null,function*(){let n=this.getEnabledOriginators();if(!n.includes(this.chart.ctx.legendManager)){yield this.setStateOriginators(i,n);return}yield this.setStateOriginators(i,n.filter(s=>s!==this.chart.ctx.zoomManager)),yield this.setStateOriginators(i,[this.chart.ctx.zoomManager])})}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.releaseChart?(this.releaseChart(),this.releaseChart=void 0):this.chart&&(this.chart.publicApi=void 0,this.chart.destroy()),this.chart=null}prepareResizedChart(s){return Pe(this,arguments,function*(i,n={}){let{chart:o}=i,r=n.width??o.width??o.ctx.scene.canvas.width,a=n.height??o.height??o.ctx.scene.canvas.height,l=i.getState(),c=Eo.hasEnterpriseModules(),d=A(w({},o.chartOptions.processedOverrides),{container:document.createElement("div"),width:r,height:a});n.width!=null&&n.height!=null&&(d.overrideDevicePixelRatio=1);let u=o.getOptions();c&&(d.animation={enabled:!1},this.licenseManager?.isDisplayWatermark()&&(d.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));let h=w({},o.chartOptions.specialOverrides),p=w({},o.chartOptions.optionMetadata),g=this.factoryApi.create(u,d,h,p);yield g.setState(l),g.chart.ctx.zoomManager.updateZoom("chartProxy",o.ctx.zoomManager.getZoom()),g.chart.ctx.legendManager.clearData(),g.chart.ctx.legendManager.update(o.ctx.legendManager.getData()),o.series.forEach((f,v)=>{f.visible||(g.chart.series[v].visible=!1)});let m=[];for(let f of o.modulesManager.legends())m.push(f.legend.pagination?.currentPage??0);for(let f of g.chart.modulesManager.legends()){let v=m.shift()??0;f.legend.pagination&&f.legend.pagination.setPage(v)}return g.chart.update(0,{forceNodeDataRefresh:!0}),yield g.waitForUpdate(),g})}getEnabledOriginators(){let{chartOptions:{processedOptions:i,optionMetadata:n},ctx:{annotationManager:s,chartTypeOriginator:o,zoomManager:r,legendManager:a}}=this.chart,l=[];return"annotations"in i&&i.annotations?.enabled&&l.push(s),n.presetType==="price-volume"&&l.push(o),(i.navigator?.enabled||i.zoom?.enabled)&&l.push(r),"legend"in this.chart&&l.push(a),l}setStateOriginators(i,n){return Pe(this,null,function*(){this.factoryApi.caretaker.restore(i,...n),this.chart.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),yield this.chart.waitForUpdate()})}};return e.chartInstances=new WeakMap,e})();b([Pn({oldValue(e){e.destroyed||(e.publicApi=void 0),xv.chartInstances.delete(e)},newValue(e){e&&(e.publicApi=this,xv.chartInstances.set(e,this))}})],xv.prototype,"chart",2);var ML=xv,NM=class extends xy{constructor(e){super(),this.ctx=e,this.localeText=void 0}};b([xa(e=>{e.ctx.localeManager.setLocaleText(e.localeText)}),x(RF,{optional:!0})],NM.prototype,"localeText",2);b([xa(e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)}),x(wn,{optional:!0})],NM.prototype,"getLocaleText",2);var gne={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new NM(e)},DL=class extends Pp{getIndex(e){return super.getIndex(e)??this.getMatchIndex(e)}getMatchIndex(e){let t=JSON.stringify(e),i=this._domain.find(n=>JSON.stringify(n)===t);if(i!=null)return super.getIndex(i)}},Yh=new WeakMap;function Uv(e,t){let i=JSON.stringify(e,null,0);return Yh.has(t)||Yh.set(t,new Map),Yh.get(t)?.has(i)||Yh.get(t)?.set(i,t(e)),Yh.get(t)?.get(i)}function yn(e){let t=new Map,i=(...o)=>o.map(r=>typeof r=="object"||typeof r=="symbol"?r:(t.has(r)||t.set(r,{v:r}),t.get(r))),n={},s=new WeakMap;return(...o)=>{let r=o.length===0?[n]:i(...o),a=s;for(let d of r.slice(0,-1))a.has(d)||a.set(d,new WeakMap),a=a.get(d);let l=r.at(-1),c=a.get(l);return c||(c=e(...o),a.set(l,c)),c}}function Ty(e,t=[0,0]){for(let i of e)typeof i=="number"&&(i<0&&(t[0]+=i),i>0&&(t[1]+=i));return t}function mne(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:n=>Ty(n)}}function TP(e,t){return{id:e,type:"aggregate",matchGroupIds:t?[t]:void 0,aggregateFunction:i=>Ty(i),groupAggregateFunction:(i,n=[0,0])=>(n[0]+=i?.[0]??0,n[1]+=i?.[1]??0,n),round:!0}}function fne(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:n=>la.extendDomain(n)}}function SS(e){return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(t,i=[0,0])=>(i[0]+=t?.[0]??0,i[1]+=t?.[1]??0,i)}}function LP(e,t){return{id:e,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:n=>Ty(n),groupAggregateFunction:(n,s=[0,0,-1])=>(s[0]+=n?.[0]??0,s[1]+=n?.[1]??0,s[2]++,s),finalFunction:(n=[0,0,0])=>{let s=n[0]+n[1];return s>=0?[0,s/n[2]]:[s/n[2],0]},round:!0}}function MS(e,t,i){let n={id:e,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:(s,o=[])=>{let r=o[1]-o[0];return t.aggregateFunction(s).map(a=>a/r)},round:!0};return t.groupAggregateFunction&&(n.groupAggregateFunction=t.groupAggregateFunction),n}function FP(e){return()=>{let t=0;return i=>nt(i)?(t+=e?Math.max(0,i):i,t):i}}function PP(){return()=>{let e=0;return t=>{if(!nt(t))return t;let i=e;return e+=t,i}}}function OP(e){return e!=null&&yy(e)}function vne(e){return e!=null}function NP(e){switch(e){case"number":case"log":case"ordinal-time":case"time":case"color":return OP;default:return vne}}function BP(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function Js(e,t,i={}){return w({property:e,type:"key",valueType:BP(t),validation:NP(t)},i)}function je(e,t,i={}){return w({property:e,type:"value",valueType:BP(t),validation:NP(t)},i)}function zP(e,t={}){return w({property:e,type:"value",valueType:"range",missingValue:1,processor:()=>()=>1},t)}function BM(e,t={}){let o=t,{min:i=-1/0,max:n=1/0}=o,s=Je(o,["min","max"]);return w({type:"value",property:e,valueType:"range",validation:OP,processor:()=>r=>nt(r)?Le(i,r,n):r},s)}function bp(e,t,i={}){let r=i,{onlyPositive:n}=r,s=Je(r,["onlyPositive"]);return A(w({},je(e,t,s)),{processor:FP(n)})}function yne(e,t,i={}){return A(w({},je(e,t,i)),{processor:PP()})}function va(e,t,i,n,s){return[je(e,s,n),WP(n.groupId,t,i,n.separateNegative),...n.rangeId!=null?[fne(n.rangeId,n.groupId)]:[]]}function VP(e,t,i){return[je(e,t,i),UP(i.groupId)]}var GP={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return(t=1/0,i)=>{let n=typeof i[0]=="number"?i[0]:Number(i[0]),s=Math.abs(n-e);return e=n,!isNaN(s)&&s>0&&s<t?s:t}}},HP={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return(t=-1/0,i)=>{let n=typeof i[0]=="number"?i[0]:Number(i[0]),s=Math.abs(n-e);return e=n,!isNaN(s)&&s>0&&s>t?s:t}}},jP={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:e}})=>e?.slice().sort((t,i)=>{for(let n=0;n<t.length;n++){let s=t[n]-i[n];if(s!==0)return s}return 0})};function bne({normaliseTo:e}){let t=(i,n)=>{if(n===0)return null;let s=(i??0)*e/n;return s>=0?Math.min(e,s):Math.max(-e,s)};return()=>()=>(i,n,s)=>{let o=Cne(i,n,s);for(let r of n)for(let a of s.datumIndices[r]){let l=i[r],c=l[a];if(c==null){l[a]=void 0;continue}l[a]=typeof c=="number"?t(c,o):c.map(d=>t(d,o))}}}function Cne(e,t,i){let n=[0,0];for(let s of t){let o=e[s];for(let r of i.datumIndices[s]){let a=o[r];if(a==null)continue;let l=typeof a=="number"?a:Math.max(...a.map(d=>d??0)),c=l<0?0:1;c===0?n[c]=Math.min(n[c],l):n[c]=Math.max(n[c],l)}}return Math.max(Math.abs(n[0]),n[1])}function Ly(e,t){return{type:"group-value-processor",matchGroupIds:e,adjust:Uv({normaliseTo:t},bne)}}function wne({normaliseTo:e,zeroDomain:t,rangeMin:i,rangeMax:n}){let s=e[1]-e[0],o=(r,a,l)=>{let c=e[0]+(r-a)/l*s;return l===0?t:c>=e[1]?e[1]:c<e[0]?e[0]:c};return()=>(r,a)=>{let[l,c]=r.domain.values[a];i!=null&&(l=i),n!=null&&(c=n);let d=c-l;r.domain.values[a]=[e[0],e[1]];let u=r.columns[a];for(let h=0;h<u.length;h+=1)u[h]=o(u[h],l,d)}}function Fl(e,t,i,n,s){return{type:"property-value-processor",property:e,adjust:Uv({normaliseTo:t,rangeMin:n,rangeMax:s,zeroDomain:i},wne)}}var ap=1,$v=2,_L=(e,t,i,n)=>{let s=ap|$v;if(t.valueType==="category")return i.length!==e&&(s&=~ap),s;let o=n[0]?.valueOf();for(let r=1;s!==0&&r<n.length;r++){let a=n[r]?.valueOf();(!Number.isFinite(a)||o>a)&&(s&=~$v),Number.isFinite(a)&&o===a&&(s&=~ap),o=a}return s};function zd(e){return{type:"processor",property:"animationValidation",calculate(t){let{keys:i,values:n}=t.defs,{input:{count:s},domain:{keys:o,values:r},keys:a,columns:l}=t,c=ap|$v;if(s!==0){for(let d=0;c!==0&&d<i.length;d++)for(let u of i[d].scopes)c&=_L(s,i[d],o[d],a[d].get(u));for(let d=0;c!==0&&d<n.length;d++){let u=n[d];e?.includes(u.id)&&(c&=_L(s,u,r[d],l[d]))}}return{uniqueKeys:(c&ap)!==0,orderedKeys:(c&$v)!==0}}}}function xne({mode:e,separateNegative:t}){return()=>()=>(i,n,s)=>{let o=[0,0];for(let r of n)for(let a of s.datumIndices[r]??[]){let l=i[r],c=l[a],d=sy(c)&&t?0:1;nt(c)&&(e==="normal"&&(o[d]+=c),l[a]=o[d],e==="trailing"&&(o[d]+=c))}}}function Sne({mode:e,sum:t}){return()=>{let i=[],n=!0;return()=>(s,o,r)=>{let a=0;for(let l of o){let c=s[l];for(let d of r.datumIndices[l]??[]){let u=c[d],h=n&&t==="current"?0:i[l];i[l]=u;let p=t==="current"?u:h;if(!nt(u)||!nt(h)){c[d]=a;continue}e==="normal"&&(a+=p),c[d]=a,e==="trailing"&&(a+=p)}}n=!1}}}function WP(e,t,i,n=!1){let s;if(t.startsWith("window")){let o=t.endsWith("-trailing")?"trailing":"normal";s=Uv({mode:o,sum:i},Sne)}else s=Uv({mode:t,separateNegative:n},xne);return{type:"group-value-processor",matchGroupIds:[e],adjust:s}}function Mne(){return()=>(e,t,i)=>{let n=new Float64Array(t.length),s=0;for(let o of t){let r=e[o];for(let a of i.datumIndices[o]??[]){let l=r[a];n[s]=Number.isFinite(l)?l:NaN,s+=1,r[a]=n.subarray(0,s)}}}}function UP(e){return{type:"group-value-processor",matchGroupIds:[e],adjust:Mne}}function EL(e){return e.id??e.property}function Dne(e,t,i){let n=new Map,s=t.defs.values;for(let a=0;a<s.length;a+=1){let l=s[a];if(l.scopes?.includes(e)===!1)continue;let c=EL(l);if(n.has(c))return;n.set(c,a)}let o=[],r=i.defs.values;for(let a=0;a<r.length;a+=1){let l=r[a];if(l.scopes?.includes(e)===!1)continue;let c=EL(l),d=n.get(c);if(d==null)return;n.delete(c),o.push({previousIndex:d,nextIndex:a})}if(n.size===0)return o}function Vx(e,t,i,n,s){for(let{previousIndex:o,nextIndex:r}of i){let a=e[o],l=t[r],c=a[n],d=l[s];if(c!==d)return!1}return!0}function Vd(e,t,i=!0){return{type:"processor",property:"diff",calculate(n,s){let o=new Map,r=new Map,a=new Map,l=new Map,c=t.keys,d=n.keys,u=t.columns,h=n.columns,p=Dne(e,t,n);if(p==null)return s;let g=Math.max(t.input.count,n.input.count);for(let v=0;v<g;v++){let y=v<t.input.count,C=v<n.input.count,S=y?Vv(c,e,v):void 0,M=S!=null?li(S):"",D=C?Vv(d,e,v):void 0,E=D!=null?li(D):"";if(C&&y&&M===E){Vx(u,h,p,v,v)||a.set(E,v);continue}let R=l.get(E);R!=null?((i||!Vx(u,h,p,R,v))&&(a.set(E,v),o.set(E,v)),l.delete(E)):C&&r.set(E,v);let I=r.get(M);I!=null?((i||!Vx(u,h,p,I,v))&&(a.set(M,v),o.set(M,v)),r.delete(M)):y&&(a.delete(M),l.set(M,v))}let f={changed:r.size>0||a.size>0||l.size>0,added:new Set(r.keys()),updated:new Set(a.keys()),removed:new Set(l.keys()),moved:new Set(o.keys())};return A(w({},s),{[e]:f})}}}function li(e,...t){let i;return It(e)?i=e.map(s=>dS(s)).join("___"):i=dS(e),(typeof i=="string"||typeof i=="number"||typeof i=="boolean"||i instanceof Date)&&t.length>0&&(i+=`___${t.join("___")}`),i}var _ne=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){e>this.right&&(this.right=e),e<this.left&&(this.left=e),t>this.bottom&&(this.bottom=t),t<this.top&&(this.top=t)}},Ene=class $P{constructor(t="",i,n){this.label=t,this.parent=i,this.refId=n,this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.index=0,this.screenX=0,this.depth=i?i.depth+1:0}insertTick(t,i){let n=this;for(let s=0;s<t.length;s++){let o=t[s],r=s!==t.length-1,{children:a}=n,l=a.find(c=>c.label===o);if(l&&r)n=l;else{let c=new $P(o,n,i);c.index=a.length,a.push(c),r&&(n=c)}}}getLeftSibling(){return this.index>0?this.parent?.children[this.index-1]:void 0}getLeftmostSibling(){return this.index>0?this.parent?.children[0]:void 0}nextLeft(){return this.children[0]}nextRight(){return this.children.at(-1)}getSiblings(){return this.parent?.children.filter((t,i)=>i!==this.index)??[]}};function Ine(e){let t=e.reduce((n,s)=>n<s.length?s.length:n,0),i=new Ene;for(let n=0;n<e.length;n++){let s=e[n];for(;s.length<t;)s.push("");i.insertTick(s,n)}return i}function Rne(e,t,i){let n=t.index-e.index,s=i/n;t.change-=s,t.shift+=i,e.change+=s,t.prelim+=i,t.mod+=i}function Ane(e,t,i){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:i}function kne({children:e}){let t=0,i=0;for(let n=e.length-1;n>=0;n--){let s=e[n];s.prelim+=t,s.mod+=t,i+=s.change,t+=s.shift+i}}function Tne(e,t){let i=e.getLeftSibling();if(i){let n=e,s=e,o=i,r=s.getLeftmostSibling(),a=s.mod,l=n.mod,c=o.mod,d=r.mod;for(;o.nextRight()&&s.nextLeft();){o=o.nextRight(),s=s.nextLeft(),r=r.nextLeft(),n=n.nextRight(),n.ancestor=e;let u=o.prelim+c-(s.prelim+a)+1;u>0&&(Rne(Ane(o,e,t),e,u),a+=u,l+=u),c+=o.mod,a+=s.mod,d+=r.mod,l+=n.mod}o.nextRight()&&!n.nextRight()?n.mod+=c-l:(s.nextLeft()&&!r.nextLeft()&&(r.mod+=a-d),t=e)}return t}function YP(e){let{children:t}=e;if(t.length){let[i]=t;for(let o of t)YP(o),i=Tne(o,i);kne(e);let n=(t[0].prelim+t.at(-1).prelim)/2,s=e.getLeftSibling();s?(e.prelim=s.prelim+1,e.mod=e.prelim-n):e.prelim=n}else{let i=e.getLeftSibling();e.prelim=i?i.prelim+1:0}}function KP(e,t,i){e.x=e.prelim+t,e.y=e.depth,i.insertNode(e);for(let n of e.children)KP(n,t+e.mod,i)}function ZP(e){let{children:t}=e,i=0;for(let n of t)ZP(n),n.children.length?i+=n.leafCount:i++;e.leafCount=i,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[t.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function Lne(e){let t=new Fne,i=Ine(e);return YP(i),KP(i,-i.prelim,t),ZP(i),t}var Fne=class{constructor(){this.dimensions=new _ne,this.nodes=[],this.depth=0}insertNode(e){this.depth<e.depth&&(this.depth=e.depth),this.dimensions.update(e.x,e.y),this.nodes.push(e)}scalingX(e,t){let i=1;if(e>0){let{left:n,right:s}=this.dimensions;i=e/(s-n)}return t&&(i*=-1),i}},Rr=class extends ke{constructor(){super(...arguments),this.enabled=!0}};b([x(me)],Rr.prototype,"enabled",2);b([x(me,{optional:!0})],Rr.prototype,"avoidCollisions",2);b([x(rt,{optional:!0})],Rr.prototype,"color",2);b([x($,{optional:!0})],Rr.prototype,"spacing",2);b([x(wr,{optional:!0})],Rr.prototype,"fontStyle",2);b([x(xr,{optional:!0})],Rr.prototype,"fontWeight",2);b([x(Qe.restrict({min:1}),{optional:!0})],Rr.prototype,"fontSize",2);b([x(B,{optional:!0})],Rr.prototype,"fontFamily",2);var Fy=class extends ke{constructor(){super(...arguments),this.enabled=!0}};b([x(me)],Fy.prototype,"enabled",2);b([x($,{optional:!0})],Fy.prototype,"width",2);b([x(rt,{optional:!0})],Fy.prototype,"stroke",2);var zM=class extends ke{constructor(){super(...arguments),this.label=new Rr,this.tick=new Fy}};b([x(ee)],zM.prototype,"label",2);b([x(ee)],zM.prototype,"tick",2);var Py=(()=>{let e=class extends Fd{constructor(t){super(t,new DL),this.tickScale=new DL,this.depthOptions=new Op(zM),this.includeInvisibleDomains=!0,this.tickScale.paddingInner=1,this.tickScale.paddingOuter=0}resizeTickTree(){if(!this.tickTreeLayout)return;let{nodes:t}=this.tickTreeLayout,{range:i,step:n,inset:s,bandwidth:o}=this.scale,r=Math.abs(i[1]-i[0])-n,a=this.tickTreeLayout.scalingX(r,i[0]>i[1]),l=s+o/2,c=0;for(let d of t){let u=d.x*a;c>u&&(c=u),d.screenX=u+l}for(let d of t)d.screenX-=c}getDepthOptionsMap(t){let i=[],{depthOptions:n,label:s}=this;for(let o=0;o<t;o++)i.push(n[o]?.label.enabled??s.enabled?{enabled:!0,spacing:n[o]?.label.spacing??s.spacing,lineHeight:ri.getLineHeight(n[o]?.label.fontSize??s.fontSize??10),avoidCollisions:n[o]?.label.avoidCollisions??s.avoidCollisions}:{enabled:!1,spacing:0,lineHeight:0,avoidCollisions:!1});return i}updateCategoryLabels(){this.computedLayout&&this.tickLabelGroupSelection.update(this.computedLayout.tickLabelLayout).each((t,i)=>t.setProperties(i))}updateAxisLine(){this.computedLayout&&(this.lineNode.visible=this.line.enabled,this.lineNode.stroke=this.line.stroke,this.lineNode.strokeWidth=this.line.width)}computeLayout(){if(this.updateDirection(),this.updateScale(),this.resizeTickTree(),!this.tickTreeLayout?.depth)return{bbox:ne.zero,separatorLayout:[],tickLabelLayout:[]};let{step:t}=this.scale,{title:i,label:n,range:s,depthOptions:o}=this,{depth:r,nodes:a}=this.tickTreeLayout,l=Math.ceil(n.fontSize/t),c=mi(this.rotation),d=this.position==="top"||this.position==="bottom",u=n.getSideFlag(),h=[],p=new Map,g=new Dd,{defaultRotation:m,configuredRotation:f}=Fv({rotation:n.rotation,parallel:n.parallel,regularFlipRotation:_t(c-Math.PI/2),parallelFlipRotation:_t(c)}),v=m+f,y=this.getDepthOptionsMap(r),C=(oe,be)=>{let xe=r-oe.depth;if(!y[xe]?.enabled||be%l!==0||!rF(oe.screenX,s))return!1;let re=this.formatTick(oe.label,be-1),ve=this.getLabelStyles({value:re,depth:xe},o[xe]?.label);return g.setProperties(A(w({},ve),{text:re,textAlign:"center",textBaseline:n.parallel?"hanging":"bottom",rotation:0,translationX:0,translationY:oe.screenX})),!0},S=0,M={};a.forEach((oe,be)=>{let xe=r-oe.depth,re=bX(oe.label);if(M[xe]??(M[xe]=1),M[xe]<re&&(M[xe]=re),!(!C(oe,be)||!g.getBBox())&&(p.set(be,g.getBBox()),!oe.leafCount)){g.rotation=v;let{width:X}=g.getBBox();S<X&&(S=X)}});let D=uM(),E=u*y[0].spacing,R=new Map,I=oe=>{let be=S;for(let xe=1;xe<=oe;xe++)be+=y[xe].spacing,(n.mirrored||xe!==oe)&&(be+=M[xe]*y[xe].lineHeight);return be};a.forEach((oe,be)=>{if(be===0)return;let xe=C(oe,be),re=!oe.children.length,ve=r-oe.depth;if(oe.parent){let le=re?oe.x:oe.x-(oe.leafCount-1)/2;if(!R.has(le)){let ae=this.depthOptions[ve]?.tick,Ee=S;for(let Me=0;Me<=ve;Me++)Ee+=y[Me].spacing,Me!==0&&(Ee+=M[Me]*y[Me].lineHeight);R.set(le,{tickSize:Ee,tickStroke:ae?.stroke,tickWidth:ae?.enabled!==!1?ae?.width:0})}}if(!xe)return;if(g.x=E,g.y=0,re){let{width:le}=p.get(be),ae=HF(v);g.rotation=v,g.textAlign="end",g.textBaseline="middle",g.rotationCenterX=E-le/2,g.translationX=(y[ve].spacing-le)/2*ae*u,n.mirrored&&(g.translationX+=le)}else g.rotation=d?m:-Math.PI/2,g.rotationCenterX=E,g.translationX=u*I(ve);if(y[ve].avoidCollisions){let le=re?t:oe.leafCount*t;if(g.getBBox().height>le){p.delete(be);return}}let{text:X=""}=g;h.push({text:X,visible:!0,range:this.scale.range,tickId:D(X),fill:g.fill,fontFamily:g.fontFamily,fontSize:g.fontSize,fontStyle:g.fontStyle,fontWeight:g.fontWeight,rotation:g.rotation,rotationCenterX:g.rotationCenterX,textAlign:g.textAlign,textBaseline:g.textBaseline,translationX:g.translationX,translationY:g.translationY,x:g.x,y:g.y}),p.set(be,Kt.toCanvas(g))});let{enabled:T,stroke:F,width:N}=this.line;this.lineNode.datum={x:0,y1:s[0],y2:s[1]},this.lineNode.setProperties({stroke:F,strokeWidth:T?N:0});let q=[...R.values()];q.push(q[0]);let pe=[this.lineNode.getBBox(),new ne(0,0,q[0].tickSize*u,0)];i.enabled&&(this.updateTitle(!1,q[0].tickSize),pe.push(i.caption.node.getBBox()));let fe=ne.merge(Al(p.values(),pe));return{bbox:this.getTransformBox(fe),separatorLayout:q,tickLabelLayout:h}}update(){if(!this.computedLayout)return;let{tickScale:t,gridLine:i,gridLength:n}=this,{separatorLayout:s}=this.computedLayout,o=t.ticks({nice:!1,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}).map((r,a)=>A(w({},s[a]),{tick:r,tickId:li(r,a),tickLabel:r.filter(Boolean).join(" - "),translationY:Math.round(t.convert(r))}));this.gridLineGroupSelection.update(i.enabled&&n?o:[]),this.tickLineGroupSelection.update(this.tick.enabled?o:[]),this.updatePosition(),this.updateCategoryLabels(),this.updateAxisLine(),this.updateGridLines(),this.updateTickLines(),this.updateTitle(),this.resetSelectionNodes()}calculateLayout(){let{separatorLayout:t,tickLabelLayout:i,bbox:n}=this.computeLayout();return this.computedLayout={separatorLayout:t,tickLabelLayout:i},{bbox:n,primaryTickCount:void 0,niceDomain:this.scale.domain}}onGridVisibilityChange(){this.gridLineGroupSelection.clear(),this.tickLabelGroupSelection.clear()}updateScale(){super.updateScale(),this.tickScale.range=this.scale.range,this.scale.paddingOuter=this.scale.paddingInner/2}processData(){let{direction:t}=this,i=this.boundSeries.filter(o=>o.visible).flatMap(o=>o.getDomain(t));this.dataDomain={domain:_r(i)??this.filterDuplicateArrays(i),clipped:!1},this.isReversed()&&this.dataDomain.domain.reverse();let n=this.dataDomain.domain.map(o=>Ev(ki(o)&&"value"in o?o.value:o));this.tickTreeLayout=Lne(n);let s=[];for(let o of this.tickTreeLayout.nodes)o.leafCount||o.refId==null||s.push(this.dataDomain.domain[o.refId]);return this.scale.domain=gX(this.dataDomain.domain,s),this.tickScale.domain=n.concat([[""]]),{animatable:!0}}updateGridLines(){if(!this.gridLength)return;let{width:t,style:i}=this.gridLine,n=this.gridLength*-this.label.getSideFlag();this.gridLineGroupSelection.each((s,o,r)=>{let{stroke:a,lineDash:l}=i[r%i.length],c=o.translationY;s.visible=this.inRange(c),s.x1=0,s.x2=n,s.y=c,s.stroke=a,s.strokeWidth=t,s.lineDash=l})}filterDuplicateArrays(t){let i=new Set;return t.filter(n=>{let s=It(n)?JSON.stringify(n):n;return i.has(s)?!1:(i.add(s),!0)})}};return e.className="GroupedCategoryAxis",e.type="grouped-category",e})();b([x($S)],Py.prototype,"depthOptions",2);var qP=pt(e=>Ms(e)&&e!==0,"a non-zero number"),Kp=(()=>{let e=class extends Bd{constructor(t){super(t,new TM),this.min=NaN,this.max=NaN}normaliseDataDomain(t){let{min:i,max:n}=this,{extent:s,clipped:o}=LM(t,i,n);return s[0]<0&&s[1]>0||t[0]<0&&t[1]>0?(V.warn("The log axis domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:o}):s[0]===0||s[1]===0||t[0]===0||t[1]===0?(V.warn("The log axis domain contains a value of 0, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:o}):{domain:s,clipped:o}}set base(t){this.scale.base=t}get base(){return this.scale.base}defaultDatumFormatter(t,i){return String(t)}defaultLabelFormatter(t,i){return String(t)}};return e.className="LogAxis",e.type="log",e})();b([x(ko(kd,qP,Bp("max"))),Sa(NaN)],Kp.prototype,"min",2);b([x(ko(kd,qP,zp("min"))),Sa(NaN)],Kp.prototype,"max",2);var Jh=(e,{x0:t,y0:i,x1:n,y1:s,cx:o,cy:r},a,l)=>{if(l&&e.moveTo(t,i),t!==n||i!==s){let c=Math.atan2(i-r,t-o),d=Math.atan2(s-r,n-o);e.arc(o,r,a,c,d)}else e.lineTo(t,i)},IL=1e-6,cv=(e,t,i,n,s)=>{let o=!1,r=!1,a=n-Math.sqrt(Math.max(s**2-i**2,0)),l=0,c=0,d=i-Math.sqrt(Math.max(s**2-n**2,0));return a>e?(o=!0,a=e,l=i-Math.sqrt(Math.max(s**2-(n-e)**2))):a<IL&&(a=0),d>t?(r=!0,c=n-Math.sqrt(Math.max(s**2-(i-t)**2)),d=t):d<IL&&(d=0),{leading0:a,leading1:l,trailing0:c,trailing1:d,leadingClipped:o,trailingClipped:r}},Sv=(e,t,i,n,s,o,r)=>{let{topLeft:a,topRight:l,bottomRight:c,bottomLeft:d}=o,u=Math.max(a+d,l+c),h=Math.max(a+l,d+c);if(u<=0&&h<=0){r==null?e.rect(t,i,n,s):e.rect(r.x,r.y,r.width,r.height);return}else if(r==null&&a===l&&a===c&&a===d){e.roundRect(t,i,n,s,a);return}if(n<0&&(t+=n,n=Math.abs(n)),s<0&&(i+=s,s=Math.abs(s)),n<=0||s<=0)return;if(r==null)r=new ne(t,i,n,s);else{let E=Math.max(t,r.x),R=Math.min(t+n,r.x+r.width),I=Math.max(i,r.y),T=Math.min(i+s,r.y+r.height);r=new ne(E,I,R-E,T-I)}let p=Math.max(u/s,h/n,1);p>1&&(a/=p,l/=p,c/=p,d/=p);let g=!0,m=!0,f=!0,v=!0,y,C,S,M;if(g){let E=cv(r.height,r.width,Math.max(t+a-r.x,0),Math.max(i+a-r.y,0),a);E.leadingClipped&&(v=!1),E.trailingClipped&&(m=!1);let R=Math.max(r.x+E.leading1,r.x),I=Math.max(r.y+E.leading0,r.y),T=Math.max(r.x+E.trailing1,r.x),F=Math.max(r.y+E.trailing0,r.y),N=t+a,q=i+a;y={x0:R,y0:I,x1:T,y1:F,cx:N,cy:q}}if(m){let E=cv(r.width,r.height,Math.max(i+l-r.y,0),Math.max(r.x+r.width-(t+n-l),0),l);E.leadingClipped&&(g=!1),E.trailingClipped&&(f=!1);let R=Math.min(r.x+r.width-E.leading0,r.x+r.width),I=Math.max(r.y+E.leading1,r.y),T=Math.min(r.x+r.width-E.trailing0,r.x+r.width),F=Math.max(r.y+E.trailing1,r.y),N=t+n-l,q=i+l;C={x0:R,y0:I,x1:T,y1:F,cx:N,cy:q}}if(f){let E=cv(r.height,r.width,Math.max(r.x+r.width-(t+n-c),0),Math.max(r.y+r.height-(i+s-c),0),c);E.leadingClipped&&(m=!1),E.trailingClipped&&(v=!1);let R=Math.min(r.x+r.width-E.leading1,r.x+r.width),I=Math.min(r.y+r.height-E.leading0,r.y+r.height),T=Math.min(r.x+r.width-E.trailing1,r.x+r.width),F=Math.min(r.y+r.height-E.trailing0,r.y+r.height),N=t+n-c,q=i+s-c;S={x0:R,y0:I,x1:T,y1:F,cx:N,cy:q}}if(v){let E=cv(r.width,r.height,Math.max(r.y+r.height-(i+s-d),0),Math.max(t+d-r.x,0),d);E.leadingClipped&&(f=!1),E.trailingClipped&&(g=!1);let R=Math.max(r.x+E.leading0,r.x),I=Math.min(r.y+r.height-E.leading1,r.y+r.height),T=Math.max(r.x+E.trailing0,r.x),F=Math.min(r.y+r.height-E.trailing1,r.y+r.height),N=t+d,q=i+s-d;M={x0:R,y0:I,x1:T,y1:F,cx:N,cy:q}}let D=!1;g&&y!=null&&(Jh(e,y,a,!D),D||(D=!0)),m&&C!=null&&(Jh(e,C,l,!D),D||(D=!0)),f&&S!=null&&(Jh(e,S,c,!D),D||(D=!0)),v&&M!=null&&Jh(e,M,d,!D),e.closePath()},xn=(()=>{let e=class extends On{constructor(){super(...arguments),this.borderPath=new yp,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=Rs.defaultStyles.strokeWidth,this.effectiveStrokeWidth=Rs.defaultStyles.strokeWidth,this.hittester=super.isPointInPath.bind(this),this.distanceCalculator=super.distanceSquaredTransformedPoint.bind(this),this.microPixelEffectOpacity=1}set cornerRadius(t){this.topLeftCornerRadius=t,this.topRightCornerRadius=t,this.bottomRightCornerRadius=t,this.bottomLeftCornerRadius=t}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){let{path:t,borderPath:i,crisp:n,topLeftCornerRadius:s,topRightCornerRadius:o,bottomRightCornerRadius:r,bottomLeftCornerRadius:a}=this,{x:l,y:c,width:d,height:u,strokeWidth:h,clipBBox:p}=this,m=1/(this.layerManager?.canvas.pixelRatio??1),f=1;if(t.clear(!0),i.clear(!0),n&&(d<=m&&(f*=d/m),u<=m&&(f*=u/m),d=this.align(l,d),u=this.align(c,u),l=this.align(l),c=this.align(c),p=p!=null?new ne(this.align(p.x),this.align(p.y),this.align(p.x,p.width),this.align(p.y,p.height)):void 0),h)if(d<m){let v=l+m/2;i.moveTo(v,c),i.lineTo(v,c+u),h=m,this.borderClipPath=void 0}else if(u<m){let v=c+m/2;i.moveTo(l,v),i.lineTo(l+d,v),h=m,this.borderClipPath=void 0}else if(h<d&&h<u){let v=h/2;l+=v,c+=v,d-=h,u-=h;let y=p?.clone().shrink(v),C={topLeft:s>0?s-h:0,topRight:o>0?o-h:0,bottomRight:r>0?r-h:0,bottomLeft:a>0?a-h:0};this.borderClipPath=void 0,d>0&&u>0&&(y==null||y?.width>0&&y?.height>0)&&(Sv(t,l,c,d,u,C,y),Sv(i,l,c,d,u,C,y))}else this.borderClipPath=this.borderClipPath??new yp,this.borderClipPath.clear(!0),this.borderClipPath.rect(l,c,d,u),i.rect(l,c,d,u);else{let v={topLeft:s,topRight:o,bottomRight:r,bottomLeft:a};this.borderClipPath=void 0,Sv(t,l,c,d,u,v,p)}if([s,o,r,a].every(v=>v===0)){let v=this.getBBox();this.hittester=v.containsPoint.bind(v),this.distanceSquared=(y,C)=>this.getBBox().distanceSquared(y,C)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=h,this.lastUpdatePathStrokeWidth=h,this.microPixelEffectOpacity=f}computeBBox(){let{x:t,y:i,width:n,height:s,clipBBox:o}=this;return o?.clone()??new ne(t,i,n,s)}isPointInPath(t,i){return this.hittester(t,i)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(t,i){return this.distanceCalculator(t,i)}applyFillAlpha(t){let{fillOpacity:i,microPixelEffectOpacity:n,opacity:s}=this;t.globalAlpha*=s*i*n}renderStroke(t){let{stroke:i,effectiveStrokeWidth:n}=this;if(i&&n){let{globalAlpha:s}=t,{strokeOpacity:o,lineDash:r,lineDashOffset:a,lineCap:l,lineJoin:c,borderPath:d,borderClipPath:u,opacity:h,microPixelEffectOpacity:p}=this;u&&t.clip(u.getPath2D()),this.applyStroke(t),t.globalAlpha*=h*o*p,t.lineWidth=n,r&&t.setLineDash(r),a&&(t.lineDashOffset=a),l&&(t.lineCap=l),c&&(t.lineJoin=c),t.stroke(d.getPath2D()),t.globalAlpha=s}}};return e.className="Rect",e})();b([Ae()],xn.prototype,"x",2);b([Ae()],xn.prototype,"y",2);b([Ae()],xn.prototype,"width",2);b([Ae()],xn.prototype,"height",2);b([Ae()],xn.prototype,"topLeftCornerRadius",2);b([Ae()],xn.prototype,"topRightCornerRadius",2);b([Ae()],xn.prototype,"bottomRightCornerRadius",2);b([Ae()],xn.prototype,"bottomLeftCornerRadius",2);b([Ae()],xn.prototype,"clipBBox",2);b([Ae()],xn.prototype,"crisp",2);var Gd=class extends xy{constructor(e){super(),this.ctx=e,this.rectNode=new xn,this.textNode=new wi,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.destroyFns.push(e.scene.attachNode(this.node),e.layoutManager.addListener("layout:complete",t=>this.onLayoutComplete(t)))}createNode(){return new _e({name:"background",zIndex:0})}onLayoutComplete(e){let{width:t,height:i}=e.chart;this.rectNode.width=t,this.rectNode.height=i}};b([x(me),Li("node","visible")],Gd.prototype,"visible",2);b([x(rt,{optional:!0}),Li("rectNode","fill")],Gd.prototype,"fill",2);b([x(ee,{optional:!0})],Gd.prototype,"image",2);b([x(B,{optional:!0}),Li("textNode")],Gd.prototype,"text",2);var XP={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new Gd(e)};function Pne({orientation:e,bboxes:t,maxHeight:i,maxWidth:n,itemPaddingY:s=0,itemPaddingX:o=0,forceResult:r=!1}){let a=e==="horizontal",l={max:a?n:i,fn:a?h=>h.width:h=>h.height,padding:a?o:s},c={max:a?i:n,fn:a?h=>h.height:h=>h.width,padding:a?s:o},d=0,u=[];for(;d<t.length;){let h=t.slice(d),p=One(h,d,l,c,r);if(!p)return;d+=p.processedBBoxCount,u.push(p.pageIndices)}return Bne(u,e,t,s,o)}function One(e,t,i,n,s){let r=Vne(e,i);if(r<1){if(!s)return;r=1}let a=r;for(;a>=1;){let l=Nne(e,t,a,i,n,s);if(l==null&&a<=1)return;if(l==null){a--;continue}if(typeof l=="number"){if(l<=1)return;a=l<a&&l>1?l:a,a--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function Nne(e,t,i,n,s,o){let r=[],a=0,l=0,c=[],d=[];for(let u=0;u<e.length;u++){let h=(u+i)%i;h===0&&(a+=l,l=0,c.length>0&&r.push(c),c=[]);let p=n.fn(e[u])+n.padding;d[h]=Math.max(d[h]??0,p),l=Math.max(l,s.fn(e[u])+s.padding);let g=a+l,m=!o||r.length>0;if(g>s.max&&m){c=[];break}if(d.reduce((v,y)=>v+y,0)>n.max&&!o)return d.length<i?d.length:void 0;c.push(u+t)}return c.length>0&&r.push(c),r.length>0?r:void 0}function Bne(e,t,i,n,s){let o=0,r=0;return{pages:e.map(l=>{t==="horizontal"&&(l=zne(l));let c=0,d=l.map(p=>{let g=p.map(v=>(c=Math.max(v,c),i[v])),m=0,f=0;return g.forEach(v=>{m+=v.height+n,f=Math.max(f,v.width+s)}),{indices:p,bboxes:g,columnHeight:Math.ceil(m),columnWidth:Math.ceil(f)}}),u=0,h=0;return d.forEach(p=>{u+=p.columnWidth,h=Math.max(h,p.columnHeight)}),o=Math.max(u,o),r=Math.max(h,r),{columns:d,startIndex:l[0][0],endIndex:c,pageWidth:u,pageHeight:h}}),maxPageWidth:o,maxPageHeight:r}}function zne(e){let t=[];for(let i of e[0])t.push([]);return e.forEach((i,n)=>{i.forEach((s,o)=>{t[o][n]=s})}),t}function Vne(e,t){let i=e.length,n=0;for(let s=0;s<i;s++)if(n+=t.fn(e[s])+t.padding,n>t.max)return i/s<2?Math.ceil(i/2):s;return i}var Hd=class extends ke{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};b([x(rt)],Hd.prototype,"color",2);b([x(wr,{optional:!0})],Hd.prototype,"fontStyle",2);b([x(xr,{optional:!0})],Hd.prototype,"fontWeight",2);b([x($)],Hd.prototype,"fontSize",2);b([x(B)],Hd.prototype,"fontFamily",2);var pr=class extends ke{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};b([x($)],pr.prototype,"size",2);b([x(rt,{optional:!0})],pr.prototype,"fill",2);b([x(dt,{optional:!0})],pr.prototype,"fillOpacity",2);b([x(rt,{optional:!0})],pr.prototype,"stroke",2);b([x($)],pr.prototype,"strokeWidth",2);b([x(dt)],pr.prototype,"strokeOpacity",2);var Oy=class extends ke{constructor(e){super(),this.parent=e,this.shape="triangle",this.size=15,this.padding=8}};b([Pn({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],Oy.prototype,"shape",2);b([x($)],Oy.prototype,"size",2);b([x($)],Oy.prototype,"padding",2);var jd=(()=>{let e=class extends ke{constructor(t,i){super(),this.chartUpdateCallback=t,this.pageUpdateCallback=i,this.id=ks(this),this.marker=new Oy(this),this.activeStyle=new pr,this.inactiveStyle=new pr,this.highlightStyle=new pr,this.label=new Hd,this.group=new Cn({name:"pagination"}),this.labelNode=new wi,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this.nextButton=new xi,this.previousButton=new xi,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(t){this._enabled=t,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(t){switch(this._orientation=t,t){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){let{size:t,padding:i}=this.marker;this.nextButton.size=t,this.previousButton.size=t,this.labelNode.x=t/2+i}updateNextButtonPosition(){let t=this.labelNode.getBBox();this.nextButton.translationX=t.width+(this.marker.size/2+this.marker.padding)*2}updateLabel(){let{currentPage:t,totalPages:i,labelNode:n,label:{color:s,fontStyle:o,fontWeight:r,fontSize:a,fontFamily:l}}=this;n.text=`${t+1} / ${i}`,n.fill=s,n.fontStyle=o,n.fontWeight=r,n.fontSize=a,n.fontFamily=l}updateMarkers(){let{nextButton:t,previousButton:i,nextButtonDisabled:n,previousButtonDisabled:s,activeStyle:o,inactiveStyle:r,highlightStyle:a,highlightActive:l}=this,c=(d,u)=>u?r:d===l?a:o;this.updateMarker(t,c("next",n)),this.updateMarker(i,c("previous",s))}updateMarker(t,i){let{shape:n,size:s}=this.marker;t.shape=n,t.size=s,t.fill=i.fill,t.fillOpacity=i.fillOpacity??1,t.stroke=i.stroke,t.strokeWidth=i.strokeWidth,t.strokeOpacity=i.strokeOpacity}enableOrDisableButtons(){let{currentPage:t,totalPages:i}=this,n=i===0,s=t===i-1,o=t===0;this.nextButtonDisabled=s||n,this.previousButtonDisabled=o||n}setPage(t){t=Le(0,t,Math.max(0,this.totalPages-1)),this.currentPage!==t&&(this.currentPage=t,this.onPaginationChanged())}getCursor(t){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[t]?void 0:"pointer"}onClick(t,i){t.preventDefault(),i==="next"&&!this.nextButtonDisabled?(this.incrementPage(),this.onPaginationChanged()):i==="previous"&&!this.previousButtonDisabled&&(this.decrementPage(),this.onPaginationChanged())}onMouseHover(t){this.highlightActive=t,this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(t){t.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){let t=Kt.toCanvas(this.previousButton),i=Kt.toCanvas(this.nextButton);return{prev:t,next:i}}};return e.className="Pagination",e})();b([x(ee)],jd.prototype,"marker",2);b([x(ee)],jd.prototype,"activeStyle",2);b([x(ee)],jd.prototype,"inactiveStyle",2);b([x(ee)],jd.prototype,"highlightStyle",2);b([x(ee)],jd.prototype,"label",2);var VM=class extends ke{constructor(){super(...arguments),this._dirty=!0}markDirty(){this._dirty=!0}markClean(e){this._dirty=!1}isDirty(){return this._dirty}},Gne=new Set(["circle","cross","diamond","heart","pin","plus","square","star","triangle"]);function Hne(e){return typeof e=="string"&&Gne.has(e)}var GM=pt(e=>Hne(e)||typeof e=="function","a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),tn=class extends VM{constructor(){super(...arguments),this.enabled=!0,this.shape="circle",this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(){let{size:e,shape:t,fill:i,fillOpacity:n,stroke:s,strokeWidth:o,strokeOpacity:r,lineDash:a,lineDashOffset:l}=this;return{size:e,shape:t,fill:i,fillOpacity:n,stroke:s,strokeWidth:o,strokeOpacity:r,lineDash:a,lineDashOffset:l}}getDiameter(){return this.size+this.strokeWidth}};b([x(me),te()],tn.prototype,"enabled",2);b([x(GM),te()],tn.prototype,"shape",2);b([x($),te()],tn.prototype,"size",2);b([x(rt,{optional:!0}),te()],tn.prototype,"fill",2);b([x(dt),te()],tn.prototype,"fillOpacity",2);b([x(rt,{optional:!0}),te()],tn.prototype,"stroke",2);b([x($),te()],tn.prototype,"strokeWidth",2);b([x(dt),te()],tn.prototype,"strokeOpacity",2);b([x(To)],tn.prototype,"lineDash",2);b([x($)],tn.prototype,"lineDashOffset",2);b([x(wn,{optional:!0}),te()],tn.prototype,"itemStyler",2);function Cp(e,t,i){e.fill=i?.fill??t.fill,e.fillOpacity=i?.fillOpacity??t.fillOpacity??1,e.stroke=i?.stroke??t.stroke,e.strokeOpacity=i?.strokeOpacity??t.strokeOpacity??1,e.strokeWidth=i?.strokeWidth??t.strokeWidth??0,e.lineDash=i?.lineDash??t.lineDash,e.lineDashOffset=i?.lineDashOffset??t.lineDashOffset??0}var jne=class{constructor(e,t){this.idPrefix=t,this.dirty=!0,this.destroyFns=new B2,this.itemList=e.proxyInteractionService.createProxyContainer({type:"list",domManagerId:`${t}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"}}),this.paginationGroup=e.proxyInteractionService.createProxyContainer({type:"group",domManagerId:`${t}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal"}),this.itemDescription=Ue("p"),this.itemDescription.style.display="none",this.itemDescription.id=`${t}-ariaDescription`,this.itemDescription.textContent=this.getItemAriaDescription(e.localeManager),this.itemList.getElement().append(this.itemDescription)}destroy(){this.destroyFns.destroy()}initLegendList(e){if(!this.dirty)return;let{ctx:t,itemSelection:i,datumReader:n,itemListener:s}=e,o=t.localeManager,r=i.length;i.each((a,l,c)=>{a.proxyButton?.destroy(),a.proxyButton=t.proxyInteractionService.createProxyElement({type:"listswitch",textContent:this.getItemAriaText(o,n.getItemLabel(l),c,r),ariaChecked:!!a.datum.enabled,ariaDescribedBy:this.itemDescription.id,parent:this.itemList});let d=a.proxyButton;d.addListener("click",u=>s.onClick(u.sourceEvent,a.datum,d)),d.addListener("dblclick",u=>s.onDoubleClick(u.sourceEvent,a.datum)),d.addListener("mouseenter",u=>s.onHover(u.sourceEvent,a)),d.addListener("mouseleave",()=>s.onLeave()),d.addListener("contextmenu",u=>s.onContextClick(u.sourceEvent,a)),d.addListener("blur",()=>s.onLeave()),d.addListener("focus",u=>s.onHover(u.sourceEvent,a)),d.addListener("drag-start",()=>{})}),this.dirty=!1}update(e){e.visible&&(this.initLegendList(e),this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!0)),this.updateVisibility(e.visible)}updateVisibility(e){this.itemList.setHidden(!e),this.paginationGroup.setHidden(!e)}updateItemProxyButtons({itemSelection:e,group:t,pagination:i,interactive:n}){let s=Kt.toCanvas(t);this.itemList.setBounds(s);let o=Math.max(...e.nodes().map(r=>r.getBBox().height));e.each((r,a)=>{if(r.proxyButton){let l=r.pageIndex===i.currentPage,{x:c,y:d,height:u,width:h}=Kt.toCanvas(r),p=(o-u)/2,g={x:c-s.x,y:d-p-s.y,height:o,width:h};r.proxyButton.setCursor("pointer"),r.proxyButton.setEnabled(n&&l),r.proxyButton.setBounds(g)}})}updatePaginationProxyButtons(e,t){let{pagination:i}=e;if(this.paginationGroup.setHidden(!i.visible),t&&"ctx"in e){let{ctx:o,oldPages:r,newPages:a}=e,l=(r?.length??a.length)>1,c=a.length>1;l!==c&&(c?(this.prevButton=o.proxyInteractionService.createProxyElement({type:"button",id:`${this.idPrefix}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.paginationGroup}),this.prevButton.addListener("click",d=>this.onPageButton(e,d,"previous")),this.prevButton.addListener("mouseenter",()=>i.onMouseHover("previous")),this.prevButton.addListener("mouseleave",()=>i.onMouseHover(void 0)),this.nextButton??(this.nextButton=o.proxyInteractionService.createProxyElement({type:"button",id:`${this.idPrefix}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.paginationGroup})),this.nextButton.addListener("click",d=>this.onPageButton(e,d,"next")),this.nextButton.addListener("mouseenter",()=>i.onMouseHover("next")),this.nextButton.addListener("mouseleave",()=>i.onMouseHover(void 0))):(this.nextButton?.destroy(),this.prevButton?.destroy(),this.nextButton=void 0,this.prevButton=void 0))}let{prev:n,next:s}=i.computeCSSBounds();this.prevButton?.setBounds(n),this.nextButton?.setBounds(s),this.prevButton?.setEnabled(i.currentPage!==0),this.nextButton?.setEnabled(i.currentPage!==i.totalPages-1),this.nextButton?.setCursor(i.getCursor("next")),this.prevButton?.setCursor(i.getCursor("previous"))}onPageButton(e,t,i){e.pagination.onClick(t.sourceEvent,i),this.updatePaginationProxyButtons(e,!1)}onDataUpdate(e,t){this.dirty=e.length!==t.length||e.some((i,n,s)=>{let[o,r]=[t[n],e[n]];return o.id!==r.id})}onLocaleChanged(e,t,i){let n=t.length;t.each(({proxyButton:s},o,r)=>{let a=s?.getElement();if(a!=null){let l=i.getItemLabel(o);a.textContent=this.getItemAriaText(e,l,r,n)}}),this.itemDescription.textContent=this.getItemAriaDescription(e)}onPageChange(e){this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!1)}getItemAriaText(e,t,i,n){return i>=0&&t?(i++,e.t("ariaLabelLegendItem",{label:t,index:i,count:n})):e.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(e){return e.t("ariaDescriptionLegendItem")}};function RL(e,t,i,n){let s={defaultPrevented:!1,apiEvent:{type:e,itemId:t,seriesId:i,event:n,preventDefault:()=>s.defaultPrevented=!0}};return s}var no=(()=>{let e=class extends Vl(_e){constructor(){super({name:"markerLabelGroup"}),this.symbolsGroup=this.appendChild(new _e({name:"legend-markerLabel-symbols"})),this.label=this.appendChild(new wi),this.enabled=!0,this.pageIndex=NaN,this.spacing=0,this.length=0,this.isCustomMarker=!1,this.marker=this.symbolsGroup.appendChild(new xi({zIndex:1})),this.line=this.symbolsGroup.appendChild(new es({zIndex:0}));let{label:t,line:i,symbolsGroup:n}=this;i.visible=!1,n.renderToOffscreenCanvas=!0,n.optimizeForInfrequentRedraws=!0,t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=1}destroy(){super.destroy(),this.proxyButton?.destroy()}setEnabled(t){this.enabled=t,this.refreshVisibilities()}refreshVisibilities(){let t=this.enabled?1:.5;this.label.opacity=t,this.opacity=t}layout(){let{marker:t,line:i,length:n,isCustomMarker:s}=this,o=0,r=0;if(t.visible){let{size:a}=t,l=xi.anchor(t.shape);o=(l.x-.5)*a+n/2,r=(l.y-.5)*a,s?(t.x=0,t.y=0,t.translationX=o,t.translationY=r):(t.x=o,t.y=r,t.translationX=0,t.translationY=0)}i.visible&&(i.x1=0,i.x2=n,i.y1=0,i.y2=0)}preRender(t){let i=super.preRender(t);return this.layout(),i}layoutLabel(){let{length:t,spacing:i}=this;this.label.x=t+i}computeBBox(){return this.layout(),super.computeBBox()}};return e.className="MarkerLabel",e})();b([Li("label")],no.prototype,"text",2);b([Li("label")],no.prototype,"fontStyle",2);b([Li("label")],no.prototype,"fontWeight",2);b([Li("label")],no.prototype,"fontSize",2);b([Li("label")],no.prototype,"fontFamily",2);b([Li("label","fill")],no.prototype,"color",2);b([xa(e=>e.layoutLabel())],no.prototype,"spacing",2);b([xa(e=>e.layoutLabel())],no.prototype,"length",2);b([te()],no.prototype,"isCustomMarker",2);var Ea=class extends ke{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};b([x($,{optional:!0})],Ea.prototype,"maxLength",2);b([x(rt)],Ea.prototype,"color",2);b([x(wr,{optional:!0})],Ea.prototype,"fontStyle",2);b([x(xr,{optional:!0})],Ea.prototype,"fontWeight",2);b([x($)],Ea.prototype,"fontSize",2);b([x(B)],Ea.prototype,"fontFamily",2);b([x(wn,{optional:!0})],Ea.prototype,"formatter",2);var Wd=class extends ke{constructor(){super(...arguments),this.shape=void 0,this.size=15,this.padding=8}};b([x(GM,{optional:!0})],Wd.prototype,"shape",2);b([x($)],Wd.prototype,"size",2);b([x($)],Wd.prototype,"padding",2);b([x($,{optional:!0})],Wd.prototype,"strokeWidth",2);b([x(me)],Wd.prototype,"enabled",2);var HM=class extends ke{};b([x($,{optional:!0})],HM.prototype,"strokeWidth",2);b([x($,{optional:!0})],HM.prototype,"length",2);var Ia=class extends ke{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new Wd,this.label=new Ea,this.line=new HM}};b([x($,{optional:!0})],Ia.prototype,"maxWidth",2);b([x($)],Ia.prototype,"paddingX",2);b([x($)],Ia.prototype,"paddingY",2);b([x(me)],Ia.prototype,"showSeriesStroke",2);b([x(ee)],Ia.prototype,"marker",2);b([x(ee)],Ia.prototype,"label",2);b([x(ee)],Ia.prototype,"line",2);var jM=class extends ke{};b([x(wn,{optional:!0})],jM.prototype,"legendItemClick",2);b([x(wn,{optional:!0})],jM.prototype,"legendItemDoubleClick",2);var Kh="legend-visibility",Gx="legend-other-series",is=(()=>{let e=class extends ke{constructor(t){super(),this.ctx=t,this.id=ks(this),this.group=new Cn({name:"legend",zIndex:14}),this.itemSelection=ai.select(this.group,no),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new Ia,this.listeners=new jM,this.enabled=!0,this.position="bottom",this.spacing=20,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.pagination=new jd(i=>t.updateService.update(i),i=>this.updatePageNumber(i)),this.pagination.attachPagination(this.group),this.destroyFns.push(t.contextMenuRegistry.registerDefaultAction({id:Kh,type:"legend",label:"contextMenuToggleSeriesVisibility",action:i=>this.contextToggleVisibility(i)}),t.contextMenuRegistry.registerDefaultAction({id:Gx,type:"legend",label:"contextMenuToggleOtherSeries",action:i=>this.contextToggleOtherSeries(i)}),t.legendManager.addListener("legend-change",this.onLegendDataChange.bind(this))),this.destroyFns.push(t.layoutManager.registerElement(1,i=>this.positionLegend(i)),t.localeManager.addListener("locale-changed",()=>this.onLocaleChanged()),()=>this.group.remove()),this.domProxy=new jne(this.ctx,this.id),this.ctx.historyManager.addMementoOriginator(t.legendManager)}set data(t){Ol(t,this._data)||(this.domProxy.onDataUpdate(this._data,t),this._data=t,this.updateGroupVisibility())}get data(){return this._data}onLegendDataChange({legendData:t=[]}){this.enabled&&(this.data=t.filter(i=>!i.hideInLegend))}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach(t=>t()),this.itemSelection.clear(),this.domProxy.destroy()}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(t){t.appendChild(this.group)}getItemLabel(t){let{ctx:{callbackCache:i}}=this,{formatter:n}=this.item.label;if(n){let s=t.datum;return i.call(n,w({itemId:t.itemId,value:t.label.text,seriesId:t.seriesId},s&&{datum:s}))}return t.label.text}calcLayout(t,i){let{paddingX:n,paddingY:s,label:o,maxWidth:r,label:{maxLength:a=1/0,fontStyle:l,fontWeight:c,fontSize:d,fontFamily:u}}=this.item,h=[...this.data];this.reverseOrder&&h.reverse(),this.itemSelection.update(h);let p=[],g=ri.toFontString(o),f=r??t*.8,v=this.calculateMarkerWidth();if(this.itemSelection.each((T,F)=>{T.fontStyle=l,T.fontWeight=c,T.fontSize=d,T.fontFamily=u;let N=this.updateMarkerLabel(T,F,v),q=F.itemId??F.id,fe=(this.getItemLabel(F)??"<unknown>").replace(/\r?\n/g," ");T.text=this.truncate(fe,a,f,N,g,q),p.push(T.getBBox())}),t=Math.max(1,t),i=Math.max(1,i),!isFinite(t))return{};let y=this.size,C=this.oldSize;y[0]=t,y[1]=i,(y[0]!==C[0]||y[1]!==C[1])&&(C[0]=y[0],C[1]=y[1]);let{pages:S,maxPageHeight:M,maxPageWidth:D}=this.updatePagination(p,t,i),E=this.pages;this.pages=S,this.maxPageSize=[D-n,M-s];let R=this.pagination.currentPage,I=this.pages[R];return this.pages.length<1||!I?(this.visible=!1,{oldPages:E}):(this.visible=!0,this.updatePositions(R),this.update(),{oldPages:E})}isCustomMarker(t,i){return t&&i!==void 0&&typeof i!="string"}calcSymbolsEnabled(t){let{showSeriesStroke:i,marker:n}=this.item,s=!!n.enabled||!i||(t.marker.enabled??!0),o=!!(t.line&&i),r=this.isCustomMarker(s,t.marker.shape);return{markerEnabled:s,lineEnabled:o,isCustomMarker:r}}calcSymbolsLengths(t){let{marker:i,line:n}=this.item,{markerEnabled:s,lineEnabled:o}=this.calcSymbolsEnabled(t),{strokeWidth:r}=this.getMarkerStyles(t),{strokeWidth:a}=o?this.getLineStyles(t):{strokeWidth:0},l,{shape:c}=t.marker;if(this.isCustomMarker(s,c)){let h=new xi;h.shape=c,h.updatePath();let p=h.getBBox();l=Math.max(p.width,p.height)}let d=s?i.size:0,u=o?n.length??25:0;return{markerLength:d,markerStrokeWidth:r,lineLength:u,lineStrokeWidth:a,customMarkerSize:l}}calculateMarkerWidth(){let t=0;return this.itemSelection.each((i,n)=>{let{symbol:s}=n,{markerLength:o,lineLength:r,customMarkerSize:a=-1/0}=this.calcSymbolsLengths(s);t=Math.max(t,r,a,o)}),t}updateMarkerLabel(t,i,n){let{marker:s,paddingX:o}=this.item,{symbol:r}=i,a=o,{markerEnabled:l,lineEnabled:c,isCustomMarker:d}=this.calcSymbolsEnabled(r),u=s.padding;(l||c)&&(a+=u+n);let{marker:h,line:p}=t;return h.visible=l,h.visible&&(h.shape=s.shape??r.marker.shape??"square",h.size=s.size,Cp(h,this.getMarkerStyles(r))),p.visible=c,p.visible&&Cp(p,this.getLineStyles(r)),t.length=n,t.spacing=u,t.isCustomMarker=d,a}truncate(t,i,n,s,o,r){let a=!1;t.length>i&&(t=t.substring(0,i),a=!0);let l=Sr.getMeasurer({font:o}),c=tM.truncateLine(t,l,n-s,a);return c.endsWith(ri.EllipsisChar)?this.truncatedItems.add(r):this.truncatedItems.delete(r),c}updatePagination(t,i,n){let s=this.getOrientation(),o=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=s,this.pagination.translationX=0,this.pagination.translationY=0;let{pages:r,maxPageHeight:a,maxPageWidth:l,paginationBBox:c,paginationVertical:d}=this.calculatePagination(t,i,n),u=r.findIndex(S=>S.endIndex>=o);this.pagination.currentPage=Le(0,u,r.length-1);let{paddingX:h,paddingY:p}=this.item,g=8,m=l-h,f=a-p,v=0,y=-c.y-this.item.marker.size/2;d?y+=f+g:(v+=-c.x+m+g,y+=(f-c.height)/2),this.pagination.translationX=v,this.pagination.translationY=y,this.pagination.update(),this.pagination.updateMarkers();let C=0;return this.itemSelection.each((S,M,D)=>{D>(r[C]?.endIndex??1/0)&&C++,S.pageIndex=C}),{maxPageHeight:a,maxPageWidth:l,pages:r}}calculatePagination(t,i,n){let{paddingX:s,paddingY:o}=this.item,r=this.getOrientation(),a=["left","right"].includes(this.position),l=this.pagination.getBBox(),c=new ne(0,0,0,0),d=[],u=0,h=0,p=0,g=f=>f.width===l.width&&f.height===l.height,m=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(p++>10){V.warn("unable to find stable legend layout.");break}l=c;let f=i-(a?0:l.width),v=n-(a?l.height:0),y=Pne({orientation:r,bboxes:t,maxHeight:v,maxWidth:f,itemPaddingY:o,itemPaddingX:s,forceResult:m});d=y?.pages??[],u=y?.maxPageWidth??0,h=y?.maxPageHeight??0;let C=d.length;if(this.pagination.visible=C>1,this.pagination.totalPages=C,this.pagination.update(),this.pagination.updateMarkers(),c=this.pagination.getBBox(),!this.pagination.visible)break}while(!g(c));return{maxPageWidth:u,maxPageHeight:h,pages:d,paginationBBox:c,paginationVertical:a}}updatePositions(t=0){let{item:{paddingY:i},itemSelection:n,pages:s}=this;if(s.length<1||!s[t])return;let{columns:o,startIndex:r,endIndex:a}=s[t],l=0,c=0,d=o.length,u=o[0].indices.length,h=this.getOrientation()==="horizontal",p=o[0].bboxes[0].height+i,g=[];n.each((m,f,v)=>{if(v<r||v>a){m.visible=!1;return}let y=v-r,C,S;h?(C=y%d,S=Math.floor(y/d)):(C=Math.floor(y/u),S=y%u),m.visible=!0;let M=o[C];M&&(c=Math.floor(p*S),l=Math.floor(g[S]??0),g[S]=(g[S]??0)+M.columnWidth,m.translationX=l,m.translationY=c)})}updatePageNumber(t){let{itemSelection:i,group:n,pagination:s,pages:o,toggleSeries:r}=this,{startIndex:a,endIndex:l}=o[t];a===0?this.paginationTrackingIndex=0:t===o.length-1?this.paginationTrackingIndex=l:this.paginationTrackingIndex=Math.floor((a+l)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.domProxy.onPageChange({itemSelection:i,group:n,pagination:s,interactive:r}),this.ctx.updateService.update(6)}update(){let{label:{color:t}}=this.item;this.itemSelection.each((i,n)=>{i.setEnabled(n.enabled),i.color=t}),this.updateContextMenu()}updateContextMenu(){let{toggleSeries:t,ctx:{contextMenuRegistry:i}}=this;t?(i.hideAction(Kh),i.hideAction(Gx)):(i.showAction(Kh),i.showAction(Gx))}getLineStyles(t){let{stroke:i,strokeOpacity:n=1,strokeWidth:s,lineDash:o}=t.line??{},r=Math.min(2,s??1);return{stroke:i,strokeOpacity:n,strokeWidth:this.item.line.strokeWidth??r,lineDash:o}}getMarkerStyles(t){let{fill:i,stroke:n,strokeOpacity:s=1,fillOpacity:o=1,strokeWidth:r,lineDash:a,lineDashOffset:l}=t.marker,c=Math.min(2,r??1);return{fill:i,stroke:n,strokeOpacity:s,fillOpacity:o,strokeWidth:this.item.marker.strokeWidth??c,lineDash:a,lineDashOffset:l}}computePagedBBox(){let t=_e.computeChildrenBBox(this.group.children());if(this.pages.length>1){let[i,n]=this.maxPageSize;t.height=Math.max(n,t.height),t.width=Math.max(i,t.width)}return t}findNode(t){let{datum:i,proxyButton:n}=this.itemSelection.select(s=>s.datum?.itemId===t.itemId)[0]??{};if(i===void 0||n===void 0)throw new Error(`AG Charts - Missing required properties { datum: ${i}, proxyButton: ${JSON.stringify(n)} }`);return{datum:i,proxyButton:n}}contextToggleVisibility(t){let{datum:i,proxyButton:n}=this.findNode(t);this.doClick(t.event,i,n)}contextToggleOtherSeries(t){this.doDoubleClick(t.event,this.findNode(t).datum)}onContextClick(t,i){let n=i.datum;this.preventHidingAll&&this.contextMenuDatum?.enabled&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(Kh):this.ctx.contextMenuRegistry.enableAction(Kh);let{offsetX:s,offsetY:o}=t,{x:r,y:a}=Kt.toCanvasPoint(i,s,o);this.ctx.contextMenuRegistry.dispatchContext("legend",{sourceEvent:t,canvasX:r,canvasY:a},{legendItem:n})}onClick(t,i,n){this.doClick(t,i,n)&&t.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(t=>t.getLegendData("category")).filter(t=>t.enabled).length}doClick(t,i,n){let{listeners:{legendItemClick:s},ctx:{chartService:o,highlightManager:r},preventHidingAll:a,toggleSeries:l}=this;if(!i)return!1;let{legendType:c,seriesId:d,itemId:u,enabled:h}=i,p=o.series.find(f=>f.id===d);if(!p)return!1;let g=h,m=RL("click",u,p.id,t);return s?.(m.apiEvent),m.defaultPrevented||(l&&(g=!h,a&&!g&&this.getVisibleItemCount()<2&&(g=!0),n.setChecked(g),this.ctx.chartEventManager.legendItemClick(c,p,u,g,i.legendItemName)),g?r.updateHighlight(this.id,{series:p,itemId:u,datum:void 0,datumIndex:void 0}):r.updateHighlight(this.id),this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0,skipAnimations:i.skipAnimations??!1})),!0}onDoubleClick(t,i){this.doDoubleClick(t,i)&&t.preventDefault()}doDoubleClick(t,i){let{listeners:{legendItemDoubleClick:n},ctx:{chartService:s},toggleSeries:o}=this;if(s.mode==="integrated"||!i)return!1;let{legendType:r,id:a,itemId:l,seriesId:c}=i,d=s.series.find(h=>h.id===a);if(!d)return!1;let u=RL("dblclick",l,d.id,t);if(n?.(u.apiEvent),u.defaultPrevented)return!0;if(o){let h=s.series.flatMap(m=>m.getLegendData("category")),p=h.filter(m=>m.enabled).length,g=h.find(m=>m.itemId===l&&m.seriesId===c);this.ctx.chartEventManager.legendItemDoubleClick(r,d,l,g?.enabled??!1,p,g?.legendItemName)}return this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(t,i){let n;if(t instanceof FocusEvent){let{x:r,y:a}=Kt.toCanvas(i).computeCenter();n={type:"keyboard",canvasX:r,canvasY:a}}else{t.preventDefault();let{x:r,y:a}=Kt.toCanvasPoint(i,t.offsetX,t.offsetY);n={type:"pointermove",canvasX:r,canvasY:a}}let{canvasX:s,canvasY:o}=n;return{canvasX:s,canvasY:o,lastPointerEvent:n,showArrow:!1}}onHover(t,i){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(i.pageIndex);let n=i.datum,s=n?this.ctx.chartService.series.find(o=>o.id===n?.id):void 0;if(n&&this.truncatedItems.has(n.itemId??n.id)){let o=this.toTooltipMeta(t,i);this.ctx.tooltipManager.updateTooltip(this.id,o,{type:"structured",title:this.getItemLabel(n)})}else this.ctx.tooltipManager.removeTooltip(this.id);n?.enabled&&s?this.updateHighlight({series:s,itemId:n?.itemId,datum:void 0,datumIndex:void 0}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(t){this.ctx.interactionManager.isState(32)?this.ctx.highlightManager.updateHighlight(this.id,t):this.ctx.interactionManager.isState(2)&&(this.pendingHighlightDatum=t,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.domProxy.onLocaleChanged(this.ctx.localeManager,this.itemSelection,this)}positionLegend(t){let i=this.positionLegendScene(t);this.positionLegendDOM(i)}positionLegendScene(t){if(!this.enabled||!this.data.length)return;let{layoutBox:i}=t,{x:n,y:s,width:o,height:r}=i,[a,l]=this.calculateLegendDimensions(i),{oldPages:c}=this.calcLayout(a,l),d=this.computePagedBBox(),u=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return r-d.height;case"right":default:return o-d.width}};if(this.visible){let h=this.spacing,p,g;switch(this.position){case"top":case"bottom":p=(o-d.width)/2,g=u(),i.shrink(d.height+h,this.position);break;case"left":case"right":default:p=u(),g=(r-d.height)/2,i.shrink(d.width+h,this.position)}this.group.translationX=Math.floor(n+p-d.x),this.group.translationY=Math.floor(s+g-d.y)}return c}positionLegendDOM(t){let{ctx:i,itemSelection:n,pagination:s,pages:o,toggleSeries:r,group:a,listeners:{legendItemClick:l,legendItemDoubleClick:c}}=this,d=this.visible&&this.enabled,u=r||c!=null||l!=null;this.domProxy.update({visible:d,interactive:u,ctx:i,itemSelection:n,group:a,pagination:s,oldPages:t,newPages:o,datumReader:this,itemListener:this})}calculateLegendDimensions(t){let{width:i,height:n}=t,s=i/n,o=.5,r=.2,a=.25,l,c;switch(this.position){case"top":case"bottom":{let d=s<1?Math.min(o,r*(1/s)):r;l=this.maxWidth?Math.min(this.maxWidth,i):i,c=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*d);break}case"left":case"right":default:{let d=s>1?Math.min(o,a*s):a;l=this.maxWidth?Math.min(this.maxWidth,i):Math.round(i*d),c=this.maxHeight?Math.min(this.maxHeight,n):n}}return[l,c]}};return e.className="Legend",e})();b([x(me)],is.prototype,"toggleSeries",2);b([x(ee)],is.prototype,"pagination",2);b([x(ee)],is.prototype,"item",2);b([x(ee)],is.prototype,"listeners",2);b([xa((e,t,i)=>{if(e.updateGroupVisibility(),t===i)return;let{ctx:{legendManager:n,stateManager:s}}=e;i===!1&&t===!0&&s.restoreState(n)}),x(me)],is.prototype,"enabled",2);b([x(YS)],is.prototype,"position",2);b([x($,{optional:!0})],is.prototype,"maxWidth",2);b([x($,{optional:!0})],is.prototype,"maxHeight",2);b([x(me,{optional:!0})],is.prototype,"reverseOrder",2);b([x(xt(["horizontal","vertical"],"an orientation"),{optional:!0})],is.prototype,"orientation",2);b([x(me,{optional:!0})],is.prototype,"preventHidingAll",2);b([x($)],is.prototype,"spacing",2);var Wne={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new is(e),packageType:"community",removable:"standalone-only"},QP={};As(QP,{CARTESIAN_AXIS_TYPE:()=>tO,CARTESIAN_POSITION:()=>eO,FONT_SIZE:()=>JP,FONT_SIZE_RATIO:()=>WM,POLAR_AXIS_SHAPE:()=>nO,POLAR_AXIS_TYPE:()=>iO});var JP=(e=>(e[e.SMALLEST=8]="SMALLEST",e[e.SMALLER=10]="SMALLER",e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=14]="LARGE",e[e.LARGEST=17]="LARGEST",e))(JP||{}),WM=(e=>(e[e.SMALLEST=.6666666666666666]="SMALLEST",e[e.SMALLER=.8333333333333334]="SMALLER",e[e.SMALL=1]="SMALL",e[e.MEDIUM=1.0833333333333333]="MEDIUM",e[e.LARGE=1.1666666666666667]="LARGE",e[e.LARGEST=1.4166666666666667]="LARGEST",e))(WM||{}),eO=(e=>(e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e))(eO||{}),tO=(e=>(e.CATEGORY="category",e.GROUPED_CATEGORY="grouped-category",e.ORDINAL_TIME="ordinal-time",e.NUMBER="number",e.TIME="time",e.LOG="log",e))(tO||{}),iO=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(iO||{}),nO=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(nO||{}),UM={};As(UM,{DEFAULT_ANNOTATION_HANDLE_FILL:()=>Jp,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>ig,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>ng,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>xp,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>Sp,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>eg,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>tg,DEFAULT_BACKGROUND_COLOUR:()=>Ny,DEFAULT_CAPTION_ALIGNMENT:()=>pa,DEFAULT_CAPTION_LAYOUT_STYLE:()=>ha,DEFAULT_COLOR_RANGE:()=>jy,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:()=>Nn,DEFAULT_FIBONACCI_STROKES:()=>wp,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>gi,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>Yt,DEFAULT_FUNNEL_SERIES_COLOR_RANGE:()=>Po,DEFAULT_GAUGE_SERIES_COLOR_RANGE:()=>Ls,DEFAULT_GRIDLINE_ENABLED:()=>So,DEFAULT_HIERARCHY_FILLS:()=>Uy,DEFAULT_HIERARCHY_STROKES:()=>$y,DEFAULT_POLAR_SERIES_STROKE:()=>Hy,DEFAULT_SEPARATION_LINES_COLOUR:()=>Zp,DEFAULT_SHADOW_COLOUR:()=>Ra,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>Wy,DEFAULT_TEXTBOX_COLOR:()=>rg,DEFAULT_TEXTBOX_FILL:()=>sg,DEFAULT_TEXTBOX_STROKE:()=>og,DEFAULT_TEXT_ANNOTATION_COLOR:()=>Qp,DEFAULT_TOOLBAR_POSITION:()=>ag,IS_COMMUNITY:()=>$M,IS_DARK_THEME:()=>bd,IS_ENTERPRISE:()=>YM,PALETTE_ALT_DOWN_FILL:()=>XM,PALETTE_ALT_DOWN_STROKE:()=>ZM,PALETTE_ALT_NEUTRAL_FILL:()=>QM,PALETTE_ALT_NEUTRAL_STROKE:()=>Gy,PALETTE_ALT_UP_FILL:()=>qM,PALETTE_ALT_UP_STROKE:()=>KM,PALETTE_DOWN_FILL:()=>Xp,PALETTE_DOWN_STROKE:()=>zy,PALETTE_NEUTRAL_FILL:()=>Vy,PALETTE_NEUTRAL_STROKE:()=>Ud,PALETTE_UP_FILL:()=>qp,PALETTE_UP_STROKE:()=>By});var bd=Symbol("is-dark-theme"),$M=Symbol("is-community"),YM=Symbol("is-enterprise"),Zp=Symbol("default-separation-lines-colour"),Ny=Symbol("default-background-colour"),Ra=Symbol("default-shadow-colour"),ha=Symbol("default-caption-layout-style"),pa=Symbol("default-caption-alignment"),By=Symbol("palette-up-stroke"),zy=Symbol("palette-down-stroke"),qp=Symbol("palette-up-fill"),Xp=Symbol("palette-down-fill"),Ud=Symbol("palette-neutral-stroke"),Vy=Symbol("palette-neutral-fill"),KM=Symbol("palette-alt-up-stroke"),ZM=Symbol("palette-alt-down-stroke"),qM=Symbol("palette-alt-up-fill"),XM=Symbol("palette-alt-down-fill"),QM=Symbol("palette-gray-fill"),Gy=Symbol("palette-gray-stroke"),Hy=Symbol("default-polar-series-stroke"),Nn=Symbol("default-diverging-series-colour-range"),jy=Symbol("default-colour-range"),Wy=Symbol("default-sparkline-crosshair-stroke"),Ls=Symbol("default-gauge-series-colour-range"),Po=Symbol("default-funnel-series-colour-range"),Uy=Symbol("default-hierarchy-fills"),$y=Symbol("default-hierarchy-strokes"),Yt=Symbol("default-financial-charts-annotation-stroke"),wp=Symbol("default-hierarchy-strokes"),Qp=Symbol("default-text-annotation-color"),gi=Symbol("default-financial-charts-annotation-background-fill"),Jp=Symbol("default-annotation-handle-fill"),eg=Symbol("default-annotation-statistics-fill"),tg=Symbol("default-annotation-statistics-stroke"),ig=Symbol("default-annotation-statistics-color"),ng=Symbol("default-annotation-statistics-divider-stroke"),xp=Symbol("default-annotation-statistics-fill"),Sp=Symbol("default-annotation-statistics-stroke"),sg=Symbol("default-textbox-fill"),og=Symbol("default-textbox-stroke"),rg=Symbol("default-textbox-color"),ag=Symbol("default-toolbar-position"),So=Symbol("default-gridline-enabled");function sO(e,t){return i=>t(i)?[A(w({},e[0]),{position:e[1].position}),A(w({},e[1]),{position:e[0].position})]:e}function lg({takeColors:e}){let{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}}function JM(e){return{marker:lg(e)}}function Yv(e,t,i,n,s){let{addPhaseFn:o,updatePhaseFn:r,removePhaseFn:a}=s,l=(c,d,u)=>{i.animate({id:`${e}_${t}_${d.id}_${c}`,groupId:e,from:0,to:1,ease:up,collapsable:!1,onUpdate(h,p){p&&c!=="removed"||(d.path.clear(!0),u(h,d),d.checkPathDirty())},onStop(){c==="added"&&(d.path.clear(!0),u(1,d),d.checkPathDirty())},phase:Zs[c]})};for(let c of n)i.isSkipped()||(l("removed",c,a),l("updated",c,r)),l("added",c,o)}function ot({id:e},t,i,...n){br(e,t,i,n,{opacity:0},{opacity:1},{phase:"trailing"})}function ga({id:e},t,i,...n){br(e,t,i,n,{opacity:1},{opacity:0},{phase:"remove"})}function Ar(e){return{opacity:1}}var so=class extends VM{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};b([x(me),te()],so.prototype,"enabled",2);b([x(rt),te()],so.prototype,"color",2);b([x(Qe),te()],so.prototype,"xOffset",2);b([x(Qe),te()],so.prototype,"yOffset",2);b([x($),te()],so.prototype,"blur",2);var oO=class extends ke{constructor(){super(...arguments),this.enabled=!1}};b([x(me)],oO.prototype,"enabled",2);var nn=class extends ke{constructor(){super(...arguments),this.enabled=!0,this.interaction=new oO,this.position=new Nd,this.range=void 0,this.class=void 0}formatTooltip(e,t){let i=this.renderer?.(t);return typeof i=="string"?{type:"raw",rawHtmlString:i}:i!=null?w(w({type:"structured"},e),i):w({type:"structured"},e)}};b([x(me)],nn.prototype,"enabled",2);b([x(me,{optional:!0})],nn.prototype,"showArrow",2);b([x(wn,{optional:!0})],nn.prototype,"renderer",2);b([x(ee)],nn.prototype,"interaction",2);b([x(ee)],nn.prototype,"position",2);b([x(my,{optional:!0})],nn.prototype,"range",2);b([x(B,{optional:!0})],nn.prototype,"class",2);var rO=xt(["linear","smooth","step"],"a line style"),aO=xt(["start","middle","end"]),$d=class extends ke{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};b([x(rO)],$d.prototype,"type",2);b([x(dt)],$d.prototype,"tension",2);b([x(aO)],$d.prototype,"position",2);var ci=class extends Ir{constructor(){super(...arguments),this.xName=void 0,this.defaultColorRange=[],this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new $d,this.shadow=new so,this.marker=new tn,this.label=new Si,this.tooltip=new nn,this.connectMissingData=!1}};b([x(B)],ci.prototype,"xKey",2);b([x(B,{optional:!0})],ci.prototype,"xName",2);b([x(B)],ci.prototype,"yKey",2);b([x(B,{optional:!0})],ci.prototype,"yName",2);b([x(B,{optional:!0})],ci.prototype,"yFilterKey",2);b([x($,{optional:!0})],ci.prototype,"normalizedTo",2);b([x(Qn)],ci.prototype,"defaultColorRange",2);b([x(Ca(TF,rt))],ci.prototype,"fill",2);b([x(dt)],ci.prototype,"fillOpacity",2);b([x(rt)],ci.prototype,"stroke",2);b([x($)],ci.prototype,"strokeWidth",2);b([x(dt)],ci.prototype,"strokeOpacity",2);b([x(To)],ci.prototype,"lineDash",2);b([x($)],ci.prototype,"lineDashOffset",2);b([x(ee)],ci.prototype,"interpolation",2);b([x(ee)],ci.prototype,"shadow",2);b([x(ee)],ci.prototype,"marker",2);b([x(ee)],ci.prototype,"label",2);b([x(ee)],ci.prototype,"tooltip",2);b([x(me)],ci.prototype,"connectMissingData",2);function Ao(e){switch(e.type){case"linear":case"step":return[{x:e.x0,y:e.y0},{x:e.x1,y:e.y1}];case"cubic":return[{x:e.cp0x,y:e.cp0y},{x:e.cp3x,y:e.cp3y}]}}function Une(e){let t=Ao(e);return t[0].x>t[1].x&&t.reverse(),t}function $ne(e,t){let{x:i,y:n}=t;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:i,y0:n,x1:i,y1:n};case"step":return{type:"step",moveTo:e.moveTo,x0:i,y0:n,x1:i,y1:n,stepX:i};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:i,cp0y:n,cp1x:i,cp1y:n,cp2x:i,cp2y:n,cp3x:i,cp3y:n}}}function Mp(e,t,i){let[n,s]=Ao(e),o=s.x!==n.x?(i.x-t.x)/(s.x-n.x):0,r=s.y!==n.y?(i.y-t.y)/(s.y-n.y):0;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:t.x,cp0y:t.y,cp1x:i.x-(e.cp2x-n.x)*o,cp1y:i.y-(e.cp2y-n.y)*r,cp2x:i.x-(e.cp1x-n.x)*o,cp2y:i.y-(e.cp1y-n.y)*r,cp3x:i.x,cp3y:i.y};case"step":return{type:"step",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y,stepX:i.x-(e.stepX-n.x)*o}}}function lO(e,t,i){let{moveTo:n}=e,[s,o]=Une(e),{x:r,y:a}=s,{x:l,y:c}=o;if(i<r)return Mp(e,s,s);if(t>l)return Mp(e,o,o);switch(e.type){case"linear":{let d=a===c?void 0:(c-a)/(l-r),u=d==null?a:d*(t-r)+a,h=d==null?a:d*(i-r)+a;return{type:"linear",moveTo:n,x0:t,y0:u,x1:i,y1:h}}case"step":if(i<=e.stepX){let d=e.y0;return{type:"step",moveTo:n,x0:t,y0:d,x1:i,y1:d,stepX:i}}else if(t>=e.stepX){let d=e.y1;return{type:"step",moveTo:n,x0:t,y0:d,x1:i,y1:d,stepX:t}}else{let{y0:d,y1:u,stepX:h}=e;return{type:"step",moveTo:n,x0:t,y0:d,x1:i,y1:u,stepX:h}}case"cubic":{let d=Hv(e.cp0x,e.cp1x,e.cp2x,e.cp3x,t),[u,h]=jv(e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,d),p=Hv(h[0].x,h[1].x,h[2].x,h[3].x,i);return[h,u]=jv(h[0].x,h[0].y,h[1].x,h[1].y,h[2].x,h[2].y,h[3].x,h[3].y,p),{type:"cubic",moveTo:n,cp0x:h[0].x,cp0y:h[0].y,cp1x:h[1].x,cp1y:h[1].y,cp2x:h[2].x,cp2y:h[2].y,cp3x:h[3].x,cp3y:h[3].y}}}}function Yne(e){let t=[],i=0,n=NaN,s=NaN;for(let{x:o,y:r}of e){if(i>0){let a=i===1;t.push({type:"linear",moveTo:a,x0:n,y0:s,x1:o,y1:r})}i+=1,n=o,s=r}return t}var Kne={start:0,middle:.5,end:1};function Zne(e,t){let i=[],n=0,s=NaN,o=NaN,r=typeof t=="number"?t:Kne[t];for(let{x:a,y:l}of e){if(n>0){let c=n===1,d=s+(a-s)*r;i.push({type:"step",moveTo:c,x0:s,y0:o,x1:a,y1:l,stepX:d})}n+=1,s=a,o=l}return i}var dv=.05;function qne(e,t){let i=Array.isArray(e)?e:Array.from(e);if(i.length<=1)return[];let n=i.map((o,r)=>{let a=r===0?o:i[r-1],l=r===i.length-1?o:i[r+1],c=r===0||r===i.length-1;if(Math.sign(a.y-o.y)===Math.sign(l.y-o.y))return 0;if(!c){let d=Math.abs(a.y-l.y),u=Math.abs(o.y-a.y)/d,h=Math.abs(o.y-l.y)/d;if(u<=dv||1-u<=dv||h<=dv||1-h<=dv)return 0}return(l.y-a.y)/(l.x-a.x)});n[1]===0&&(n[0]*=2),n[n.length-2]===0&&(n[n.length-1]*=2);let s=[];for(let o=1;o<i.length;o+=1){let r=i[o-1],a=n[o-1],l=i[o],c=n[o],d=l.x-r.x,u=l.y-r.y,h=d*t/3,p=d*a*t/3,g=d*t/3,m=d*c*t/3;c===0&&Math.abs(p)>Math.abs(u)&&(h*=Math.abs(u/p),p=Math.sign(p)*Math.abs(u)),a===0&&Math.abs(m)>Math.abs(u)&&(g*=Math.abs(u/m),m=Math.sign(m)*Math.abs(u)),s.push({type:"cubic",moveTo:o===1,cp0x:r.x,cp0y:r.y,cp1x:r.x+h,cp1y:r.y+p,cp2x:l.x-g,cp2y:l.y-m,cp3x:l.x,cp3y:l.y})}return s}function hi(e,t,i){return(t-e)*i+e}function Xne(e,t){let{x0:i,y0:n,x1:s,y1:o}=e,a=(o-n)/(s-i)*(t-i)+n;return{leftCp1x:i,leftCp1y:n,leftCp2x:t,leftCp2y:a,stepX:t,stepY0:a,stepY1:a,rightCp1x:t,rightCp1y:a,rightCp2x:s,rightCp2y:o}}function Qne(e,t){let{cp0x:i,cp0y:n,cp1x:s,cp1y:o,cp2x:r,cp2y:a,cp3x:l,cp3y:c}=e,d=Hv(i,s,r,l,t),[u,h]=jv(i,n,s,o,r,a,l,c,d),p=u[3].y;return{leftCp1x:u[1].x,leftCp1y:u[1].y,leftCp2x:u[2].x,leftCp2y:u[2].y,stepX:t,stepY0:p,stepY1:p,rightCp1x:h[1].x,rightCp1y:h[1].y,rightCp2x:h[2].x,rightCp2y:h[2].y}}function Jne(e){let{x0:t,y0:i,x1:n,y1:s,stepX:o}=e;return{leftCp1x:(t+o)/2,leftCp1y:i,leftCp2x:(t+o)/2,leftCp2y:i,stepX:o,stepY0:i,stepY1:s,rightCp1x:(o+n)/2,rightCp1y:s,rightCp2x:(o+n)/2,rightCp2y:s}}function AL(e,t){return e.type==="linear"?Xne(e,t):e.type==="cubic"?Qne(e,t):Jne(e)}function cO(e,t,i,n,s,o,r){switch(t){case 0:r?e.moveTo(s,o):e.moveTo(i,n);break;case 1:r?e.lineTo(s,o):e.lineTo(i,n);break}}function dO(e,t,i,n,s,o){o?e.lineTo(t,i):e.lineTo(n,s)}function uO(e,t,i,n,s,o,r,a,l,c){c?e.cubicCurveTo(o,r,n,s,t,i):e.cubicCurveTo(n,s,o,r,a,l)}function hO(e,t,i,n,s,o,r){r?(e.lineTo(o,s),e.lineTo(o,i),e.lineTo(t,i)):(e.lineTo(o,i),e.lineTo(o,s),e.lineTo(n,s))}function DS(e,t,i,n){let[s,o]=Ao(t);switch(cO(e,i,s.x,s.y,o.x,o.y,n),t.type){case"linear":dO(e,t.x0,t.y0,t.x1,t.y1,n);break;case"cubic":uO(e,t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,n);break;case"step":hO(e,t.x0,t.y0,t.x1,t.y1,t.stepX,n);break}}function pO(e,t,i){let[n,s]=Ao(e),[o,r]=Ao(t),a=hi(n.x,o.x,i),l=hi(n.y,o.y,i),c=hi(s.x,r.x,i),d=hi(s.y,r.y,i);return[{x:a,y:l},{x:c,y:d}]}function _S(e,t,i,n,s,o){let[{x:r,y:a},{x:l,y:c}]=pO(t,i,n);if(cO(e,s,r,a,l,c,o),t.type==="cubic"&&i.type==="cubic"){let d=hi(t.cp1x,i.cp1x,n),u=hi(t.cp1y,i.cp1y,n),h=hi(t.cp2x,i.cp2x,n),p=hi(t.cp2y,i.cp2y,n);uO(e,r,a,d,u,h,p,l,c,o)}else if(t.type==="step"&&i.type==="step"){let d=hi(t.stepX,i.stepX,n);hO(e,r,a,l,c,d,o)}else if(t.type==="linear"&&i.type==="linear")dO(e,r,a,l,c,o);else{let d;t.type==="step"?d=t.stepX:i.type==="step"?d=i.stepX:d=(r+l)/2;let u=AL(t,d),h=AL(i,d),p=hi(u.leftCp1x,h.leftCp1x,n),g=hi(u.leftCp1y,h.leftCp1y,n),m=hi(u.leftCp2x,h.leftCp2x,n),f=hi(u.leftCp2y,h.leftCp2y,n),v=hi(u.stepX,h.stepX,n),y=hi(u.stepY0,h.stepY0,n),C=hi(u.stepY1,h.stepY1,n),S=hi(u.rightCp1x,h.rightCp1x,n),M=hi(u.rightCp1y,h.rightCp1y,n),D=hi(u.rightCp2x,h.rightCp2x,n),E=hi(u.rightCp2y,h.rightCp2y,n);o?(e.cubicCurveTo(D,E,S,M,v,C),e.lineTo(v,y),e.cubicCurveTo(m,f,p,g,r,a)):(e.cubicCurveTo(p,g,m,f,v,y),e.lineTo(v,C),e.cubicCurveTo(S,M,D,E,l,c))}}var gO=(e=>(e[e.Zero=0]="Zero",e[e.Split=1]="Split",e))(gO||{});function ese(e,t){return e==null||t==null||typeof e!="object"||typeof t!="object"?!1:"id"in e&&"id"in t?e.id===t.id:e.toString()===t.toString()}function qi(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),t.type==="continuous"&&typeof e=="number")return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof e=="number")return t.convert(e);if(t.type!=="category")return NaN;let i=t.domain.findIndex(s=>s===e);return i>=0||t.domain.findIndex(s=>ese(e,s))>=0?t.inset+t.step*i:NaN}function _s(e){return dS(e).valueOf()}function kL({data:e},t){return e.map((i,n)=>({xValue0Index:t.indexOf(_s(i.xValue0)),xValue1Index:t.indexOf(_s(i.xValue1)),datumIndex:n}))}function tse(e,t){let i=t.scales.x,n=e.scales.x;if(i?.type!=="category"||n?.type!=="category")return!0;let s=-1/0;for(let o of i.domain){let r=qi(o,n);if(Number.isFinite(r)){if(r<s)return!1;s=r}}return!0}function ise(e,t){let i=-1/0;for(let n of e){let s=qi(n.value,t.scales.x);if(Number.isFinite(s)){if(s<i)return!1;i=s}}return!0}function nse(e,t){let i=new Map;for(let{xValue0:d,xValue1:u}of e.data){let h=_s(d),p=_s(u);i.set(h,d).set(p,u)}let n=Array.from(i,([d,u])=>({axisValue:d,value:u}));n.sort((d,u)=>qi(d.value,e.scales.x)-qi(u.value,e.scales.x));let s=[];for(let{xValue0:d,xValue1:u}of t.data){let h=_s(d),p=_s(u);i.has(h)||(i.set(h,d),s.push({axisValue:h,value:d})),i.has(p)||(i.set(p,u),s.push({axisValue:p,value:u}))}s.sort((d,u)=>qi(d.value,t.scales.x)-qi(u.value,t.scales.x));let o=n,r=0;for(let d of s){for(let u=o.length-1;u>r;u-=1){let h=qi(d.value,t.scales.x),p=qi(o[u].value,t.scales.x);if(h>p){r=u+1;break}}o.splice(r,0,d),r+=1}if(!ise(o,t))return;let a=o.map(d=>d.axisValue),l=kL(t,a),c=kL(e,a);return{axisValues:a,oldDataAxisIndices:l,newDataAxisIndices:c}}function TL(e,t,i){if(i.xValue1Index===i.xValue0Index+1)return e;let n=Ao(e),s=(n[1].x-n[0].x)/(i.xValue1Index-i.xValue0Index),o=n[0].x+(t-i.xValue0Index)*s,r=o+s;return lO(e,o,r)}function mO(e,t){let[i,n]=Ao(e),s=qi(0,t.scales.y);return Mp(e,{x:i.x,y:s},{x:n.x,y:s})}function fO(e){let[t,i]=Ao(e);return $ne(e,{x:(t.x+i.x)/2,y:(t.y+i.y)/2})}function vO(e,t,i,n,s,o){let r,a;if(s.xValue0Index>=o.xValue1Index){let u=n.findLast(p=>p.xValue1Index<=o.xValue1Index)?.datumIndex,h=u!=null?i.data[u]:void 0;r=h?.xValue1,a=h?.yValue1}else if(s.xValue0Index<=o.xValue0Index){let u=n.find(p=>p.xValue0Index>=o.xValue0Index)?.datumIndex,h=u!=null?i.data[u]:void 0;r=h?.xValue0,a=h?.yValue0}if(r==null||a==null)switch(t){case 0:return mO(e,i);case 1:return fO(e)}let l=qi(r,i.scales.x),c=qi(a,i.scales.y),d={x:l,y:c};return Mp(e,d,d)}function eD(e,t){if(t==null)return;let i=_s(e.xValue0),n=_s(e.xValue1);return t.find(s=>_s(s.xValue0)===i&&_s(s.xValue1)===n)?.span}function LL(e,t,i,n,s,o,r){let a=e.data[n.datumIndex],l=a.span,c=eD(a,s);if(c!=null)r.removed.push({from:c,to:c}),r.moved.push({from:c,to:l}),r.added.push({from:l,to:l});else{let d=vO(l,t,e,i,n,o);r.added.push({from:d,to:l})}}function FL(e,t,i,n,s,o,r){let a=e.data[n.datumIndex],l=a.span,c=eD(a,s);if(c!=null)r.removed.push({from:l,to:l}),r.moved.push({from:l,to:c}),r.added.push({from:c,to:c});else{let d=vO(l,t,e,i,n,o);r.removed.push({from:l,to:d})}}function PL(e,t,i,n,s){let o=t[s.xValue0Index],r=i.data.find(f=>_s(f.xValue0)===o),a=t[s.xValue1Index],l=i.data.find(f=>_s(f.xValue1)===a);if(r==null||l==null)return;let[{x:c},{x:d}]=Ao(e),u=qi(r.xValue0,i.scales.x),h=qi(r.yValue0,i.scales.y),p=qi(l.xValue1,i.scales.x),g=qi(l.yValue1,i.scales.y),m=n.data[s.datumIndex].span;return m=Mp(m,{x:u,y:h},{x:p,y:g}),m=lO(m,c,d),m}function sse(e,t,i,n,s,o,r,a,l){let c=s+1,d=r.find(C=>C.xValue0Index<=s&&C.xValue1Index>=c),u=o.find(C=>C.xValue0Index<=s&&C.xValue1Index>=c),h=t.zeroData,p=e.zeroData;if(d==null&&u!=null){LL(e,i,o,u,h,a,l);return}else if(d!=null&&u==null){FL(t,i,r,d,p,a,l);return}else if(d==null||u==null)return;let g;d.xValue0Index===u.xValue0Index&&d.xValue1Index===u.xValue1Index?g=0:d.xValue0Index<=u.xValue0Index&&d.xValue1Index>=u.xValue1Index?g=-1:d.xValue0Index>=u.xValue0Index&&d.xValue1Index<=u.xValue1Index?g=1:g=0;let m=t.data[d.datumIndex],f=TL(m.span,s,d),v=e.data[u.datumIndex],y=TL(v.span,s,u);if(g===1){let C=PL(f,n,t,e,u);C!=null?(l.removed.push({from:f,to:C}),l.moved.push({from:C,to:y}),l.added.push({from:y,to:y})):FL(t,i,r,d,p,a,l)}else if(g===-1){let C=PL(y,n,e,t,d);C!=null?(l.removed.push({from:f,to:f}),l.moved.push({from:f,to:C}),l.added.push({from:C,to:y})):LL(e,i,o,u,h,a,l)}else l.removed.push({from:f,to:f}),l.moved.push({from:f,to:y}),l.added.push({from:y,to:y})}function ose(e,t,i,n){let s={removed:[],moved:[],added:[]},{axisValues:o,oldDataAxisIndices:r,newDataAxisIndices:a}=e,l={xValue0Index:Math.max(r.at(0)?.xValue0Index??-1/0,a.at(0)?.xValue0Index??-1/0),xValue1Index:Math.min(r.at(-1)?.xValue1Index??1/0,a.at(-1)?.xValue1Index??1/0)};for(let c=0;c<o.length-1;c+=1)sse(t,i,n,o,c,a,r,l,s);return s}function OL(e,t,i){let{span:n}=t;switch(i){case 0:return eD(t,e.zeroData)??mO(n,e);case 1:return fO(n)}}function rse(e,t,i){let n=[],s=[];for(let o of t.data){let r=o.span,a=OL(t,o,i);s.push({from:r,to:a})}for(let o of e.data){let r=o.span,a=OL(e,o,i);n.push({from:a,to:r})}return{removed:s,moved:[],added:n}}function lp(e,t,i){if(!tse(e,t))return;let n=nse(e,t);return n==null?rse(e,t,i):ose(n,e,t,i)}function NL(e){return e.type==="continuous"||e.type==="log"}function BL(e){return e.type==="category"}function Cd(e,t){return e===void 0||t===void 0?e!==void 0||t!==void 0:NL(e)&&NL(t)?e.type===t.type&&Do(e.domain,t.domain)&&Do(e.range,t.range):BL(e)&&BL(t)?e.inset===t.inset&&e.step===t.step&&Do(e.domain,t.domain):!1}function Dp(e){return e==null?!1:e.type==="category"?e.domain.every(t=>t!=null):e.domain.every(t=>Number.isFinite(t)||t instanceof Date)&&e.range.every(t=>Number.isFinite(t))}function Kv(e,t){let i,n=e.map(s=>s.point);switch(t.type){case"linear":i=Yne(n);break;case"smooth":i=qne(n,t.tension);break;case"step":i=Zne(n,t.position);break}return i.map((s,o)=>({span:s,xValue0:e[o].xDatum,yValue0:e[o].yDatum,xValue1:e[o+1].xDatum,yValue1:e[o+1].yDatum}))}function yO(e,t,i=.001){return Math.abs(e.x-t.x)<i&&Math.abs(e.y-t.y)<i}function tD({path:e},t){let i;for(let{span:n}of t){let[s,o]=Ao(n),r=i!=null&&yO(i,s)?1:0;DS(e,n,r,!1),i=o}}function Mv(e,t,i){let n;for(let s of i){let[o,r]=pO(s.from,s.to,e),a=n!=null&&yO(n,o)?1:0;_S(t.path,s.from,s.to,e,a,!1),n=r}}function iD(e,t,i){let n=(a,l)=>Mv(a,l,t.removed),s=(a,l)=>Mv(a,l,t.moved),o=(a,l)=>Mv(a,l,t.added),r=nD(e,i);return{status:e,path:{addPhaseFn:o,updatePhaseFn:s,removePhaseFn:n},pathProperties:r}}function nD(e,t){let i=t==="none"?"updated":e,n={fromFn:s=>{let o;return e==="removed"?o={finish:{visible:!1}}:e==="added"?o={start:{visible:!0}}:o={},w({phase:Zs[i]},o)},toFn:s=>({phase:Zs[i]})};return t==="fade"?{fromFn:s=>{let o=e==="added"?0:s.opacity;return w({opacity:o},n.fromFn(s))},toFn:s=>w({opacity:e==="removed"?0:1},n.toFn(s))}:n}function bO(e,t,i){let n=e.scales.x?.type==="category",s=t.scales.x?.type==="category";if(n!==s||!Dp(e.scales.x)||!Dp(t.scales.x)||e.strokeData==null||t.strokeData==null)return;let o="updated";t.visible&&!e.visible?o="removed":!t.visible&&e.visible&&(o="added");let r=lp({scales:e.scales,data:e.strokeData.spans},{scales:t.scales,data:t.strokeData.spans},1);if(r==null)return;let a=iD(o,r,"fade"),l=(i?.changed??!0)||!Cd(e.scales.x,t.scales.x)||!Cd(e.scales.y,t.scales.y)||o!=="updated";return{status:o,stroke:a,hasMotion:l}}function CO({path:e},{spans:t,phantomSpans:i}){for(let n=0;n<t.length;n+=1){let{span:s}=t[n],o=i[n].span;DS(e,s,0,!1),DS(e,o,1,!0),e.closePath()}}function Dv(e,{path:t},i,n){for(let s=0;s<i.length;s+=1){let o=i[s],r=n[s];_S(t,o.from,o.to,e,0,!1),_S(t,r.from,r.to,e,1,!0),t.closePath()}}function wO(e,t,i,n){let s=(l,c)=>Dv(l,c,t.removed,i.removed),o=(l,c)=>Dv(l,c,t.moved,i.moved),r=(l,c)=>Dv(l,c,t.added,i.added),a=nD(e,n);return{status:e,path:{addPhaseFn:r,updatePhaseFn:o,removePhaseFn:s},pathProperties:a}}function xO(e,t){let i=e.scales.x?.type==="category",n=t.scales.x?.type==="category";if(i!==n||!Dp(e.scales.x)||!Dp(t.scales.x))return;let s="updated";t.visible&&!e.visible?s="removed":!t.visible&&e.visible&&(s="added");let o=lp({scales:e.scales,data:e.fillData.spans},{scales:t.scales,data:t.fillData.spans},0);if(o==null)return;let r=lp({scales:e.scales,data:e.fillData.phantomSpans},{scales:t.scales,data:t.fillData.phantomSpans},0);if(r==null)return;let a=lp({scales:e.scales,data:e.strokeData.spans,zeroData:e.fillData.phantomSpans},{scales:t.scales,data:t.strokeData.spans,zeroData:t.fillData.phantomSpans},0);if(a==null)return;let l="none",c=wO(s,o,r,l),d=iD(s,a,l);return{status:s,fill:c,stroke:d}}function _p({id:e},t,i,...n){let s={phase:i?Zs[i]:"trailing"};br(e,"markers",t,n,{opacity:0},{opacity:1},s),n.forEach(o=>o.cleanup())}function sD({id:e},t,...i){br(e,"markers",t,i,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),i.forEach(n=>n.cleanup())}function oD({id:e,nodeDataDependencies:t},i,...n){let s=t.seriesRectWidth;$t(e,"markers",i,n,{fromFn:(a,l)=>{let c=l.midPoint?.x??s,d=Le(0,mF(c/s),1);return isNaN(d)&&(d=0),{scalingX:0,scalingY:0,delay:d,duration:kv,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function cg(e){return{opacity:1,scalingX:1,scalingY:1}}function Ep(e,t){return{translationX:t.point?.x??NaN,translationY:t.point?.y??NaN}}function dg(e,{datumIndex:t}){let i=e.getNodeData();if(i===void 0)return;let n=i[t],{point:s}=n;if(n==null||s==null)return;let o=4+(s.focusSize??e.getFormattedMarkerStyle(n).size),r=o/2,a=n.point.x-r,l=n.point.y-r;return Kt.toCanvas(e.contentGroup,new ne(a,l,o,o))}function rD({id:e,visible:t,nodeDataDependencies:i},n,...s){let{seriesRectWidth:o,seriesRectHeight:r}=i;br(e,"path_properties",n,s,{clipX:0},{clipX:o},{phase:"initial",start:{clip:!0,clipY:r,visible:t},finish:{clip:!1,visible:t}})}function Zv({id:e},t,i,n="add",...s){br(e,t,i,s,{opacity:0},{opacity:1},{phase:n})}function aD(e){return t=>({visible:e.getVisible(),opacity:e.getOpacity(),clipScalingX:1,clip:!1})}function qv({nodeDataDependencies:e},t){let i=n=>isFinite(n)?n:0;t.clipX=i(e.seriesRectWidth),t.clipY=i(e.seriesRectHeight)}var ase=.125,lse=.25,cse=(()=>{let e=class extends _a{constructor(t){super({moduleCtx:t,directionKeys:Wl,directionNames:Ul,pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:aD({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Ar,marker:(i,n)=>w(w({},cg(i)),Ep(i,n))}}),this.properties=new ci,this.connectsToYAxis=!0,this.backgroundGroup=new _e({name:`${this.id}-background`,zIndex:0}),this._isStacked=void 0}get pickModeAxis(){return"main"}renderToOffscreenCanvas(){return super.renderToOffscreenCanvas()||this.contextNodeData!=null&&(this.contextNodeData.fillData.spans.length>Wv||this.contextNodeData.strokeData.spans.length>Wv)}attachSeries(t,i,n){super.attachSeries(t,i,n),t.appendChild(this.backgroundGroup)}detachSeries(t,i,n){super.detachSeries(t,i,n),t?.removeChild(this.backgroundGroup)}attachPaths([t,i]){this.backgroundGroup.appendChild(t),this.contentGroup.appendChild(i),i.zIndex=-1}detachPaths([t,i]){this.backgroundGroup.removeChild(t),this.contentGroup.removeChild(i)}isStacked(){return(this.seriesGrouping?.stackCount??1)>1}setSeriesIndex(t){let i=this.isStacked();return!super.setSeriesIndex(t)&&this._isStacked===i?!1:(this._isStacked=i,i?(this.backgroundGroup.zIndex=[0,t],this.contentGroup.zIndex=[1,t,0]):(this.backgroundGroup.zIndex=[1,t,0,0],this.contentGroup.zIndex=[1,t,0,1]),!0)}processData(t){return Pe(this,null,function*(){if(this.data==null||!this.properties.isValid())return;let{data:i,visible:n,seriesGrouping:{groupIndex:s=this.id,stackCount:o=1}={}}=this,{xKey:r,yKey:a,yFilterKey:l,connectMissingData:c,normalizedTo:d}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=this.axes.x?.scale,p=this.axes.y?.scale,{xScaleType:g,yScaleType:m}=this.getScaleInformation({xScale:h,yScale:p}),f={value:`area-stack-${s}-yValue`,values:`area-stack-${s}-yValues`,stack:`area-stack-${s}-yValue-stack`,marker:`area-stack-${s}-yValues-marker`},v=[];vv(d)&&v.push(Ly(Object.values(f),d)),u&&v.push(zd());let y={invalidValue:null};(vv(d)||c)&&o>1&&(y.invalidValue=0),n||(y.forceValue=0),yield this.requestDataModel(t,i,{props:[Js(r,g,{id:"xValue"}),je(a,m,w({id:"yValueRaw"},y)),...l!=null?[je(l,m,{id:"yFilterRaw"})]:[],...VP(a,m,A(w({id:"yValueStack"},y),{groupId:f.stack})),je(a,m,A(w({id:"yValue"},y),{groupId:f.value})),...va(a,"window","current",A(w({id:"yValueEnd"},y),{groupId:f.values}),m),...va(a,"normal","current",A(w({id:"yValueCumulative"},y),{groupId:f.marker}),m),...v],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")})}xCoordinateRange(t,i){let{marker:n}=this.properties,s=this.axes.x.scale.convert(t),o=n.enabled?.5*n.size*i:0;return[s-o,s+o]}yCoordinateRange(t,i){let{marker:n}=this.properties,s=this.axes.y.scale.convert(t[0]),o=n.enabled?.5*n.size*i:0;return[s-o,s+o]}getSeriesDomain(t){let{processedData:i,dataModel:n,axes:s}=this;if(!i||!n)return[];let o=s.y;if(t==="x"){let a=n.resolveProcessedDataDefById(this,"xValue"),l=n.getDomain(this,"xValue","key",i);return a?.def.type==="key"&&a.def.valueType==="category"?l:Ln(_r(l))}let r=this.domainForClippedRange("y",["yValueEnd"],"xValue",!0);if(o instanceof Kp||o instanceof $p)return Ln(r);{let a=Number.isFinite(r[1]-r[0])?[r[0]>0?0:r[0],r[1]<0?0:r[1]]:[];return Ln(a)}}getSeriesRange(t,i){let[n,s]=this.domainForVisibleRange("y",["yValueEnd"],"xValue",i,!0);return[Math.min(n,0),Math.max(s,0)]}getVisibleItems(t,i,n){return this.countVisibleItems("xValue",["yValueEnd"],t,i,n)}createNodeData(){let{axes:t,data:i,processedData:n,dataModel:s}=this,o=t.x,r=t.y;if(!o||!r||!i||!s||n?.type!=="grouped"||!this.properties.isValid())return;let{yKey:a,xKey:l,yFilterKey:c,marker:d,label:u,fill:h,stroke:p,connectMissingData:g,interpolation:m}=this.properties,{scale:f}=o,{scale:v}=r,{isContinuousY:y}=this.getScaleInformation({xScale:f,yScale:v}),C=(f.bandwidth??0)/2,S=s.resolveKeysById(this,"xValue",n),M=s.resolveColumnById(this,"yValueEnd",n),D=s.resolveColumnById(this,"yValueRaw",n),E=s.resolveColumnById(this,"yValueCumulative",n),R=c!=null?s.resolveColumnById(this,"yFilterRaw",n):void 0,I=s.resolveColumnById(this,"yValueStack",n),T=(ce,de,H)=>{let se;return(vv(this.properties.normalizedTo)?y&&yy(H):!isNaN(H))&&(se=de),{x:f.convert(ce)+C,y:v.convert(se),size:d.size}},F=[],N=[],{visibleSameStackCount:q}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),pe=!1,{dataSources:fe}=n,oe=fe.get(this.id)??[];for(let{datumIndex:ce}of s.forEachGroupDatum(this,n)){let de=S[ce];if(de==null)return;let H=oe[ce],se=D[ce],he=E[ce],qe=M[ce],Xe=Number.isFinite(se),mt=T(de,+he,se),bt=R!=null?R[ce]===se:void 0;if(bt===!1&&(pe=!0),Xe&&d&&N.push({series:this,itemId:a,datum:H,datumIndex:ce,midPoint:{x:mt.x,y:mt.y},cumulativeValue:qe,yValue:se,xValue:de,yKey:a,xKey:l,point:mt,fill:d.fill??h,stroke:d.stroke??p,strokeWidth:d.strokeWidth??this.getStrokeWidth(this.properties.strokeWidth),selected:bt}),Xe&&u){let qt=this.getLabelText(u,{value:se,datum:H,xKey:l,yKey:a,xName:this.properties.xName,yName:this.properties.yName});F.push({series:this,itemId:a,datum:H,datumIndex:ce,x:mt.x,y:mt.y,labelText:qt})}}let be=ce=>ce.flatMap(de=>Array.isArray(de)?Kv(de,m):new Array(de.skip).fill(null)),xe=(ce,de)=>({point:{x:f.convert(ce)+C,y:v.convert(de)},xDatum:ce,yDatum:de}),re=ce=>{let de=[];for(let{datumIndexes:[H,se,he]}of s.forEachGroupDatumTuple(this,n)){let qe=S[se],Xe=I[se],mt=Xe[ce],bt=Number.isFinite(mt);if(g&&!bt)continue;let qt=H!=null?I[H]:void 0,Xt=he!=null?I[he]:void 0,di=0,Sn=0;for(let St=0;St<=ce;St+=1){let Fi=Xe[St];if(Number.isFinite(Fi)){let Bn=qt==null||Number.isFinite(qt[St]),lb=Xt==null||Number.isFinite(Xt[St]);Bn&&(di+=Fi),lb&&(Sn+=Fi)}}let bi=de[de.length-1];if(!g&&(di!==Sn||!bt))if(!bt&&Array.isArray(bi)&&bi.length===1)de[de.length-1]={skip:1};else{let St=xe(qe,di),Fi=xe(qe,Sn);Array.isArray(bi)?bi.push(St):bi!=null&&(bi.skip+=1),de.push(bt?[Fi]:{skip:0})}else{let St=Math.max(di,Sn),Fi=xe(qe,St);Array.isArray(bi)?bi.push(Fi):bi!=null?(bi.skip+=1,de.push([Fi])):de.push([Fi])}}return be(de)},ve=this.seriesGrouping?.stackIndex??0,X=()=>{let ce=Array.from(s.forEachGroupDatum(this,n),({datumIndex:de})=>{let H=S[de],he=I[de][ve];if(!(g&&!Number.isFinite(he)))return xe(H,0)}).filter(de=>de!=null);return Kv(ce,m)},le=re(ve),ae=le.map(()=>null);for(let ce=ve-1;ce>=-1;ce-=1){let de;for(let H=0;H<ae.length;H+=1)ae[H]==null&&(de??(de=ce!==-1?re(ce):X()),ae[H]=de[H])}let Ee=le.map((ce,de)=>ce??ae[de]),Me=le.filter(ce=>ce!=null);return{itemId:a,fillData:{itemId:a,spans:Ee,phantomSpans:ae},strokeData:{itemId:a,spans:Me},labelData:F,nodeData:N,scales:this.calculateScaling(),visible:this.visible,stackVisible:q>0,crossFiltering:pe}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(t){let{opacity:i,visible:n,animationEnabled:s}=t,[o,r]=t.paths,a=this.contextNodeData?.crossFiltering===!0,l=this.getStrokeWidth(this.properties.strokeWidth);r.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:l,strokeOpacity:this.properties.strokeOpacity*(a?lse:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:i,visible:n||s});let{fill:c}=this.properties;if(UF(c)){let d=this.getGradientFillOptions(c,this.properties.defaultColorRange);o.gradientFillOptions=d}o.setProperties({stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity*(a?ase:1),fillShadow:this.properties.shadow,opacity:i,visible:n||s}),qv(this,r),qv(this,o)}updatePaths(t){this.updateAreaPaths(t.paths,t.contextData)}updateAreaPaths(t,i){for(let n of t)n.visible=i.visible;if(i.visible)this.updateFillPath(t,i),this.updateStrokePath(t,i);else for(let n of t)n.path.clear(),n.markDirty()}updateFillPath(t,i){let[n]=t;n.path.clear(),CO(n,i.fillData),n.markDirty()}updateStrokePath(t,i){let{spans:n}=i.strokeData,[,s]=t;s.path.clear(),tD(s,n),s.markDirty()}updateMarkerSelection(t){let{nodeData:i,markerSelection:n}=t,s=this.properties.marker.enabled||this.contextNodeData?.crossFiltering===!0;return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(s?i:[])}getMarkerItemBaseStyle(t){let{marker:i}=this.properties,n=t?this.properties.highlightStyle.item:void 0;return{fill:n?.fill??i.fill,fillOpacity:n?.fillOpacity??i.fillOpacity,stroke:n?.stroke??i.stroke,strokeWidth:n?.strokeWidth??i.strokeWidth,strokeOpacity:n?.strokeOpacity??i.strokeOpacity}}getMarkerItemStyleOverrides(t,i,n,s,o,r){let{marker:a}=this.properties,{itemStyler:l}=a;if(l==null)return;let{id:c,properties:d}=this,{xKey:u,yKey:h}=d,{xDomain:p,yDomain:g}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));return this.cachedDatumCallback(li(t,r?"highlight":"node"),()=>l(w(A(w({seriesId:c},fa(i,u,h,p,g)),{xValue:n,yValue:s,highlighted:r}),o)))}updateMarkerNodes(t){let{markerSelection:i,isHighlight:n}=t,{xKey:s,yKey:o,marker:r,fill:a,stroke:l,strokeWidth:c,fillOpacity:d,strokeOpacity:u,highlightStyle:h}=this.properties,p=this.getSeriesDomain("x"),g=this.getSeriesDomain("y"),m=He(n&&h.item,r.getStyle(),{fill:a,stroke:l,strokeWidth:c,fillOpacity:d,strokeOpacity:u});i.each((f,v)=>{this.updateMarkerStyle(f,r,A(w({},fa(v,s,o,p,g)),{highlighted:n}),m,{selected:v.selected})}),n||this.properties.marker.markClean()}updateLabelSelection(t){let{labelData:i,labelSelection:n}=t;return n.update(i)}updateLabelNodes(t){let{labelSelection:i}=t,{enabled:n,fontStyle:s,fontWeight:o,fontSize:r,fontFamily:a,color:l}=this.properties.label;i.each((c,d)=>{let{x:u,y:h,labelText:p}=d;p&&n&&this.visible?(c.fontStyle=s,c.fontWeight=o,c.fontSize=r,c.fontFamily=a,c.textAlign="center",c.textBaseline="bottom",c.text=p,c.x=u,c.y=h-10,c.fill=l,c.visible=!0):c.visible=!1})}getTooltipContent(t){let{id:i,dataModel:n,processedData:s,axes:o,properties:r}=this,{xKey:a,xName:l,yKey:c,yName:d,tooltip:u}=r,h=o.x,p=o.y;if(!n||!s||!h||!p)return;let{datumIndex:g}=t,m=s.dataSources.get(this.id)?.[g],f=n.resolveKeysById(this,"xValue",s)[g],v=n.resolveColumnById(this,"yValueRaw",s)[g];if(f==null)return;let y=this.getMarkerItemBaseStyle(!1);return Object.assign(y,this.getMarkerItemStyleOverrides(String(g),m,f,v,y,!1)),u.formatTooltip({heading:h.formatDatum(f),symbol:this.legendItemSymbol(),data:[{label:d,fallbackLabel:c,value:p.formatDatum(v)}]},w(w({seriesId:i,datum:m,title:d,xKey:a,xName:l,yKey:c,yName:d},y),this.getModuleTooltipParams()))}legendItemSymbol(){let{fill:t,stroke:i,fillOpacity:n,strokeOpacity:s,strokeWidth:o,lineDash:r,marker:a}=this.properties,l=!a.enabled||a.fill===void 0;return{marker:{shape:a.shape,fill:l?t:a.fill,fillOpacity:l?n:a.fillOpacity,stroke:a.stroke??i,strokeOpacity:a.strokeOpacity,strokeWidth:a.strokeWidth,lineDash:a.lineDash,lineDashOffset:a.lineDashOffset,enabled:a.enabled||o<=0},line:{stroke:i,strokeOpacity:s,strokeWidth:o,lineDash:r}}}getLegendData(t){if(!this.properties.isValid()||t!=="category")return[];let{id:i,ctx:{legendManager:n},visible:s}=this,{yKey:o,yName:r,legendItemName:a,showInLegend:l}=this.properties;return[{legendType:t,id:i,itemId:o,seriesId:i,enabled:s&&n.getItemEnabled({seriesId:i,itemId:o}),label:{text:a??r??o},symbol:this.legendItemSymbol(),legendItemName:a,hideInLegend:!l}]}animateEmptyUpdateReady(t){let{markerSelection:i,labelSelection:n,contextData:s,paths:o}=t,{animationManager:r}=this.ctx;this.updateAreaPaths(o,s),rD(this,r,...o),Ai([i],Ep),oD(this,r,i),ot(this,"labels",r,n)}animateReadyResize(t){let{contextData:i,paths:n}=t;this.updateAreaPaths(n,i),super.animateReadyResize(t)}animateWaitingUpdateReady(t){let{animationManager:i}=this.ctx,{markerSelection:n,labelSelection:s,contextData:o,paths:r,previousContextData:a}=t,[l,c]=r;if(l==null&&c==null)return;this.resetMarkerAnimation(t),this.resetLabelAnimation(t);let d=()=>{this.resetPathAnimation(t),this.updateAreaPaths(r,o)},u=()=>{i.skipCurrentBatch(),d()};if(o==null||a==null){d(),_p(this,i,"added",n),Zv(this,"fill_path_properties",i,"add",l),Zv(this,"stroke_path_properties",i,"add",c),ot(this,"labels",i,s);return}if(o.crossFiltering!==a.crossFiltering){u();return}let h=xO(o,a);if(h===void 0){u();return}else if(h.status==="no-op")return;_p(this,i,void 0,n),$t(this.id,"fill_path_properties",i,[l],h.fill.pathProperties),Yv(this.id,"fill_path_update",i,[l],h.fill.path),$t(this.id,"stroke_path_properties",i,[c],h.stroke.pathProperties),Yv(this.id,"stroke_path_update",i,[c],h.stroke.path),ot(this,"labels",i,s),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(r,o)})}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new _e}getFormattedMarkerStyle(t){let{xKey:i,yKey:n}=t,s=this.getSeriesDomain("x"),o=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,A(w({},fa(t,i,n,s,o)),{highlighted:!0}))}computeFocusBounds(t){return dg(this,t)}};return e.className="AreaSeries",e.type="area",e})(),dse={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:e=>new cse(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Ra,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}},paletteFactory:e=>{let{marker:t}=JM(e),i=e.themeTemplateParameters.get(jy);return{fill:t.fill,stroke:t.stroke,marker:t,defaultColorRange:i}}};function lD(e,t){for(let i of t){let n=i.datum;n===void 0?V.error("undefined datum"):e.addValue(i,n)}}function cD(e,t){let{x:i,y:n}=t,{nearest:s,distanceSquared:o}=e.getQuadTree().find(i,n);if(s!==void 0)return{datum:s.value,distance:Math.sqrt(o)}}var dD=class extends Ir{constructor(){super(...arguments),this.direction="vertical"}};b([x(PF)],dD.prototype,"direction",2);var SO=class extends _a{constructor(){super(...arguments),this.groupScale=new Pp,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(e,t){let i=typeof t=="boolean"?1:.5,n=nt(this.smallestDataInterval)?this.smallestDataInterval*i:0,s=_r(e)??[NaN,NaN];return typeof t=="boolean"?s[t?0:1]-=(t?1:-1)*n:(s[0]-=n,s[1]+=n),Ln(s)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){let e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){let e=this.getCategoryDirection();return this.axes[e]}getBandwidth(e){return ct.is(e.scale)?e.scale.calcBandwidth(this.smallestDataInterval):e.scale.bandwidth}xCoordinateRange(e){let t=this.axes[this.getCategoryDirection()],i=t.scale,n=this.getBandwidth(t)??0,s=ct.is(i)?n*-.5:0,o=i.convert(e)+s;return[o,o+n]}yCoordinateRange(e){let i=this.axes[this.getBarDirection()].scale,n=e.map(s=>i.convert(s));if(n.length===1){let s=i.convert(0);return[Math.min(n[0],s),Math.max(n[0],s)]}return[Math.min(...n),Math.max(...n)]}updateGroupScale(e){let t=[],{groupScale:i}=this,n=this.getBandwidth(e),{index:s,visibleGroupCount:o}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let a=0;a<o;a++)t.push(String(a));return i.domain=t,i.range=[0,n??0],e instanceof Py?i.paddingInner=e.groupPaddingInner:e instanceof Fd?(i.paddingInner=e.groupPaddingInner,i.round=i.padding!==0):i.padding=0,{barWidth:i.bandwidth>=1?i.bandwidth:i.rawBandwidth,groupIndex:s}}resolveKeyDirection(e){return this.getBarDirection()==="x"?e==="x"?"y":"x":e}initQuadTree(e){lD(e,this.datumNodesIter())}pickNodeClosestDatum(e){return cD(this,e)}},uD=class extends Si{constructor(){super(...arguments),this.placement="inside-center",this.padding=0}};b([x(xt(["inside-center","inside-start","inside-end","outside-start","outside-end"],"a placement"))],uD.prototype,"placement",2);b([x(Qe)],uD.prototype,"padding",2);var Zt=class extends dD{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new so,this.label=new uD,this.tooltip=new nn,this.sparklineMode=!1,this.fastDataProcessing=!1}};b([x(B)],Zt.prototype,"xKey",2);b([x(B,{optional:!0})],Zt.prototype,"xName",2);b([x(B)],Zt.prototype,"yKey",2);b([x(B,{optional:!0})],Zt.prototype,"yName",2);b([x(B,{optional:!0})],Zt.prototype,"yFilterKey",2);b([x(B,{optional:!0})],Zt.prototype,"stackGroup",2);b([x(Qe,{optional:!0})],Zt.prototype,"normalizedTo",2);b([x(rt)],Zt.prototype,"fill",2);b([x(dt)],Zt.prototype,"fillOpacity",2);b([x(rt)],Zt.prototype,"stroke",2);b([x($)],Zt.prototype,"strokeWidth",2);b([x(dt)],Zt.prototype,"strokeOpacity",2);b([x(To)],Zt.prototype,"lineDash",2);b([x($)],Zt.prototype,"lineDashOffset",2);b([x($)],Zt.prototype,"cornerRadius",2);b([x(me,{optional:!0})],Zt.prototype,"crisp",2);b([x(wn,{optional:!0})],Zt.prototype,"itemStyler",2);b([x(ee,{optional:!0})],Zt.prototype,"shadow",2);b([x(ee)],Zt.prototype,"label",2);b([x(ee)],Zt.prototype,"tooltip",2);b([x(me)],Zt.prototype,"sparklineMode",2);b([x(me)],Zt.prototype,"fastDataProcessing",2);function MO(e,t,i,n){if(t!=null){let[s,o]=t;if(s!==0||o!==1)return!1}if(ct.is(e)){let s=e.calcBandwidth(n)-e.calcBandwidth(i);if(s>0&&s<1)return!1}return!0}var Hx=e=>sy(e.yValue??0);function Ip(e,t,i){let{startingX:n,startingY:s}=hse(e,t);return{isVertical:e,calculate:(r,a)=>{let l=e?r.x:n,c=e?s:r.y,d=e?r.width:0,u=e?0:r.height,{opacity:h=1}=r;a&&(isNaN(l)||isNaN(c))&&({x:l,y:c}=a,d=e?a.width:0,u=e?0:a.height,e&&!Hx(a)?c+=a.height:!e&&Hx(a)&&(l+=a.width));let p;return r.clipBBox==null?p=void 0:Hx(r)?p=e?new ne(l,c-u,d,u):new ne(l-d,c,d,u):p=new ne(l,c,d,u),{x:l,y:c,width:d,height:u,clipBBox:p,opacity:h}},mode:i}}function use(e,t){return{isVertical:e,calculate:i=>({x:e?i.x:i.x+i.width/2,y:e?i.y+i.height/2:i.y,width:e?i.width:0,height:e?0:i.height,clipBBox:i.clipBBox,opacity:i.opacity??1}),mode:t}}function Rp(e){let t=o=>o==null||isNaN(o.x)||isNaN(o.y);return{toFn:(o,r,a)=>a==="removed"&&o.datum==null&&e.mode==="fade"?A(w({},Ap(o,r)),{opacity:0}):a==="removed"||t(r)?e.calculate(r,o.previousDatum):{x:r.x,y:r.y,width:r.width,height:r.height,clipBBox:r.clipBBox,opacity:r.opacity??1},fromFn:(o,r,a)=>{a==="updated"&&t(r)?a="removed":a==="updated"&&t(o.previousDatum)&&(a="added");let l;a==="added"&&o.previousDatum==null&&e.mode==="fade"?l=A(w({},Ap(o,r)),{opacity:0}):a==="unknown"||a==="added"?l=e.calculate(r,o.previousDatum):l={x:o.x,y:o.y,width:o.width,height:o.height,clipBBox:o.clipBBox,opacity:o.opacity??1};let c=Zs[a];return A(w({},l),{phase:c})},applyFn:(o,r,a)=>{o.setProperties(r),o.crisp=a==="end"&&(o.datum?.crisp??!1)}}}function hse(e,t){let i=t[e?"y":"x"],n=1/0,s=0;return i?(e?s=i.scale.convert(ct.is(i.scale)?0:Math.max(...i.range)):n=i.scale.convert(ct.is(i.scale)?0:Math.min(...i.range)),{startingX:n,startingY:s}):{startingX:n,startingY:s}}function Ap(e,{x:t,y:i,width:n,height:s,clipBBox:o,opacity:r=1}){return{x:t,y:i,width:n,height:s,clipBBox:o,opacity:r,crisp:e.datum?.crisp??!1}}function hD(e,t){if(t===void 0)return;let{x:i,y:n,width:s,height:o}=t;return Kt.toCanvas(e.contentGroup,new ne(i,n,s,o))}function DO(e,t,i){if(t.enabled&&i){let{x:n,y:s,text:o,textAlign:r,textBaseline:a}=i,{color:l,fontStyle:c,fontWeight:d,fontSize:u,fontFamily:h}=t;e.setProperties({visible:!0,x:n,y:s,text:o,fill:l,fontStyle:c,fontWeight:d,fontSize:u,fontFamily:h,textAlign:r,textBaseline:a})}else e.visible=!1}var pse={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function _O({isUpward:e,isVertical:t,placement:i,padding:n=0,rect:s}){let o=s.x+s.width/2,r=s.y+s.height/2,a="center",l="middle";if(i!=="inside-center"){let c=(e?1:-1)*(t?-1:1),{direction:d,textAlignment:u}=pse[i],h=(d+1)*.5;if(t){let p=e?s.y+s.height:s.y,g=s.height*c;r=p+g*h+n*u*c,l=u===c?"top":"bottom"}else{let p=e?s.x:s.x+s.width,g=s.width*c;o=p+g*h+n*u*c,a=u===c?"left":"right"}}return{x:o,y:r,textAlign:a,textBaseline:l}}var gse=0,mse=1,fse=2,vse=3,yse=4,EO=(()=>{let e=class extends SO{constructor(t){super({moduleCtx:t,directionKeys:Wl,directionNames:Ul,pickModes:[2,1,0],pathsPerSeries:[],hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:Ap,label:Ar}}),this.properties=new Zt,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}processData(t){return Pe(this,null,function*(){if(!this.properties.isValid()||!this.data)return;let{xKey:i,yKey:n,yFilterKey:s,normalizedTo:o,fastDataProcessing:r}=this.properties,{seriesGrouping:{groupIndex:a=this.id}={},data:l}=this,c=this.seriesGrouping?.groupCount??0,u=(this.seriesGrouping?.stackCount??0)>=1||o!=null,h=!r||c>1||u,p=!this.ctx.animationManager.isSkipped(),g=this.getCategoryAxis()?.scale,m=this.getValueAxis()?.scale,{isContinuousX:f,xScaleType:v,yScaleType:y}=this.getScaleInformation({xScale:g,yScale:m}),C=`bar-stack-${a}-yValues`,S=`${C}-trailing`,M=this.visible?{}:{forceValue:0},D=[Js(i,v,{id:"xValue"}),je(n,y,w({id:"yValue-raw",invalidValue:null},M))];this.crossFilteringEnabled()&&D.push(je(s,y,w({id:"yFilterValue",invalidValue:null},M))),u&&D.push(...va(n,"normal","current",w({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:C,separateNegative:!0},M),y),...va(n,"trailing","current",w({id:"yValue-start",invalidValue:null,missingValue:0,groupId:S,separateNegative:!0},M),y)),f&&D.push(GP,HP),nt(o)&&D.push(Ly([C,S],Math.abs(o))),p&&this.processedData&&D.push(Vd(this.id,this.processedData)),(p||!h)&&D.push(zd());let{dataModel:E,processedData:R}=yield this.requestDataModel(t,l,{props:D,groupByKeys:h,groupByData:!h});this.dataAggregationFilters=this.aggregateData(E,R),this.smallestDataInterval=R.reduced?.smallestKeyInterval,this.largestDataInterval=R.reduced?.largestKeyInterval,this.animationState.transition("updateData")})}getSeriesDomain(t){let{processedData:i,dataModel:n}=this;if(n==null||i==null)return[];if(t===this.getCategoryDirection()){let a=n.resolveProcessedDataDefById(this,"xValue"),l=n.getDomain(this,"xValue","key",i);return a?.def.type==="key"&&a.def.valueType==="category"?l:this.padBandExtent(l)}let s=this.dataModel?.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",o=this.domainForClippedRange("y",[s],"xValue",!0),r=this.crossFilteringEnabled()?n.getDomain(this,"yFilterValue","value",i):void 0;if(r!=null&&(o=[Math.min(o[0],r[0]),Math.max(o[1],r[1])]),this.getValueAxis()instanceof Kp)return Ln(o);{let a=Number.isFinite(o[1]-o[0])?[Math.min(0,o[0]),Math.max(0,o[1])]:[];return Ln(a)}}getSeriesRange(t,i){let n=this.dataModel?.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",[s,o]=this.domainForVisibleRange("y",[n],"xValue",i,!0);return[Math.min(s,0),Math.max(o,0)]}getVisibleItems(t,i,n){let s=this.dataModel?.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";return this.countVisibleItems("xValue",[s],t,i,n)}aggregateData(t,i){}createNodeData(){let{dataModel:t,processedData:i,groupScale:n,dataAggregationFilters:s}=this,o=this.getCategoryAxis(),r=this.getValueAxis();if(!t||!i||!o||!r||!this.properties.isValid())return;let a=i.dataSources?.get(this.id);if(a==null)return;let l=o.scale,c=r.scale,{xKey:d,yKey:u,xName:h,yName:p,legendItemName:g,label:m}=this.properties,f=r.isReversed(),{barWidth:v,groupIndex:y}=this.updateGroupScale(o),C=n.convert(String(y)),S=ct.is(l)?v*-.5:0,M=t.resolveKeysById(this,"xValue",i),D=t.resolveColumnById(this,"yValue-raw",i),E=this.crossFilteringEnabled()?t.resolveColumnById(this,"yFilterValue",i):void 0,R=!this.ctx.animationManager.isSkipped(),I=X=>l.convert(M[X])+C+S,T=this.properties.crisp??MO(o?.scale,o?.visibleRange,this.smallestDataInterval,this.largestDataInterval),F=c.convert(0),N=({datum:X,datumIndex:le,valueIndex:ae,xValue:Ee,yValue:Me,cumulativeValue:Ve,phantom:ce,currY:de,prevY:H,x:se,width:he,isPositive:qe,yRange:Xe,labelText:mt,opacity:bt,crossScale:qt=1})=>{let Xt=qe!==f,di=c.convert(de),Sn=c.convert(H),bi=c.convert(Xe),St=this.getBarDirection()==="x",Fi=he*.5*(1-qt),Bn={x:St?Math.min(di,Sn):se+Fi,y:St?se+Fi:Math.min(di,Sn),width:St?Math.abs(Sn-di):he*qt,height:St?he*qt:Math.abs(Sn-di)},lb=new ne(Bn.x,Bn.y,Bn.width,Bn.height),hg={x:St?Math.min(F,bi):se+Fi,y:St?se+Fi:Math.min(F,bi),width:St?Math.abs(F-bi):he*qt,height:St?he*qt:Math.abs(F-bi)},kD=this.shouldFlipXY()?Bn.height:Bn.width;return{series:this,itemId:ce?li(u,ce):u,datum:X,datumIndex:le,valueIndex:ae,cumulativeValue:Ve,phantom:ce,xValue:Ee,yValue:Me,yKey:u,xKey:d,capDefaults:{lengthRatioMultiplier:kD,lengthMax:kD},x:hg.x,y:hg.y,width:hg.width,height:hg.height,midPoint:{x:Bn.x+Bn.width/2,y:Bn.y+Bn.height/2},opacity:bt,topLeftCornerRadius:St!==Xt,topRightCornerRadius:Xt,bottomRightCornerRadius:St===Xt,bottomLeftCornerRadius:!Xt,clipBBox:lb,crisp:T,label:mt!=null?w({text:mt},_O({isUpward:Xt,isVertical:!St,placement:m.placement,padding:m.padding,rect:Bn})):void 0,missing:Me==null,focusable:!ce}},q=[],pe=[],fe=[],oe=(X,le,ae,Ee,Me,Ve,ce,de)=>{let H=M[X];if(H==null)return;let se=D[X],he=E!=null?Number(E[X]):void 0,qe=se>=0&&!Object.is(se,-0);if(!Number.isFinite(Ve)||he!=null&&!Number.isFinite(he))return;let Xe=se!=null?this.getLabelText(this.properties.label,{datum:a[X],value:he??se,xKey:d,yKey:u,xName:h,yName:p,legendItemName:g}):void 0,mt=he!=null&&he>se,bt=N({datum:a[X],datumIndex:X,valueIndex:le,xValue:H,yValue:he??se,cumulativeValue:he??Ve,phantom:!1,currY:he!=null?Me+he:Ve,prevY:Me,x:ae,width:Ee,isPositive:qe,yRange:Math.max(Me+(he??-1/0),ce),labelText:Xe,opacity:de,crossScale:mt?.6:void 0});if(pe.push(bt),fe.push(bt),he!=null){let qt=N({datum:a[X],datumIndex:X,valueIndex:le,xValue:H,yValue:he,cumulativeValue:he,phantom:!0,currY:Ve,prevY:Me,x:ae,width:Ee,isPositive:qe,yRange:ce,labelText:void 0,opacity:de,crossScale:void 0});q.push(qt)}},[be,xe]=l.range,re=xe-be,ve=s?.find(X=>X.maxRange>re);if(i.type==="grouped"){let X=v,le=t.hasColumnById(this,"yValue-start"),ae=le?t.resolveColumnById(this,"yValue-start",i):void 0,Ee=le?t.resolveColumnById(this,"yValue-end",i):void 0,Me=le?t.resolveProcessedDataIndexById(this,"yValue-range"):-1;for(let{datumIndex:Ve,valueIndex:ce,group:{aggregation:de}}of t.forEachGroupDatum(this,i)){let H=I(Ve),se=D[Ve],he=se>=0&&!Object.is(se,-0),qe=le?Number(ae?.[Ve]):0,Xe=le?Number(Ee?.[Ve]):se,mt=Xe;le&&(mt=de[Me][he?1:0]),oe(Ve,ce,H,X,qe,Xe,mt,1)}}else if(ve==null){let X=v,[le,ae]=this.visibleRange("xValue",o.range);i.input.count<1e3&&(le=0,ae=i.input.count);for(let Ee=le;Ee<ae;Ee+=1){let Me=I(Ee),Ve=Number(D[Ee]);oe(Ee,0,Me,X,0,Ve,Ve,1)}}else{let{indexData:X,indices:le}=ve,[ae,Ee]=this.visibleRange("xValue",o.range,le);for(let Me=ae;Me<Ee;Me+=1){let Ve=Me*yse,ce=X[Ve+gse],de=X[Ve+mse],H=X[Ve+fse],se=X[Ve+vse];if(ce===-1)continue;let he=I((ce+de)/2|0),qe=Math.abs(I(de)-I(ce))+v,Xe=M[se]!=null?Number(D[se]):NaN,mt=M[H]!=null?Number(D[H]):NaN;if(Xe>0){let bt=mt>=0?mt/Xe:1;oe(se,0,he,qe,0,Xe,Xe,bt)}if(mt<0){let bt=Xe<=0?Xe/mt:1;oe(H,1,he,qe,0,mt,mt,bt)}}}return{itemId:u,nodeData:q.length>0?[...q,...pe]:pe,labelData:fe,scales:this.calculateScaling(),visible:this.visible||R,groupScale:this.getScaling(this.groupScale)}}nodeFactory(){return new xn}getHighlightData(t,i){let n=t.find(s=>s.datum===i.datum&&!s.phantom);return n!=null?[n]:void 0}updateDatumSelection(t){return t.datumSelection.update(t.nodeData,void 0,i=>this.getDatumId(i))}getItemBaseStyle(t){let{properties:i}=this,{cornerRadius:n}=i,s=t?i.highlightStyle.item:void 0;return{fill:s?.fill??i.fill,fillOpacity:s?.fillOpacity??i.fillOpacity,stroke:s?.stroke??i.stroke,strokeWidth:s?.strokeWidth??this.getStrokeWidth(i.strokeWidth),strokeOpacity:s?.strokeOpacity??i.strokeOpacity,lineDash:s?.lineDash??i.lineDash??[],lineDashOffset:s?.lineDashOffset??i.lineDashOffset,cornerRadius:n}}getItemStyleOverrides(t,i,n,s,o,r){let{id:a,properties:l}=this,{xKey:c,yKey:d,itemStyler:u}=l;if(u==null)return;let{xDomain:h,yDomain:p}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));return this.cachedDatumCallback(li(t,r?"highlight":"node"),()=>u(w(A(w({seriesId:a},fa(i,c,d,h,p)),{xValue:n,yValue:s,highlighted:r}),o)))}updateDatumNodes(t){if(!this.properties.isValid())return;let{shadow:i}=this.properties,n=this.getCategoryDirection()==="x",s=this.getItemBaseStyle(t.isHighlight);t.datumSelection.each((o,r)=>{let a=this.getItemStyleOverrides(String(r.datumIndex),r.datum,r.xValue,r.yValue,s,t.isHighlight);o.opacity=r.opacity??0,Cp(o,s,a);let l=a?.cornerRadius??s.cornerRadius;o.topLeftCornerRadius=r.topLeftCornerRadius?l:0,o.topRightCornerRadius=r.topRightCornerRadius?l:0,o.bottomRightCornerRadius=r.bottomRightCornerRadius?l:0,o.bottomLeftCornerRadius=r.bottomLeftCornerRadius?l:0,o.visible=n?(r.clipBBox?.width??r.width)>0:(r.clipBBox?.height??r.height)>0,o.crisp=r.crisp,o.fillShadow=i})}updateLabelSelection(t){let i=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(i,n=>{n.pointerEvents=1})}updateLabelNodes(t){t.labelSelection.each((i,n)=>{DO(i,this.properties.label,n.label)})}getTooltipContent(t){let{id:i,dataModel:n,processedData:s,properties:o}=this,{xKey:r,xName:a,yKey:l,yName:c,legendItemName:d,stackGroup:u,tooltip:h}=o,p=this.getCategoryAxis(),g=this.getValueAxis();if(!n||!s||!p||!g)return;let{datumIndex:m}=t,f=s.dataSources.get(this.id)?.[m],v=n.resolveKeysById(this,"xValue",s)[m],y=n.resolveColumnById(this,"yValue-raw",s)[m];if(v==null)return;let C=this.getItemBaseStyle(!1);return Object.assign(C,this.getItemStyleOverrides(String(m),f,v,y,C,!1)),h.formatTooltip({heading:p.formatDatum(v),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:g.formatDatum(y)}]},w(w({seriesId:i,datum:f,title:c,xKey:r,xName:a,yKey:l,yName:c,legendItemName:d,stackGroup:u},C),this.getModuleTooltipParams()))}legendItemSymbol(){let{fill:t,stroke:i,strokeWidth:n,fillOpacity:s,strokeOpacity:o,lineDash:r,lineDashOffset:a}=this.properties;return{marker:{fill:t,fillOpacity:s,stroke:i,strokeWidth:n,strokeOpacity:o,lineDash:r,lineDashOffset:a}}}getLegendData(t){let{showInLegend:i}=this.properties;if(t!=="category"||!this.properties.isValid())return[];let{id:n,ctx:{legendManager:s},visible:o}=this,{yKey:r,yName:a,legendItemName:l}=this.properties;return[{legendType:"category",id:n,itemId:r,seriesId:n,enabled:o&&s.getItemEnabled({seriesId:n,itemId:r}),label:{text:l??a??r},symbol:this.legendItemSymbol(),legendItemName:l,hideInLegend:!i}]}animateEmptyUpdateReady({datumSelection:t,labelSelection:i,annotationSelections:n}){let s=Rp(Ip(this.isVertical(),this.axes,"normal"));$t(this.id,"nodes",this.ctx.animationManager,[t],s),ot(this,"labels",this.ctx.animationManager,i),ot(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(t){let{datumSelection:i,labelSelection:n,annotationSelections:s,previousContextData:o}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);let r=this.processedData?.reduced?.diff?.[this.id];r==null&&this.processedData?.reduced?.diff!=null&&(r={changed:!0,added:new Set(Array.from(i,({datum:u})=>this.getDatumId(u))),updated:new Set,removed:new Set,moved:new Set});let a=o==null?"fade":"normal",l=Rp(Ip(this.isVertical(),this.axes,a));$t(this.id,"nodes",this.ctx.animationManager,[i],l,(u,h)=>this.getDatumId(h),r);let c=o!=null&&(!Cd(t.contextData.scales.x,o.scales.x)||!Cd(t.contextData.scales.y,o.scales.y)||!Cd(t.contextData.groupScale,t.previousContextData.groupScale));((r?.changed??!1)||c)&&(ot(this,"labels",this.ctx.animationManager,n),ot(this,"annotations",this.ctx.animationManager,...s))}getDatumId(t){return li(t.xValue,t.valueIndex,t.phantom)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:t}){let i=this.contextNodeData?.nodeData[t].clipBBox;return hD(this,i)}};return e.className="BarSeries",e.type="bar",e})(),IO={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:e=>new EO(e),stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:sO([{type:"number",position:"left"},{type:"category",position:"bottom"}],e=>e?.direction==="horizontal"),themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$if:[{$or:[{$eq:[{$path:"./placement"},"outside-start"]},{$eq:[{$path:"./placement"},"outside-end"]}]},{$ref:"textColor"},{$ref:"backgroundColor"}]},placement:"inside-center"},shadow:{enabled:!1,color:Ra,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:lg},pD=class extends tn{constructor(){super(...arguments),this.maxSize=30}};b([x($),te()],pD.prototype,"maxSize",2);b([x(py,{optional:!0}),te()],pD.prototype,"domain",2);var RO=class extends Si{constructor(){super(...arguments),this.placement="top"}};b([x(KS)],RO.prototype,"placement",2);var gt=class extends Ir{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new RO,this.tooltip=new nn,this.marker=new pD}};b([x(B)],gt.prototype,"xKey",2);b([x(B)],gt.prototype,"yKey",2);b([x(B)],gt.prototype,"sizeKey",2);b([x(B,{optional:!0})],gt.prototype,"labelKey",2);b([x(B,{optional:!0})],gt.prototype,"colorKey",2);b([x(B,{optional:!0})],gt.prototype,"xFilterKey",2);b([x(B,{optional:!0})],gt.prototype,"yFilterKey",2);b([x(B,{optional:!0})],gt.prototype,"sizeFilterKey",2);b([x(B,{optional:!0})],gt.prototype,"xName",2);b([x(B,{optional:!0})],gt.prototype,"yName",2);b([x(B,{optional:!0})],gt.prototype,"sizeName",2);b([x(B,{optional:!0})],gt.prototype,"labelName",2);b([x(B,{optional:!0})],gt.prototype,"colorName",2);b([x(py,{optional:!0})],gt.prototype,"colorDomain",2);b([x(Qn)],gt.prototype,"colorRange",2);b([x(B,{optional:!0})],gt.prototype,"title",2);b([Pt("marker.shape")],gt.prototype,"shape",2);b([Pt("marker.size")],gt.prototype,"size",2);b([Pt("marker.maxSize")],gt.prototype,"maxSize",2);b([Pt("marker.domain",{optional:!0})],gt.prototype,"domain",2);b([Pt("marker.fill",{optional:!0})],gt.prototype,"fill",2);b([Pt("marker.fillOpacity")],gt.prototype,"fillOpacity",2);b([Pt("marker.stroke",{optional:!0})],gt.prototype,"stroke",2);b([Pt("marker.strokeWidth")],gt.prototype,"strokeWidth",2);b([Pt("marker.strokeOpacity")],gt.prototype,"strokeOpacity",2);b([Pt("marker.lineDash")],gt.prototype,"lineDash",2);b([Pt("marker.lineDashOffset")],gt.prototype,"lineDashOffset",2);b([Pt("marker.itemStyler",{optional:!0})],gt.prototype,"itemStyler",2);b([x(ee)],gt.prototype,"label",2);b([x(ee)],gt.prototype,"tooltip",2);var bse=class extends OM{constructor(e,t,i,n){super(e,t,i,n),this.sizeKey=n.properties.sizeKey}},Cse=(()=>{let e=class extends _a{constructor(t){super({moduleCtx:t,directionKeys:Wl,directionNames:Ul,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:Ar,marker:cg},usesPlacedLabels:!0}),this.NodeEvent=bse,this.clipFocusBox=!1,this.properties=new gt,this.sizeScale=new Qs,this.colorScale=new wa}get pickModeAxis(){return"main-category"}processData(t){return Pe(this,null,function*(){if(!this.properties.isValid()||this.data==null||!this.visible)return;let i=this.axes.x?.scale,n=this.axes.y?.scale,{xScaleType:s,yScaleType:o}=this.getScaleInformation({xScale:i,yScale:n}),r=this.colorScale.type,a=this.sizeScale.type,{xKey:l,yKey:c,sizeKey:d,xFilterKey:u,yFilterKey:h,sizeFilterKey:p,labelKey:g,colorDomain:m,colorRange:f,colorKey:v,marker:y}=this.properties,{dataModel:C,processedData:S}=yield this.requestDataModel(t,this.data,{props:[je(l,s,{id:"xValue"}),je(c,o,{id:"yValue"}),...u!=null?[je(u,s,{id:"xFilterValue"})]:[],...h!=null?[je(h,o,{id:"yFilterValue"})]:[],...p!=null?[je(p,a,{id:"sizeFilterValue"})]:[],je(d,a,{id:"sizeValue"}),...v?[je(v,r,{id:"colorValue"})]:[],...g?[je(g,"band",{id:"labelValue"})]:[]]}),M=C.resolveProcessedDataIndexById(this,"sizeValue"),D=S.domain.values[M]??[];if(this.sizeScale.domain=y.domain?y.domain:D,v){let E=C.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=m??S.domain.values[E]??[],this.colorScale.range=f,this.colorScale.update()}this.animationState.transition("updateData")})}xCoordinateRange(t,i,n){let{properties:s,sizeScale:o}=this,{size:r,sizeKey:a}=s,l=this.axes.x.scale.convert(t),c=a!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,u=.5*(c!=null?o.convert(c[n]):r)*i;return[l-u,l+u]}yCoordinateRange(t,i,n){let{properties:s,sizeScale:o}=this,{size:r,sizeKey:a}=s,l=this.axes.y.scale.convert(t[0]),c=a!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,u=.5*(c!=null?o.convert(c[n]):r)*i;return[l-u,l+u]}getSeriesDomain(t){let{dataModel:i,processedData:n}=this;if(!n||!i)return[];let s={x:"xValue",y:"yValue"},o=s[t],r=i.resolveProcessedDataDefById(this,o),a=i.getDomain(this,o,"value",n);if(r?.def.type==="value"&&r?.def.valueType==="category")return a;let c=s[t==="x"?"y":"x"],d=this.domainForClippedRange(t,[o],c,!1);return Ln(_r(d))}getSeriesRange(t,i){return this.domainForVisibleRange("y",["yValue"],"xValue",i,!1)}getVisibleItems(t,i,n){return this.countVisibleItems("xValue",["yValue"],t,i,n)}createNodeData(){let{axes:t,dataModel:i,processedData:n,colorScale:s,sizeScale:o,visible:r}=this,{xKey:a,yKey:l,sizeKey:c,xFilterKey:d,yFilterKey:u,sizeFilterKey:h,labelKey:p,xName:g,yName:m,sizeName:f,labelName:v,label:y,colorKey:C,marker:S}=this.properties,{placement:M}=y,D=xi.anchor(S.shape),E=t.x,R=t.y;if(!(i&&n&&r&&E&&R))return;let I=i.resolveColumnById(this,"xValue",n),T=i.resolveColumnById(this,"yValue",n),F=c!=null?i.resolveColumnById(this,"sizeValue",n):void 0,N=C!=null?i.resolveColumnById(this,"colorValue",n):void 0,q=p!=null?i.resolveColumnById(this,"labelValue",n):void 0,pe=d!=null?i.resolveColumnById(this,"xFilterValue",n):void 0,fe=u!=null?i.resolveColumnById(this,"yFilterValue",n):void 0,oe=h!=null?i.resolveColumnById(this,"sizeFilterValue",n):void 0,be=E.scale,xe=R.scale,re=(be.bandwidth??0)/2,ve=(xe.bandwidth??0)/2,X=[];o.range=[S.size,S.maxSize];let le=y.getFont(),ae=Sr.getMeasurer({font:le});return n.dataSources.get(this.id)?.forEach((Ee,Me)=>{let Ve=I[Me],ce=T[Me],de=F?.[Me],H=be.convert(Ve)+re,se=xe.convert(ce)+ve,he;pe!=null&&fe!=null&&(he=pe[Me]===Ve&&fe[Me]===ce,oe!=null&&he&&(he=oe[Me]===de));let qe=this.getLabelText(y,{value:q!=null?q[Me]:ce,datum:Ee,xKey:a,yKey:l,sizeKey:c,labelKey:p,xName:g,yName:m,sizeName:f,labelName:v}),Xe=ae.measureText(String(qe)),mt=de!=null?o.convert(de):S.size,bt=N!=null?s.convert(N[Me]):void 0;X.push({series:this,itemId:l,yKey:l,xKey:a,datum:Ee,datumIndex:Me,xValue:Ve,yValue:ce,sizeValue:de,point:{x:H,y:se,size:mt},midPoint:{x:H,y:se},fill:bt,label:w({text:qe},Xe),anchor:D,placement:M,selected:he})}),{itemId:l,nodeData:X,labelData:X,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.isLabelEnabled()?this.contextNodeData?.labelData??[]:[]}updateMarkerSelection(t){let{nodeData:i,markerSelection:n}=t;this.properties.marker.isDirty()&&(n.clear(),n.cleanup());let s=this.properties.marker.enabled?i:[];return n.update(s,void 0,o=>li([o.xValue,o.yValue,o.label.text]))}getMarkerItemBaseStyle(t){let{properties:i}=this,{marker:n}=i,s=t?i.highlightStyle.item:void 0;return{fill:s?.fill??n.fill,fillOpacity:s?.fillOpacity??n.fillOpacity,stroke:s?.stroke??n.stroke,strokeWidth:s?.strokeWidth??n.strokeWidth,strokeOpacity:s?.strokeOpacity??n.strokeOpacity,lineDash:s?.lineDash??n.lineDash,lineDashOffset:s?.lineDashOffset??n.lineDashOffset}}getMarkerItemStyleOverrides(t,i,n,s){let{id:o,properties:r}=this,{xKey:a,yKey:l,sizeKey:c,labelKey:d,marker:u}=r,{itemStyler:h}=u;if(h!=null)return this.cachedDatumCallback(li(t,s?"highlight":"node"),()=>h(w({seriesId:o,datum:i,xKey:a,yKey:l,sizeKey:c,labelKey:d,highlighted:s},n)))}updateMarkerNodes(t){let{markerSelection:i,isHighlight:n}=t,{xKey:s,yKey:o,sizeKey:r,labelKey:a,marker:l}=this.properties,{size:c,shape:d,fill:u,fillOpacity:h,stroke:p,strokeWidth:g,strokeOpacity:m,lineDash:f,lineDashOffset:v}=He(n&&this.properties.highlightStyle.item,l.getStyle()),y={size:c,shape:d,fill:u,fillOpacity:h,stroke:p,strokeWidth:g,strokeOpacity:m,lineDash:f,lineDashOffset:v};this.sizeScale.range=[l.size,l.maxSize],i.each((C,S)=>{this.updateMarkerStyle(C,l,{datum:S,highlighted:n,xKey:s,yKey:o,sizeKey:r,labelKey:a},y,{selected:S.selected})}),n||this.properties.marker.markClean()}updatePlacedLabelData(t){this.labelSelection.update(t.map(i=>A(w({},i.datum),{point:{x:i.x,y:i.y,size:i.datum.point.size}})),i=>{i.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(t){let{label:i}=this.properties;t.labelSelection.each((n,s)=>{n.text=s.label.text,n.fill=i.color,n.x=s.point?.x??0,n.y=s.point?.y??0,n.fontStyle=i.fontStyle,n.fontWeight=i.fontWeight,n.fontSize=i.fontSize,n.fontFamily=i.fontFamily,n.textAlign="left",n.textBaseline="top"})}getTooltipContent(t){let{id:i,dataModel:n,processedData:s,axes:o,properties:r}=this,{xKey:a,xName:l,yKey:c,yName:d,sizeKey:u,sizeName:h,labelKey:p,labelName:g,title:m,tooltip:f}=r,v=o.x,y=o.y;if(!n||!s||!v||!y)return;let{datumIndex:C}=t,S=s.dataSources.get(this.id)?.[C],M=n.resolveColumnById(this,"xValue",s)[C],D=n.resolveColumnById(this,"yValue",s)[C];if(M==null)return;let E=[{label:l,fallbackLabel:a,value:v.formatDatum(M)},{label:d,fallbackLabel:c,value:y.formatDatum(D)}];if(u!=null){let I=n.resolveColumnById(this,"sizeValue",s)[C];E.push({label:h,fallbackLabel:u,value:String(I)})}let R=this.getMarkerItemBaseStyle(!1);return Object.assign(R,this.getMarkerItemStyleOverrides(String(C),S,R,!1)),f.formatTooltip({title:m,symbol:this.legendItemSymbol(),data:E},w(w({seriesId:i,datum:S,title:c,xKey:a,xName:l,yKey:c,yName:d,sizeKey:u,sizeName:h,labelKey:p,labelName:g},R),this.getModuleTooltipParams()))}legendItemSymbol(){let{marker:t}=this.properties,{shape:i,fill:n,stroke:s,fillOpacity:o,strokeOpacity:r,strokeWidth:a,lineDash:l,lineDashOffset:c}=t;return{marker:{shape:i,fill:n??"rgba(0, 0, 0, 0)",stroke:s??"rgba(0, 0, 0, 0)",fillOpacity:o,strokeOpacity:r,strokeWidth:a,lineDash:l,lineDashOffset:c}}}getLegendData(){if(!this.properties.isValid())return[];let{id:t,ctx:{legendManager:i},visible:n}=this,{yKey:s,yName:o,title:r}=this.properties;return[{legendType:"category",id:t,itemId:s,seriesId:t,enabled:n&&i.getItemEnabled({seriesId:t,itemId:s}),label:{text:r??o??s},symbol:this.legendItemSymbol()}]}animateEmptyUpdateReady({markerSelection:t,labelSelection:i}){sD(this,this.ctx.animationManager,t),ot(this,"labels",this.ctx.animationManager,i)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new _e}getFormattedMarkerStyle(t){let{xKey:i,yKey:n,sizeKey:s,labelKey:o}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:i,yKey:n,sizeKey:s,labelKey:o,highlighted:!1})}computeFocusBounds(t){return dg(this,t)}};return e.className="BubbleSeries",e.type="bubble",e})(),wse={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:e=>new Cse(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}},paletteFactory:lg},vi=class extends Ir{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new so,this.label=new Si,this.tooltip=new nn}};b([x(B)],vi.prototype,"xKey",2);b([x(B,{optional:!0})],vi.prototype,"yKey",2);b([x(B,{optional:!0})],vi.prototype,"xName",2);b([x(B,{optional:!0})],vi.prototype,"yName",2);b([x(rt,{optional:!0})],vi.prototype,"fill",2);b([x(dt)],vi.prototype,"fillOpacity",2);b([x(rt,{optional:!0})],vi.prototype,"stroke",2);b([x($)],vi.prototype,"strokeWidth",2);b([x(dt)],vi.prototype,"strokeOpacity",2);b([x(To)],vi.prototype,"lineDash",2);b([x($)],vi.prototype,"lineDashOffset",2);b([x($)],vi.prototype,"cornerRadius",2);b([x(me)],vi.prototype,"areaPlot",2);b([x(Np,{optional:!0})],vi.prototype,"bins",2);b([x(xt(["count","sum","mean"],"a histogram aggregation"))],vi.prototype,"aggregation",2);b([x($,{optional:!0})],vi.prototype,"binCount",2);b([x(ee)],vi.prototype,"shadow",2);b([x(ee)],vi.prototype,"label",2);b([x(ee)],vi.prototype,"tooltip",2);var zL=10,xse=(()=>{let e=class extends _a{constructor(t){super({moduleCtx:t,directionKeys:Wl,directionNames:Ul,pickModes:[1,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:Ap,label:Ar}}),this.properties=new vi,this.calculatedBins=[]}deriveBins(t){let i=oM(t[0],t[1],zL),n=gp(t[0],t[1],zL),[s]=i,o=r=>[r,r+n];return[[s-n,s],...i.map(o)]}calculateNiceBins(t,i){let n=Math.floor(t[0]),s=t[1],o=i||1,{start:r,binSize:a}=this.calculateNiceStart(n,s,o);return this.getBins(r,s,a,o)}getBins(t,i,n,s){let o=[],r=this.calculatePrecision(n);for(let a=0;a<s;a++){let l=Math.round((t+a*n)*r)/r,c=Math.round((t+(a+1)*n)*r)/r;a===s-1&&(c=Math.max(c,i)),o[a]=[l,c]}return o}calculatePrecision(t){let i=10;if(isFinite(t)&&t>0)for(;t<1;)i*=10,t*=10;return i}calculateNiceStart(t,i,n){let s=Math.abs(i-t)/n,o=Math.floor(Math.log10(s)),r=Math.pow(10,o);return{start:Math.floor(t/r)*r,binSize:s}}processData(t){return Pe(this,null,function*(){this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));let{xKey:i,yKey:n,areaPlot:s,aggregation:o}=this.properties,r=this.axes.x?.scale,a=this.axes.y?.scale,{xScaleType:l,yScaleType:c}=this.getScaleInformation({yScale:a,xScale:r}),d=[Js(i,l),jP];if(n){let h=SS("groupAgg");o==="count"||(o==="sum"?h=TP("groupAgg"):o==="mean"&&(h=LP("groupAgg"))),s&&(h=MS("groupAgg",h)),d.push(je(n,c,{invalidValue:void 0}),h)}else{d.push(zP("count"));let h=SS("groupAgg");s&&(h=MS("groupAgg",h)),d.push(h)}let u=h=>{let p=Ln(h.domain.keys[0]);if(p.length===0)return h.domain.groups=[],()=>[];let g=Ms(this.properties.binCount)?this.calculateNiceBins(p,this.properties.binCount):this.properties.bins??this.deriveBins(p),m=g.length;return this.calculatedBins=[...g],f=>{let v=f[0];if(Rd(v)&&(v=v.getTime()),!Ms(v))return[];for(let y=0;y<m;y++){let C=g[y];if(v>=C[0]&&v<C[1]||y===m-1&&v<=C[1])return C}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&d.push(Vd(this.id,this.processedData,!1)),yield this.requestDataModel(t,this.data,{props:d,groupByFn:u}),this.animationState.transition("updateData")})}xCoordinateRange(){return[NaN,NaN]}yCoordinateRange(){return[NaN,NaN]}getSeriesDomain(t){let{processedData:i,dataModel:n}=this;if(!i||!n||!this.calculatedBins.length)return[];let s=n.getDomain(this,"groupAgg","aggregate",i),o=this.calculatedBins?.[0][0],r=this.calculatedBins?.[(this.calculatedBins?.length??0)-1][1];return Ln(t==="x"?[o,r]:s)}getSeriesRange(t,[i,n]){let{dataModel:s,processedData:o}=this;if(!s||o?.type!=="grouped")return[NaN,NaN];let r=this.axes.x.scale,a=0,l=-1/0;return o.groups.forEach(({keys:c,aggregation:d})=>{let[[u,h]=[0,0]]=d,[p,g]=c,[m,f]=Ti([r.convert(p),r.convert(g)]);if(f>=i&&m<=n){let v=u+h;l=Math.max(l,v)}}),a>l?[NaN,NaN]:[a,l]}createNodeData(){let{id:t,axes:i,processedData:n,dataModel:s}=this,o=i.x,r=i.y;if(!o||!r||!s)return;let{scale:a}=o,{scale:l}=r,{xKey:c,yKey:d,xName:u,yName:h}=this.properties,p=this.properties.label.formatter??(f=>String(f.value)),g=[],m={itemId:this.properties.yKey??this.id,nodeData:g,labelData:g,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||n==null||n.type!=="grouped"||(n.groups.forEach((f,v)=>{let{keys:y,datumIndices:C,aggregation:S}=f,[[M,D]=[0,0]]=S,E=C.length,R=y,[I,T]=R,F=[...s.forEachDatum(this,n,f)],N=a.convert(I),q=a.convert(T),pe=M+D,fe=l.convert(0),oe=l.convert(pe),be=Math.abs(q-N),xe=Math.abs(oe-fe),re=Math.min(N,q),ve=Math.min(fe,oe),X;pe!==0&&(X={x:re+be/2,y:ve+xe/2,text:this.cachedDatumCallback(li(v,"label"),()=>p({value:pe,datum:F,seriesId:t,xKey:c,yKey:d,xName:u,yName:h}))??String(pe)});let le={x:re+be/2,y:ve+xe/2},ae=r.isReversed();g.push({series:this,datumIndex:v,datum:F,aggregatedValue:pe,frequency:E,domain:R,yKey:d,xKey:c,x:re,y:ve,xValue:N,yValue:oe,width:be,height:xe,midPoint:le,topLeftCornerRadius:!ae,topRightCornerRadius:!ae,bottomRightCornerRadius:ae,bottomLeftCornerRadius:ae,label:X,crisp:!0})}),g.sort((f,v)=>f.x-v.x)),m}nodeFactory(){return new xn}updateDatumSelection(t){let{nodeData:i,datumSelection:n}=t;return n.update(i,void 0,s=>s.domain.join("_"))}getItemBaseStyle(t){let{properties:i}=this,n=t?i.highlightStyle.item:void 0;return{fill:n?.fill??i.fill,fillOpacity:n?.fillOpacity??i.fillOpacity,stroke:n?.stroke??i.stroke,strokeWidth:n?.strokeWidth??this.getStrokeWidth(i.strokeWidth),strokeOpacity:n?.strokeOpacity??i.strokeOpacity,lineDash:n?.lineDash??i.lineDash,lineDashOffset:n?.lineDashOffset??i.lineDashOffset,cornerRadius:i.cornerRadius}}updateDatumNodes(t){let{isHighlight:i}=t,{shadow:n}=this.properties,s=this.getItemBaseStyle(i);t.datumSelection.each((o,r)=>{let{cornerRadius:a}=s,{topLeftCornerRadius:l,topRightCornerRadius:c,bottomRightCornerRadius:d,bottomLeftCornerRadius:u}=r;Cp(o,s),o.topLeftCornerRadius=l?a:0,o.topRightCornerRadius=c?a:0,o.bottomRightCornerRadius=d?a:0,o.bottomLeftCornerRadius=u?a:0,o.crisp=r.crisp,o.fillShadow=n,o.visible=r.height>0})}updateLabelSelection(t){let{labelData:i,labelSelection:n}=t;return n.update(i,s=>{s.pointerEvents=1,s.textAlign="center",s.textBaseline="middle"})}updateLabelNodes(t){let{fontStyle:i,fontWeight:n,fontFamily:s,fontSize:o,color:r}=this.properties.label,a=this.isLabelEnabled();t.labelSelection.each((l,c)=>{a&&c?.label?(l.text=c.label.text,l.x=c.label.x,l.y=c.label.y,l.fontStyle=i,l.fontWeight=n,l.fontFamily=s,l.fontSize=o,l.fill=r,l.visible=!0):l.visible=!1})}initQuadTree(t){let{value:i}=this.contentGroup.children().next();i&&lD(t,i.children())}pickNodeClosestDatum(t){return cD(this,t)}getTooltipContent(t){let{id:i,dataModel:n,processedData:s,axes:o,properties:r,ctx:{localeManager:a}}=this,{xKey:l,xName:c,yKey:d,yName:u,tooltip:h}=r,p=o.x,g=o.y;if(!n||s?.type!=="grouped"||!p||!g)return;let m=t.datumIndex,f=s.groups[m],{aggregation:v,datumIndices:y,keys:C}=f,[[S,M]=[0,0]]=v,D=y.length,E=C,[R,I]=E,T=S+M,F={data:[...n.forEachDatum(this,s,f)],aggregatedValue:T,frequency:D,domain:E},N=[{label:c,fallbackLabel:l,value:`${p.formatDatum(R)} - ${p.formatDatum(I)}`},{label:a.t("seriesHistogramTooltipFrequency"),value:g.formatDatum(D)}];if(d!=null){let q;switch(r.aggregation){case"sum":q=a.t("seriesHistogramTooltipSum",{yName:u});break;case"mean":q=a.t("seriesHistogramTooltipMean",{yName:u});break;case"count":q=a.t("seriesHistogramTooltipCount",{yName:u});break}N.push({label:q,value:g.formatDatum(T)})}return h.formatTooltip({symbol:this.legendItemSymbol(),data:N},w({seriesId:i,datum:F,title:u,xKey:l,xName:c,yKey:d,yName:u,xRange:[R,I],frequency:D},this.getItemBaseStyle(!1)))}legendItemSymbol(){let{fill:t,fillOpacity:i,stroke:n,strokeWidth:s,strokeOpacity:o,lineDash:r,lineDashOffset:a}=this.properties;return{marker:{fill:t??"rgba(0, 0, 0, 0)",stroke:n??"rgba(0, 0, 0, 0)",fillOpacity:i,strokeOpacity:o,strokeWidth:s,lineDash:r,lineDashOffset:a}}}getLegendData(t){if(t!=="category")return[];let{id:i,ctx:{legendManager:n},visible:s}=this,{xKey:o,yName:r,showInLegend:a}=this.properties;return[{legendType:"category",id:i,itemId:o,seriesId:i,enabled:s&&n.getItemEnabled({seriesId:i,itemId:o}),label:{text:r??o??"Frequency"},symbol:this.legendItemSymbol(),hideInLegend:!a}]}animateEmptyUpdateReady({datumSelection:t,labelSelection:i}){let n=Rp(Ip(!0,this.axes,"normal"));$t(this.id,"datums",this.ctx.animationManager,[t],n),ot(this,"labels",this.ctx.animationManager,i)}animateWaitingUpdateReady(t){let i=this.processedData?.reduced?.diff?.[this.id],n=Rp(Ip(!0,this.axes,"normal"));$t(this.id,"datums",this.ctx.animationManager,[t.datumSelection],n,(s,o)=>li(o.domain),i),ot(this,"labels",this.ctx.animationManager,t.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:t}){return hD(this,this.contextNodeData?.nodeData[t])}};return e.className="HistogramSeries",e.type="histogram",e})(),Sse={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:e=>new xse(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}},shadow:{enabled:!1,color:Ra,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:e})=>{let{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}}},yi=class extends Ir{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new $d,this.marker=new tn,this.label=new Si,this.tooltip=new nn,this.connectMissingData=!1,this.sparklineMode=!1}};b([x(B)],yi.prototype,"xKey",2);b([x(B)],yi.prototype,"yKey",2);b([x(B,{optional:!0})],yi.prototype,"xName",2);b([x(B,{optional:!0})],yi.prototype,"yName",2);b([x(B,{optional:!0})],yi.prototype,"yFilterKey",2);b([x(B,{optional:!0})],yi.prototype,"stackGroup",2);b([x($,{optional:!0})],yi.prototype,"normalizedTo",2);b([x(B,{optional:!0})],yi.prototype,"title",2);b([x(rt)],yi.prototype,"stroke",2);b([x($)],yi.prototype,"strokeWidth",2);b([x(dt)],yi.prototype,"strokeOpacity",2);b([x(To)],yi.prototype,"lineDash",2);b([x($)],yi.prototype,"lineDashOffset",2);b([x(ee)],yi.prototype,"interpolation",2);b([x(ee)],yi.prototype,"marker",2);b([x(ee)],yi.prototype,"label",2);b([x(ee)],yi.prototype,"tooltip",2);b([x(me)],yi.prototype,"connectMissingData",2);b([x(me)],yi.prototype,"sparklineMode",2);var Mse=.25,AO=(()=>{let e=class extends _a{constructor(t){super({moduleCtx:t,directionKeys:Wl,directionNames:Ul,hasMarkers:!0,pickModes:[2,1,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:aD({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Ar,marker:(i,n)=>w(w({},cg(i)),Ep(i,n))}}),this.clipFocusBox=!1,this.properties=new yi,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":"main-category"}processData(t){return Pe(this,null,function*(){if(this.data==null||!this.properties.isValid())return;let{data:i,visible:n,seriesGrouping:{groupIndex:s=this.id,stackCount:o=0}={}}=this,{xKey:r,yKey:a,yFilterKey:l,connectMissingData:c,normalizedTo:d}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=this.axes.x?.scale,p=this.axes.y?.scale,{isContinuousX:g,xScaleType:m,yScaleType:f}=this.getScaleInformation({xScale:h,yScale:p}),v=o>=1||d!=null,y={invalidValue:null};c&&v&&(y.invalidValue=0),v&&!n&&(y.forceValue=0);let C=[];if((!g||v)&&C.push(Js(r,m,{id:"xKey"})),C.push(je(r,m,{id:"xValue"}),je(a,f,A(w({id:"yValueRaw"},y),{invalidValue:void 0}))),l!=null&&C.push(je(l,f,{id:"yFilterRaw"})),v){let D=[`line-stack-${s}-yValues`,`line-stack-${s}-yValues-trailing`,`line-stack-${s}-yValues-marker`];C.push(...va(a,"window","current",A(w({id:"yValueEnd"},y),{groupId:D[0]}),f),...va(a,"window-trailing","current",A(w({id:"yValueStart"},y),{groupId:D[1]}),f),...va(a,"normal","current",A(w({id:"yValueCumulative"},y),{groupId:D[2]}),f)),vv(d)&&C.push(Ly([D[0],D[1],D[2]],d))}u&&(C.push(zd(g?["xValue"]:void 0)),this.processedData&&C.push(Vd(this.id,this.processedData)));let{dataModel:S,processedData:M}=yield this.requestDataModel(t,i,{props:C,groupByKeys:v,groupByData:!v});this.dataAggregationFilters=this.aggregateData(S,M),this.animationState.transition("updateData")})}xCoordinateRange(t,i){let{marker:n}=this.properties,s=this.axes.x.scale.convert(t),o=n.enabled?.5*n.size*i:0;return[s-o,s+o]}yCoordinateRange(t,i){let{marker:n}=this.properties,s=this.axes.y.scale.convert(t[0]),o=n.enabled?.5*n.size*i:0;return[s-o,s+o]}getSeriesDomain(t){let{dataModel:i,processedData:n}=this;if(!i||!n)return[];if(t==="x"){let r=i.resolveProcessedDataDefById(this,"xValue"),a=i.getDomain(this,"xValue","value",n);return r?.def.type==="value"&&r.def.valueType==="category"?a:Ln(_r(a))}let s=this.dataModel?.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw",o=this.domainForClippedRange("y",[s],"xValue",!0);return Ln(o)}getSeriesRange(t,i){let n=this.dataModel?.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.domainForVisibleRange("y",[n],"xValue",i,!0)}getVisibleItems(t,i,n){let s=this.dataModel?.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.countVisibleItems("xValue",[s],t,i,n)}aggregateData(t,i){}createNodeData(){let{dataModel:t,processedData:i,axes:n,dataAggregationFilters:s}=this,o=n.x,r=n.y;if(!t||!i||!o||!r)return;let{xKey:a,yKey:l,yFilterKey:c,xName:d,yName:u,marker:h,label:p,connectMissingData:g,interpolation:m,legendItemName:f}=this.properties,v=this.dataModel?.hasColumnById(this,"yValueEnd"),y=o.scale,C=r.scale,S=(y.bandwidth??0)/2,M=(C.bandwidth??0)/2,D=h.enabled?h.size:0,E=i.dataSources.get(this.id)??[],R=t.resolveColumnById(this,"xValue",i),I=t.resolveColumnById(this,"yValueRaw",i),T=v?t.resolveColumnById(this,"yValueEnd",i):void 0,F=v?t.resolveColumnById(this,"yValueCumulative",i):I,N=c!=null?t.resolveColumnById(this,"yFilterRaw",i):void 0,q=H=>y.convert(R[H])+S,pe=H=>C.convert(F[H])+M,fe={lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},oe=[],be,xe=H=>{let se=E[H],he=R[H],qe=I[H],Xe=T?.[H],mt=N?.[H],bt=q(H),qt=pe(H);if(!Number.isFinite(bt))return;if(qe!=null){let di=p.enabled?this.getLabelText(p,{value:qe,datum:se,xKey:a,yKey:l,xName:d,yName:u,legendItemName:f}):void 0;oe.push({series:this,datum:se,datumIndex:H,yKey:l,xKey:a,point:{x:bt,y:qt,size:D},midPoint:{x:bt,y:qt},cumulativeValue:Xe,yValue:qe,xValue:he,capDefaults:fe,labelText:di,selected:mt})}if(be==null)return;let Xt=be[be.length-1];if(qe!=null){let di={point:{x:bt,y:qt},xDatum:he,yDatum:qe};Array.isArray(Xt)?Xt.push(di):Xt!=null?(Xt.skip+=1,be.push([di])):be.push([di])}else g||(Array.isArray(Xt)||Xt==null?be.push({skip:0}):Xt.skip+=1)},[re,ve]=y.range,X=ve-re,ae=s?.find(H=>H.maxRange>X)?.indices,[Ee,Me]=this.visibleRange("xValue",o.range,ae);Ee=Math.max(Ee-1,0),Me=Math.min(Me+1,ae?.length??R.length),i.input.count<1e3&&(Ee=0,Me=i.input.count),ae==null&&(be=[]);for(let H=Ee;H<Me;H+=1)xe(ae?.[H]??H);let Ve=be?.flatMap(H=>Array.isArray(H)?Kv(H,m):[]),ce=Ve!=null?{itemId:l,spans:Ve}:void 0,de=N?.some((H,se)=>H===I[se])??!1;return{itemId:l,nodeData:oe,labelData:oe,strokeData:ce,scales:this.calculateScaling(),visible:this.visible,crossFiltering:de}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(t){let{paths:[i],opacity:n,visible:s,animationEnabled:o}=t,r=this.contextNodeData?.crossFiltering===!0;i.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:n,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity*(r?Mse:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),o||(i.visible=s),qv(this,i)}getMarkerItemBaseStyle(t){let{properties:i}=this,{marker:n}=i,s=t?i.highlightStyle.item:void 0;return{size:n.size,shape:n.shape,fill:s?.fill??n.fill,fillOpacity:s?.fillOpacity??n.fillOpacity,stroke:s?.stroke??n.stroke,strokeWidth:s?.strokeWidth??n.strokeWidth,strokeOpacity:s?.strokeOpacity??n.strokeOpacity,lineDash:s?.lineDash??n.lineDash,lineDashOffset:s?.lineDashOffset??n.lineDashOffset}}getMarkerItemStyleOverrides(t,i,n,s){let{id:o,properties:r}=this,{xKey:a,yKey:l,marker:c}=r,{itemStyler:d}=c;if(d!=null)return this.cachedDatumCallback(li(t,s?"highlight":"node"),()=>{let u=this.getSeriesDomain("x"),h=this.getSeriesDomain("y");return d(w(A(w({seriesId:o},fa(i,a,l,u,h)),{highlighted:s}),n))})}updateMarkerSelection(t){let{nodeData:i}=t,{markerSelection:n}=t;return i=this.properties.marker.enabled||this.contextNodeData?.crossFiltering===!0?i:[],this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(i,void 0,o=>li(o.xValue))}updateMarkerNodes(t){let{markerSelection:i,isHighlight:n}=t,{xKey:s,yKey:o,stroke:r,strokeWidth:a,strokeOpacity:l,marker:c,highlightStyle:d}=this.properties,u=this.getSeriesDomain("x"),h=this.getSeriesDomain("y"),p=He(n&&d.item,c.getStyle(),{stroke:r,strokeWidth:a,strokeOpacity:l}),g=this.ctx.animationManager.isSkipped();i.each((m,f)=>{this.updateMarkerStyle(m,c,A(w({},fa(f,s,o,u,h)),{highlighted:n}),p,{applyTranslation:g,selected:f.selected})}),n||c.markClean()}updateLabelSelection(t){return t.labelSelection.update(this.isLabelEnabled()?t.labelData:[])}updateLabelNodes(t){let{enabled:i,fontStyle:n,fontWeight:s,fontSize:o,fontFamily:r,color:a}=this.properties.label;t.labelSelection.each((l,c)=>{i&&c?.labelText?(l.fontStyle=n,l.fontWeight=s,l.fontSize=o,l.fontFamily=r,l.textAlign="center",l.textBaseline="bottom",l.text=c.labelText,l.x=c.point.x,l.y=c.point.y-10,l.fill=a,l.visible=!0):l.visible=!1})}getTooltipContent(t){let{id:i,dataModel:n,processedData:s,axes:o,properties:r}=this,{xKey:a,xName:l,yKey:c,yName:d,tooltip:u}=r,h=o.x,p=o.y;if(!n||!s||!h||!p)return;let{datumIndex:g}=t,m=s.dataSources.get(this.id)?.[g],f=n.resolveColumnById(this,"xValue",s)[g],v=n.resolveColumnById(this,"yValueRaw",s)[g];if(f==null)return;let y=this.getMarkerItemBaseStyle(!1);return Object.assign(y,this.getMarkerItemStyleOverrides(String(g),m,y,!1)),u.formatTooltip({heading:h.formatDatum(f),symbol:this.legendItemSymbol(),data:[{label:d,fallbackLabel:c,value:p.formatDatum(v)}]},w(w({seriesId:i,datum:m,title:d,xKey:a,xName:l,yKey:c,yName:d},y),this.getModuleTooltipParams()))}legendItemSymbol(){let t="rgba(0, 0, 0, 0)",{stroke:i,strokeOpacity:n,strokeWidth:s,lineDash:o,marker:r}=this.properties;return{marker:{shape:r.shape,fill:r.fill??t,stroke:r.stroke??i??t,fillOpacity:r.fillOpacity,strokeOpacity:r.strokeOpacity,strokeWidth:r.strokeWidth,lineDash:r.lineDash,lineDashOffset:r.lineDashOffset,enabled:r.enabled},line:{stroke:i??t,strokeOpacity:n,strokeWidth:s,lineDash:o}}}getLegendData(t){if(!(this.properties.isValid()&&t==="category"))return[];let{id:i,ctx:{legendManager:n},visible:s}=this,{yKey:o,yName:r,title:a,legendItemName:l,showInLegend:c}=this.properties;return[{legendType:"category",id:i,itemId:o,legendItemName:l,seriesId:i,enabled:s&&n.getItemEnabled({seriesId:i,itemId:o}),label:{text:l??a??r??o},symbol:this.legendItemSymbol(),hideInLegend:!c}]}updatePaths(t){this.updateLinePaths(t.paths,t.contextData)}plotNodeDataPoints(t,i){if(i.length===0)return;let n=i[0].point;t.moveTo(n.x,n.y);for(let s=1;s<i.length;s+=1){let{x:o,y:r}=i[s].point;t.lineTo(o,r)}}updateLinePaths(t,i){let n=i.strokeData?.spans,[s]=t;s.path.clear(),n!=null?tD(s,n):this.plotNodeDataPoints(s.path,i.nodeData),s.markDirty()}animateEmptyUpdateReady(t){let{markerSelection:i,labelSelection:n,annotationSelections:s,contextData:o,paths:r}=t,{animationManager:a}=this.ctx;this.updateLinePaths(r,o),rD(this,a,...r),Ai([i],Ep),oD(this,a,i),ot(this,"labels",a,n),ot(this,"annotations",a,...s)}animateReadyResize(t){let{contextData:i,paths:n}=t;this.updateLinePaths(n,i),super.animateReadyResize(t)}animateWaitingUpdateReady(t){let{animationManager:i}=this.ctx,{markerSelection:n,labelSelection:s,annotationSelections:o,contextData:r,paths:a,previousContextData:l}=t,[c]=a;this.resetMarkerAnimation(t),this.resetLabelAnimation(t);let d=()=>{this.resetPathAnimation(t),this.updateLinePaths(a,r)},u=()=>{i.skipCurrentBatch(),d()};if(r==null||l==null){d(),_p(this,i,"added",n),Zv(this,"path_properties",i,"add",c),ot(this,"labels",i,s),ot(this,"annotations",i,...o);return}if(r.crossFiltering!==l.crossFiltering){u();return}let h=bO(r,l,this.processedData?.reduced?.diff?.[this.id]);if(h===void 0){u();return}else if(h.status==="no-op")return;$t(this.id,"path_properties",i,[c],h.stroke.pathProperties),h.status==="added"?this.updateLinePaths(a,r):h.status==="removed"?this.updateLinePaths(a,l):Yv(this.id,"path_update",i,[c],h.stroke.path),h.hasMotion&&(_p(this,i,void 0,n),ot(this,"labels",i,s),ot(this,"annotations",i,...o))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new _e}getFormattedMarkerStyle(t){let{xKey:i,yKey:n}=this.properties,s=this.getSeriesDomain("x"),o=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,A(w({},fa(t,i,n,s,o)),{highlighted:!0}))}computeFocusBounds(t){return dg(this,t)}};return e.className="LineSeries",e.type="line",e})(),kO={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:e=>new AO(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:e=>{let{marker:t}=JM(e);return{stroke:t.fill,marker:t}}},TO=class extends Si{constructor(){super(...arguments),this.placement="top"}};b([x(KS)],TO.prototype,"placement",2);var Ot=class extends Ir{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new TO,this.tooltip=new nn,this.marker=new tn}};b([x(B)],Ot.prototype,"xKey",2);b([x(B)],Ot.prototype,"yKey",2);b([x(B,{optional:!0})],Ot.prototype,"labelKey",2);b([x(B,{optional:!0})],Ot.prototype,"colorKey",2);b([x(B,{optional:!0})],Ot.prototype,"xFilterKey",2);b([x(B,{optional:!0})],Ot.prototype,"yFilterKey",2);b([x(B,{optional:!0})],Ot.prototype,"xName",2);b([x(B,{optional:!0})],Ot.prototype,"yName",2);b([x(B,{optional:!0})],Ot.prototype,"labelName",2);b([x(B,{optional:!0})],Ot.prototype,"colorName",2);b([x(py,{optional:!0})],Ot.prototype,"colorDomain",2);b([x(Qn)],Ot.prototype,"colorRange",2);b([x(B,{optional:!0})],Ot.prototype,"title",2);b([Pt("marker.shape")],Ot.prototype,"shape",2);b([Pt("marker.size")],Ot.prototype,"size",2);b([Pt("marker.fill")],Ot.prototype,"fill",2);b([Pt("marker.fillOpacity")],Ot.prototype,"fillOpacity",2);b([Pt("marker.stroke")],Ot.prototype,"stroke",2);b([Pt("marker.strokeWidth")],Ot.prototype,"strokeWidth",2);b([Pt("marker.strokeOpacity")],Ot.prototype,"strokeOpacity",2);b([Pt("marker.lineDash")],Ot.prototype,"lineDash",2);b([Pt("marker.lineDashOffset")],Ot.prototype,"lineDashOffset",2);b([Pt("marker.itemStyler",{optional:!0})],Ot.prototype,"itemStyler",2);b([x(ee)],Ot.prototype,"label",2);b([x(ee)],Ot.prototype,"tooltip",2);var Dse=(()=>{let e=class extends _a{constructor(t){super({moduleCtx:t,directionKeys:Wl,directionNames:Ul,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:cg,label:Ar},usesPlacedLabels:!0}),this.clipFocusBox=!1,this.properties=new Ot,this.colorScale=new wa}get pickModeAxis(){return"main-category"}processData(t){return Pe(this,null,function*(){if(!this.properties.isValid()||this.data==null||!this.visible)return;let i=this.axes.x?.scale,n=this.axes.y?.scale,{xScaleType:s,yScaleType:o}=this.getScaleInformation({xScale:i,yScale:n}),r=this.colorScale.type,{xKey:a,yKey:l,xFilterKey:c,yFilterKey:d,labelKey:u,colorKey:h,colorDomain:p,colorRange:g}=this.properties,{dataModel:m,processedData:f}=yield this.requestDataModel(t,this.data,{props:[je(a,s,{id:"xValue"}),je(l,o,{id:"yValue"}),...c!=null?[je(c,s,{id:"xFilterValue"})]:[],...d!=null?[je(d,o,{id:"yFilterValue"})]:[],...h?[je(h,r,{id:"colorValue"})]:[],...u?[je(u,"band",{id:"labelValue"})]:[]]});if(h){let v=m.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=p??f.domain.values[v]??[],this.colorScale.range=g,this.colorScale.update()}this.animationState.transition("updateData")})}xCoordinateRange(t,i){let n=this.axes.x.scale.convert(t),s=.5*this.properties.size*i;return[n-s,n+s]}yCoordinateRange(t,i){let n=this.axes.y.scale.convert(t[0]),s=.5*this.properties.size*i;return[n-s,n+s]}getSeriesDomain(t){let{dataModel:i,processedData:n}=this;if(!n||!i)return[];let s={x:"xValue",y:"yValue"},o=s[t],r=i.resolveProcessedDataDefById(this,o),a=i.getDomain(this,o,"value",n);if(r?.def.type==="value"&&r?.def.valueType==="category")return a;let c=s[t==="x"?"y":"x"],d=this.domainForClippedRange(t,[o],c,!1);return Ln(_r(d))}getSeriesRange(t,i){return this.domainForVisibleRange("y",["yValue"],"xValue",i,!1)}getVisibleItems(t,i,n){return this.countVisibleItems("xValue",["yValue"],t,i,n)}createNodeData(){let{axes:t,dataModel:i,processedData:n,colorScale:s,visible:o}=this,{xKey:r,yKey:a,xFilterKey:l,yFilterKey:c,labelKey:d,colorKey:u,xName:h,yName:p,labelName:g,marker:m,label:f}=this.properties,{placement:v}=f,y=xi.anchor(m.shape),C=t.x,S=t.y;if(!(i&&n&&o&&C&&S))return;let M=i.resolveColumnById(this,"xValue",n),D=i.resolveColumnById(this,"yValue",n),E=u!=null?i.resolveColumnById(this,"colorValue",n):void 0,R=d!=null?i.resolveColumnById(this,"labelValue",n):void 0,I=l!=null?i.resolveColumnById(this,"xFilterValue",n):void 0,T=c!=null?i.resolveColumnById(this,"yFilterValue",n):void 0,F=C.scale,N=S.scale,q=(F.bandwidth??0)/2,pe=(N.bandwidth??0)/2,fe=[],oe=f.getFont(),be=Sr.getMeasurer({font:oe});return(n.dataSources.get(this.id)??[]).forEach((re,ve)=>{let X=M[ve],le=D[ve],ae=F.convert(X)+q,Ee=N.convert(le)+pe,Me=I!=null&&T!=null?I[ve]===X&&T[ve]===le:void 0,Ve=this.getLabelText(f,{value:R!=null?R?.[ve]:le,datum:re,xKey:r,yKey:a,labelKey:d,xName:h,yName:p,labelName:g}),ce=be.measureText(Ve),de=E!=null?s.convert(E[ve]):void 0;fe.push({series:this,itemId:a,yKey:a,xKey:r,datum:re,datumIndex:ve,xValue:X,yValue:le,capDefaults:{lengthRatioMultiplier:m.getDiameter(),lengthMax:1/0},point:{x:ae,y:Ee,size:m.size},midPoint:{x:ae,y:Ee},fill:de,label:w({text:Ve},ce),anchor:y,placement:v,selected:Me})}),{itemId:a,nodeData:fe,labelData:fe,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.isLabelEnabled()?this.contextNodeData?.labelData??[]:[]}updateMarkerSelection(t){let{nodeData:i,markerSelection:n}=t;return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(this.properties.marker.enabled?i:[])}getMarkerItemBaseStyle(t){let{properties:i}=this,{marker:n}=i,s=t?i.highlightStyle.item:void 0;return{fill:s?.fill??n.fill,fillOpacity:s?.fillOpacity??n.fillOpacity,stroke:s?.stroke??n.stroke,strokeWidth:s?.strokeWidth??n.strokeWidth,strokeOpacity:s?.strokeOpacity??n.strokeOpacity,lineDash:s?.lineDash??n.lineDash,lineDashOffset:s?.lineDashOffset??n.lineDashOffset}}getMarkerItemStyleOverrides(t,i,n,s){let{id:o,properties:r}=this,{xKey:a,yKey:l,labelKey:c,marker:d}=r,{itemStyler:u}=d;if(u!=null)return this.cachedDatumCallback(li(t,s?"highlight":"node"),()=>u(w({seriesId:o,datum:i,xKey:a,yKey:l,labelKey:c,highlighted:s},n)))}updateMarkerNodes(t){let{markerSelection:i,isHighlight:n}=t,{xKey:s,yKey:o,labelKey:r,marker:a,highlightStyle:l}=this.properties,c=He(n&&l.item,a.getStyle());i.each((d,u)=>{this.updateMarkerStyle(d,a,{datum:u,highlighted:n,xKey:s,yKey:o,labelKey:r},c,{selected:u.selected})}),n||a.markClean()}updatePlacedLabelData(t){this.labelSelection.update(t.map(i=>A(w({},i.datum),{point:{x:i.x,y:i.y,size:i.datum.point.size}})),i=>{i.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(t){let{label:i}=this.properties;t.labelSelection.each((n,s)=>{n.text=s.label.text,n.fill=i.color,n.x=s.point?.x??0,n.y=s.point?.y??0,n.fontStyle=i.fontStyle,n.fontWeight=i.fontWeight,n.fontSize=i.fontSize,n.fontFamily=i.fontFamily,n.textAlign="left",n.textBaseline="top"})}getTooltipContent(t){let{id:i,dataModel:n,processedData:s,axes:o,properties:r}=this,{xKey:a,xName:l,yKey:c,yName:d,labelKey:u,labelName:h,title:p,tooltip:g}=r,m=o.x,f=o.y;if(!n||!s||!m||!f)return;let{datumIndex:v}=t,y=s.dataSources.get(this.id)?.[v],C=n.resolveColumnById(this,"xValue",s)[v],S=n.resolveColumnById(this,"yValue",s)[v];if(C==null)return;let M=this.getMarkerItemBaseStyle(!1);return Object.assign(M,this.getMarkerItemStyleOverrides(String(v),y,M,!1)),g.formatTooltip({symbol:this.legendItemSymbol(),title:p,data:[{label:l,fallbackLabel:a,value:m.formatDatum(C)},{label:d,fallbackLabel:c,value:f.formatDatum(S)}]},w(w({seriesId:i,datum:y,title:d,xKey:a,xName:l,yKey:c,yName:d,labelKey:u,labelName:h},M),this.getModuleTooltipParams()))}legendItemSymbol(){let{shape:t,fill:i,stroke:n,fillOpacity:s,strokeOpacity:o,strokeWidth:r,lineDash:a,lineDashOffset:l}=this.properties.marker;return{marker:{shape:t,fill:i??"rgba(0, 0, 0, 0)",stroke:n??"rgba(0, 0, 0, 0)",fillOpacity:s,strokeOpacity:o,strokeWidth:r,lineDash:a,lineDashOffset:l}}}getLegendData(t){if(!this.properties.isValid()||t!=="category")return[];let{yKey:i,yName:n,title:s,showInLegend:o}=this.properties,{id:r,ctx:{legendManager:a},visible:l}=this;return[{legendType:"category",id:r,itemId:i,seriesId:r,enabled:l&&a.getItemEnabled({seriesId:r,itemId:i}),label:{text:s??n??i},symbol:this.legendItemSymbol(),hideInLegend:!o}]}animateEmptyUpdateReady(t){let{markerSelection:i,labelSelection:n,annotationSelections:s}=t;sD(this,this.ctx.animationManager,i),ot(this,"labels",this.ctx.animationManager,n),ot(this,"annotations",this.ctx.animationManager,...s)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new _e}getFormattedMarkerStyle(t){let{xKey:i,yKey:n,labelKey:s}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:i,yKey:n,labelKey:s,highlighted:!0})}computeFocusBounds(t){return dg(this,t)}};return e.className="ScatterSeries",e.type="scatter",e})(),_se={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:e=>new Dse(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:lg},LO=class ES{constructor(t,i,n,s){this.startAngle=t,this.endAngle=i,this.innerRadius=n,this.outerRadius=s}clone(){let{startAngle:t,endAngle:i,innerRadius:n,outerRadius:s}=this;return new ES(t,i,n,s)}equals(t){return this.startAngle===t.startAngle&&this.endAngle===t.endAngle&&this.innerRadius===t.innerRadius&&this.outerRadius===t.outerRadius}[iy](t,i){return new ES(this.startAngle*(1-i)+t.startAngle*i,this.endAngle*(1-i)+t.endAngle*i,this.innerRadius*(1-i)+t.innerRadius*i,this.outerRadius*(1-i)+t.outerRadius*i)}};function FO({startAngle:e,endAngle:t,innerRadius:i,outerRadius:n}){let s=1/0,o=1/0,r=-1/0,a=-1/0,l=(c,d)=>{s=Math.min(c,s),o=Math.min(d,o),r=Math.max(c,r),a=Math.max(d,a)};return l(i*Math.cos(e),i*Math.sin(e)),l(i*Math.cos(t),i*Math.sin(t)),l(n*Math.cos(e),n*Math.sin(e)),l(n*Math.cos(t),n*Math.sin(t)),ua(0,e,t)&&l(n,0),ua(Math.PI*.5,e,t)&&l(0,n),ua(Math.PI,e,t)&&l(-n,0),ua(Math.PI*1.5,e,t)&&l(0,-n),new ne(s,o,r-s,a-o)}function Xv(e,t,i){let n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:s,outerRadius:o}=i;if(i.startAngle===i.endAngle||n<Math.min(s,o)||n>Math.max(s,o))return!1;let r=pp(i.startAngle),a=pp(i.endAngle),l=Math.atan2(t,e);return r<a?l<=a&&l>=r:l<=a&&l>=-Math.PI||l>=r&&l<=Math.PI}function VL(e,t){let{startAngle:i,endAngle:n,innerRadius:s,outerRadius:o}=t,r={x:o*Math.cos(i),y:o*Math.sin(i)},a={x:o*Math.cos(n),y:o*Math.sin(n)},l=s===0?{x:0,y:0}:{x:s*Math.cos(i),y:s*Math.sin(i)},c=s===0?{x:0,y:0}:{x:s*Math.cos(n),y:s*Math.sin(n)};return gd(e.start.x,e.start.y,e.end.x,e.end.y,r.x,r.y,l.x,l.y)||gd(e.start.x,e.start.y,e.end.x,e.end.y,a.x,a.y,c.x,c.y)||xP(0,0,o,i,n,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function PO(e,t){let i={x:e.x,y:e.y},n={x:e.x+e.width,y:e.y},s={x:e.x,y:e.y+e.height},o={x:e.x+e.width,y:e.y+e.height};return VL({start:i,end:n},t)||VL({start:s,end:o},t)}function GL(e,t,i,n){if(i===0&&n===0)return 0;if(Math.asin(Math.abs(1*i)/(e+1*i))+Math.asin(Math.abs(1*n)/(e+1*n))-t<0)return 1;let o=0,r=1;for(let a=0;a<8;a+=1){let l=(o+r)/2;Math.asin(Math.abs(l*i)/(e+l*i))+Math.asin(Math.abs(l*n)/(e+l*n))-t<0?o=l:r=l}return o}var Ese=1e-6;function ya(e,t){return vy(e,t)<Ese?t:_t(e-t)+t}function uv(e,t,i=0){let s=Math.abs(t-e)>=2*Math.PI?2*Math.PI:_t(t-e);return e=ya(e,i),t=e+s,{startAngle:e,endAngle:t}}function hv(e,t,i,n,s,o){let r=Math.sin(o),a=Math.cos(o),l=e**2+t**2-i**2,c,d,u,h;if(a>.5){let C=r/a,S=1+C**2,M=-2*(e+t*C),D=M**2-4*S*l;if(D<0)return;let E=(-M+Math.sqrt(D))/(2*S),R=(-M-Math.sqrt(D))/(2*S);c=E,d=E*C,u=R,h=R*C}else{let C=a/r,S=1+C**2,M=-2*(t+e*C),D=M**2-4*S*l;if(D<0)return;let E=(-M+Math.sqrt(D))/(2*S),R=(-M-Math.sqrt(D))/(2*S);c=E*C,d=E,u=R*C,h=R}let p=a,g=r,m=c*p+d*g,f=u*p+h*g,v=m>0?ya(Math.atan2(d-t,c-e),n):NaN,y=f>0?ya(Math.atan2(h-t,u-e),n):NaN;if(v>=n&&v<=s)return v;if(y>=n&&y<=s)return y}function pv(e,t,i,n,s,o){let r=Math.hypot(e,t),a=(r**2-i**2+o**2)/(2*r),l=r-a,c=Math.atan2(t,e),d=Math.acos(-l/i),u=ya(c+d,n),h=ya(c-d,n);if(u>=n&&u<=s)return u;if(h>=n&&h<=s)return h}var jx=class{constructor(e,t,i,n,s){this.cx=e,this.cy=t,this.r=i,this.a0=n,this.a1=s,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){e==null||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){e==null||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},Ui=(()=>{let e=class extends On{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(t){this.concentricEdgeInset=t,this.radialEdgeInset=t}set cornerRadius(t){this.startOuterCornerRadius=t,this.endOuterCornerRadius=t,this.startInnerCornerRadius=t,this.endInnerCornerRadius=t}computeBBox(){return FO(this).translate(this.centerX,this.centerY)}normalizedRadii(){let{concentricEdgeInset:t}=this,{innerRadius:i,outerRadius:n}=this;return i=i>0?i+t:0,n=Math.max(n-t,0),{innerRadius:i,outerRadius:n}}normalizedClipSector(){let{clipSector:t}=this;if(t==null)return;let{startAngle:i,endAngle:n}=uv(this.startAngle,this.endAngle),{innerRadius:s,outerRadius:o}=this.normalizedRadii(),r=uv(t.startAngle,t.endAngle,i);return new LO(Math.max(i,r.startAngle),Math.min(n,r.endAngle),Math.max(s,t.innerRadius),Math.min(o,t.outerRadius))}getAngleOffset(t){return t>0?this.radialEdgeInset/t:0}arc(t,i,n,s,o,r,a,l){if(t<=0)return;let{startAngle:c,endAngle:d}=uv(this.startAngle,this.endAngle),{innerRadius:u,outerRadius:h}=this.normalizedRadii(),p=this.normalizedClipSector();if(l&&u<=0)return;let g=l?this.getAngleOffset(u+t):this.getAngleOffset(h-t),m=a?c+g+i:d-g-i,f=l?u+t:h-t,v=f*Math.cos(m),y=f*Math.sin(m);if(p!=null&&(!a&&!(m>=c-1e-6&&m<=p.endAngle-1e-6)||a&&!(m>=p.startAngle+1e-6&&m<=d-1e-6)||l&&f<p.innerRadius-1e-6||!l&&f>p.outerRadius+1e-6))return;let C=new jx(v,y,t,n,s);if(p!=null){l?(C.clipStart(hv(v,y,t,n,s,p.endAngle)),C.clipEnd(hv(v,y,t,n,s,p.startAngle))):(C.clipStart(hv(v,y,t,n,s,p.startAngle)),C.clipEnd(hv(v,y,t,n,s,p.endAngle)));let R,I;if(a?(R=pv(v,y,t,n,s,p.innerRadius),I=pv(v,y,t,n,s,p.outerRadius)):(R=pv(v,y,t,n,s,p.outerRadius),I=pv(v,y,t,n,s,p.innerRadius)),C.clipStart(R),C.clipEnd(I),R!=null){let{x:T,y:F}=C.pointAt(R),N=ya(Math.atan2(F,T),c);a?r?.clipStart(N):o.clipEnd(N)}if(I!=null){let{x:T,y:F}=C.pointAt(I),N=ya(Math.atan2(F,T),c);a?o.clipStart(N):r?.clipEnd(N)}}if(p!=null){let{x:R,y:I}=C.pointAt((C.a0+C.a1)/2);if(!Xv(R,I,p))return}let{x:S,y:M}=C.pointAt(a===l?C.a0:C.a1),D=ya(Math.atan2(M,S),c),E=l?r:o;return a?E?.clipStart(D):E?.clipEnd(D),C}updatePath(){let{path:i,centerX:n,centerY:s,concentricEdgeInset:o,radialEdgeInset:r}=this,{startOuterCornerRadius:a,endOuterCornerRadius:l,startInnerCornerRadius:c,endInnerCornerRadius:d}=this,{startAngle:u,endAngle:h}=uv(this.startAngle,this.endAngle),{innerRadius:p,outerRadius:g}=this.normalizedRadii(),m=this.normalizedClipSector(),f=h-u,v=f>=2*Math.PI-1e-6;if(i.clear(),p===0&&g===0||p>g)return;if((m?.startAngle??u)===(m?.endAngle??h))return;if(v&&this.clipSector==null&&a===0&&l===0&&c===0&&d===0){i.moveTo(n+g*Math.cos(u),s+g*Math.sin(u)),i.arc(n,s,g,u,h),p>o&&(i.moveTo(n+p*Math.cos(h),s+p*Math.sin(h)),i.arc(n,s,p,h,u,!0)),i.closePath();return}else if(this.clipSector==null&&Math.abs(p-g)<1e-6){i.arc(n,s,g,u,h,!1),i.arc(n,s,g,h,u,!0),i.closePath();return}let y=this.getAngleOffset(p),C=this.getAngleOffset(g);if(f<2*C)return;let M=(m?.innerRadius??p)>o,D=p<o||f<2*y,E=g-p,R=Math.max(a,c,l,d),I=R>0?Math.min(E/R,1):1;a*=I,l*=I,c*=I,d*=I;let T=GL(g,f-2*C,-a,-l);if(a*=T,l*=T,!D&&M){let H=GL(p,f-2*y,c,d);c*=H,d*=H}else c=0,d=0;let F=Math.max(a+c,l+d),N=F>0?Math.min(E/F,1):1;a*=N,l*=N,c*=N,d*=N;let q=0,pe=0,fe=a/(g-a),oe=l/(g-l);if(fe>=0&&fe<.999999)q=Math.asin(fe);else{q=f/2;let H=g/(1/Math.sin(q)+1);a=Math.min(H,a)}if(oe>=0&&oe<.999999)pe=Math.asin(oe);else{pe=f/2;let H=g/(1/Math.sin(pe)+1);l=Math.min(H,l)}let be=Math.asin(c/(p+c)),xe=Math.asin(d/(p+d)),re=m?.outerRadius??g,ve=this.getAngleOffset(re),X=new jx(0,0,re,u+ve,h-ve),le=m?.innerRadius??p,ae=this.getAngleOffset(le),Ee=M?new jx(0,0,le,u+ae,h-ae):void 0;m!=null&&(X.clipStart(m.startAngle),X.clipEnd(m.endAngle),Ee?.clipStart(m.startAngle),Ee?.clipEnd(m.endAngle));let Me=this.arc(a,q,u-Math.PI*.5,u+q,X,Ee,!0,!1),Ve=this.arc(l,pe,h-pe,h+Math.PI*.5,X,Ee,!1,!1),ce=this.arc(d,xe,h+Math.PI*.5,h+Math.PI-xe,X,Ee,!1,!0),de=this.arc(c,be,u+Math.PI+be,u+Math.PI*1.5,X,Ee,!0,!0);if(D){let H=f<Math.PI*.5?r*(1+Math.cos(f))/Math.sin(f):NaN,se;H>0&&H<g?se=Math.max(Math.hypot(r,H),p):se=r,se=Math.max(se,p);let he=u+f*.5;i.moveTo(n+se*Math.cos(he),s+se*Math.sin(he))}else if(!(de?.isValid()===!0||Ee?.isValid()===!0)){let H=u+f/2,se=p*Math.cos(H),he=p*Math.sin(H);i.moveTo(n+se,s+he)}if(Me?.isValid()===!0){let{cx:H,cy:se,r:he,a0:qe,a1:Xe}=Me;i.arc(n+H,s+se,he,qe,Xe)}if(X.isValid()){let{r:H,a0:se,a1:he}=X;i.arc(n,s,H,se,he)}if(Ve?.isValid()===!0){let{cx:H,cy:se,r:he,a0:qe,a1:Xe}=Ve;i.arc(n+H,s+se,he,qe,Xe)}if(!D){if(ce?.isValid()===!0){let{cx:H,cy:se,r:he,a0:qe,a1:Xe}=ce;i.arc(n+H,s+se,he,qe,Xe)}if(Ee?.isValid()===!0){let{r:H,a0:se,a1:he}=Ee;i.arc(n,s,H,he,se,!0)}if(de?.isValid()===!0){let{cx:H,cy:se,r:he,a0:qe,a1:Xe}=de;i.arc(n+H,s+se,he,qe,Xe)}}i.closePath()}isPointInPath(t,i){let{startAngle:n,endAngle:s,innerRadius:o,outerRadius:r}=this.clipSector??this;return Xv(t-this.centerX,i-this.centerY,{startAngle:n,endAngle:s,innerRadius:Math.min(o,r),outerRadius:Math.max(o,r)})}};return e.className="Sector",e})();b([Ae()],Ui.prototype,"centerX",2);b([Ae()],Ui.prototype,"centerY",2);b([Ae()],Ui.prototype,"innerRadius",2);b([Ae()],Ui.prototype,"outerRadius",2);b([Ae()],Ui.prototype,"startAngle",2);b([Ae()],Ui.prototype,"endAngle",2);b([Ae()],Ui.prototype,"clipSector",2);b([Ae()],Ui.prototype,"concentricEdgeInset",2);b([Ae()],Ui.prototype,"radialEdgeInset",2);b([Ae()],Ui.prototype,"startOuterCornerRadius",2);b([Ae()],Ui.prototype,"endOuterCornerRadius",2);b([Ae()],Ui.prototype,"startInnerCornerRadius",2);b([Ae()],Ui.prototype,"endInnerCornerRadius",2);var oi={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},xo={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},OO=class extends Ft{constructor(){super(...arguments),this.showInLegend=!1}};b([x(me)],OO.prototype,"showInLegend",2);var gD=class extends Si{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};b([x(B)],gD.prototype,"text",2);b([x(Qe)],gD.prototype,"spacing",2);var mD=class extends ke{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};b([x(rt)],mD.prototype,"fill",2);b([x(dt)],mD.prototype,"fillOpacity",2);var Yd=class extends Si{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};b([x($)],Yd.prototype,"offset",2);b([x(Qe.restrict({min:0,max:360}))],Yd.prototype,"minAngle",2);b([x($)],Yd.prototype,"minSpacing",2);b([x($)],Yd.prototype,"maxCollisionOffset",2);b([x(me)],Yd.prototype,"avoidCollisions",2);var fD=class extends Si{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};b([x(Qe)],fD.prototype,"positionOffset",2);b([x(dt)],fD.prototype,"positionRatio",2);var Yy=class extends ke{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};b([x(Qn,{optional:!0})],Yy.prototype,"colors",2);b([x($)],Yy.prototype,"length",2);b([x($)],Yy.prototype,"strokeWidth",2);var Ze=class extends ts{constructor(){super(...arguments),this.fills=Object.values(oi),this.strokes=Object.values(xo),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.innerLabels=new Op(gD),this.title=new OO,this.innerCircle=new mD,this.shadow=new so,this.calloutLabel=new Yd,this.sectorLabel=new fD,this.calloutLine=new Yy,this.tooltip=new nn}isValid(){let e=super.isValid();return this.innerRadiusRatio==null&&this.innerRadiusOffset==null?(V.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):e}};b([x(B)],Ze.prototype,"angleKey",2);b([x(B,{optional:!0})],Ze.prototype,"angleName",2);b([x(B,{optional:!0})],Ze.prototype,"angleFilterKey",2);b([x(B,{optional:!0})],Ze.prototype,"radiusKey",2);b([x(B,{optional:!0})],Ze.prototype,"radiusName",2);b([x($,{optional:!0})],Ze.prototype,"radiusMin",2);b([x($,{optional:!0})],Ze.prototype,"radiusMax",2);b([x(B,{optional:!0})],Ze.prototype,"calloutLabelKey",2);b([x(B,{optional:!0})],Ze.prototype,"calloutLabelName",2);b([x(B,{optional:!0})],Ze.prototype,"sectorLabelKey",2);b([x(B,{optional:!0})],Ze.prototype,"sectorLabelName",2);b([x(B,{optional:!0})],Ze.prototype,"legendItemKey",2);b([x(Qn)],Ze.prototype,"fills",2);b([x(Qn)],Ze.prototype,"strokes",2);b([x(dt)],Ze.prototype,"fillOpacity",2);b([x(dt)],Ze.prototype,"strokeOpacity",2);b([x(To)],Ze.prototype,"lineDash",2);b([x($)],Ze.prototype,"lineDashOffset",2);b([x($)],Ze.prototype,"cornerRadius",2);b([x(wn,{optional:!0})],Ze.prototype,"itemStyler",2);b([x(Qe)],Ze.prototype,"rotation",2);b([x(Qe)],Ze.prototype,"outerRadiusOffset",2);b([x(dt)],Ze.prototype,"outerRadiusRatio",2);b([x(Qe,{optional:!0})],Ze.prototype,"innerRadiusOffset",2);b([x(dt,{optional:!0})],Ze.prototype,"innerRadiusRatio",2);b([x($)],Ze.prototype,"strokeWidth",2);b([x(Qe)],Ze.prototype,"sectorSpacing",2);b([x(me)],Ze.prototype,"hideZeroValueSectorsInLegend",2);b([x($S)],Ze.prototype,"innerLabels",2);b([x(ee)],Ze.prototype,"title",2);b([x(ee)],Ze.prototype,"innerCircle",2);b([x(ee)],Ze.prototype,"shadow",2);b([x(ee)],Ze.prototype,"calloutLabel",2);b([x(ee)],Ze.prototype,"sectorLabel",2);b([x(ee)],Ze.prototype,"calloutLine",2);b([x(ee)],Ze.prototype,"tooltip",2);function Pl(e,t,i,n){let s=[i.convert(0),i.convert(1)],o=[n.convert(0),n.convert(1)],r=Math.PI/-2+mi(t),a=e?"initial":"update",l=({radius:g})=>({innerRadius:s[0],outerRadius:s[0]+(s[1]-s[0])*g}),c=({radius:g})=>({innerRadius:o[0],outerRadius:o[0]+(o[1]-o[0])*g});return{nodes:{toFn:(g,m,f,{prevLive:v})=>{let{startAngle:y,endAngle:C,innerRadius:S,outerRadius:M}=m,{stroke:D,fill:E}=m.sectorFormat;if(f==="removed"&&v?(y=v.datum?.endAngle,C=v.datum?.endAngle):f==="removed"&&!v&&(y=r,C=r),f==="removed"){let R=l(m);S=R.innerRadius,M=R.outerRadius}return{startAngle:y,endAngle:C,outerRadius:M,innerRadius:S,stroke:D,fill:E}},fromFn:(g,m,f,{prevFromProps:v})=>{let{startAngle:y,endAngle:C,innerRadius:S,outerRadius:M}=g,{fill:D,stroke:E}=m.sectorFormat;if(f==="unknown"||f==="added"&&!v?(y=r,C=r,S=m.innerRadius,M=m.outerRadius):f==="added"&&v&&(y=v.endAngle??r,C=v.endAngle??r,S=v.innerRadius??m.innerRadius,M=v.outerRadius??m.outerRadius),f==="added"&&!e){let R=c(m);S=R.innerRadius,M=R.outerRadius}return f==="updated"&&(D=g.fill??D,E=(typeof g.stroke=="string"?g.stroke:void 0)??E),{startAngle:y,endAngle:C,innerRadius:S,outerRadius:M,fill:D,stroke:E,phase:a}}},innerCircle:{fromFn:(g,m)=>({size:g.previousDatum?.radius??g.size??0,phase:a}),toFn:(g,m)=>({size:m.radius??0})}}}function vD(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,fill:t.sectorFormat.fill,stroke:t.sectorFormat.stroke}}function yD(e,t){let i=t.y-e.centerY,n=t.x-e.centerX,s=Math.atan2(i,n),o=e.getItemNodes();for(let r of o)if(r.datum.missing!==!0&&ua(s,r.startAngle,r.endAngle)){let a=Math.sqrt(n*n+i*i),l=0;return a<r.innerRadius?l=r.innerRadius-a:a>r.outerRadius&&(l=a-r.outerRadius),{datum:r.datum,distance:l}}}var NO=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.FOREGROUND=1]="FOREGROUND",e[e.HIGHLIGHT=2]="HIGHLIGHT",e[e.LABEL=3]="LABEL",e))(NO||{}),Ky=class extends FM{constructor(o){var r=o,{useLabelLayer:e=!1,pickModes:t=[1,0],canHaveAxes:i=!1,animationResetFns:n}=r,s=Je(r,["useLabelLayer","pickModes","canHaveAxes","animationResetFns"]);super(A(w({},s),{useLabelLayer:e,pickModes:t,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:i})),this.itemGroup=this.contentGroup.appendChild(new _e),this.nodeData=[],this.itemSelection=ai.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=ai.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=ai.select(this.highlightGroup,()=>this.nodeFactory()),this.highlightLabelSelection=ai.select(this.highlightLabel,()=>this.labelFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.animationResetFns=n,this.animationState=new Gp("empty",{empty:{update:{target:"ready",action:a=>this.animateEmptyUpdateReady(a)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:a=>this.animateReadyHighlight(a),highlightMarkers:a=>this.animateReadyHighlightMarkers(a),resize:a=>this.animateReadyResize(a),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:a=>this.animateWaitingUpdateReady(a)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:a=>this.animateClearingUpdateEmpty(a)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.contentGroup.zIndex=[e,1],this.highlightGroup.zIndex=[e,2],this.labelGroup.zIndex=[e,3],!0):!1}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}labelFactory(){let e=new wi;return e.pointerEvents=1,e}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}getInnerRadius(){return 0}computeLabelsBBox(e,t){return null}resetAllAnimation(){let{item:e,label:t}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&Ai([this.itemSelection,this.highlightSelection],e),t&&Ai([this.labelSelection,this.highlightLabelSelection],t),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){let{item:t,label:i}=this.animationResetFns??{};t&&Ai([this.highlightSelection],t),i&&Ai([this.highlightLabelSelection],i)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}computeFocusBounds(e){let t=this.getNodeData()?.[e.datumIndex];if(t!==void 0)return this.itemSelection.select(i=>i instanceof On&&i.datum===t)[0]}getSeriesRange(e,t){return[NaN,NaN]}},Ise=class extends Wp{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},Rse=(()=>{let e=class extends Ky{constructor(t){super({moduleCtx:t,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:vD,label:Ar}}),this.properties=new Ze,this.phantomNodeData=void 0,this.backgroundGroup=new Cn({name:`${this.id}-background`,zIndex:0}),this.noVisibleData=!1,this.previousRadiusScale=new Qs,this.radiusScale=new Qs,this.phantomGroup=this.backgroundGroup.appendChild(new _e({name:"phantom"})),this.phantomSelection=ai.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new _e({name:"pieCalloutLabels"})),this.calloutLabelSelection=new ai(this.calloutLabelGroup,_e),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new _e({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new xi({shape:"circle"})),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new xi({shape:"circle"})),this.innerLabelsGroup=this.contentGroup.appendChild(new _e({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new _e({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=ai.select(this.innerLabelsGroup,wi),this.innerCircleSelection=ai.select(this.innerCircleGroup,()=>new xi({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=Ise,this.angleScale=new Qs,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(i=>i+Math.PI/2),this.phantomGroup.opacity=.2}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(t,i,n){super.attachSeries(t,i,n),t?.appendChild(this.backgroundGroup)}detachSeries(t,i,n){super.detachSeries(t,i,n),t?.removeChild(this.backgroundGroup)}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.backgroundGroup.zIndex=[0,t],!0):!1}nodeFactory(){return new Ui}getSeriesDomain(t){return t==="x"?this.angleScale.domain:this.radiusScale.domain}processData(t){return Pe(this,null,function*(){if(this.data==null||!this.properties.isValid())return;let{visible:i,id:n}=this,{angleKey:s,angleFilterKey:o,radiusKey:r,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c}=this.properties,d=(f,v,y)=>i&&this.ctx.legendManager.getItemEnabled({seriesId:n,itemId:y}),u=!this.ctx.animationManager.isSkipped(),h=[],p=[];c?h.push(Js(c,"band",{id:"legendItemKey"})):a?h.push(Js(a,"band",{id:"calloutLabelKey"})):l&&h.push(Js(l,"band",{id:"sectorLabelKey"}));let g=this.radiusScale.type,m=this.angleScale.type;r&&p.push(BM(r,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),je(r,g,{id:"radiusRaw"}),Fl("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),a&&p.push(je(a,"band",{id:"calloutLabelValue"})),l&&p.push(je(l,"band",{id:"sectorLabelValue"})),c&&p.push(je(c,"band",{id:"legendItemValue"})),o&&p.push(bp(o,m,{id:"angleFilterValue",onlyPositive:!0,validation:d,invalidValue:0}),je(o,m,{id:"angleFilterRaw"}),Fl("angleFilterValue",[0,1],0,0)),u&&this.processedData&&h.length>0&&p.push(Vd(this.id,this.processedData)),p.push(zd()),yield this.requestDataModel(t,this.data,{props:[...h,bp(s,m,{id:"angleValue",onlyPositive:!0,validation:d,invalidValue:0}),je(s,m,{id:"angleRaw"}),Fl("angleValue",[0,1],0,0),...p]});for(let f of this.processedData?.defs?.values??[]){let{id:v,missing:y,property:C}=f,S=DM(this,y);v!=="angleRaw"&&S>0&&V.warnOnce(`no value was found for the key '${String(C)}' on ${S} data element${S>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;let{nodeData:t=[],phantomNodeData:i}=this.createNodeData()??{};this.nodeData=t,this.phantomNodeData=i,this.nodeDataRefresh=!1}getProcessedDataValues(t,i){let n=t.resolveColumnById(this,"angleValue",i),s=t.resolveColumnById(this,"angleRaw",i),o=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterValue",i):void 0,r=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterRaw",i):void 0,a=this.properties.radiusKey?t.resolveColumnById(this,"radiusValue",i):void 0,l=this.properties.radiusKey?t.resolveColumnById(this,"radiusRaw",i):void 0,c=this.properties.calloutLabelKey?t.resolveColumnById(this,"calloutLabelValue",i):void 0,d=this.properties.sectorLabelKey?t.resolveColumnById(this,"sectorLabelValue",i):void 0,u=this.properties.legendItemKey?t.resolveColumnById(this,"legendItemValue",i):void 0;return{angleValues:n,angleRawValues:s,angleFilterValues:o,angleFilterRawValues:r,radiusValues:a,radiusRawValues:l,calloutLabelValues:c,sectorLabelValues:d,legendItemValues:u}}createNodeData(){let{id:t,processedData:i,dataModel:n,angleScale:s,ctx:{legendManager:o},visible:r}=this,{rotation:a,innerRadiusRatio:l}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:t,nodeData:[],labelData:[]};if(!n||i?.type!=="ungrouped")return;let{angleValues:c,angleRawValues:d,angleFilterValues:u,angleFilterRawValues:h,radiusValues:p,radiusRawValues:g,calloutLabelValues:m,sectorLabelValues:f,legendItemValues:v}=this.getProcessedDataValues(n,i),y=h?.some((I,T)=>I>d[T])??!1,C=0,S=0,M=[],D=h!=null?[]:void 0,E=i.dataSources.get(this.id)??[],R=i.invalidData?.get(this.id);return E.forEach((I,T)=>{if(R?.[T]===!0)return;let F=y?u[T]:c[T],N=h!=null&&!y?Math.sqrt(h[T]/d[T]):1,q=s.convert(C)+mi(a);C=F,S+=F;let pe=s.convert(C)+mi(a),fe=Math.abs(pe-q),oe=q+fe/2,be=d[T],re=(p?.[T]??1)*N,ve=g?.[T],X=v?.[T],le=this.getLabels(I,oe,fe,!0,m?.[T],f?.[T],X),ae=this.getSectorFormat(I,T,!1),Ee=w({itemId:T,series:this,datum:I,datumIndex:T,angleValue:be,midAngle:oe,midCos:Math.cos(oe),midSin:Math.sin(oe),startAngle:q,endAngle:pe,radius:re,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(re),0),sectorFormat:ae,radiusValue:ve,legendItemValue:X,enabled:r&&o.getItemEnabled({seriesId:t,itemId:T}),focusable:!0},le);M.push(Ee),D?.push(A(w({},Ee),{radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1}))}),this.zerosumOuterRing.visible=S===0,this.zerosumInnerRing.visible=S===0&&l!=null&&l!==1&&l>0,{itemId:t,nodeData:M,labelData:M,phantomNodeData:D}}getLabels(t,i,n,s,o,r,a){let{calloutLabel:l,sectorLabel:c,legendItemKey:d}=this.properties,u=!s||l.enabled?this.properties.calloutLabelKey:void 0,h=!s||c.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!h&&!d)return{};let p={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},g={};return u&&n>=mi(l.minAngle)&&(g.calloutLabel=A(w({},this.getTextAlignment(i)),{text:this.getLabelText(l,A(w({},p),{value:o})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),h&&(g.sectorLabel={text:this.getLabelText(c,A(w({},p),{value:r}))}),d!=null&&a!=null&&(g.legendItem={key:d,text:a}),g}getTextAlignment(t){let i=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],n=pp(t),s=-.75*Math.PI,o=n-s,r=Math.floor(o/(Math.PI/2)),a=OS(r,i.length);return i[a]}getSectorFormat(t,i,n){let{angleKey:s,radiusKey:o,calloutLabelKey:r,sectorLabelKey:a,legendItemKey:l,fills:c,strokes:d,itemStyler:u}=this.properties,h=d[i%d.length],{fill:p,fillOpacity:g,stroke:m,strokeWidth:f,strokeOpacity:v,lineDash:y,lineDashOffset:C,cornerRadius:S}=He(n&&this.properties.highlightStyle.item,{fill:c.length>0?c[i%c.length]:void 0,stroke:h,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties),M;return u&&(M=this.cachedDatumCallback(this.getDatumId(t,i)+(n?"-highlight":"-hide"),()=>u({datum:t,angleKey:s,radiusKey:o,calloutLabelKey:r,sectorLabelKey:a,legendItemKey:l,fill:p,fillOpacity:g,stroke:m,strokeWidth:f,strokeOpacity:v,lineDash:y,lineDashOffset:C,cornerRadius:S,highlighted:n,seriesId:this.id}))),{fill:M?.fill??p,fillOpacity:M?.fillOpacity??g,stroke:M?.stroke??m,strokeWidth:M?.strokeWidth??f,strokeOpacity:M?.strokeOpacity??v,lineDash:M?.lineDash??y,lineDashOffset:M?.lineDashOffset??C,cornerRadius:M?.cornerRadius??S}}getInnerRadius(){let{radius:t}=this,{innerRadiusRatio:i=1,innerRadiusOffset:n=0}=this.properties,s=t*i+n;return s===t||s<0?0:s}getOuterRadius(){let{outerRadiusRatio:t,outerRadiusOffset:i}=this.properties;return Math.max(this.radius*t+i,0)}updateRadiusScale(t){let i=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=i,t&&(this.previousRadiusScale.range=i);let n=s=>A(w({},s),{innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(n),this.phantomNodeData=this.phantomNodeData?.map(n)}getTitleTranslationY(){let t=Math.max(0,this.radiusScale.range[1]);if(t===0)return NaN;let n=2+(this.properties.title?.spacing??0),s=Math.max(0,-t);return-t-n-s}update({seriesRect:t}){let{title:i}=this.properties,n={seriesRectWidth:t?.width,seriesRectHeight:t?.height},s=yr(this.nodeDataDependencies,n)!=null;if(s&&(this._nodeDataDependencies=n),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(s),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){let o=this.getTitleTranslationY();i.node.y=isFinite(o)?o:0;let r=i.node.getBBox();i.node.visible=i.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(r)}for(let o of[this.zerosumInnerRing,this.zerosumOuterRing])o.fillOpacity=0,o.stroke=this.properties.calloutLabel.color,o.strokeWidth=1,o.strokeOpacity=1;this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(t)}updateTitleNodes(){let{oldTitle:t}=this,{title:i}=this.properties;t!==i&&(t&&this.labelGroup?.removeChild(t.node),i&&(i.node.textBaseline="bottom",this.labelGroup?.appendChild(i.node)),this.oldTitle=i)}updateNodeMidPoint(){let t=i=>{let n=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,n),y:i.midSin*Math.max(0,n)}};this.nodeData.forEach(t),this.phantomNodeData?.forEach(t)}updateSelections(){this.updateGroupSelection(),this.updateInnerCircleSelection()}updateGroupSelection(){let{itemSelection:t,highlightSelection:i,phantomSelection:n,highlightLabelSelection:s,calloutLabelSelection:o,labelSelection:r,innerLabelsSelection:a}=this,l=this.nodeData.map(d=>A(w({},d),{sectorFormat:w({},d.sectorFormat)})),c=(d,u)=>{d.update(u,void 0,h=>this.getDatumId(h.datum,h.datumIndex)),this.ctx.animationManager.isSkipped()&&d.cleanup()};c(t,this.nodeData),c(i,l),c(n,this.phantomNodeData??[]),o.update(this.calloutNodeData,d=>{let u=new es;u.tag=0,u.pointerEvents=1,d.appendChild(u);let h=new wi;h.tag=1,h.pointerEvents=1,d.appendChild(h)}),r.update(this.nodeData),s.update(l),a.update(this.properties.innerLabels,d=>{d.pointerEvents=1})}updateInnerCircleSelection(){let{innerCircle:t}=this.properties,i=0,n=this.getInnerRadius();if(n>0){let o=Math.min(n,this.getOuterRadius());i=Math.ceil(o*2+1)}let s=t?[{radius:i}]:[];this.innerCircleSelection.update(s)}updateNodes(t){let i=this.ctx.highlightManager.getActiveHighlight(),{visible:n}=this;this.backgroundGroup.visible=n,this.contentGroup.visible=n,this.highlightGroup.visible=n&&i?.series===this,this.highlightLabel.visible=n&&i?.series===this,this.labelGroup.visible=n,this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((r,{radius:a})=>{r.setProperties({fill:this.properties.innerCircle?.fill,opacity:this.properties.innerCircle?.fillOpacity,size:a})});let s=this.ctx.animationManager.isSkipped(),o=(r,a,l,c)=>{let d=this.getSectorFormat(a.datum,a.itemId,c);a.sectorFormat.fill=d.fill,a.sectorFormat.stroke=d.stroke,s&&(r.startAngle=a.startAngle,r.endAngle=a.endAngle,r.innerRadius=a.innerRadius,r.outerRadius=a.outerRadius),(c||s)&&(r.fill=d.fill,r.stroke=d.stroke),r.strokeWidth=d.strokeWidth,r.fillOpacity=d.fillOpacity,r.strokeOpacity=d.strokeOpacity,r.lineDash=d.lineDash,r.lineDashOffset=d.lineDashOffset,r.cornerRadius=d.cornerRadius,r.fillShadow=this.properties.shadow;let u=Math.max((this.properties.sectorSpacing+(d.stroke!=null?d.strokeWidth:0))/2,0);r.inset=u,r.lineJoin=this.properties.sectorSpacing>=0||u>0?"miter":"round"};this.itemSelection.each((r,a,l)=>o(r,a,l,!1)),this.highlightSelection.each((r,a,l)=>{o(r,a,l,!0),r.visible=a.itemId===i?.itemId}),this.phantomSelection.each((r,a,l)=>o(r,a,l,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){let{calloutLine:t}=this.properties,i=t.length,n=t.strokeWidth,s=t.colors??this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((r,a)=>{let l=r.datum,{calloutLabel:c,outerRadius:d}=l;if(c?.text&&!c.hidden&&d!==0){r.visible=!0,r.strokeWidth=n,r.stroke=s[a%s.length],r.fill=void 0;let u=l.midCos*d,h=l.midSin*d,p=l.midCos*(d+i),g=l.midSin*(d+i);if((c.collisionTextAlign??c.collisionOffsetY!==0)&&c.box!=null){let f=c.box,v=p,y=g;p<f.x?v=f.x:p>f.x+f.width&&(v=f.x+f.width),g<f.y?y=f.y:g>f.y+f.height&&(y=f.y+f.height);let C=v-p,S=y-g,M=Math.sqrt(Math.pow(C,2)+Math.pow(S,2)),D=M-o;D>0&&(p=p+C*D/M,g=g+S*D/M)}r.x1=u,r.y1=h,r.x2=p,r.y2=g}else r.visible=!1})}getLabelOverflow(t,i,n){let s=-this.centerX,o=s+n.width,r=-this.centerY,a=r+n.height,l=1,c=1;i.x+l<s?c=(i.x+i.width-s)/i.width:i.x+i.width-l>o&&(c=(o-i.x)/i.width);let d=i.y+l<r||i.y+i.height-l>a,u=c===1?t.length:Math.floor(t.length*c)-1,h=this.bboxIntersectsSurroundingSeries(i);return{textLength:u,hasVerticalOverflow:d,hasSurroundingSeriesOverflow:h}}bboxIntersectsSurroundingSeries(t){let{surroundingRadius:i}=this;if(i==null)return!1;let n=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],s=i**2;return n.some(o=>o.x**2+o.y**2>s)}computeCalloutLabelCollisionOffsets(){let{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,{offset:s,minSpacing:o}=i,r=t.convert(0),a=y=>!y.calloutLabel||y.outerRadius===0,l=this.calloutNodeData,c=l.filter(y=>!a(y));if(c.forEach(y=>{let C=y.calloutLabel;C!=null&&(C.hidden=!1,C.collisionTextAlign=void 0,C.collisionOffsetY=0)}),c.length<=1)return;let d=c.filter(y=>y.midCos<0).sort((y,C)=>y.midSin-C.midSin),u=c.filter(y=>y.midCos>=0).sort((y,C)=>y.midSin-C.midSin),h=c.filter(y=>y.midSin<0&&y.calloutLabel?.textAlign==="center").sort((y,C)=>y.midCos-C.midCos),p=c.filter(y=>y.midSin>=0&&y.calloutLabel?.textAlign==="center").sort((y,C)=>y.midCos-C.midCos),g=y=>{let C=y.calloutLabel;if(C==null)return ne.zero.clone();let S=y.outerRadius+n.length+s,M=y.midCos*S,D=y.midSin*S+C.collisionOffsetY,E=C.collisionTextAlign??C.textAlign,R=C.textBaseline;return wi.computeBBox(C.text,M,D,{font:this.properties.calloutLabel,textAlign:E,textBaseline:R})},m=(y,C,S)=>{let M=g(y).grow(o/2),D=g(C).grow(o/2);M.x<D.x+D.width&&M.x+M.width>D.x&&(S==="to-top"?M.y<D.y+D.height:M.y+M.height>D.y)&&(C.calloutLabel.collisionOffsetY=S==="to-top"?M.y-D.y-D.height:M.y+M.height-D.y)},f=y=>{let C=y.slice().sort((M,D)=>Math.abs(M.midSin)-Math.abs(D.midSin))[0],S=y.indexOf(C);for(let M=S-1;M>=0;M--){let D=y[M+1],E=y[M];m(D,E,"to-top")}for(let M=S+1;M<y.length;M++){let D=y[M-1],E=y[M];m(D,E,"to-bottom")}},v=y=>{let C=c.some(I=>I.calloutLabel.collisionOffsetY!==0),S=y.map(I=>g(I)),M=S.map(I=>I.clone().grow(o/2)),D=!1;for(let I=0;I<M.length&&!D;I++){let T=M[I];for(let F=I+1;F<y.length;F++){let N=M[F];if(T.collidesBBox(N)){D=!0;break}}}let E=l.map(I=>{let{startAngle:T,endAngle:F,outerRadius:N}=I;return{startAngle:T,endAngle:F,innerRadius:r,outerRadius:N}}),R=S.some(I=>E.some(T=>PO(I,T)));!D&&!C&&!R||y.filter(I=>I.calloutLabel.textAlign==="center").forEach(I=>{let T=I.calloutLabel;I.midCos<0?T.collisionTextAlign="right":I.midCos>0?T.collisionTextAlign="left":T.collisionTextAlign="center"})};f(d),f(u),v(h),v(p)}updateCalloutLabelNodes(t){let{radiusScale:i}=this,{calloutLabel:n,calloutLine:s}=this.properties,o=s.length,{offset:r,color:a}=n,l=new wi;this.calloutLabelSelection.selectByTag(1).forEach(c=>{let{datum:d}=c,u=d.calloutLabel,h=i.convert(d.radius),p=Math.max(0,h);if(!u?.text||p===0||u.hidden){c.visible=!1;return}let g=p+o+r,m=d.midCos*g,f=d.midSin*g+u.collisionOffsetY,v={textAlign:u.collisionTextAlign??u.textAlign,textBaseline:u.textBaseline};l.text=u.text,l.x=m,l.y=f,l.setFont(this.properties.calloutLabel),l.setAlign(v);let y=l.getBBox(),C=u.text,S=!0;if(n.avoidCollisions){let{textLength:M,hasVerticalOverflow:D}=this.getLabelOverflow(u.text,y,t);C=u.text.length===M?u.text:`${u.text.substring(0,M)}\u2026`,S=!D}c.text=C,c.x=m,c.y=f,c.setFont(this.properties.calloutLabel),c.setAlign(v),c.fill=a,c.visible=S})}computeLabelsBBox(t,i){let{calloutLabel:n,calloutLine:s}=this.properties,o=s.length,{offset:r,maxCollisionOffset:a,minSpacing:l}=n;if(!n.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();let c=[],d=new wi,u,{title:h}=this.properties;if(h?.text&&h.enabled){let p=this.getTitleTranslationY();isFinite(p)&&(d.text=h.text,d.x=0,d.y=p,d.setFont(h),d.setAlign({textBaseline:"bottom",textAlign:"center"}),u=d.getBBox(),c.push(u))}return this.calloutNodeData.forEach(p=>{let g=p.calloutLabel;if(!g||p.outerRadius===0)return null;let m=p.outerRadius+o+r,f=p.midCos*m,v=p.midSin*m+g.collisionOffsetY;d.text=g.text,d.x=f,d.y=v,d.setFont(this.properties.calloutLabel),d.setAlign({textAlign:g.collisionTextAlign??g.textAlign,textBaseline:g.textBaseline});let y=d.getBBox();if(g.box=y,Math.abs(g.collisionOffsetY)>a){g.hidden=!0;return}if(u){let C=-this.centerY,S=new ne(u.x-l,C,u.width+2*l,u.y+u.height+l-C);if(y.collidesBBox(S)){g.hidden=!0;return}}if(t.hideWhenNecessary){let{textLength:C,hasVerticalOverflow:S,hasSurroundingSeriesOverflow:M}=this.getLabelOverflow(g.text,y,i),D=g.text.length>2&&C<2;if(S||D||M){g.hidden=!0;return}}g.hidden=!1,c.push(y)}),c.length===0?null:ne.merge(c)}updateSectorLabelNodes(){let{radiusScale:t}=this,i=t.convert(0),{fontSize:n,fontStyle:s,fontWeight:o,fontFamily:r,positionOffset:a,positionRatio:l,color:c}=this.properties.sectorLabel,d=(u,h)=>{let{sectorLabel:p,outerRadius:g}=h,m=!1;if(p&&g!==0){let f=i*(1-l)+g*l+a;u.fill=c,u.fontStyle=s,u.fontWeight=o,u.fontSize=n,u.fontFamily=r,u.text=p.text,u.x=h.midCos*f,u.y=h.midSin*f,u.textAlign="center",u.textBaseline="middle";let v=u.getBBox(),y=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]],{startAngle:C,endAngle:S}=h,M={startAngle:C,endAngle:S,innerRadius:i,outerRadius:g};y.every(([D,E])=>Xv(D,E,M))&&(m=!0)}u.visible=m};this.labelSelection.each(d),this.highlightLabelSelection.each(d)}updateInnerLabelNodes(){let t=[],i=[];this.innerLabelsSelection.each((u,h)=>{let{fontStyle:p,fontWeight:g,fontSize:m,fontFamily:f,color:v}=h;u.fontStyle=p,u.fontWeight=g,u.fontSize=m,u.fontFamily=f,u.text=h.text,u.x=0,u.y=0,u.fill=v,u.textAlign="center",u.textBaseline="alphabetic",t.push(u.getBBox()),i.push(h.spacing)});let n=u=>u===0?0:i[u],s=u=>u===i.length-1?0:i[u],o=t.reduce((u,h,p)=>u+h.height+n(p)+s(p),0),r=Math.max(...t.map(u=>u.width)),a=this.getInnerRadius(),c=Math.sqrt(Math.pow(r/2,2)+Math.pow(o/2,2))<=(a>0?a:this.getOuterRadius()),d=[];for(let u=0,h=-o/2;u<t.length;u++){let g=t[u].height+h+n(u);d.push(g),h=g+s(u)}this.innerLabelsSelection.each((u,h,p)=>{u.y=d[p],u.visible=c})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}pickNodeClosestDatum(t){return yD(this,t)}getTooltipContent(t){let{id:i,dataModel:n,processedData:s,properties:o}=this,{legendItemKey:r,calloutLabelKey:a,calloutLabelName:l,sectorLabelKey:c,sectorLabelName:d,angleKey:u,angleName:h,radiusKey:p,radiusName:g,tooltip:m}=o,f=this.properties.title.text;if(!n||!s)return;let{datumIndex:v}=t,y=s.dataSources.get(this.id)?.[v],{angleRawValues:C,legendItemValues:S,calloutLabelValues:M,sectorLabelValues:D}=this.getProcessedDataValues(n,s),E=C[v],R=S?.[v]??(a===u?void 0:M?.[v])??(c===u?void 0:D?.[v])??h;return m.formatTooltip({title:f,symbol:this.legendItemSymbol(v),data:[{label:R,fallbackLabel:u,value:vr(E,3)}]},w({seriesId:i,datum:y,title:h,legendItemKey:r,calloutLabelKey:a,calloutLabelName:l,sectorLabelKey:c,sectorLabelName:d,angleKey:u,angleName:h,radiusKey:p,radiusName:g},this.getSectorFormat(y,v,!1)))}legendItemSymbol(t){let i=this.processedData?.dataSources.get(this.id)?.[t],n=this.getSectorFormat(i,t,!1);return{marker:{fill:n.fill,stroke:n.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}}}getLegendData(t){let{visible:i,processedData:n,dataModel:s,id:o,ctx:{legendManager:r}}=this;if(!s||!n||!this.properties.isValid()||t!=="category")return[];let{angleKey:a,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:d,showInLegend:u}=this.properties;if(!d&&(!l||l===a)&&(!c||c===a))return[];let{angleRawValues:h,calloutLabelValues:p,sectorLabelValues:g,legendItemValues:m}=this.getProcessedDataValues(s,n),f=this.properties.title?.showInLegend&&this.properties.title.text,v=[],y=this.properties.hideZeroValueSectorsInLegend,C=n.dataSources.get(this.id),S=n.invalidData?.get(this.id);for(let M=0;M<n.input.count;M++){let D=C?.[M],E=h[M];if(S?.[M]===!0||y&&E===0)continue;let R=[];f&&R.push(f);let I=this.getLabels(D,2*Math.PI,2*Math.PI,!1,p?.[M],g?.[M],m?.[M]);d&&I.legendItem!==void 0?R.push(I.legendItem.text):l&&l!==a&&I.calloutLabel?.text!==void 0?R.push(I.calloutLabel?.text):c&&c!==a&&I.sectorLabel?.text!==void 0&&R.push(I.sectorLabel?.text),R.length!==0&&v.push({legendType:"category",id:o,datum:D,itemId:M,seriesId:o,enabled:i&&r.getItemEnabled({seriesId:o,itemId:M}),label:{text:R.join(" - ")},symbol:this.legendItemSymbol(M),legendItemName:d!=null?D[d]:void 0,hideInLegend:!u})}return v}setLegendState(t){let{id:i,ctx:{legendManager:n,updateService:s}}=this;t.forEach((o,r)=>n.toggleItem({enabled:o,seriesId:i,itemId:r})),n.update(),s.update(4)}animateEmptyUpdateReady(t){let{animationManager:i}=this.ctx,n=Pl(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);$t(this.id,"nodes",i,[this.itemSelection,this.highlightSelection,this.phantomSelection],n.nodes,(s,o)=>this.getDatumId(o.datum,o.datumIndex)),$t(this.id,"innerCircle",i,[this.innerCircleSelection],n.innerCircle),ot(this,"callout",i,this.calloutLabelSelection),ot(this,"sector",i,this.labelSelection),ot(this,"highlight",i,this.highlightLabelSelection),ot(this,"inner",i,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){let{itemSelection:t,highlightSelection:i,phantomSelection:n,processedData:s,radiusScale:o,previousRadiusScale:r}=this,{animationManager:a}=this.ctx,l=s?.reduced?.diff?.[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);let c=(l?.moved.size??0)===0,d=(s?.defs.keys.length??0)>0,u=s?.reduced?.animationValidation?.uniqueKeys??!0;(!c||!d||!u)&&this.ctx.animationManager.skipCurrentBatch();let h=!this.nodeData.some(g=>g.enabled),p=Pl(!1,this.properties.rotation,o,r);$t(this.id,"nodes",a,[t,i,n],p.nodes,(g,m)=>this.getDatumId(m.datum,m.datumIndex),l),$t(this.id,"innerCircle",a,[this.innerCircleSelection],p.innerCircle),ot(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),ot(this,"sector",this.ctx.animationManager,this.labelSelection),ot(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.noVisibleData!==h&&(this.noVisibleData=h,ot(this,"inner",this.ctx.animationManager,this.innerLabelsSelection)),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){let{itemSelection:t,highlightSelection:i,phantomSelection:n,radiusScale:s,previousRadiusScale:o}=this,{animationManager:r}=this.ctx,a=Pl(!1,this.properties.rotation,s,o);$t(this.id,"nodes",r,[t,i,n],a.nodes,(l,c)=>this.getDatumId(c.datum,c.datumIndex)),$t(this.id,"innerCircle",r,[this.innerCircleSelection],a.innerCircle),ga(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),ga(this,"sector",this.ctx.animationManager,this.labelSelection),ga(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),ga(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(t,i){let{calloutLabelKey:n,sectorLabelKey:s,legendItemKey:o}=this.properties;return this.processedData?.reduced?.animationValidation?.uniqueKeys?o?li(t[o]):n?li(t[n]):s?li(t[s]):`${i}`:`${i}`}};return e.className="DonutSeries",e.type="donut",e})(),Ase={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"backgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Ra,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:2}},legend:{enabled:!0}},kse={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"backgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Ra,xOffset:3,yOffset:3,blur:5}},legend:{enabled:!0}},BO=({takeColors:e,colorsCount:t})=>{let{fills:i,strokes:n}=e(t);return{fills:i,strokes:n,calloutLine:{colors:n}}},Tse={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:e=>new Rse(e),tooltipDefaults:{range:"exact"},themeTemplate:Ase,paletteFactory:BO},zO=class extends Ft{constructor(){super(...arguments),this.showInLegend=!1}};b([x(me)],zO.prototype,"showInLegend",2);var Kd=class extends Si{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};b([x($)],Kd.prototype,"offset",2);b([x(Qe.restrict({min:0,max:360}))],Kd.prototype,"minAngle",2);b([x($)],Kd.prototype,"minSpacing",2);b([x($)],Kd.prototype,"maxCollisionOffset",2);b([x(me)],Kd.prototype,"avoidCollisions",2);var bD=class extends Si{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};b([x(Qe)],bD.prototype,"positionOffset",2);b([x(dt)],bD.prototype,"positionRatio",2);var Zy=class extends ke{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};b([x(Qn,{optional:!0})],Zy.prototype,"colors",2);b([x($)],Zy.prototype,"length",2);b([x($)],Zy.prototype,"strokeWidth",2);var at=class extends ts{constructor(){super(...arguments),this.fills=Object.values(oi),this.strokes=Object.values(xo),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.title=new zO,this.shadow=new so,this.calloutLabel=new Kd,this.sectorLabel=new bD,this.calloutLine=new Zy,this.tooltip=new nn}};b([x(B)],at.prototype,"angleKey",2);b([x(B,{optional:!0})],at.prototype,"angleName",2);b([x(B,{optional:!0})],at.prototype,"angleFilterKey",2);b([x(B,{optional:!0})],at.prototype,"radiusKey",2);b([x(B,{optional:!0})],at.prototype,"radiusName",2);b([x($,{optional:!0})],at.prototype,"radiusMin",2);b([x($,{optional:!0})],at.prototype,"radiusMax",2);b([x(B,{optional:!0})],at.prototype,"calloutLabelKey",2);b([x(B,{optional:!0})],at.prototype,"calloutLabelName",2);b([x(B,{optional:!0})],at.prototype,"sectorLabelKey",2);b([x(B,{optional:!0})],at.prototype,"sectorLabelName",2);b([x(B,{optional:!0})],at.prototype,"legendItemKey",2);b([x(Qn)],at.prototype,"fills",2);b([x(Qn)],at.prototype,"strokes",2);b([x(dt)],at.prototype,"fillOpacity",2);b([x(dt)],at.prototype,"strokeOpacity",2);b([x(To)],at.prototype,"lineDash",2);b([x($)],at.prototype,"lineDashOffset",2);b([x($)],at.prototype,"cornerRadius",2);b([x(wn,{optional:!0})],at.prototype,"itemStyler",2);b([x(Qe)],at.prototype,"rotation",2);b([x(Qe)],at.prototype,"outerRadiusOffset",2);b([x(dt)],at.prototype,"outerRadiusRatio",2);b([x($)],at.prototype,"strokeWidth",2);b([x(Qe)],at.prototype,"sectorSpacing",2);b([x(me)],at.prototype,"hideZeroValueSectorsInLegend",2);b([x(ee)],at.prototype,"title",2);b([x(ee)],at.prototype,"shadow",2);b([x(ee)],at.prototype,"calloutLabel",2);b([x(ee)],at.prototype,"sectorLabel",2);b([x(ee)],at.prototype,"calloutLine",2);b([x(ee)],at.prototype,"tooltip",2);var Lse=class extends Wp{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},Fse=(()=>{let e=class extends Ky{constructor(t){super({moduleCtx:t,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:vD,label:Ar}}),this.properties=new at,this.phantomNodeData=void 0,this.backgroundGroup=new Cn({name:`${this.id}-background`,zIndex:0}),this.previousRadiusScale=new Qs,this.radiusScale=new Qs,this.phantomGroup=this.backgroundGroup.appendChild(new _e({name:"phantom"})),this.phantomSelection=ai.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new _e({name:"pieCalloutLabels"})),this.calloutLabelSelection=new ai(this.calloutLabelGroup,_e),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new _e({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new xi({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=Lse,this.angleScale=new Qs,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(i=>i+Math.PI/2),this.phantomGroup.opacity=.2}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(t,i,n){super.attachSeries(t,i,n),t.appendChild(this.backgroundGroup)}detachSeries(t,i,n){super.detachSeries(t,i,n),t?.removeChild(this.backgroundGroup)}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.backgroundGroup.zIndex=[0,t],!0):!1}nodeFactory(){let t=new Ui;return t.miterLimit=1e9,t}getSeriesDomain(t){return t==="x"?this.angleScale.domain:this.radiusScale.domain}processData(t){return Pe(this,null,function*(){if(this.data==null||!this.properties.isValid())return;let{visible:i,id:n,ctx:{legendManager:s}}=this,{angleKey:o,angleFilterKey:r,radiusKey:a,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:d}=this.properties,u=(v,y,C)=>i&&s.getItemEnabled({seriesId:n,itemId:C}),h=!this.ctx.animationManager.isSkipped(),p=[],g=[];d?p.push(Js(d,"band",{id:"legendItemKey"})):l?p.push(Js(l,"band",{id:"calloutLabelKey"})):c&&p.push(Js(c,"band",{id:"sectorLabelKey"}));let m=this.radiusScale.type,f=this.angleScale.type;a&&g.push(BM(a,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),je(a,m,{id:"radiusRaw"}),Fl("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),l&&g.push(je(l,"band",{id:"calloutLabelValue"})),c&&g.push(je(c,"band",{id:"sectorLabelValue"})),d&&g.push(je(d,"band",{id:"legendItemValue"})),r&&g.push(bp(r,f,{id:"angleFilterValue",onlyPositive:!0,validation:u,invalidValue:0}),je(r,f,{id:"angleFilterRaw"}),Fl("angleFilterValue",[0,1],0,0)),h&&this.processedData?.reduced?.animationValidation?.uniqueKeys&&p.length>0&&g.push(Vd(this.id,this.processedData)),g.push(zd()),yield this.requestDataModel(t,this.data,{props:[...p,bp(o,f,{id:"angleValue",onlyPositive:!0,validation:u,invalidValue:0}),je(o,f,{id:"angleRaw"}),Fl("angleValue",[0,1],0,0),...g]});for(let v of this.processedData?.defs?.values??[]){let{id:y,missing:C,property:S}=v,M=DM(this,C);y!=="angleRaw"&&M>0&&V.warnOnce(`no value was found for the key '${String(S)}' on ${M} data element${M>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;let{nodeData:t=[],phantomNodeData:i}=this.createNodeData()??{};this.nodeData=t,this.phantomNodeData=i,this.nodeDataRefresh=!1}getProcessedDataValues(t,i){let n=t.resolveColumnById(this,"angleValue",i),s=t.resolveColumnById(this,"angleRaw",i),o=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterValue",i):void 0,r=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterRaw",i):void 0,a=this.properties.radiusKey?t.resolveColumnById(this,"radiusValue",i):void 0,l=this.properties.radiusKey?t.resolveColumnById(this,"radiusRaw",i):void 0,c=this.properties.calloutLabelKey?t.resolveColumnById(this,"calloutLabelValue",i):void 0,d=this.properties.sectorLabelKey?t.resolveColumnById(this,"sectorLabelValue",i):void 0,u=this.properties.legendItemKey?t.resolveColumnById(this,"legendItemValue",i):void 0;return{angleValues:n,angleRawValues:s,angleFilterValues:o,angleFilterRawValues:r,radiusValues:a,radiusRawValues:l,calloutLabelValues:c,sectorLabelValues:d,legendItemValues:u}}createNodeData(){let{id:t,processedData:i,dataModel:n,angleScale:s,ctx:{legendManager:o},visible:r}=this,{rotation:a}=this.properties;if(!n||i?.type!=="ungrouped")return;let{angleValues:l,angleRawValues:c,angleFilterValues:d,angleFilterRawValues:u,radiusValues:h,radiusRawValues:p,calloutLabelValues:g,sectorLabelValues:m,legendItemValues:f}=this.getProcessedDataValues(n,i),v=u?.some((R,I)=>R>c[I])??!1,y=0,C=0,S=[],M=u!=null?[]:void 0,D=i.dataSources.get(this.id)??[],E=i.invalidData?.get(this.id);return D.forEach((R,I)=>{if(E?.[I]===!0)return;let T=v?d[I]:l[I],F=u!=null&&!v?Math.sqrt(u[I]/c[I]):1,N=s.convert(y)+mi(a);y=T,C+=T;let q=s.convert(y)+mi(a),pe=Math.abs(q-N),fe=N+pe/2,oe=c[I],xe=(h?.[I]??1)*F,re=p?.[I],ve=f?.[I],X=this.getLabels(R,fe,pe,!0,g?.[I],m?.[I],ve),le=this.getSectorFormat(R,I,!1),ae=w({itemId:I,series:this,datum:R,datumIndex:I,angleValue:oe,midAngle:fe,midCos:Math.cos(fe),midSin:Math.sin(fe),startAngle:N,endAngle:q,radius:xe,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(xe),0),sectorFormat:le,radiusValue:re,legendItemValue:ve,enabled:r&&o.getItemEnabled({seriesId:t,itemId:I})},X);S.push(ae),M?.push(A(w({},ae),{radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0)}))}),this.zerosumOuterRing.visible=C===0,{itemId:t,nodeData:S,labelData:S,phantomNodeData:M}}getLabels(t,i,n,s,o,r,a){let{calloutLabel:l,sectorLabel:c,legendItemKey:d}=this.properties,u=!s||l.enabled?this.properties.calloutLabelKey:void 0,h=!s||c.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!h&&!d)return{};let p={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},g={};return u&&n>=mi(l.minAngle)&&(g.calloutLabel=A(w({},this.getTextAlignment(i)),{text:this.getLabelText(l,A(w({},p),{value:o})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),h&&(g.sectorLabel={text:this.getLabelText(c,A(w({},p),{value:r}))}),d!=null&&a!=null&&(g.legendItem={key:d,text:a}),g}getTextAlignment(t){let i=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],n=pp(t),s=-.75*Math.PI,o=n-s,r=Math.floor(o/(Math.PI/2)),a=OS(r,i.length);return i[a]}getSectorFormat(t,i,n){let{angleKey:s,radiusKey:o,calloutLabelKey:r,sectorLabelKey:a,legendItemKey:l,fills:c,strokes:d,itemStyler:u}=this.properties,h=d[i%d.length],{fill:p,fillOpacity:g,stroke:m,strokeWidth:f,strokeOpacity:v,lineDash:y,lineDashOffset:C,cornerRadius:S}=He(n&&this.properties.highlightStyle.item,{fill:c.length>0?c[i%c.length]:void 0,stroke:h,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties),M;return u&&(M=this.cachedDatumCallback(this.getDatumId(t,i)+(n?"-highlight":"-hide"),()=>u({datum:t,angleKey:s,radiusKey:o,calloutLabelKey:r,sectorLabelKey:a,legendItemKey:l,fill:p,strokeOpacity:v,stroke:m,strokeWidth:f,fillOpacity:g,lineDash:y,lineDashOffset:C,cornerRadius:S,highlighted:n,seriesId:this.id}))),{fill:M?.fill??p,fillOpacity:M?.fillOpacity??g,stroke:M?.stroke??m,strokeWidth:M?.strokeWidth??f,strokeOpacity:M?.strokeOpacity??v,lineDash:M?.lineDash??y,lineDashOffset:M?.lineDashOffset??C,cornerRadius:M?.cornerRadius??S}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(t){let i=[0,this.getOuterRadius()];this.radiusScale.range=i,t&&(this.previousRadiusScale.range=i);let n=s=>A(w({},s),{innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(n),this.phantomNodeData=this.phantomNodeData?.map(n)}getTitleTranslationY(){let t=Math.max(0,this.radiusScale.range[1]);if(t===0)return NaN;let n=2+(this.properties.title?.spacing??0),s=Math.max(0,-t);return-t-n-s}update({seriesRect:t}){let{title:i}=this.properties,n={seriesRectWidth:t?.width,seriesRectHeight:t?.height},s=yr(this.nodeDataDependencies,n)!=null;if(s&&(this._nodeDataDependencies=n),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(s),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){let o=this.getTitleTranslationY();i.node.y=isFinite(o)?o:0;let r=i.node.getBBox();i.node.visible=i.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(r)}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(t)}updateTitleNodes(){let{oldTitle:t}=this,{title:i}=this.properties;t!==i&&(t&&this.labelGroup?.removeChild(t.node),i&&(i.node.textBaseline="bottom",this.labelGroup?.appendChild(i.node)),this.oldTitle=i)}updateNodeMidPoint(){let t=i=>{let n=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,n),y:i.midSin*Math.max(0,n)}};this.nodeData.forEach(t),this.phantomNodeData?.forEach(t)}updateSelections(){let{itemSelection:t,highlightSelection:i,phantomSelection:n,highlightLabelSelection:s,calloutLabelSelection:o,labelSelection:r}=this,a=this.nodeData.map(c=>A(w({},c),{sectorFormat:w({},c.sectorFormat)})),l=(c,d)=>{c.update(d,void 0,u=>this.getDatumId(u.datum,u.datumIndex)),this.ctx.animationManager.isSkipped()&&c.cleanup()};l(t,this.nodeData),l(i,a),l(n,this.phantomNodeData??[]),o.update(this.calloutNodeData,c=>{let d=new es;d.tag=0,d.pointerEvents=1,c.appendChild(d);let u=new wi;u.tag=1,u.pointerEvents=1,c.appendChild(u)}),r.update(this.nodeData),s.update(a)}updateNodes(t){let i=this.ctx.highlightManager.getActiveHighlight(),{visible:n}=this;this.backgroundGroup.visible=n,this.contentGroup.visible=n,this.highlightGroup.visible=n&&i?.series===this,this.highlightLabel.visible=n&&i?.series===this,this.labelGroup&&(this.labelGroup.visible=n),this.contentGroup.opacity=this.getOpacity();let s=this.ctx.animationManager.isSkipped(),o=(r,a,l,c)=>{let d=this.getSectorFormat(a.datum,a.itemId,c);a.sectorFormat.fill=d.fill,a.sectorFormat.stroke=d.stroke,s&&(r.startAngle=a.startAngle,r.endAngle=a.endAngle,r.innerRadius=a.innerRadius,r.outerRadius=a.outerRadius),(c||s)&&(r.fill=d.fill,r.stroke=d.stroke),r.strokeWidth=d.strokeWidth,r.fillOpacity=d.fillOpacity,r.strokeOpacity=d.strokeOpacity,r.lineDash=d.lineDash,r.lineDashOffset=d.lineDashOffset,r.cornerRadius=d.cornerRadius,r.fillShadow=this.properties.shadow;let u=Math.max((this.properties.sectorSpacing+(d.stroke!=null?d.strokeWidth:0))/2,0);r.inset=u,r.lineJoin=this.properties.sectorSpacing>=0||u>0?"miter":"round"};this.itemSelection.each((r,a,l)=>o(r,a,l,!1)),this.highlightSelection.each((r,a,l)=>{o(r,a,l,!0),r.visible=a.itemId===i?.itemId}),this.phantomSelection.each((r,a,l)=>o(r,a,l,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){let{calloutLine:t}=this.properties,i=t.length,n=t.strokeWidth,s=t.colors??this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((r,a)=>{let l=r.datum,{calloutLabel:c,outerRadius:d}=l;if(c?.text&&!c.hidden&&d!==0){r.visible=!0,r.strokeWidth=n,r.stroke=s[a%s.length],r.fill=void 0;let u=l.midCos*d,h=l.midSin*d,p=l.midCos*(d+i),g=l.midSin*(d+i);if((c.collisionTextAlign??c.collisionOffsetY!==0)&&c.box!=null){let f=c.box,v=p,y=g;p<f.x?v=f.x:p>f.x+f.width&&(v=f.x+f.width),g<f.y?y=f.y:g>f.y+f.height&&(y=f.y+f.height);let C=v-p,S=y-g,M=Math.sqrt(Math.pow(C,2)+Math.pow(S,2)),D=M-o;D>0&&(p=p+C*D/M,g=g+S*D/M)}r.x1=u,r.y1=h,r.x2=p,r.y2=g}else r.visible=!1})}getLabelOverflow(t,i,n){let s=-this.centerX,o=s+n.width,r=-this.centerY,a=r+n.height,l=1,c=1;i.x+l<s?c=(i.x+i.width-s)/i.width:i.x+i.width-l>o&&(c=(o-i.x)/i.width);let d=i.y+l<r||i.y+i.height-l>a,u=c===1?t.length:Math.floor(t.length*c)-1,h=this.bboxIntersectsSurroundingSeries(i);return{textLength:u,hasVerticalOverflow:d,hasSurroundingSeriesOverflow:h}}bboxIntersectsSurroundingSeries(t){let{surroundingRadius:i}=this;if(i==null)return!1;let n=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],s=i**2;return n.some(o=>o.x**2+o.y**2>s)}computeCalloutLabelCollisionOffsets(){let{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,{offset:s,minSpacing:o}=i,r=t.convert(0),a=y=>!y.calloutLabel||y.outerRadius===0,l=this.calloutNodeData,c=l.filter(y=>!a(y));if(c.forEach(y=>{let C=y.calloutLabel;C!=null&&(C.hidden=!1,C.collisionTextAlign=void 0,C.collisionOffsetY=0)}),c.length<=1)return;let d=c.filter(y=>y.midCos<0).sort((y,C)=>y.midSin-C.midSin),u=c.filter(y=>y.midCos>=0).sort((y,C)=>y.midSin-C.midSin),h=c.filter(y=>y.midSin<0&&y.calloutLabel?.textAlign==="center").sort((y,C)=>y.midCos-C.midCos),p=c.filter(y=>y.midSin>=0&&y.calloutLabel?.textAlign==="center").sort((y,C)=>y.midCos-C.midCos),g=y=>{let C=y.calloutLabel;if(C==null)return ne.zero.clone();let S=y.outerRadius+n.length+s,M=y.midCos*S,D=y.midSin*S+C.collisionOffsetY,E=C.collisionTextAlign??C.textAlign,R=C.textBaseline;return wi.computeBBox(C.text,M,D,{font:this.properties.calloutLabel,textAlign:E,textBaseline:R})},m=(y,C,S)=>{let M=g(y).grow(o/2),D=g(C).grow(o/2);M.x<D.x+D.width&&M.x+M.width>D.x&&(S==="to-top"?M.y<D.y+D.height:M.y+M.height>D.y)&&(C.calloutLabel.collisionOffsetY=S==="to-top"?M.y-D.y-D.height:M.y+M.height-D.y)},f=y=>{let C=y.slice().sort((M,D)=>Math.abs(M.midSin)-Math.abs(D.midSin))[0],S=y.indexOf(C);for(let M=S-1;M>=0;M--){let D=y[M+1],E=y[M];m(D,E,"to-top")}for(let M=S+1;M<y.length;M++){let D=y[M-1],E=y[M];m(D,E,"to-bottom")}},v=y=>{let C=c.some(I=>I.calloutLabel.collisionOffsetY!==0),S=y.map(I=>g(I)),M=S.map(I=>I.clone().grow(o/2)),D=!1;for(let I=0;I<M.length&&!D;I++){let T=M[I];for(let F=I+1;F<y.length;F++){let N=M[F];if(T.collidesBBox(N)){D=!0;break}}}let E=l.map(I=>{let{startAngle:T,endAngle:F,outerRadius:N}=I;return{startAngle:T,endAngle:F,innerRadius:r,outerRadius:N}}),R=S.some(I=>E.some(T=>PO(I,T)));!D&&!C&&!R||y.filter(I=>I.calloutLabel.textAlign==="center").forEach(I=>{let T=I.calloutLabel;I.midCos<0?T.collisionTextAlign="right":I.midCos>0?T.collisionTextAlign="left":T.collisionTextAlign="center"})};f(d),f(u),v(h),v(p)}updateCalloutLabelNodes(t){let{radiusScale:i}=this,{calloutLabel:n,calloutLine:s}=this.properties,o=s.length,{offset:r,color:a}=n,l=new wi;this.calloutLabelSelection.selectByTag(1).forEach(c=>{let{datum:d}=c,u=d.calloutLabel,h=i.convert(d.radius),p=Math.max(0,h);if(!u?.text||p===0||u.hidden){c.visible=!1;return}let g=p+o+r,m=d.midCos*g,f=d.midSin*g+u.collisionOffsetY,v={textAlign:u.collisionTextAlign??u.textAlign,textBaseline:u.textBaseline};l.text=u.text,l.x=m,l.y=f,l.setFont(this.properties.calloutLabel),l.setAlign(v);let y=l.getBBox(),C=u.text,S=!0;if(n.avoidCollisions){let{textLength:M,hasVerticalOverflow:D}=this.getLabelOverflow(u.text,y,t);C=u.text.length===M?u.text:`${u.text.substring(0,M)}\u2026`,S=!D}c.text=C,c.x=m,c.y=f,c.setFont(this.properties.calloutLabel),c.setAlign(v),c.fill=a,c.visible=S})}computeLabelsBBox(t,i){let{calloutLabel:n,calloutLine:s}=this.properties,o=s.length,{offset:r,maxCollisionOffset:a,minSpacing:l}=n;if(!n.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();let c=[],d=new wi,u,{title:h}=this.properties;if(h?.text&&h.enabled){let p=this.getTitleTranslationY();isFinite(p)&&(d.text=h.text,d.x=0,d.y=p,d.setFont(h),d.setAlign({textBaseline:"bottom",textAlign:"center"}),u=d.getBBox(),c.push(u))}return this.calloutNodeData.forEach(p=>{let g=p.calloutLabel;if(!g||p.outerRadius===0)return null;let m=p.outerRadius+o+r,f=p.midCos*m,v=p.midSin*m+g.collisionOffsetY;d.text=g.text,d.x=f,d.y=v,d.setFont(this.properties.calloutLabel),d.setAlign({textAlign:g.collisionTextAlign??g.textAlign,textBaseline:g.textBaseline});let y=d.getBBox();if(g.box=y,Math.abs(g.collisionOffsetY)>a){g.hidden=!0;return}if(u){let C=-this.centerY,S=new ne(u.x-l,C,u.width+2*l,u.y+u.height+l-C);if(y.collidesBBox(S)){g.hidden=!0;return}}if(t.hideWhenNecessary){let{textLength:C,hasVerticalOverflow:S,hasSurroundingSeriesOverflow:M}=this.getLabelOverflow(g.text,y,i),D=g.text.length>2&&C<2;if(S||D||M){g.hidden=!0;return}}g.hidden=!1,c.push(y)}),c.length===0?null:ne.merge(c)}updateSectorLabelNodes(){let{radiusScale:t}=this,i=t.convert(0),{fontSize:n,fontStyle:s,fontWeight:o,fontFamily:r,positionOffset:a,positionRatio:l,color:c}=this.properties.sectorLabel,d=i>0,u=this.ctx.legendManager.getData(this.id)?.filter(p=>p.enabled).length===1,h=(p,g)=>{let{sectorLabel:m,outerRadius:f,startAngle:v,endAngle:y}=g,C=!1;if(m&&f!==0){let S=i*(1-l)+f*l+a;p.fill=c,p.fontStyle=s,p.fontWeight=o,p.fontSize=n,p.fontFamily=r,p.text=m.text,!d&&u?(p.x=0,p.y=0):(p.x=g.midCos*S,p.y=g.midSin*S),p.textAlign="center",p.textBaseline="middle";let D=p.getBBox(),E=[[D.x,D.y],[D.x+D.width,D.y],[D.x+D.width,D.y+D.height],[D.x,D.y+D.height]],R={startAngle:v,endAngle:y,innerRadius:i,outerRadius:f};E.every(([I,T])=>Xv(I,T,R))&&(C=!0)}p.visible=C};this.labelSelection.each(h),this.highlightLabelSelection.each(h)}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2}pickNodeClosestDatum(t){return yD(this,t)}getTooltipContent(t){let{id:i,dataModel:n,processedData:s,properties:o}=this,{legendItemKey:r,calloutLabelKey:a,calloutLabelName:l,sectorLabelKey:c,sectorLabelName:d,angleKey:u,angleName:h,radiusKey:p,radiusName:g,tooltip:m}=o,f=this.properties.title.text;if(!n||!s)return;let{datumIndex:v}=t,y=s.dataSources.get(this.id)?.[v],{angleRawValues:C,legendItemValues:S,calloutLabelValues:M,sectorLabelValues:D}=this.getProcessedDataValues(n,s),E=C[v],R=S?.[v]??(a===u?void 0:M?.[v])??(c===u?void 0:D?.[v])??h;return m.formatTooltip({title:f,symbol:this.legendItemSymbol(v),data:[{label:R,fallbackLabel:u,value:vr(E,3)}]},w({seriesId:i,datum:y,title:h,legendItemKey:r,calloutLabelKey:a,calloutLabelName:l,sectorLabelKey:c,sectorLabelName:d,angleKey:u,angleName:h,radiusKey:p,radiusName:g},this.getSectorFormat(y,v,!1)))}legendItemSymbol(t){let i=this.processedData?.dataSources.get(this.id)?.[t],n=this.getSectorFormat(i,t,!1);return{marker:{fill:n.fill,stroke:n.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}}}getLegendData(t){let{id:i,visible:n,processedData:s,dataModel:o,ctx:{legendManager:r}}=this;if(!o||!s||t!=="category")return[];let{angleKey:a,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:d,showInLegend:u}=this.properties;if(!d&&(!l||l===a)&&(!c||c===a))return[];let{calloutLabelValues:h,sectorLabelValues:p,legendItemValues:g,angleRawValues:m}=this.getProcessedDataValues(o,s),f=this.properties.title?.showInLegend&&this.properties.title.text,v=[],y=this.properties.hideZeroValueSectorsInLegend,C=s.dataSources.get(this.id),S=s.invalidData?.get(this.id);for(let M=0;M<s.input.count;M++){let D=C?.[M],E=m[M];if(S?.[M]===!0||y&&E===0)continue;let R=[];f&&R.push(f);let I=this.getLabels(D,2*Math.PI,2*Math.PI,!1,h?.[M],p?.[M],g?.[M]);d&&I.legendItem!==void 0?R.push(I.legendItem.text):l&&l!==a&&I.calloutLabel?.text!==void 0?R.push(I.calloutLabel?.text):c&&c!==a&&I.sectorLabel?.text!==void 0&&R.push(I.sectorLabel?.text),R.length!==0&&v.push({legendType:"category",id:i,datum:D,itemId:M,seriesId:i,enabled:n&&r.getItemEnabled({seriesId:i,itemId:M}),label:{text:R.join(" - ")},symbol:this.legendItemSymbol(M),legendItemName:d!=null?D[d]:void 0,hideInLegend:!u})}return v}setLegendState(t){let{id:i,ctx:{legendManager:n,updateService:s}}=this;t.forEach((o,r)=>n.toggleItem({enabled:o,seriesId:i,itemId:r})),n.update(),s.update(4)}animateEmptyUpdateReady(t){let{animationManager:i}=this.ctx,n=Pl(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);$t(this.id,"nodes",i,[this.itemSelection,this.highlightSelection,this.phantomSelection],n.nodes,(s,o)=>this.getDatumId(o.datum,o.datumIndex)),ot(this,"callout",i,this.calloutLabelSelection),ot(this,"sector",i,this.labelSelection),ot(this,"highlight",i,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){let{itemSelection:t,highlightSelection:i,phantomSelection:n,processedData:s,radiusScale:o,previousRadiusScale:r}=this,{animationManager:a}=this.ctx,l=s?.reduced?.diff?.[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);let c=(l?.moved.size??0)===0,d=(s?.defs.keys.length??0)>0,u=s?.reduced?.animationValidation?.uniqueKeys??!0;(!c||!d||!u)&&this.ctx.animationManager.skipCurrentBatch();let h=Pl(!1,this.properties.rotation,o,r);$t(this.id,"nodes",a,[t,i,n],h.nodes,(p,g)=>this.getDatumId(g.datum,g.datumIndex),l),ot(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),ot(this,"sector",this.ctx.animationManager,this.labelSelection),ot(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){let{itemSelection:t,highlightSelection:i,phantomSelection:n,radiusScale:s,previousRadiusScale:o}=this,{animationManager:r}=this.ctx,a=Pl(!1,this.properties.rotation,s,o);$t(this.id,"nodes",r,[t,i,n],a.nodes,(l,c)=>this.getDatumId(c.datum,c.datumIndex)),ga(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),ga(this,"sector",this.ctx.animationManager,this.labelSelection),ga(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(t,i){let{calloutLabelKey:n,sectorLabelKey:s,legendItemKey:o}=this.properties;return this.processedData?.reduced?.animationValidation?.uniqueKeys?o?li(t[o]):n?li(t[n]):s?li(t[s]):`${i}`:`${i}`}};return e.className="PieSeries",e.type="pie",e})(),Pse={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:e=>new Fse(e),tooltipDefaults:{range:"exact"},themeTemplate:kse,paletteFactory:BO};function VO(){Eo.register(XP,Wne,gne,dse,IO,wse,kO,_se,Tse,Pse,Sse);for(let e of[Bd,Fd,$p,Py,Kp])hr.register(e.type,{moduleFactory:t=>new e(t)})}function Ose(){for(let e of Eo.modules){if(e.packageType==="enterprise"&&!oie(e)&&V.errorOnce("Unexpected enterprise module registered: "+e.identifier),e.type==="root"&&e.themeTemplate)for(let t of e.chartTypes)yS.set(t,e.themeTemplate);if(e.type==="series"){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);kn.register(e.identifier,e)}if(e.type==="series-option"&&e.themeTemplate)for(let t of e.seriesTypes)kn.setThemeTemplate(t,e.themeTemplate);if(e.type==="axis-option"&&e.themeTemplate)for(let t of e.axisTypes){let i=hr.getThemeTemplate(t),n=He(e.themeTemplate,i);hr.setThemeTemplate(t,n)}e.type==="axis"&&hr.register(e.identifier,e),e.type==="legend"&&_M.register(e.identifier,e)}if(Eo.hasEnterpriseModules()){let e=rie();e.length>0&&V.errorOnce("Enterprise modules expected but not registered: ",e)}}var Id=class extends dM{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}updatePosition(){super.updatePosition();let e=Ov(this),t=lM(e);this.axisGroup.setProperties(this.getAxisTransform()),this.gridLineGroupSelection.each(t),this.tickLineGroupSelection.each(t),this.tickLabelGroupSelection.each(cM())}computeLabelsBBox(e,t){return null}computeRange(){}getAxisLinePoints(){}};b([x(xt(["polygon","circle"],"a polar axis shape"))],Id.prototype,"shape",2);b([x(dt)],Id.prototype,"innerRadiusRatio",2);var Nse=(()=>{let e=class extends Ay{constructor(t,i){super(t,i),this.padding=new Ma(40),this.ctx.axisManager.axisGroup.zIndex=6}getChartType(){return"polar"}performLayout(t){return Pe(this,null,function*(){let{layoutBox:i}=t;i.shrink(this.seriesArea.padding.toJson());let n=i.clone();this.seriesRect=n,this.animationRect=n,this.seriesRoot.translationX=n.x,this.seriesRoot.translationY=n.y,yield this.computeCircle(n),this.axes.forEach(s=>s.update()),this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:!0,rect:n,paddedRect:n}})})}updateAxes(t,i,n,s){let o=this.axes.find(c=>c.direction==="x"),r=this.axes.find(c=>c.direction==="y");if(!(o instanceof Id)||!(r instanceof Id))return;let a=o.scale,l=r.innerRadiusRatio;o.innerRadiusRatio=l,o.computeRange(),o.gridLength=s,r.gridAngles=a.ticks({nice:o.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})?.map(c=>a.convert(c)),r.gridRange=o.range,r.range=[s,s*l],[o,r].forEach(c=>{c.translation.x=t.x+i,c.translation.y=t.y+n,c.calculateLayout()})}computeCircle(t){return Pe(this,null,function*(){let i=this.series.filter(Bse),n=this.axes.filter(zse),s=(d,u,h)=>{this.updateAxes(t,d,u,h),i.forEach(g=>{g.centerX=d,g.centerY=u,g.radius=h});let p=i.filter(g=>g.type==="donut"||g.type==="pie");if(p.length>1){let g=p.map(m=>{let f=m.getInnerRadius();return{series:m,innerRadius:f}}).sort((m,f)=>m.innerRadius-f.innerRadius);g.at(-1).series.surroundingRadius=void 0;for(let m=0;m<g.length-1;m++)g[m].series.surroundingRadius=g[m+1].innerRadius}},o=t.width/2,r=t.height/2,a=Math.max(0,Math.min(t.width,t.height)/2),l=a;s(o,r,l);let c=(...u)=>Pe(this,[...u],function*({hideWhenNecessary:d=!1}={}){let h=[];for(let m of Al(n,i)){let f=yield m.computeLabelsBBox({hideWhenNecessary:d},t);f&&h.push(f)}if(h.length===0){s(o,r,a);return}let p=ne.merge(h),g=this.refineCircle(p,l,t);s(g.centerX,g.centerY,g.radius),l=g.radius});yield c(),yield c(),yield c(),yield c({hideWhenNecessary:!0}),yield c({hideWhenNecessary:!0});for(let d of Al(n,i))yield d.computeLabelsBBox({hideWhenNecessary:!0},t);return{radius:l,centerX:o,centerY:r}})}refineCircle(t,i,n){let o=-i,r=-i,a=i,l=i,c=Math.max(0,o-t.x),d=Math.max(0,r-t.y),u=Math.max(0,t.x+t.width-a),h=Math.max(0,t.y+t.height-l);c=u=Math.max(c,u),d=h=Math.max(d,h);let p=n.width-c-u,g=n.height-d-h,m=Math.min(p,g)/2,f=.5*n.width/2,v=.5*n.height/2,y=Math.min(f,v);if(m<y){m=y;let M=c+u,D=d+h;if(2*m+D>n.height){let E=n.height-2*m;Math.min(d,h)*2>E?(d=E/2,h=E/2):d>h?d=E-h:h=E-d}if(2*m+M>n.width){let E=n.width-2*m;Math.min(c,u)*2>E?(c=E/2,u=E/2):c>u?c=E-u:u=E-c}}let C=c+2*m+u,S=d+2*m+h;return{centerX:(n.width-C)/2+c+m,centerY:(n.height-S)/2+d+m,radius:m}}};return e.className="PolarChart",e.type="polar",e})();function Bse(e){return e instanceof Ky}function zse(e){return e instanceof Id}var Vse={type:"chart",name:"polar",detect:fP,create(e,t){return new Nse(e,t)}},gr={isEnterprise:!1};var Gse=void 0,Hse=void 0;Hse=Gse;var jse=void 0,Wse=void 0;Wse=jse;var GO=(e=>(e.POINTER="pointer",e.NODE="node",e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e))(GO||{}),Use=void 0,$se=void 0;$se=Use;var Yse=void 0,Kse=void 0;Kse=Yse;var xs=Symbol("IGNORED_PROP");function Zn(e,t){let i={};for(let[n,s]of Object.entries(t))s!==xs&&Object.hasOwn(e,n)&&(i[n]=s);return i}function HO(e){if(e===void 0)return;let{enabled:t,showArrow:i,range:n,position:s,delay:o,wrapping:r}=e;return Object.fromEntries(Object.entries({enabled:t,showArrow:i,range:n,position:s,delay:o,wrapping:r}).filter(([l,c])=>c!==void 0))}function Zse(e){return e.type==="radial-gauge"}function qse(e){return e.type==="linear-gauge"}function Xse(e){let St=e,{animation:t,background:i,container:n,contextMenu:s,footnote:o,height:r,listeners:a,locale:l,minHeight:c,minWidth:d,overrideDevicePixelRatio:u,padding:h,subtitle:p,theme:g,title:m,width:f,type:v,cursor:y,nodeClickRange:C,tooltip:S,value:M,scale:D={},startAngle:E,endAngle:R,highlightStyle:I,segmentation:T,bar:F,needle:N,targets:q,outerRadius:pe,innerRadius:fe,outerRadiusRatio:oe,innerRadiusRatio:be,cornerRadius:xe,cornerMode:re,label:ve,secondaryLabel:X,spacing:le}=St,ae=Je(St,["animation","background","container","contextMenu","footnote","height","listeners","locale","minHeight","minWidth","overrideDevicePixelRatio","padding","subtitle","theme","title","width","type","cursor","nodeClickRange","tooltip","value","scale","startAngle","endAngle","highlightStyle","segmentation","bar","needle","targets","outerRadius","innerRadius","outerRadiusRatio","innerRadiusRatio","cornerRadius","cornerMode","label","secondaryLabel","spacing"]),{fills:Ee,fillMode:Me,fill:Ve,fillOpacity:ce,stroke:de,strokeWidth:H,strokeOpacity:se,lineDash:he,lineDashOffset:qe,min:Xe=0,max:mt=1,interval:bt={},label:qt={}}=D,Xt=Zn(e,{animation:t,background:i,container:n,contextMenu:s,footnote:o,height:r,listeners:a,locale:l,minHeight:c,minWidth:d,overrideDevicePixelRatio:u,padding:h,subtitle:p,theme:g,title:m,tooltip:HO(S),width:f}),di=Zn(D,{fills:Ee,fillMode:Me,fill:Ve,fillOpacity:ce,stroke:de,strokeWidth:H,strokeOpacity:se,lineDash:he,lineDashOffset:qe}),Sn=Zn(e,w({startAngle:xs,endAngle:xs,needle:N!=null?w({enabled:!0},N):xs,scale:di,type:v,cursor:y,nodeClickRange:C,listeners:a,tooltip:S,value:M,highlightStyle:I,segmentation:T,bar:F,targets:q,outerRadius:pe,innerRadius:fe,outerRadiusRatio:oe,innerRadiusRatio:be,cornerRadius:xe,cornerMode:re,label:ve,secondaryLabel:X,spacing:le},ae)),bi=[{type:"angle-number",min:Xe,max:mt,startAngle:E,endAngle:R,interval:bt??{},label:qt??{}},{type:"radius-number"}];return A(w({},Xt),{series:[Sn],axes:bi})}function Qse(e){let St=e,{animation:t,background:i,container:n,contextMenu:s,footnote:o,height:r,listeners:a,locale:l,minHeight:c,minWidth:d,overrideDevicePixelRatio:u,padding:h,subtitle:p,theme:g,title:m,width:f,type:v,cursor:y,nodeClickRange:C,tooltip:S,value:M,scale:D={},direction:E="vertical",thickness:R,highlightStyle:I,segmentation:T,bar:F,targets:N,cornerRadius:q,cornerMode:pe,label:fe}=St,oe=Je(St,["animation","background","container","contextMenu","footnote","height","listeners","locale","minHeight","minWidth","overrideDevicePixelRatio","padding","subtitle","theme","title","width","type","cursor","nodeClickRange","tooltip","value","scale","direction","thickness","highlightStyle","segmentation","bar","targets","cornerRadius","cornerMode","label"]),{fills:be,fillMode:xe,fill:re,fillOpacity:ve,stroke:X,strokeWidth:le,strokeOpacity:ae,lineDash:Ee,lineDashOffset:Me,min:Ve=0,max:ce=1,interval:de={},label:H={}}=D,se=Zn(e,{animation:t,background:i,container:n,contextMenu:s,footnote:o,height:r,listeners:a,locale:l,minHeight:c,minWidth:d,overrideDevicePixelRatio:u,padding:h,subtitle:p,theme:g,title:m,tooltip:HO(S),width:f}),he=Zn(D,{fills:be,fillMode:xe,fill:re,fillOpacity:ve,stroke:X,strokeWidth:le,strokeOpacity:ae,lineDash:Ee,lineDashOffset:Me}),qe=Zn(e,w({scale:he,type:v,cursor:y,nodeClickRange:C,listeners:a,tooltip:S,value:M,direction:E,thickness:R,highlightStyle:I,segmentation:T,bar:F,targets:N,cornerRadius:q,cornerMode:pe,label:fe},oe)),Fi=H,{placement:Xe}=Fi,mt=Je(Fi,["placement"]),bt,qt,Xt=E==="horizontal";Xt?(bt=Xe==="before"?"top":"bottom",qt="left"):(bt=Xe==="after"?"right":"left",qt="bottom");let di={type:"number",position:bt,min:Ve,max:ce,reverse:!Xt,interval:de,label:mt,nice:!1},Sn={type:"number",position:qt,min:0,max:1,label:{enabled:!1}},bi=Xt?[di,Sn]:[Sn,di];return A(w({},se),{series:[qe],axes:bi})}function HL(e,t){if(t==null)return e;let s=t,{targets:i}=s,n=Je(s,["targets"]);return e=He(e,n),e.targets!=null&&i!=null&&(e.targets=Av(e.targets,i)),e}function Jse(e,t){if(Zse(e)){let y=HL(e,t);return Xse(y)}else if(qse(e)){let y=HL(e,t);return Qse(y)}let{animation:i,background:n,container:s,contextMenu:o,footnote:r,height:a,listeners:l,locale:c,minHeight:d,minWidth:u,padding:h,subtitle:p,theme:g,title:m,tooltip:f,width:v}=e;return Zn(e,{animation:i,background:n,container:s,contextMenu:o,footnote:r,height:a,listeners:l,locale:c,minHeight:d,minWidth:u,padding:h,subtitle:p,theme:g,title:m,tooltip:f,width:v})}var Cs={stroke:Yt},Hi={fill:Jp},jL={color:"white",fill:Yt},rr={color:Yt},Qv={color:Qp,fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"}},gv=A(w({},Qv),{textAlign:"left"}),IS=A(w({},Qv),{fontSize:{$ref:"fontSize"},color:ig,fill:eg,stroke:tg,strokeWidth:1,divider:{stroke:ng,strokeWidth:1,strokeOpacity:.5}}),Wx=A(w({},Cs),{background:{fill:gi,fillOpacity:.2},handle:w({},Hi),text:w({},rr),statistics:w({},IS)}),eoe={line:A(w({},Cs),{handle:w({},Hi),text:w({},rr)}),"horizontal-line":A(w({},Cs),{handle:w({},Hi),axisLabel:w({},jL),text:w({},rr)}),"vertical-line":A(w({},Cs),{handle:w({},Hi),axisLabel:w({},jL),text:w({},rr)}),"disjoint-channel":A(w({},Cs),{background:{fill:gi,fillOpacity:.2},handle:w({},Hi),text:w({},rr)}),"parallel-channel":A(w({},Cs),{background:{fill:gi,fillOpacity:.2},handle:w({},Hi),text:w({},rr)}),"fibonacci-retracement":A(w({},Cs),{strokes:wp,rangeStroke:Yt,handle:w({},Hi),text:A(w({},rr),{position:"center"}),label:A(w({},Qv),{color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}})}),"fibonacci-retracement-trend-based":A(w({},Cs),{strokes:wp,rangeStroke:Yt,handle:w({},Hi),text:A(w({},rr),{position:"center"}),label:A(w({},Qv),{color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}})}),callout:A(w(w({},Cs),gv),{color:{$ref:"textColor"},handle:w({},Hi),fill:gi,fillOpacity:.2}),comment:A(w({},gv),{color:"white",fontWeight:700,handle:w({},Hi),fill:Yt}),note:A(w({},gv),{color:rg,fill:Yt,stroke:{$ref:"backgroundColor"},strokeWidth:1,strokeOpacity:1,handle:w({},Hi),background:{fill:sg,stroke:og,strokeWidth:1}}),text:A(w({},gv),{handle:w({},Hi)}),arrow:A(w({},Cs),{handle:w({},Hi),text:w({},rr)}),"arrow-up":{fill:qp,handle:A(w({},Hi),{stroke:Yt})},"arrow-down":{fill:Xp,handle:A(w({},Hi),{stroke:Yt})},"date-range":w({},Wx),"price-range":w({},Wx),"date-price-range":w({},Wx),"quick-date-price-range":{up:A(w({},Cs),{fill:gi,fillOpacity:.2,handle:w({},Hi),statistics:A(w({},IS),{color:"#fff",fill:gi,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}})}),down:A(w({},Cs),{stroke:Sp,fill:xp,fillOpacity:.2,handle:A(w({},Hi),{stroke:Sp}),statistics:A(w({},IS),{color:"#fff",fill:xp,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}})})}};function Ci(e,t){if(ki(e))return t(e)}var toe=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"],ioe=[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu"},{icon:"fibonacci-retracement-drawing",tooltip:"toolbarAnnotationsFibonacciAnnotations",value:"fibonacci-menu"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu"},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu"},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear"}];function noe(e,t,i){let q=e,{dateKey:n="date",highKey:s="high",openKey:o="open",lowKey:r="low",closeKey:a="close",volumeKey:l="volume",chartType:c="candlestick",navigator:d=!1,volume:u=!0,rangeButtons:h=!0,statusBar:p=!0,toolbar:g=!0,zoom:m=!0,theme:f,data:v}=q,y=Je(q,["dateKey","highKey","openKey","lowKey","closeKey","volumeKey","chartType","navigator","volume","rangeButtons","statusBar","toolbar","zoom","theme","data"]),C=ooe(f,c,n,s,r,o,a),S=soe(f,i,o,a,u,l),D={navigator:w({enabled:d},u?{miniChart:{enabled:d,series:[{type:"line",xKey:n,yKey:l,marker:{enabled:!1}}]},height:40,minHandle:{height:46},maxHandle:{height:46}}:null)},E=typeof f=="string"?!0:f?.overrides?.common?.annotations?.axesButtons?.enabled??!0,R={annotations:{enabled:g,optionsToolbar:{enabled:g},snap:!0,axesButtons:{enabled:E},toolbar:{enabled:g,buttons:ioe,padding:0},data:v,xKey:n,volumeKey:u?l:void 0}},I=p?{statusBar:{enabled:!0,data:v,highKey:s,openKey:o,lowKey:r,closeKey:a,volumeKey:u?l:void 0}}:null,T={zoom:{enabled:m,autoScaling:{enabled:!0},enableIndependentAxes:!0}},F={ranges:{enabled:h}},N=u?[{type:"number",position:"left",keys:[l],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"}}]:[];return w(w(w(w(w(w({theme:w({baseTheme:typeof f=="string"?f:"ag-financial"},He(typeof f=="object"?f:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:5},chartToolbar:{enabled:g},annotations:w({},eoe)}}})),animation:{enabled:!1},legend:{enabled:!1},series:[...S,...C],axes:[{type:"number",position:"right",keys:[o,a,s,r],interval:{maxSpacing:Ci(f,pe=>pe.overrides?.common?.axes?.number?.interval?.maxSpacing)??45},label:{format:Ci(f,pe=>pe.overrides?.common?.axes?.number?.label?.format)??".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...N,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:v},R),D),I),T),F),y)}function soe(e,t,i,n,s,o){if(!s)return[];let r=Ci(e,l=>l.overrides?.bar?.series?.fill),a=r?{fill:r}:{itemStyler({datum:l}){let{up:c,down:d}=t().palette;return{fill:l[i]<l[n]?c?.fill:d?.fill}}};return[A(w({type:"bar",xKey:"date",yKey:o,tooltip:{enabled:!1},highlight:{enabled:!1},fillOpacity:Ci(e,l=>l.overrides?.bar?.series?.fillOpacity)??.5},a),{focusPriority:1,fastDataProcessing:!0})]}var Ux="range-area";function ooe(e,t,i,n,s,o,r){let a={xKey:i,openKey:o,closeKey:r,highKey:n,lowKey:s},l={xKey:i,yKey:r},c={pickOutsideVisibleMinorAxis:!0};switch(t??"candlestick"){case"ohlc":return roe(c,a);case"line":return aoe(c,e,l);case"step-line":return loe(c,e,l);case"hlc":return coe(c,e,l,a);case"high-low":return doe(c,e,a);case"candlestick":return WL(c,a);case"hollow-candlestick":return uoe(c,e,a);default:return V.warnOnce(`unknown chart type: ${t}; expected one of: ${toe.join(", ")}`),WL(c,a)}}function roe(e,t){return[w(w({type:"ohlc",focusPriority:0},e),t)]}function aoe(e,t,i){return[A(w(w({type:"line",focusPriority:0},e),i),{stroke:Ci(t,n=>n.overrides?.line?.series?.stroke)??Ud,marker:Ci(t,n=>n.overrides?.line?.series?.marker)??{enabled:!1}})]}function loe(e,t,i){return[A(w(w({type:"line",focusPriority:0},e),i),{stroke:Ci(t,n=>n.overrides?.line?.series?.stroke)??Ud,interpolation:Ci(t,n=>n.overrides?.line?.series?.interpolation)??{type:"step"},marker:Ci(t,n=>n.overrides?.line?.series?.marker)??{enabled:!1}})]}function coe(e,t,i,{xKey:n,highKey:s,closeKey:o,lowKey:r}){let a=jO(Ux,t);return[A(w({type:Ux,focusPriority:0},e),{xKey:n,yHighKey:s,yLowKey:o,fill:a.fill??qp,stroke:a.stroke??By,fillOpacity:Ci(t,l=>l.overrides?.["range-area"]?.series?.fillOpacity)??.3,strokeWidth:Ci(t,l=>l.overrides?.["range-area"]?.series?.strokeWidth)??2}),A(w({type:Ux,focusPriority:0},e),{xKey:n,yHighKey:o,yLowKey:r,fill:a.fill??Xp,stroke:a.stroke??zy,fillOpacity:Ci(t,l=>l.overrides?.["range-area"]?.series?.fillOpacity)??.3,strokeWidth:Ci(t,l=>l.overrides?.["range-area"]?.series?.strokeWidth)??2}),A(w(w({type:"line"},e),i),{stroke:Ci(t,l=>l.overrides?.line?.series?.stroke)??Gy,strokeWidth:Ci(t,l=>l.overrides?.line?.series?.strokeWidth)??2,marker:Ci(t,l=>l.overrides?.line?.series?.marker)??{enabled:!1}})]}function doe(e,t,{xKey:i,highKey:n,lowKey:s}){let o=jO("range-bar",t);return[A(w({type:"range-bar"},e),{xKey:i,yHighKey:n,yLowKey:s,fill:o.fill??Vy,stroke:o.stroke??Ud,tooltip:{range:"nearest"},focusPriority:0,fastDataProcessing:!0})]}function WL(e,t){return[w(w({type:"candlestick",focusPriority:0},e),t)]}function uoe(e,t,i){let n=Ci(t,s=>s.overrides?.candlestick?.series?.item);return[A(w(w({type:"candlestick",focusPriority:0},e),i),{item:{up:{fill:n?.up?.fill??"transparent"}}})]}function jO(e,t){let i=Ci(t,s=>s.overrides?.[e]?.series?.fill),n=Ci(t,s=>s.overrides?.[e]?.series?.stroke);return{fill:i,stroke:n}}var WO={title:{enabled:!1},label:{enabled:!1},line:{enabled:!1},gridLine:{enabled:!1},crosshair:{enabled:!1,stroke:Wy,lineDash:[0],label:{enabled:!1}}},$x=A(w({},WO),{nice:!1}),Yx={position:{type:"sparkline"}},Kx={style:[{stroke:{$ref:"gridLineColor"}}],width:2},hoe={number:{gridLine:Kx},time:{gridLine:Kx},category:{gridLine:Kx}},poe={overrides:{common:{animation:{enabled:!1},contextMenu:{enabled:!1},keyboard:{enabled:!1},background:{visible:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:A(w({},$x),{interval:{values:[0]}}),log:w({},$x),time:w({},$x),category:w({},WO)}},bar:{series:{crisp:!1,label:{placement:"inside-end",padding:4},sparklineMode:!0},tooltip:A(w({},Yx),{range:"nearest"}),axes:hoe},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},series:{sparklineMode:!0,strokeWidth:1,marker:{enabled:!1,size:3},tooltip:Yx}},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},series:{strokeWidth:1,fillOpacity:.4,tooltip:Yx}}}},UO=yn(goe);function goe(e,t){return typeof e=="string"?A(w({},t),{baseTheme:e}):e!=null?A(w({},e),{baseTheme:UO(e.baseTheme,t)}):t}function $O(e){if(Array.isArray(e)&&e.length!==0){let t=e[0];if(typeof t=="number")return{data:e.map((n,s)=>({x:s,y:n})),series:[{xKey:"x",yKey:"y"}],datumKey:"y"};if(Array.isArray(t))return{data:e.map(n=>({x:n[0],y:n[1],datum:n})),series:[{xKey:"x",yKey:"y"}],datumKey:"datum"}}return{data:e}}function moe(e,t){switch(e?.type){case"number":{let{type:i,min:n,max:s,reverse:o}=e;return Zn(e,{type:i,reverse:o,min:n,max:s})}case"time":{let{type:i,min:n,max:s,reverse:o}=e;return Zn(e,{type:i,reverse:o,min:n,max:s})}case"category":{let{type:i,paddingInner:n,paddingOuter:s,reverse:o}=e;return Zn(e,{type:i,reverse:o,paddingInner:n,paddingOuter:s})}}return{type:t}}function foe(e,t,i){let n={};return e?.stroke!=null&&(n.style=[{stroke:e?.stroke}],n.enabled??(n.enabled=!0)),e?.strokeWidth!=null&&(n.width=e?.strokeWidth,n.enabled??(n.enabled=!0)),i.type==="bar"&&i.direction!=="horizontal"&&(n.enabled??(n.enabled=!0)),e?.visible!=null&&(n.enabled=e.visible),n.enabled??(n.enabled=t),n}var voe=yn((e,t,i)=>n=>{let s=n.datum[n.xKey],o=n.datum[n.yKey],r=i!=null?n.datum[i]:n.datum,a=t?.renderer?.({context:e,datum:r,xValue:s,yValue:o});if(typeof a=="string")return a;let l=a?.title,c=a?.content;return l!=null&&c!=null?{heading:l,title:void 0,data:[{label:void 0,value:c}]}:{heading:l??c??o.toFixed(2),title:void 0,data:[]}});function yoe(e){let pe=e,{background:t,container:i,height:n,listeners:s,locale:o,minHeight:r,minWidth:a,overrideDevicePixelRatio:l,padding:c,width:d,theme:u,data:h,crosshair:p,axis:g,min:m,max:f,tooltip:v,context:y}=pe,C=Je(pe,["background","container","height","listeners","locale","minHeight","minWidth","overrideDevicePixelRatio","padding","width","theme","data","crosshair","axis","min","max","tooltip","context"]),S=Zn(e,{background:t,container:i,height:n,listeners:s,locale:o,minHeight:r,minWidth:a,overrideDevicePixelRatio:l,padding:c,width:d,tooltip:xs,context:xs,data:xs,crosshair:xs,axis:xs,min:xs,max:xs,theme:xs}),{data:M,series:[D]=[],datumKey:E}=$O(h),R=C;D!=null&&Object.assign(R,D),R.tooltip=A(w({},v),{renderer:voe(y,v,E)}),S.theme=UO(u,poe),S.data=M,S.series=[R];let I=R.type!=="bar"||R.direction!=="horizontal",[T,F]=I?["bottom","left"]:["left","bottom"],N=w(A(w({},moe(g,"category")),{position:T}),Zn(e,{crosshair:p})),q=w({type:"number",gridLine:foe(g,!1,e),position:F},Zn(e,{min:m,max:f}));return S.axes=I?[q,N]:[N,q],S}var boe={"price-volume":noe,gauge:Jse,sparkline:yoe},Coe={sparkline:$O};function UL(e,t){let i=[],n=yP(e),s=Dr(e),o=s?zt.get(s):"unknown";for(let r of Pd)if(!(o!=="unknown"&&!r.chartTypes.includes(o))){if(r.type==="root"||r.type==="legend"){let a=e[r.optionsKey];if(a==null)continue;r.optionsInnerKey?a[r.optionsInnerKey]&&(i.push(`${r.optionsKey}.${r.optionsInnerKey}`),delete a[r.optionsInnerKey]):(i.push(r.optionsKey),delete e[r.optionsKey])}else if(r.type==="axis"){if(!("axes"in e)||!e.axes?.some(a=>a.type===r.identifier))continue;i.push(`axis[type=${r.identifier}]`),e.axes=e.axes.filter(a=>a.type!==r.identifier)}else if(r.type==="axis-option"){if(!("axes"in e)||!e.axes?.some(a=>a[r.optionsKey]))continue;i.push(`axis.${r.optionsKey}`),e.axes.forEach(a=>{a[r.optionsKey]&&delete a[r.optionsKey]})}else if(r.type==="series"){if(r.community||!e.series?.some(a=>a.type===r.identifier))continue;i.push(`series[type=${r.identifier}]`),e.series=e.series.filter(a=>a.type!==r.identifier)}else if(r.type==="series-option"){if(!e.series?.some(a=>a[r.optionsKey]))continue;i.push(`series.${r.optionsKey}`),e.series.forEach(a=>{a[r.optionsKey]&&delete a[r.optionsKey]})}}if(i.length&&!t){n&&(i=["AgCharts.createGauge"]);let r="ag-charts-enterprise",a="https://www.ag-grid.com/charts/javascript/installation/";e.mode==="integrated"&&(r="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",a="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),V.warnOnce([`unable to use these enterprise features as '${r}' has not been loaded:`,"",...i,"",`See: ${a}`].join(`
`))}}function woe(e){let t="mode"in e&&e.mode==="integrated";for(let i of Eo.byType("root","legend")){let n=e[i.optionsKey],s=n!=null&&n.enabled===!1,o=!("removable"in i)||i.removable===!0||i.removable==="standalone-only"&&!t;s&&o&&delete e[i.optionsKey]}}function RS(e){return e?.up||e?.down||e?.neutral?"user-full":e?.fills||e?.strokes?"user-indexed":"inbuilt"}var mv="white",AS={get cartesian(){return{seriesTypes:zt.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:zt.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:zt.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:zt.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:zt.flowProportionTypes,commonOptions:[]}},get standalone(){return{seriesTypes:zt.standaloneTypes,commonOptions:[]}},get gauge(){return{seriesTypes:zt.gaugeTypes,commonOptions:[]}}},xoe={"radial-gauge":!0,"linear-gauge":!0};function $L(e){return xoe[e]===!0}var Soe=Object.values(AS).reduce((e,{commonOptions:t})=>e.concat(t),[]),ws=class kS{static getAxisDefaults(t){return He(t,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}},label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},spacing:11,color:{$ref:"textColor"},avoidCollisions:!0},line:{enabled:!0,width:1,stroke:{$ref:"axisColor"}},tick:{enabled:!1,width:1,stroke:{$ref:"axisColor"}},gridLine:{enabled:!0,style:[{stroke:{$ref:"gridLineColor"},lineDash:[]}]},crossLines:{enabled:!1,fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},padding:5,color:{$ref:"textColor"}}},crosshair:{enabled:!0}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:{$ref:"backgroundColor"}},padding:{top:{$ref:"padding"},right:{$ref:"padding"},bottom:{$ref:"padding"},left:{$ref:"padding"}},seriesArea:{padding:{top:0,right:0,bottom:0,left:0}},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.4166666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},wrapping:"hyphenate",layoutStyle:ha,textAlign:pa},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:ha,textAlign:pa},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:ha,textAlign:pa},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:{$ref:"textColor"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"}}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:{$ref:"foregroundColor"}},inactiveStyle:{fill:{$ref:"subtleTextColor"}},highlightStyle:{fill:{$ref:"foregroundColor"}},label:{color:{$ref:"textColor"}}}},tooltip:{enabled:!0,darkTheme:bd,delay:0},overlays:{darkTheme:bd},listeners:{}}}constructor(t={}){let{overrides:i,palette:n}=pi(t),s=this.createChartConfigPerChartType(this.getDefaults()),o={};i&&this.mergeOverrides(s,o,i);let c=this.getDefaultColors(),{fills:r,strokes:a}=c,l=Je(c,["fills","strokes"]);this.palette=tp(He(n,w({fills:Object.values(r),strokes:Object.values(a)},l))),this.paletteType=RS(n),this.config=tp(this.templateTheme(s)),this.presets=tp(o)}mergeOverrides(t,i,n){for(let{seriesTypes:s,commonOptions:o}of Object.values(AS)){let r=w({},n.common);for(let a of Soe)o.includes(a)||delete r[a];if(r)for(let a of s){let l=a;$L(l)||(t[l]=He(r,t[l]))}}zt.seriesTypes.forEach(s=>{let o=s,r=n[o];$L(o)?i[o]=r:t[o]=He(r,t[o])})}createChartConfigPerChartType(t){for(let[i,{seriesTypes:n}]of Object.entries(AS)){let s=yS.get(i);for(let o of n)t[o]??(t[o]=pi(s))}return t}getDefaults(){let t=(i,n)=>{let s={},o=w(w(w({axes:{}},_M.getThemeTemplates()),this.getChartDefaults()),yS.get(i));for(let r of n){s[r]=He(kn.getThemeTemplate(r),s[r]??pi(o));let{axes:a}=s[r];for(let l of hr.keys())a[l]=He(a[l],hr.getThemeTemplate(l),kS.cartesianAxisDefault[l])}return s};return He(t("cartesian",zt.cartesianTypes),t("polar",zt.polarTypes),t("hierarchy",zt.hierarchyTypes),t("topology",zt.topologyTypes),t("flow-proportion",zt.flowProportionTypes),t("standalone",zt.standaloneTypes),t("gauge",zt.gaugeTypes))}static applyTemplateTheme(t,i,n){if(It(t))for(let s=0;s<t.length;s++){let o=t[s];typeof o=="symbol"&&n?.has(o)&&(t[s]=n.get(o))}else for(let[s,o]of Object.entries(t))typeof o=="symbol"&&n?.has(o)&&(t[s]=n.get(o))}templateTheme(t,i=!0){let n=i?pi(t):t,s=this.getTemplateParameters();return dr(n,kS.applyTemplateTheme,void 0,void 0,s),n}getDefaultColors(){return{fills:oi,strokes:xo,up:{fill:oi.GREEN,stroke:xo.GREEN},down:{fill:oi.RED,stroke:xo.RED},neutral:{fill:oi.GRAY,stroke:xo.GRAY},altUp:{fill:oi.BLUE,stroke:xo.BLUE},altDown:{fill:oi.ORANGE,stroke:xo.ORANGE},altNeutral:{fill:oi.GRAY,stroke:xo.GRAY}}}getPublicParameters(){return{accentColor:"#2196f3",axisColor:{$foregroundBackgroundMix:[.675]},backgroundColor:mv,borderColor:{$foregroundBackgroundMix:[.818]},foregroundColor:"#464646",fontFamily:"Verdana, sans-serif",fontSize:12,fontWeight:400,gridLineColor:{$foregroundBackgroundAccentMix:[.93,.085]},padding:20,subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"backgroundColor"},.38]},textColor:{$ref:"foregroundColor"},chromeBackgroundColor:{$foregroundBackgroundMix:[.975]},chromeFontFamily:{$ref:"fontFamily"},chromeFontSize:{$ref:"fontSize"},chromeFontWeight:{$ref:"fontWeight"},chromeTextColor:"#181d1f",chromeSubtleTextColor:{$mix:[{$ref:"chromeTextColor"},{$ref:"backgroundColor"},.38]},inputBackgroundColor:{$ref:"backgroundColor"},inputTextColor:{$ref:"textColor"},crosshairLabelBackgroundColor:{$ref:"foregroundColor"},crosshairLabelTextColor:{$ref:"backgroundColor"}}}getTemplateParameters(){let{isEnterprise:t}=gr,i=new Map;i.set(bd,!1),i.set(YM,t),i.set($M,!t),i.set(Zp,"#d9d9d9"),i.set(Ny,mv),i.set(Ra,"#00000080"),i.set(Nn,[oi.ORANGE,oi.YELLOW,oi.GREEN]),i.set(jy,[oi.BLUE,oi.RED]),i.set(Wy,"#aaa"),i.set(Ls,[oi.GREEN,oi.YELLOW,oi.RED]),i.set(Po,["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"]),i.set(ha,"block"),i.set(pa,"center"),i.set(Uy,["#fff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),i.set($y,["#fff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),i.set(wp,["#797b86","#e24c4a","#f49d2d","#65ab58","#409682","#4db9d2","#5090dc","#3068f9","#e24c4a","#913aac","#d93e64"]),i.set(Hy,mv),i.set(Yt,oi.BLUE),i.set(gi,oi.BLUE),i.set(Qp,oi.BLUE),i.set(Jp,mv),i.set(eg,"#fafafa"),i.set(tg,"#ddd"),i.set(ig,"#000"),i.set(ng,"#181d1f"),i.set(xp,"#e35c5c"),i.set(Sp,"#e35c5c"),i.set(sg,"#fafafa"),i.set(og,"#ddd"),i.set(rg,"#000"),i.set(ag,"top"),i.set(So,!1);let n=this.getDefaultColors();return i.set(By,this.palette.up?.stroke??n.up.stroke),i.set(qp,this.palette.up?.fill??n.up.fill),i.set(zy,this.palette.down?.stroke??n.down.stroke),i.set(Xp,this.palette.down?.fill??n.down.fill),i.set(Ud,this.palette.neutral?.stroke??n.neutral.stroke),i.set(Vy,this.palette.neutral?.fill??n.neutral.fill),i.set(KM,this.palette.altUp?.stroke??n.up.stroke),i.set(qM,this.palette.altUp?.fill??n.up.fill),i.set(ZM,this.palette.altDown?.stroke??n.down.stroke),i.set(XM,this.palette.altDown?.fill??n.down.fill),i.set(QM,this.palette.altNeutral?.fill??n.altNeutral.fill),i.set(Gy,this.palette.altNeutral?.stroke??n.altNeutral.stroke),i}};ws.cartesianAxisDefault={number:ws.getAxisDefaults({line:{enabled:!1}}),log:ws.getAxisDefaults({base:10,line:{enabled:!1},interval:{minSpacing:NaN}}),category:ws.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:So},crosshair:{enabled:!1}}),"grouped-category":ws.getAxisDefaults({tick:{enabled:!0,stroke:Zp},label:{spacing:10,rotation:270},paddingInner:.4,groupPaddingInner:.2,crosshair:{enabled:!1}}),time:ws.getAxisDefaults({gridLine:{enabled:So}}),"ordinal-time":ws.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:So}}),"angle-category":ws.getAxisDefaults({label:{spacing:5},gridLine:{enabled:So}}),"angle-number":ws.getAxisDefaults({label:{spacing:5},gridLine:{enabled:So}}),"radius-category":ws.getAxisDefaults({line:{enabled:!1}}),"radius-number":ws.getAxisDefaults({line:{enabled:!1}})};var kr=ws,fv="#192232",hn={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},vl={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},Zd=class extends kr{getDefaultColors(){return{fills:hn,strokes:vl,up:{fill:hn.GREEN,stroke:vl.GREEN},down:{fill:hn.RED,stroke:vl.RED},neutral:{fill:hn.GRAY,stroke:vl.GRAY},altUp:{fill:hn.BLUE,stroke:vl.BLUE},altDown:{fill:hn.ORANGE,stroke:vl.ORANGE},altNeutral:{fill:hn.GRAY,stroke:vl.GRAY}}}getPublicParameters(){return A(w({},super.getPublicParameters()),{axisColor:{$foregroundBackgroundMix:[.263]},backgroundColor:fv,borderColor:{$foregroundBackgroundMix:[.784]},chromeBackgroundColor:{$foregroundBackgroundMix:[.93]},foregroundColor:"#fff",gridLineColor:{$foregroundBackgroundAccentMix:[.743,.01]},subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"backgroundColor"},.57]},chromeTextColor:{$ref:"textColor"},crosshairLabelBackgroundColor:{$foregroundBackgroundAccentMix:[.35,.1]}})}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(bd,!0),e.set(Hy,fv),e.set(Zp,"#7f8389"),e.set(Nn,[hn.ORANGE,hn.YELLOW,hn.GREEN]),e.set(Ls,[hn.GREEN,hn.YELLOW,hn.RED]),e.set(Po,["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"]),e.set(Uy,["#192834","#253746","#324859","#3f596c","#4d6a80"]),e.set($y,["#192834","#3b5164","#496275","#577287","#668399"]),e.set(Ny,fv),e.set(Yt,hn.BLUE),e.set(Qp,"#fff"),e.set(gi,hn.BLUE),e.set(Jp,fv),e.set(eg,"#28313e"),e.set(tg,"#4b525d"),e.set(ig,"#fff"),e.set(ng,"#fff"),e.set(sg,"#28313e"),e.set(og,"#4b525d"),e.set(rg,"#fff"),e}constructor(e){super(e)}},ys={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},yl={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},Moe=class extends Zd{getDefaultColors(){return{fills:w({},ys),strokes:w({},yl),up:{fill:ys.GREEN,stroke:yl.GREEN},down:{fill:ys.RED,stroke:yl.RED},neutral:{fill:ys.BLUE,stroke:yl.BLUE},altUp:{fill:ys.GREEN,stroke:yl.GREEN},altDown:{fill:ys.RED,stroke:yl.RED},altNeutral:{fill:ys.GRAY,stroke:yl.GRAY}}}getPublicParameters(){return A(w({},super.getPublicParameters()),{gridLineColor:{$foregroundBackgroundAccentMix:[.88,.01]},padding:0})}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Nn,[ys.GREEN,ys.BLUE,ys.RED]),e.set(Yt,ys.BLUE),e.set(gi,ys.BLUE),e.set(ha,"overlay"),e.set(pa,"left"),e.set(ag,"bottom"),e.set(So,!0),e}},bs={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},bl={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},Doe=class extends kr{getDefaultColors(){return{fills:w({},bs),strokes:w({},bl),up:{fill:bs.GREEN,stroke:bl.GREEN},down:{fill:bs.RED,stroke:bl.RED},neutral:{fill:bs.BLUE,stroke:bl.BLUE},altUp:{fill:bs.GREEN,stroke:bl.GREEN},altDown:{fill:bs.RED,stroke:bl.RED},altNeutral:{fill:bs.GRAY,stroke:bl.GRAY}}}getPublicParameters(){return A(w({},super.getPublicParameters()),{gridLineColor:{$foregroundBackgroundAccentMix:[.94,.01]},padding:0})}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Nn,[bs.GREEN,bs.BLUE,bs.RED]),e.set(Yt,bs.BLUE),e.set(gi,bs.BLUE),e.set(ha,"overlay"),e.set(pa,"left"),e.set(ag,"bottom"),e.set(So,!0),e}},pn={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Cl={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},_oe=class extends Zd{getDefaultColors(){return{fills:pn,strokes:Cl,up:{fill:pn.GREEN,stroke:Cl.GREEN},down:{fill:pn.RED,stroke:Cl.RED},neutral:{fill:pn.GRAY,stroke:Cl.GRAY},altUp:{fill:pn.BLUE,stroke:Cl.BLUE},altDown:{fill:pn.RED,stroke:Cl.RED},altNeutral:{fill:pn.GRAY,stroke:Cl.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Nn,[pn.ORANGE,pn.YELLOW,pn.GREEN]),e.set(Po,["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"]),e.set(Ls,[pn.GREEN,pn.YELLOW,pn.RED]),e.set(Yt,pn.BLUE),e.set(gi,pn.BLUE),e}},gn={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},wl={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},Eoe=class extends kr{getDefaultColors(){return{fills:gn,strokes:wl,up:{fill:gn.GREEN,stroke:wl.GREEN},down:{fill:gn.RED,stroke:wl.RED},neutral:{fill:gn.GRAY,stroke:wl.GRAY},altUp:{fill:gn.BLUE,stroke:wl.BLUE},altDown:{fill:gn.RED,stroke:wl.RED},altNeutral:{fill:gn.GRAY,stroke:wl.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Nn,[gn.ORANGE,gn.YELLOW,gn.GREEN]),e.set(Po,["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"]),e.set(Ls,[gn.GREEN,gn.YELLOW,gn.RED]),e.set(Yt,gn.BLUE),e.set(gi,gn.BLUE),e}},ni={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},xl={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},Ioe=class extends Zd{getDefaultColors(){return{fills:ni,strokes:xl,up:{fill:ni.GREEN,stroke:xl.GREEN},down:{fill:ni.RED,stroke:xl.RED},neutral:{fill:ni.GRAY,stroke:xl.GRAY},altUp:{fill:ni.BLUE,stroke:xl.BLUE},altDown:{fill:ni.RED,stroke:xl.RED},altNeutral:{fill:ni.GRAY,stroke:xl.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Nn,[ni.BLUE,ni.RED]),e.set(Po,[ni.BLUE,ni.PURPLE,ni.MAGENTA,ni.PINK,ni.RED,ni.ORANGE,ni.YELLOW,ni.GREEN]),e.set(Ls,[ni.BLUE,ni.RED]),e.set(Yt,ni.BLUE),e.set(gi,ni.BLUE),e}},si={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},Sl={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},Roe=class extends kr{getDefaultColors(){return{fills:si,strokes:Sl,up:{fill:si.GREEN,stroke:Sl.GREEN},down:{fill:si.RED,stroke:Sl.RED},neutral:{fill:si.GRAY,stroke:Sl.GRAY},altUp:{fill:si.BLUE,stroke:Sl.BLUE},altDown:{fill:si.RED,stroke:Sl.RED},altNeutral:{fill:si.GRAY,stroke:Sl.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Nn,[si.BLUE,si.RED]),e.set(Po,[si.BLUE,si.PURPLE,si.MAGENTA,si.PINK,si.RED,si.ORANGE,si.YELLOW,si.GREEN]),e.set(Ls,[si.BLUE,si.RED]),e.set(Yt,si.BLUE),e.set(gi,si.BLUE),e}},Zi={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},aa={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},Aoe=class extends Zd{getDefaultColors(){return{fills:A(w({},Zi),{RED:Zi.ORANGE}),strokes:A(w({},aa),{RED:aa.ORANGE}),up:{fill:Zi.GREEN,stroke:aa.GREEN},down:{fill:Zi.ORANGE,stroke:aa.ORANGE},neutral:{fill:Zi.GRAY,stroke:aa.GRAY},altUp:{fill:Zi.BLUE,stroke:aa.BLUE},altDown:{fill:Zi.ORANGE,stroke:aa.ORANGE},altNeutral:{fill:Zi.GRAY,stroke:aa.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Nn,[Zi.ORANGE,Zi.YELLOW,Zi.GREEN]),e.set(Ls,[Zi.GREEN,Zi.YELLOW,Zi.ORANGE]),e.set(Yt,Zi.BLUE),e.set(gi,Zi.BLUE),e}},mn={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},nr={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},koe=class extends kr{getDefaultColors(){return{fills:A(w({},mn),{RED:mn.ORANGE}),strokes:A(w({},nr),{RED:nr.ORANGE}),up:{fill:mn.GREEN,stroke:nr.GREEN},down:{fill:mn.ORANGE,stroke:nr.ORANGE},neutral:{fill:nr.GRAY,stroke:nr.GRAY},altUp:{fill:mn.BLUE,stroke:nr.BLUE},altDown:{fill:mn.ORANGE,stroke:nr.ORANGE},altNeutral:{fill:mn.GRAY,stroke:nr.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Nn,[mn.ORANGE,mn.YELLOW,mn.GREEN]),e.set(Ls,[mn.GREEN,mn.YELLOW,mn.ORANGE]),e.set(Yt,mn.BLUE),e.set(gi,mn.BLUE),e}},fn={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Ml={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},Toe=class extends Zd{getDefaultColors(){return{fills:fn,strokes:Ml,up:{fill:fn.GREEN,stroke:Ml.GREEN},down:{fill:fn.RED,stroke:Ml.RED},neutral:{fill:fn.GRAY,stroke:Ml.GRAY},altUp:{fill:fn.BLUE,stroke:Ml.BLUE},altDown:{fill:fn.ORANGE,stroke:Ml.ORANGE},altNeutral:{fill:fn.GRAY,stroke:Ml.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Nn,[fn.ORANGE,fn.YELLOW,fn.GREEN]),e.set(Po,["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"]),e.set(Ls,[fn.GREEN,fn.YELLOW,fn.RED]),e.set(Yt,fn.BLUE),e.set(gi,fn.BLUE),e}},vn={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Dl={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},Loe=class extends kr{getDefaultColors(){return{fills:vn,strokes:Dl,up:{fill:vn.GREEN,stroke:Dl.GREEN},down:{fill:vn.RED,stroke:Dl.RED},neutral:{fill:vn.GRAY,stroke:Dl.GRAY},altUp:{fill:vn.BLUE,stroke:Dl.BLUE},altDown:{fill:vn.ORANGE,stroke:Dl.ORANGE},altNeutral:{fill:vn.GRAY,stroke:Dl.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Nn,[vn.ORANGE,vn.YELLOW,vn.GREEN]),e.set(Po,["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"]),e.set(Ls,[vn.GREEN,vn.YELLOW,vn.RED]),e.set(Yt,vn.BLUE),e.set(gi,vn.BLUE),e}},wd=yn(()=>new kr),Foe=yn(()=>new Zd),CD={"ag-default-dark":Foe,"ag-sheets-dark":yn(()=>new Aoe),"ag-polychroma-dark":yn(()=>new Ioe),"ag-vivid-dark":yn(()=>new Toe),"ag-material-dark":yn(()=>new _oe),"ag-financial-dark":yn(()=>new Moe),null:wd,undefined:wd,"ag-default":wd,"ag-sheets":yn(()=>new koe),"ag-polychroma":yn(()=>new Roe),"ag-vivid":yn(()=>new Loe),"ag-material":yn(()=>new Eoe),"ag-financial":yn(()=>new Doe)},Jv=yn(Poe);function Poe(e){if(e instanceof kr)return e;if(e==null||typeof e=="string"){let i=CD[e];return i?i():(V.warnOnce(`the theme [${e}] is invalid, using [ag-default] instead.`),wd())}let{errors:t}=ey(e,Noe,"theme");if(!t.length){let i=Ooe(e),n=i.baseTheme?Jv(i.baseTheme):wd();return new n.constructor(i)}for(let{message:i}of t)V.warnOnce(i);return wd()}function Ooe(e){let t=e,i,n,s=[];for(;typeof t=="object";)i??(i=t.palette),n??(n=t.params),t.overrides&&s.push(t.overrides),t=t.baseTheme;return{baseTheme:t,overrides:He(...s),params:n,palette:i}}var Noe={baseTheme:kl(Kn,Sx),overrides:Sx,params:Sx,palette:{fills:eS(Kn),strokes:eS(Kn),up:{fill:Kn,stroke:Kn},down:{fill:Kn,stroke:Kn},neutral:{fill:Kn,stroke:Kn}}},Boe=new Set(["map-shape-background","map-line-background"]),zoe=(()=>{let e=class wo{constructor(i,n,s,o,r,a=!1){this.themeParameters={},this.debug=wt.create(!0,"opts"),this.optionMetadata=o??{},this.processedOverrides=n??{};let l=null;if(i instanceof wo){if(l=i,this.specialOverrides=l.specialOverrides,!r)throw new Error("AG Charts - internal error: deltaOptions must be supplied.");this.userOptions=He(r,pi(l.userOptions,wo.OPTIONS_CLONE_OPTS))}else this.userOptions=i,this.specialOverrides=this.specialOverridesDefaults(w({},s));a&&this.removeLeftoverSymbols(this.userOptions);let c,d,u,h,p;!a&&r!=null&&wo.isFastPathDelta(r)&&l!=null?{activeTheme:c,processedOptions:d,defaultAxes:u,fastDelta:h}=this.fastSetup(r,l):{activeTheme:c,processedOptions:d,defaultAxes:u,themeParameters:p}=this.slowSetup(n,r,a),this.activeTheme=c,this.processedOptions=d,this.defaultAxes=u,this.fastDelta=h,this.themeParameters=p??{}}static isFastPathDelta(i){for(let n of Object.keys(i))if(!this.FAST_PATH_OPTIONS.has(n))return!1;return!0}fastSetup(i,n){let{activeTheme:s,defaultAxes:o,processedOptions:r}=n,{presetType:a}=this.optionMetadata,l=a?Coe[a]:void 0;if(a!=null&&i.data!=null&&l!=null){let{series:d,data:u}=l(i.data);i=He({series:d,data:u},i)}this.fastSeriesSetup(i,r);let c=He(i,r);return{activeTheme:s,defaultAxes:o,processedOptions:c,fastDelta:i}}fastSeriesSetup(i,n){i.series&&(i.series?.every((s,o)=>A2(s,n.series?.[o]??{}))?delete i.series:i.series=i.series.map((s,o)=>He(s,n.series?.[o]??{})))}slowSetup(i,n,s=!1){let o=pi(this.userOptions,wo.OPTIONS_CLONE_OPTS);n&&(o=He(n,o),s&&this.removeLeftoverSymbols(o));let{presetType:r}=this.optionMetadata;if(r!=null){let C=boe[r],S=this.userOptions,M=this.userOptions.type,D=M!=null?Jv(this.userOptions.theme).presets[M]:void 0;this.debug(">>> AgCharts.createOrUpdate() - applying preset",S),o=C?.(S,D,()=>this.activeTheme)??o}gr.isEnterprise||UL(o);let a=Jv(o.theme);this.sanityCheck(o),this.removeDisabledOptions(o);let l=this.optionsType(o),y=this.getSeriesThemeConfig(l,a),{axes:c={},annotations:d={},series:u}=y,h=Je(y,["axes","annotations","series"]),[p,g]=this.splitAnnotationsOptions(d);this.annotationThemes=pi(g);let m=this.getDefaultAxes(o,u),f=He(i,o,p,h,m);this.processAxesOptions(f,c),this.processSeriesOptions(f,a),this.processMiniChartSeriesOptions(f,a),f=pi(f,wo.OPTIONS_CLONE_OPTS);let v=this.getThemeParameters(a,f);return this.resolveThemeOperations(v,v),this.resolveThemeOperations(v,f),this.resolveThemeOperations(v,this.annotationThemes),(RM(f)||vP(f)||yie(f))&&f.legend?.enabled==null&&(f.legend??(f.legend={}),f.legend.enabled=f.series.length>1),this.enableConfiguredOptions(f,this.userOptions),a.templateTheme(f,!1),this.removeDisabledOptions(o),woe(f),gr.isEnterprise||UL(f,!0),this.debug("AgCharts.createOrUpdate() - processed options",f),{activeTheme:a,processedOptions:f,defaultAxes:m,themeParameters:v}}diffOptions(i){return this===i?{}:i==null?this.processedOptions:this.fastDelta??yr(i.processedOptions,this.processedOptions)}getSeriesThemeConfig(i,n){return n?.config[i]??{}}getDefaultAxes(i,n){let s=this.optionsType(i),o=i.series?.find(r=>(r.type??"line")===s)??{};return kn.isDerivedDefaultAxes(s)&&(o=He(o,n)),kn.cloneDefaultAxes(s,o)}optionsType(i){return i.series?.[0]?.type??"line"}sanityCheck(i){this.axesTypeIntegrity(i),this.seriesTypeIntegrity(i),this.soloSeriesIntegrity(i)}splitAnnotationsOptions(i){let l=i,{axesButtons:n=null,enabled:s=null,optionsToolbar:o=null,toolbar:r=null}=l,a=Je(l,["axesButtons","enabled","optionsToolbar","toolbar"]);return n==null&&s==null&&o==null&&r==null?[{},a]:[{annotations:{axesButtons:n,enabled:s,optionsToolbar:o,toolbar:r}},a]}processAxesOptions(i,n){"axes"in i&&(i.axes=i.axes?.map(s=>{let p=He(n[s.type]?.[s.position],n[s.type]),{crossLines:o}=p,r=Je(p,["crossLines"]);s.crossLines&&(s.crossLines=Av(s.crossLines,o));let a=r.gridLine?.style;s.gridLine?.style&&a?.length&&(s.gridLine.style=s.gridLine.style.map((m,f)=>m.stroke!=null||m.lineDash!=null?He(m,a.at(f%a.length)):m));let g=He(s,r),{top:l,right:c,bottom:d,left:u}=g;return Je(g,["top","right","bottom","left"])}))}processSeriesOptions(i,n){let s=this.getTooltipPositionDefaults(i),o=ki(i.theme)?RS(i.theme?.palette):"inbuilt",r={colourIndex:0,userPalette:o},a=i.series?.map(l=>{l.type??(l.type=this.getDefaultSeriesType(i));let m=this.getSeriesThemeConfig(l.type,n).series??{},{innerLabels:c}=m,d=Je(m,["innerLabels"]),u=Boe.has(l.type)?{colourIndex:0,userPalette:o}:r,h=this.getSeriesPalette(l.type,u,n),p=this.getTooltipRangeDefaults(i,l.type),g=He(this.getSeriesGroupingOptions(l),l,s,p,d,h,{visible:!0});return g.innerLabels&&(g.innerLabels=Av(g.innerLabels,c)),g});i.series=this.setSeriesGroupingOptions(a??[])}processMiniChartSeriesOptions(i,n){let s=i.navigator?.miniChart?.series;if(s==null)return;let o={colourIndex:0,userPalette:ki(i.theme)?RS(i.theme.palette):"inbuilt"};s=s.map(r=>{r.type??(r.type="line");let c=this.getSeriesThemeConfig(r.type,n).series??{},{innerLabels:a}=c,l=Je(c,["innerLabels"]);return He(this.getSeriesGroupingOptions(r),r,l,this.getSeriesPalette(r.type,o,n))}),i.navigator.miniChart.series=this.setSeriesGroupingOptions(s)}getThemeParameters(i,n){let s=i.getPublicParameters();if(!Ji(n.theme)||!n.theme.params)return s;let o=en(c=>Tn(c)&&Ut.validColorString(c),"a color"),r={accentColor:o,axisColor:o,backgroundColor:o,borderColor:o,foregroundColor:o,fontFamily:Kn,fontSize:ar,fontWeight:kl(Kn,ar),gridLineColor:o,padding:ar,subtleTextColor:o,textColor:o,chromeBackgroundColor:o,chromeFontFamily:Kn,chromeFontSize:ar,chromeFontWeight:kl(Kn,ar),chromeSubtleTextColor:o,chromeTextColor:o,inputBackgroundColor:o,inputTextColor:o,crosshairLabelBackgroundColor:o,crosshairLabelTextColor:o},{valid:a,errors:l}=ey(n.theme.params,r);for(let{message:c}of l)V.warnOnce(c);return He(a,s)}resolveThemeOperations(i,n){let s=k2(n,i,new Set(["palette","data"]));this.debug("resolveTheme()",s)}getSeriesPalette(i,n,s){let o=kn.getPaletteFactory(i),{colourIndex:r,userPalette:a}=n,{fills:l=[],strokes:c=[]}=s.palette;return o?.({userPalette:a,colorsCount:Math.max(l.length,c.length),themeTemplateParameters:s.getTemplateParameters(),palette:s.palette,takeColors(d){return n.colourIndex+=d,{fills:bT(l,d,r),strokes:bT(c,d,r)}}})}getSeriesGroupingOptions(i){let n=kn.isGroupable(i.type),s=kn.isStackable(i.type),o=kn.isStackedByDefault(i.type);i.grouped&&!n&&V.warnOnce(`unsupported grouping of series type "${i.type}".`),(i.stacked||i.stackGroup)&&!s&&V.warnOnce(`unsupported stacking of series type "${i.type}".`);let{grouped:r,stacked:a}=i;return a??(a=(o||i.stackGroup!=null)&&!(n&&r)),r??(r=!0),{stacked:s&&a,grouped:n&&r&&!(s&&a)}}setSeriesGroupingOptions(i){let n=this.getSeriesGrouping(i);this.debug("setSeriesGroupingOptions() - series grouping: ",n);let s={},o=n.reduce((r,a)=>{var l;return a.groupType==="default"||(r[l=a.seriesType]??(r[l]=0),r[a.seriesType]+=a.groupType==="stack"?1:a.series.length),r},{});return n.flatMap(r=>{var a;switch(s[a=r.seriesType]??(s[a]=0),r.groupType){case"stack":{let l=s[r.seriesType]++;return r.series.map((c,d)=>Object.assign(c,{seriesGrouping:{groupId:r.groupId,groupIndex:l,groupCount:o[r.seriesType],stackIndex:d,stackCount:r.series.length}}))}case"group":return r.series.map(l=>Object.assign(l,{seriesGrouping:{groupId:r.groupId,groupIndex:s[r.seriesType]++,groupCount:o[r.seriesType],stackIndex:0,stackCount:0}}))}return r.series}).map(c=>{var d=c,{stacked:r,grouped:a}=d,l=Je(d,["stacked","grouped"]);return l})}getSeriesGroupId(i){return[i.type,i.xKey,i.stacked?i.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(i){let n=new Map;return i.reduce((s,o)=>{let r=o.type;if(!o.stacked&&!o.grouped)s.push({groupType:"default",seriesType:r,series:[o],groupId:"__default__"});else{let a=this.getSeriesGroupId(o);if(!n.has(a)){let c={groupType:o.stacked?"stack":"group",seriesType:r,series:[],groupId:a};n.set(a,c),s.push(c)}n.get(a).series.push(o)}return s},[])}getDefaultSeriesType(i){switch(md.detectChartDefinition(i).name){case"cartesian":return"line";case"polar":return"pie";case"hierarchy":return"treemap";case"topology":return"map-shape";case"flow-proportion":return"sankey";case"standalone":return"pyramid";case"gauge":return"radial-gauge";default:throw new Error("Invalid chart options type detected.")}}getTooltipPositionDefaults(i){let n=i.tooltip?.position;if(!Ji(n))return;let{type:s,xOffset:o,yOffset:r}=n,a={};return Tn(s)&&xX(GO,s)&&(a.type=s),nt(o)&&(a.xOffset=o),nt(r)&&(a.yOffset=r),{tooltip:{position:a}}}getTooltipRangeDefaults(i,n){return{tooltip:{range:i.tooltip?.range??kn.getTooltipDefauls(n)?.range}}}axesTypeIntegrity(i){if("axes"in i&&i.axes){let n=i.axes;for(let{type:s}of n)if(!Cie(s)){delete i.axes;let o=[...hr.keys()].join(", ");V.warnOnce(`unknown axis type: ${s}; expected one of: ${o}`)}}}seriesTypeIntegrity(i){i.series=i.series?.filter(({type:n})=>{if(n==null||bie(n)||qte(n))return!0;V.warnOnce(`unknown series type: ${JSON.stringify(n)}; expected one of: ${gP.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(i){let n=i.series;if(n&&n.length>1&&n.some(s=>kn.isSolo(s.type))){let s=this.optionsType(i);if(kn.isSolo(s))V.warn(`series[0] of type '${s}' is incompatible with other series types. Only processing series[0]`),i.series=n.slice(0,1);else{let{solo:o,nonSolo:r}=PS(n,l=>kn.isSolo(l.type)?"solo":"nonSolo"),a=pX(o.map(l=>l.type)).join(", ");V.warn(`Unable to mix these series types with the lead series type: ${a}`),i.series=r}}}static enableConfiguredJsonOptions(i,n){typeof n=="object"&&"enabled"in n&&!n._enabledFromTheme&&i.enabled==null&&(n.enabled=!0)}static cleanupEnabledFromThemeJsonOptions(i){i._enabledFromTheme!=null&&delete i._enabledFromTheme}enableConfiguredOptions(i,n){dr(n,wo.enableConfiguredJsonOptions,new Set(["data","theme"]),i),dr(i,wo.cleanupEnabledFromThemeJsonOptions,new Set(["data","theme"]))}static removeDisabledOptionJson(i){"enabled"in i&&i.enabled===!1&&Object.keys(i).forEach(n=>{n!=="enabled"&&delete i[n]})}removeDisabledOptions(i){dr(i,wo.removeDisabledOptionJson,new Set(["data","theme"]))}static removeLeftoverSymbolsJson(i){if(!(!i||!ki(i)))for(let[n,s]of Object.entries(i))SX(s)&&delete i[n]}removeLeftoverSymbols(i){dr(i,wo.removeLeftoverSymbolsJson,new Set(["data"]))}specialOverridesDefaults(i){if(i.window!=null?sF(i.window):typeof window<"u"?i.window=window:typeof global<"u"&&(i.window=global.window),i.document!=null?nF(i.document):typeof document<"u"?i.document=document:typeof global<"u"&&(i.document=global.document),i.window==null)throw new Error("AG Charts - unable to resolve global window");if(i.document==null)throw new Error("AG Charts - unable to resolve global document");return i}};return e.OPTIONS_CLONE_OPTS=new Set(["data","container"]),e.FAST_PATH_OPTIONS=new Set(["data","width","height"]),e})(),YO=zoe,Voe=100,wD=class Il{constructor(t,i,n,s,o,r=Voe){this.name=t,this.buildItem=i,this.releaseItem=n,this.destroyItem=s,this.maxPoolSize=o,this.cleanupTimeMs=r,this.freePool=[],this.busyPool=new Set}static getPool(t,i,n,s,o){return this.pools.has(t)||this.pools.set(t,new Il(t,i,n,s,o)),this.pools.get(t)}isFull(){return this.freePool.length+this.busyPool.size>=this.maxPoolSize}obtain(t){if(this.freePool.length===0&&this.isFull())throw new Error("AG Charts - pool exhausted");let i=this.freePool.pop();return i==null?(i=this.buildItem(t),Il.debug(`Pool[name=${this.name}]: Created instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i)):Il.debug(`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i),this.busyPool.add(i),{item:i,release:()=>this.release(i)}}release(t){if(!this.busyPool.has(t))throw new Error("AG Charts - cannot free item from pool which is not tracked as busy.");Il.debug(`Pool[name=${this.name}]: Releasing instance (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t),this.releaseItem(t),this.busyPool.delete(t),this.freePool.push(t),Il.debug(`Pool[name=${this.name}]: Returned instance to free pool (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t),this.cleanPoolTimer&&clearTimeout(this.cleanPoolTimer),this.cleanPoolTimer=setTimeout(()=>{this.cleanPool()},this.cleanupTimeMs)}cleanPool(){let t=this.freePool.splice(0);for(let i of t)this.destroyItem(i);Il.debug(`Pool[name=${this.name}]: Cleaned pool of ${t.length} items (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`)}destroy(){this.cleanPool();for(let t of this.busyPool.values())this.destroyItem(t);this.busyPool.clear()}};wD.pools=new Map;wD.debug=wt.create(!0,"pool");var Goe=wD;md.registerMany([pne,Vse]);var lr=wt.create(!0,"opts"),ma=(()=>{let e=class{static licenseCheck(t){this.licenseChecked||(this.licenseManager=gr.licenseManager?.(t),this.licenseManager?.validateLicense(),this.licenseChecked=!0)}static getLicenseDetails(t){return gr.licenseManager?.({}).getLicenseDetails(t)}static getInstance(t){return YL.getInstance(t)}static create(t,i){return lr.group("AgCharts.create()",()=>{this.licenseCheck(t);let n=YL.createOrUpdate({userOptions:t,licenseManager:this.licenseManager,optionsMetadata:i});return this.licenseManager?.isDisplayWatermark()&&this.licenseManager&&gr.injectWatermark?.(n.chart.ctx.domManager,this.licenseManager.getWatermarkMessage()),n})}static createFinancialChart(t){return lr.group("AgCharts.createFinancialChart()",()=>this.create(t,{presetType:"price-volume"}))}static createGauge(t){return lr.group("AgCharts.createGauge()",()=>this.create(t,{presetType:"gauge"}))}static __createSparkline(t){return lr.group("AgCharts.__createSparkline()",()=>{let s=t,{pool:i}=s,n=Je(s,["pool"]);return this.create(n,{presetType:"sparkline",pool:i??!0})})}};return e.licenseChecked=!1,e})(),Mo=class ca{static getInstance(t){let i=Ay.getInstance(t);return i?ML.chartInstances.get(i):void 0}static initialiseModules(){ca.initialised||(VO(),Ose(),ca.initialised=!0)}static createOrUpdate(t){let{proxy:i}=t,{userOptions:n,licenseManager:s,processedOverrides:o=i?.chart.chartOptions.processedOverrides??{},specialOverrides:r=i?.chart.chartOptions.specialOverrides??{},optionsMetadata:a=i?.chart.chartOptions.optionMetadata??{},deltaOptions:l,stripSymbols:c=!1}=t,d=gr.styles!=null?[["ag-charts-enterprise",gr.styles]]:[],{presetType:u}=a;ca.initialiseModules(),lr(()=>[">>> AgCharts.createOrUpdate() user options",pi(n)]);let h=n;ma.optionsMutationFn&&h&&(h=ma.optionsMutationFn(pi(h),u),lr(()=>[">>> AgCharts.createOrUpdate() MUTATED user options",pi(h)]));let D=h??{},{document:p,window:g,styleContainer:m}=D,f=Je(D,["document","window","styleContainer"]),v=(l?i?.chart.getChartOptions():f)??f,y=new YO(v,o,A(w({},r),{document:p,window:g,styleContainer:m}),a,l,c),C=!1,S=i?.chart,M;return(S==null||md.detectChartDefinition(y.processedOptions)!==md.detectChartDefinition(S.chartOptions.processedOptions))&&(M=this.getPool(y)?.obtain(y),M?S=M.item:(C=!0,S=ca.createChartInstance(y,S)),d.forEach(([E,R])=>{S?.ctx.domManager.addStyles(E,R)})),i==null?(i=new ML(S,ca.callbackApi,s),i.releaseChart=M?.release):(M||C)&&(i.releaseChart?.(),i.chart=S,i.releaseChart=M?.release),lr.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[S.id]=S),S.queuedUserOptions.push(y.userOptions),S.queuedChartOptions.push(y),S.requestFactoryUpdate(E=>{lr.group(">>>> Chart.applyOptions()",()=>{E.applyOptions(y);let R=E.queuedUserOptions.indexOf(y.userOptions)+1;E.queuedUserOptions.splice(0,R),E.queuedChartOptions.splice(0,R)})}),i}static markRemovedProperties(t,i,n=!1){if(typeof t!="object")return n;for(let[s,o]of Object.entries(t))typeof o>"u"&&(Object.assign(t,{[s]:Symbol("UNSET")}),n||(n=!0));return n}static updateUserDelta(t,i){i=pi(i,new Set(["data"]));let n=dr(i,ca.markRemovedProperties,new Set(["data"]),void 0,void 0,!1);lr(()=>[">>> AgCharts.updateUserDelta() user delta",pi(i)]),ca.createOrUpdate({proxy:t,deltaOptions:i,stripSymbols:n})}static createChartInstance(t,i){let n=i?.destroy({keepTransferableResources:!0});return md.detectChartDefinition(t.processedOptions).create(t,n)}static getPool(t){if(t.optionMetadata.pool===!0)return Goe.getPool(t.optionMetadata.presetType??"default",this.createChartInstance,this.detachAndClear,this.destroy,1/0)}};Mo.caretaker=new z2(vp);Mo.initialised=!1;Mo.callbackApi={caretaker:Mo.caretaker,create(e,t,i,n){return Mo.createOrUpdate({userOptions:e,processedOverrides:t,specialOverrides:i,optionsMetadata:n})},update(e,t){return Mo.createOrUpdate({userOptions:e,proxy:t})},updateUserDelta(e,t){return Mo.updateUserDelta(e,t)}};Mo.detachAndClear=e=>e.detachAndClear();Mo.destroy=e=>e.destroy();var YL=Mo,KO={};As(KO,{Arc:()=>Tr,BBox:()=>ne,Caption:()=>Ft,CategoryScale:()=>Pp,Group:()=>_e,Line:()=>es,LinearScale:()=>Qs,Marker:()=>xi,Path:()=>On,RadialColumnShape:()=>oo,Rect:()=>xn,Scene:()=>SM,Sector:()=>Ui,Shape:()=>Rs,TranslatableGroup:()=>Cn,getRadialColumnWidth:()=>ZO,toRadians:()=>mi});var Tr=(()=>{let e=class extends On{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return Ks(_t(this.startAngle),_t(this.endAngle))}updatePath(){let t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?t.closePath():this.type===2&&!this.fullPie&&(t.lineTo(this.centerX,this.centerY),t.closePath())}computeBBox(){return new ne(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(t,i){let n=this.getBBox();return this.type!==0&&n.containsPoint(t,i)&&this.path.isPointInPath(t,i)}};return e.className="Arc",e})();b([Ae()],Tr.prototype,"centerX",2);b([Ae()],Tr.prototype,"centerY",2);b([Ae()],Tr.prototype,"radius",2);b([Ae()],Tr.prototype,"startAngle",2);b([Ae()],Tr.prototype,"endAngle",2);b([Ae()],Tr.prototype,"counterClockwise",2);b([Ae()],Tr.prototype,"type",2);function Zx(e,t,i){let n=Math.sqrt(e**2+t**2),o=Math.atan2(t,e)+i;return{x:Math.cos(o)*n,y:Math.sin(o)*n}}var oo=(()=>{let e=class extends On{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(t){}computeBBox(){let{innerRadius:t,outerRadius:i,columnWidth:n}=this,s=this.getRotation(),o=-n/2,r=n/2,a=-i,l=-t,c=1/0,d=1/0,u=-1/0,h=-1/0;for(let p=0;p<4;p+=1){let{x:g,y:m}=Zx(p%2===0?o:r,p<2?a:l,s);c=Math.min(g,c),d=Math.min(m,d),u=Math.max(g,u),h=Math.max(m,h)}return new ne(c,d,u-c,h-d)}getRotation(){let{startAngle:t,endAngle:i}=this,n=vy(t,i);return _t(t+n/2+Math.PI/2)}updatePath(){let{isBeveled:t}=this;t?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){let{columnWidth:t,innerRadius:i,outerRadius:n,path:s}=this,o=-t/2,r=t/2,a=-n,l=-i,c=this.getRotation(),d=[[o,l],[o,a],[r,a],[r,l]].map(([u,h])=>Zx(u,h,c));s.clear(!0),s.moveTo(d[0].x,d[0].y),s.lineTo(d[1].x,d[1].y),s.lineTo(d[2].x,d[2].y),s.lineTo(d[3].x,d[3].y),s.closePath()}updateBeveledPath(){let{columnWidth:t,path:i,outerRadius:n,innerRadius:s,axisInnerRadius:o,axisOuterRadius:r,isRadiusAxisReversed:a}=this,l=Ks(s,o),c=Math.asin(t/2/s),d=this.getRotation(),u=(I,T)=>Zx(I,T,d),h=(I,T)=>Math.sqrt(I**2+T**2),p=(I,T)=>T>I?0:Math.sqrt(I**2-T**2),g=(I,T,F)=>F?I<T:I>T,m=l&&!isNaN(c)&&c<Math.PI/6,f=-t/2,v=t/2,y=-n,C=-s*(m?Math.cos(c):1),S=g(r,h(s,t/2),!a);if(S){let I=p(r,s);f=-I,v=I}i.clear(!0);let M=u(f,C);i.moveTo(M.x,M.y);let D=Ks(s,n),E=g(r,h(n,t/2),!a);if(D&&m)i.arc(0,0,s,_t(-c-Math.PI/2)+d,_t(c-Math.PI/2)+d,!1);else if(E){let I=-p(r,t/2),T=p(r,n);if(!S){let F=u(f,I);i.lineTo(F.x,F.y)}if(i.arc(0,0,r,Math.atan2(I,f)+d,Math.atan2(y,-T)+d,!1),!Ks(T,0)){let F=u(T,y);i.lineTo(F.x,F.y)}i.arc(0,0,r,Math.atan2(y,T)+d,Math.atan2(I,v)+d,!1)}else{let I=u(f,y),T=u(v,y);i.lineTo(I.x,I.y),i.lineTo(T.x,T.y)}let R=u(v,C);if(i.lineTo(R.x,R.y),m)i.arc(0,0,s,_t(c-Math.PI/2)+d,_t(-c-Math.PI/2)+d,!0);else{let I=u(f,C);i.lineTo(I.x,I.y)}i.closePath()}};return e.className="RadialColumnShape",e})();b([Ae()],oo.prototype,"isBeveled",2);b([Ae()],oo.prototype,"columnWidth",2);b([Ae()],oo.prototype,"startAngle",2);b([Ae()],oo.prototype,"endAngle",2);b([Ae()],oo.prototype,"outerRadius",2);b([Ae()],oo.prototype,"innerRadius",2);b([Ae()],oo.prototype,"axisInnerRadius",2);b([Ae()],oo.prototype,"axisOuterRadius",2);b([Ae()],oo.prototype,"isRadiusAxisReversed",2);function ZO(e,t,i,n,s){let o=vy(e,t),r=o*(1-n)/2;if(e+=r,t-=r,o<.001)return 2*i*s;if(o>=2*Math.PI){let p=e+o/2;e=p-Math.PI,t=p+Math.PI}let a=i*Math.cos(e),l=i*Math.sin(e),c=i*Math.cos(t),d=i*Math.sin(t),u=Math.floor(Math.sqrt((a-c)**2+(l-d)**2)),h=2*i*s;return Math.max(1,Math.min(h,u))}var qO={};As(qO,{ChartTheme:()=>kr,DEFAULT_ANNOTATION_HANDLE_FILL:()=>Jp,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>ig,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>ng,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>xp,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>Sp,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>eg,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>tg,DEFAULT_BACKGROUND_COLOUR:()=>Ny,DEFAULT_CAPTION_ALIGNMENT:()=>pa,DEFAULT_CAPTION_LAYOUT_STYLE:()=>ha,DEFAULT_COLOR_RANGE:()=>jy,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:()=>Nn,DEFAULT_FIBONACCI_STROKES:()=>wp,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>gi,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>Yt,DEFAULT_FUNNEL_SERIES_COLOR_RANGE:()=>Po,DEFAULT_GAUGE_SERIES_COLOR_RANGE:()=>Ls,DEFAULT_GRIDLINE_ENABLED:()=>So,DEFAULT_HIERARCHY_FILLS:()=>Uy,DEFAULT_HIERARCHY_STROKES:()=>$y,DEFAULT_POLAR_SERIES_STROKE:()=>Hy,DEFAULT_SEPARATION_LINES_COLOUR:()=>Zp,DEFAULT_SHADOW_COLOUR:()=>Ra,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>Wy,DEFAULT_TEXTBOX_COLOR:()=>rg,DEFAULT_TEXTBOX_FILL:()=>sg,DEFAULT_TEXTBOX_STROKE:()=>og,DEFAULT_TEXT_ANNOTATION_COLOR:()=>Qp,DEFAULT_TOOLBAR_POSITION:()=>ag,IS_COMMUNITY:()=>$M,IS_DARK_THEME:()=>bd,IS_ENTERPRISE:()=>YM,PALETTE_ALT_DOWN_FILL:()=>XM,PALETTE_ALT_DOWN_STROKE:()=>ZM,PALETTE_ALT_NEUTRAL_FILL:()=>QM,PALETTE_ALT_NEUTRAL_STROKE:()=>Gy,PALETTE_ALT_UP_FILL:()=>qM,PALETTE_ALT_UP_STROKE:()=>KM,PALETTE_DOWN_FILL:()=>Xp,PALETTE_DOWN_STROKE:()=>zy,PALETTE_NEUTRAL_FILL:()=>Vy,PALETTE_NEUTRAL_STROKE:()=>Ud,PALETTE_UP_FILL:()=>qp,PALETTE_UP_STROKE:()=>By,getChartTheme:()=>Jv,themeNames:()=>Hoe,themeSymbols:()=>UM,themes:()=>CD});var Hoe=Object.keys(CD),XO={};As(XO,{Color:()=>Ut,interpolateColor:()=>dF});var joe={};As(joe,{AND:()=>ko,ARRAY:()=>Np,ARRAY_OF:()=>Cr,AbstractBarSeries:()=>SO,AbstractBarSeriesProperties:()=>dD,ActionOnSet:()=>Pn,AnchoredPopover:()=>JO,Animation:()=>vF,AnimationManager:()=>Q2,Arc:()=>Tr,Axis:()=>dM,AxisGroupZIndexMap:()=>x2,AxisInterval:()=>Gl,AxisLabel:()=>Mi,AxisTick:()=>Ld,AxisTickGenerator:()=>D2,AxisTicks:()=>mre,BBox:()=>ne,BBoxValues:()=>ty,BOOLEAN:()=>me,BOOLEAN_ARRAY:()=>$Q,Background:()=>Gd,BackgroundModule:()=>XP,BandScale:()=>Fp,BarSeries:()=>EO,BarSeriesModule:()=>IO,BaseModuleInstance:()=>xy,BaseProperties:()=>ke,BaseToolbar:()=>ID,ButtonWidget:()=>jp,COLOR_GRADIENT:()=>TF,COLOR_STRING:()=>rt,COLOR_STRING_ARRAY:()=>Qn,CachedTextMeasurer:()=>XF,CachedTextMeasurerPool:()=>Sr,Caption:()=>Ft,CartesianAxis:()=>Hp,CartesianSeries:()=>_a,CartesianSeriesNodeEvent:()=>OM,CartesianSeriesProperties:()=>Ir,CategoryAxis:()=>Fd,CategoryScale:()=>Pp,ChangeDetectableProperties:()=>VM,Chart:()=>Ay,ChartAxisDirection:()=>iM,ChartEventManager:()=>J2,ChartOptions:()=>YO,ChartUpdateType:()=>rp,CollapseMode:()=>gO,Color:()=>Ut,ColorScale:()=>wa,ConicGradient:()=>Cre,ContextMenuRegistry:()=>eP,ContinuousScale:()=>ct,DATE:()=>WS,DATE_ARRAY:()=>YQ,DATE_OR_DATETIME_MS:()=>US,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>Wl,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>Ul,DEFAULT_TOOLTIP_CLASS:()=>Qi,DEFAULT_TOOLTIP_DARK_CLASS:()=>DP,DIRECTION:()=>PF,DOMManager:()=>$2,DataController:()=>hP,DataModel:()=>uP,DataModelSeries:()=>FM,DataService:()=>Iy,Debug:()=>wt,Default:()=>Sa,Deprecated:()=>Woe,DeprecatedAndRenamedTo:()=>Uoe,DragInterpreter:()=>sP,DraggablePopover:()=>eN,DropShadow:()=>so,ExtendedPath2D:()=>yp,FONT_SIZE_RATIO:()=>WM,FONT_STYLE:()=>wr,FONT_WEIGHT:()=>xr,FUNCTION:()=>wn,FloatingToolbar:()=>Dre,GREATER_THAN:()=>zp,Gradient:()=>fy,Group:()=>_e,GroupedCategoryAxis:()=>Py,HdpiCanvas:()=>xM,HierarchyNode:()=>dre,HierarchySeries:()=>ure,HierarchySeriesProperties:()=>Aa,HighlightManager:()=>tP,HighlightProperties:()=>PM,HighlightStyle:()=>Yp,INTERACTION_RANGE:()=>my,INTERPOLATION_STEP_POSITION:()=>aO,INTERPOLATION_TYPE:()=>rO,Image:()=>qd,InteractionManager:()=>X2,InteractionState:()=>q2,InterpolationProperties:()=>$d,Invalidating:()=>Ad,LABEL_PLACEMENT:()=>KS,LARGEST_KEY_INTERVAL:()=>HP,LESS_THAN:()=>Bp,LINE_CAP:()=>KQ,LINE_DASH:()=>To,LINE_JOIN:()=>ZQ,LINE_STYLE:()=>qQ,Label:()=>Si,LayoutElement:()=>vM,LayoutManager:()=>N2,LegendMarkerLabel:()=>no,Line:()=>es,LineSeries:()=>AO,LineSeriesModule:()=>kO,LinearGradient:()=>aS,LinearScale:()=>Qs,Listeners:()=>Mr,LogScale:()=>TM,LonLatBBox:()=>hre,MARKER_SHAPE:()=>GM,MATCHING_CROSSLINE_TYPE:()=>aM,MAX_SPACING:()=>NF,MIN_SPACING:()=>OF,Marker:()=>xi,Menu:()=>xre,MercatorScale:()=>pre,ModuleRegistry:()=>md,Motion:()=>oS,NAN:()=>hy,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Zs,NUMBER:()=>Qe,NUMBER_ARRAY:()=>py,NUMBER_OR_NAN:()=>kd,NativeWidget:()=>Ed,NiceMode:()=>y2,Node:()=>ba,NumberAxis:()=>Bd,OBJECT:()=>ee,OBJECT_ARRAY:()=>$S,OR:()=>Ca,OVERFLOW_STRATEGY:()=>QQ,ObserveChanges:()=>xa,OrdinalTimeScale:()=>_o,PHASE_METADATA:()=>hp,PHASE_ORDER:()=>ld,PLACEMENT:()=>JQ,PLAIN_OBJECT:()=>RF,POSITION:()=>YS,POSITION_TOP_COORDINATES:()=>Pv,POSITIVE_NUMBER:()=>$,PREV_NEXT_KEYS:()=>vd,Padding:()=>Ma,ParallelStateMachine:()=>vJ,Path:()=>On,PointerEvents:()=>lF,PolarAxis:()=>Id,PolarSeries:()=>Ky,PolarZIndexMap:()=>NO,Popover:()=>ED,PropertiesArray:()=>Op,ProxyInteractionService:()=>K2,ProxyOnWrite:()=>yJ,ProxyProperty:()=>Pt,ProxyPropertyOnWrite:()=>Li,QUICK_TRANSITION:()=>kv,RATIO:()=>dt,REAL_NUMBER:()=>AF,RENDER_TO_OFFSCREEN_CANVAS_THRESHOLD:()=>Wv,RadialColumnShape:()=>oo,Range:()=>to,Rect:()=>xn,RepeatType:()=>fF,Rotatable:()=>Td,RotatableGroup:()=>pJ,RotatableText:()=>QF,SKIP_JS_BUILTINS:()=>VS,SMALLEST_KEY_INTERVAL:()=>GP,SORT_DOMAIN_GROUPS:()=>jP,STRING:()=>B,STRING_ARRAY:()=>LF,Scalable:()=>QS,ScalableGroup:()=>hJ,Scene:()=>SM,SceneChangeDetection:()=>te,ScenePathChangeDetection:()=>Ae,Sector:()=>Ui,SectorBox:()=>LO,Selection:()=>ai,Series:()=>Ry,SeriesContentZIndexMap:()=>CP,SeriesGroupingChangedEvent:()=>AM,SeriesItemHighlightStyle:()=>Er,SeriesMarker:()=>tn,SeriesNodeEvent:()=>Wp,SeriesNodePickMode:()=>wP,SeriesProperties:()=>ts,SeriesTooltip:()=>nn,SeriesZIndexMap:()=>bP,Shape:()=>Rs,SimpleTextMeasurer:()=>eM,SliderWidget:()=>wM,StateMachine:()=>Gp,StateMachineProperty:()=>mJ,StopProperties:()=>qS,SvgPath:()=>_D,TEXT_ALIGN:()=>FF,TEXT_WRAP:()=>gy,TICK_INTERVAL:()=>v2,Text:()=>wi,TextUtils:()=>ri,TextWrapper:()=>tM,ThemeConstants:()=>QP,ThemeSymbols:()=>UM,TimeScale:()=>c2,Toolbar:()=>Sre,ToolbarButtonProperties:()=>ug,ToolbarButtonWidget:()=>tN,ToolbarWidget:()=>Ey,Tooltip:()=>Fo,TooltipManager:()=>zv,TooltipPosition:()=>Nd,Transformable:()=>Kt,TransformableText:()=>Dd,Translatable:()=>Vl,TranslatableGroup:()=>Cn,TranslatableLine:()=>Nv,UNION:()=>xt,UpdateService:()=>rP,VERTICAL_ALIGN:()=>XQ,Validate:()=>x,Vec2:()=>cd,Vec4:()=>vS,WIDGET_HTML_EVENTS:()=>fM,Widget:()=>Lo,WidgetEventUtil:()=>ur,ZIndexMap:()=>f2,ZoomManager:()=>oP,accumulateGroup:()=>WP,accumulateStack:()=>UP,accumulatedValue:()=>FP,accumulativeValueProperty:()=>bp,addHitTestersToQuadtree:()=>lD,adjustLabelPlacement:()=>_O,angleBetween:()=>vy,animationValidation:()=>zd,applyShapeStyle:()=>Cp,areScalingEqual:()=>Cd,area:()=>MS,buildFormatter:()=>Lp,buildResetPathFn:()=>aD,calculateDefaultTimeTickFormat:()=>DF,calculateDerivativeExtrema:()=>CS,calculateDerivativeExtremaXY:()=>SP,calculateLabelChartPadding:()=>g2,calculateLabelTranslation:()=>uS,calculatePlacement:()=>wS,checkCrisp:()=>MO,clamp:()=>Le,clampArray:()=>iS,clippedRoundRect:()=>Sv,collapsedStartingBarPosition:()=>Ip,compareDates:()=>e2,computeBarFocusBounds:()=>hD,computeMarkerFocusBounds:()=>dg,countExpandingSearch:()=>nP,countFractionDigits:()=>oy,createButton:()=>fre,createCheckbox:()=>vre,createDatumId:()=>li,createDeprecationWarning:()=>xD,createElement:()=>Ue,createElementId:()=>cee,createIcon:()=>QO,createId:()=>ks,createSelect:()=>yre,createSvgElement:()=>Es,createTextArea:()=>bre,dateToNumber:()=>Xi,datesSortOrder:()=>sM,datumKeys:()=>Vv,datumStylerProperties:()=>fa,deconstructSelectionsOrNodes:()=>ly,deepClone:()=>pi,deepFreeze:()=>tp,defaultTimeTickFormat:()=>jS,diff:()=>Vd,downloadUrl:()=>oF,drawCorner:()=>Jh,drawMarkerUnitPolygon:()=>Qh,easing:()=>oS,enterpriseModule:()=>gr,evaluateBezier:()=>Gv,extent:()=>_r,extractDecoratedProperties:()=>pF,findMinMax:()=>Ti,findQuadtreeMatch:()=>cD,findRangeExtent:()=>xd,fixNumericExtent:()=>Ln,focusCursorAtEnd:()=>aee,formatNumber:()=>h2,formatPercent:()=>u2,formatValue:()=>vr,fromToMotion:()=>$t,generateUUID:()=>RX,getAngleRatioRadians:()=>HF,getColorStops:()=>WF,getDateTicksForInterval:()=>rM,getDatumRefPoint:()=>MM,getDocument:()=>mr,getElementBBox:()=>I2,getIconClassNames:()=>Sy,getLastFocus:()=>CM,getMissCount:()=>DM,getPath:()=>zS,getPathComponents:()=>dP,getRadialColumnWidth:()=>ZO,getWindow:()=>Et,groupAccumulativeValueProperty:()=>va,groupAverage:()=>LP,groupCount:()=>SS,groupStackValueProperty:()=>VP,groupSum:()=>TP,hasNoModifiers:()=>_y,inRange:()=>rF,initMenuKeyNav:()=>j2,initRovingTabIndex:()=>H2,interpolatePoints:()=>Kv,isAgFlowProportionChartOptions:()=>vie,isAgGaugeChartOptions:()=>yP,isAgHierarchyChartOptions:()=>mie,isAgStandaloneChartOptions:()=>vP,isAgTopologyChartOptions:()=>fie,isBetweenAngles:()=>ua,isButtonClickEvent:()=>bM,isContinuous:()=>yy,isDecoratedObject:()=>ay,isDenseInterval:()=>fp,isInputPending:()=>R2,isInteger:()=>aF,isNegative:()=>sy,isNumberEqual:()=>Ks,isProperties:()=>Ro,isScaleValid:()=>Dp,jsonApply:()=>op,jsonDiff:()=>yr,jsonPropertyCompare:()=>A2,jsonResolveOperations:()=>k2,jsonWalk:()=>dr,keyProperty:()=>Js,labelDirectionHandling:()=>m2,legendSymbolSvg:()=>MP,lineDistanceSquared:()=>sp,listDecoratedProperties:()=>Ll,makeAccessibleClickListener:()=>Vee,mapValues:()=>$X,markerFadeInAnimation:()=>_p,markerPaletteFactory:()=>JM,markerScaleInAnimation:()=>sD,markerSwipeScaleInAnimation:()=>oD,mergeArrayDefaults:()=>Av,mergeDefaults:()=>He,midpointStartingBarPosition:()=>use,mod:()=>OS,moduleRegistry:()=>Eo,motion:()=>Ere,nearestSquared:()=>ny,nearestSquaredInContainer:()=>FX,normaliseGroupTo:()=>Ly,normalisePropertyTo:()=>Fl,normalisedExtentWithMetadata:()=>LM,normalizeAngle180:()=>pp,normalizeAngle360:()=>_t,normalizeAngle360Inclusive:()=>aJ,objectsEqual:()=>Ol,objectsEqualWith:()=>BS,pairUpSpans:()=>lp,partialAssign:()=>sS,pathFadeInAnimation:()=>Zv,pathMotion:()=>Yv,pathSwipeInAnimation:()=>rD,pickByMatchingAngle:()=>yD,plotAreaPathFill:()=>CO,plotInterpolatedAreaSeriesFillSpans:()=>Dv,plotInterpolatedLinePathStroke:()=>Mv,plotLinePathStroke:()=>tD,predicateWithMessage:()=>pt,prepareAreaFillAnimationFns:()=>wO,prepareAreaPathAnimation:()=>xO,prepareAxisAnimationContext:()=>Ov,prepareAxisAnimationFunctions:()=>b2,prepareBarAnimationFunctions:()=>Rp,prepareLinePathAnimation:()=>bO,prepareLinePathPropertyAnimation:()=>nD,prepareLinePathStrokeAnimationFns:()=>iD,preparePieSeriesAnimationFunctions:()=>Pl,range:()=>mp,rangedValueProperty:()=>BM,resetAxisGroupFn:()=>C2,resetAxisLabelSelectionFn:()=>cM,resetAxisLineSelectionFn:()=>w2,resetAxisSelectionFn:()=>lM,resetBarSelectionsFn:()=>Ap,resetIds:()=>IX,resetLabelFn:()=>Ar,resetMarkerFn:()=>cg,resetMarkerPositionFn:()=>Ep,resetMotion:()=>Ai,resetPieSelectionsFn:()=>vD,round:()=>PX,rowCountProperty:()=>zP,sanitizeHtml:()=>yd,scale:()=>qi,sectorBox:()=>FO,seriesLabelFadeInAnimation:()=>ot,seriesLabelFadeOutAnimation:()=>ga,setAttribute:()=>Ct,setAttributes:()=>Nl,setDocument:()=>nF,setElementBBox:()=>Bv,setElementStyle:()=>qs,setPath:()=>GS,setWindow:()=>sF,shallowClone:()=>gM,singleSeriesPaletteFactory:()=>lg,solveBezier:()=>Hv,sortAndUniqueDates:()=>cS,splitBezier:()=>jv,staticFromToMotion:()=>br,stopPageScrolling:()=>W2,sum:()=>mne,sumValues:()=>Ty,swapAxisCondition:()=>sO,toDegrees:()=>lJ,toRadians:()=>mi,tooltipContentAriaLabel:()=>_P,trailingAccumulatedValue:()=>PP,trailingAccumulatedValueProperty:()=>yne,updateClipPath:()=>qv,updateLabelNode:()=>DO,validateCrossLineValues:()=>p2,valueProperty:()=>je,visibleRangeIndices:()=>iP,without:()=>nS});function xD(){return(e,t)=>{let i=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");V.warnOnce(i)}}function Woe(e,t){let i=xD(),n=t?.default;return fr((s,o,r)=>(r!==n&&i(o.toString(),e),r))}function Uoe(e,t){let i=xD();return fr((n,s,o)=>(o!==n[e]&&(i(s.toString(),`Use [${e}] instead.`),GS(n,e,t?t(o):o)),Rv),(n,s)=>(i(s.toString(),`Use [${e}] instead.`),zS(n,e)))}var cd={add:$oe,angle:Qoe,apply:are,equal:ore,distance:Zoe,distanceSquared:qoe,from:rre,gradient:ere,intercept:tre,intersectAtX:nre,intersectAtY:ire,length:MD,lengthSquared:Koe,multiply:Yoe,normalized:Xoe,origin:DD,required:lre,rotate:Joe,round:sre,sub:SD};function $oe(e,t){return typeof t=="number"?{x:e.x+t,y:e.y+t}:{x:e.x+t.x,y:e.y+t.y}}function SD(e,t){return typeof t=="number"?{x:e.x-t,y:e.y-t}:{x:e.x-t.x,y:e.y-t.y}}function Yoe(e,t){return typeof t=="number"?{x:e.x*t,y:e.y*t}:{x:e.x*t.x,y:e.y*t.y}}function MD(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function Koe(e){return e.x*e.x+e.y*e.y}function Zoe(e,t){let i=SD(e,t);return Math.sqrt(i.x*i.x+i.y*i.y)}function qoe(e,t){let i=SD(e,t);return i.x*i.x+i.y*i.y}function Xoe(e){let t=MD(e);return{x:e.x/t,y:e.y/t}}function Qoe(e,t=DD()){return Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)}function Joe(e,t,i=DD()){let n=MD(e);return{x:i.x+n*Math.cos(t),y:i.y+n*Math.sin(t)}}function ere(e,t,i){let n=t.x-e.x;return(i==null?t.y-e.y:i-t.y-(i-e.y))/n}function tre(e,t,i){return(i==null?e.y:i-e.y)-t*e.x}function ire(e,t,i=0,n){return{x:e===1/0?1/0:(i-t)/e,y:n==null?i:n-i}}function nre(e,t,i=0,n){let s=e===1/0?1/0:e*i+t;return{x:i,y:n==null?s:n-s}}function sre(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function ore(e,t){return e.x===t.x&&e.y===t.y}function rre(e,t){if(typeof e=="number")return{x:e,y:t};if("currentX"in e)return{x:e.currentX,y:e.currentY};if("offsetWidth"in e)return{x:e.offsetWidth,y:e.offsetHeight};if("width"in e)return[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y+e.height}];if("x1"in e)return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2}];throw new Error(`Values can not be converted into a vector: [${JSON.stringify(e)}] [${t}]`)}function are(e,t){return e.x=t.x,e.y=t.y,e}function lre(e){return{x:e?.x??0,y:e?.y??0}}function DD(){return{x:0,y:0}}var cre=(()=>{let e=class _v{constructor(i,n,s,o,r,a,l,c,d){this.series=i,this.datumIndex=n,this.datum=s,this.sizeValue=o,this.colorValue=r,this.sumSize=a,this.depth=l,this.parent=c,this.children=d,this.midPoint={x:0,y:0}}get hasChildren(){return this.children.length>0}walk(i,n=_v.Walk.PreOrder){n===_v.Walk.PreOrder&&i(this),this.children.forEach(s=>{s.walk(i,n)}),n===_v.Walk.PostOrder&&i(this)}*[Symbol.iterator](){yield this;for(let i of this.children)yield*pg(i)}};return e.Walk={PreOrder:0,PostOrder:1},e})(),dre=cre,ure=class extends Ry{constructor(e){super({moduleCtx:e,pickModes:[1,0]}),this.colorDomain=[0,0],this.maxDepth=0,this.colorScale=new wa,this.animationState=new Gp("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}processData(){let{NodeClass:e}=this,{childrenKey:t,sizeKey:i,colorKey:n,colorRange:s}=this.properties,o=0,r=1/0,a=-1/0,l=(h,p,g)=>{let m=g.depth!=null?g.depth+1:0,f=t!=null?h[t]:void 0,v=f==null||f.length===0,y=i!=null?h[i]:void 0;Number.isFinite(y)?y=Math.max(y,0):y=v?1:0;let C=y;o=Math.max(o,m);let S=n!=null?h[n]:void 0;return typeof S=="number"&&(r=Math.min(r,S),a=Math.max(a,S)),c(new e(this,p,h,y,S,C,m,g,[]),f)},c=(h,p)=>{let{datumIndex:g}=h;return p?.forEach((m,f)=>{let v=l(m,g.concat(f),h);h.children.push(v),h.sumSize+=v.sumSize}),h},d=c(new e(this,[],void 0,0,void 0,0,void 0,void 0,[]),this.data),u=[r,a];this.colorScale.domain=r<a?[r,a]:[0,1],this.colorScale.range=s??["black"],this.colorScale.update(),this.rootNode=d,this.maxDepth=o,this.colorDomain=u}update({seriesRect:e}){this.updateSelections(),this.updateNodes();let t=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",t),this.animationState.transition("update",t)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(){return{}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(e){let{colorKey:t,colorName:i,colorRange:n}=this.properties,{id:s,ctx:{legendManager:o},visible:r}=this;return e==="gradient"&&t!=null&&n!=null?[{legendType:"gradient",enabled:r&&o.getItemEnabled({seriesId:s}),seriesId:s,colorName:i,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return e.datumIndex.join(":")}getDatumId(e){return this.getDatumIdFromData(e)}removeMeIndexPathForIndex(e){return this.datumSelection.at(e+1)?.datum.datumIndex??[]}removeMeIndexForIndexPath(e){for(let{index:t,datum:i}of this.datumSelection)if(Do(i.datumIndex,e))return t-1;return 0}pickFocus(e){if(!this.rootNode?.children.length)return;let t=Le(0,e.datumIndex-e.datumIndexDelta,this.datumSelection.length-1),{datumIndexDelta:i,otherIndexDelta:n}=e,s=this.removeMeIndexPathForIndex(t),o=s.reduce((l,c)=>l.children[c],this.rootNode);if(n>0&&o.hasChildren)s=[...s,0];else if(n<0&&s.length>1)s=s.slice(0,-1);else if(n===0&&i!==0){let l=o.parent.children.length-1;s=s.slice(),s[s.length-1]=Le(0,s[s.length-1]+i,l)}let r=s.reduce((l,c)=>l.children[c],this.rootNode),a=this.computeFocusBounds(this.datumSelection.at(t+1));if(a!=null)return{datum:r,datumIndex:this.removeMeIndexForIndexPath(s),otherIndex:r.depth,bounds:a,clipFocusBox:!0}}getDatumAriaText(e,t){if(!(e instanceof this.NodeClass)){V.error(`datum is not HierarchyNode: ${JSON.stringify(e)}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(e.depth??-1)+1,count:e.children.length,description:t})}},Aa=class extends ts{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(oi),this.strokes=Object.values(xo)}};b([x(B)],Aa.prototype,"childrenKey",2);b([x(B,{optional:!0})],Aa.prototype,"sizeKey",2);b([x(B,{optional:!0})],Aa.prototype,"colorKey",2);b([x(B,{optional:!0})],Aa.prototype,"colorName",2);b([x(Qn)],Aa.prototype,"fills",2);b([x(Qn)],Aa.prototype,"strokes",2);b([x(Qn,{optional:!0})],Aa.prototype,"colorRange",2);var hre=class{constructor(e,t,i,n){this.lon0=e,this.lat0=t,this.lon1=i,this.lat1=n}merge(e){this.lon0=Math.min(this.lon0,e.lon0),this.lat0=Math.min(this.lat0,e.lat0),this.lon1=Math.max(this.lon1,e.lon1),this.lat1=Math.max(this.lat1,e.lat1)}},qy=Math.PI/180,qx=e=>e*qy,Xx=e=>-Math.log(Math.tan(Math.PI*.25+e*qy*.5)),Qx=e=>e/qy,Jx=e=>(Math.atan(Math.exp(-e))-Math.PI*.25)/(qy*.5),pre=class TS extends cy{constructor(t,i){super(),this.domain=t,this.range=i,this.type="mercator",this.bounds=TS.bounds(t)}static bounds(t){let[[i,n],[s,o]]=t,r=qx(i),a=Xx(n),l=qx(s),c=Xx(o);return new ne(Math.min(r,l),Math.min(a,c),Math.abs(l-r),Math.abs(c-a))}static fixedScale(){return new TS([[Qx(0),Jx(0)],[Qx(1),Jx(1)]],[[0,0],[1,1]])}toDomain(){}normalizeDomains(...t){let i=-1/0,n=1/0,s=-1/0,o=1/0;for(let r of t)for(let[a,l]of r)i=Math.min(a,i),n=Math.max(a,n),s=Math.min(l,s),o=Math.max(l,o);return{domain:[[i,s],[n,o]],animatable:!0}}convert([t,i]){let[[n,s],[o,r]]=this.range,a=(o-n)/this.bounds.width,l=(r-s)/this.bounds.height;return[(qx(t)-this.bounds.x)*a+n,(Xx(i)-this.bounds.y)*l+s]}invert([t,i]){let[[n,s],[o,r]]=this.range,a=(o-n)/this.bounds.width,l=(r-s)/this.bounds.height;return[Qx((t-n)/a+this.bounds.x),Jx((i-s)/l+this.bounds.y)]}},gre=(()=>{let e=class LS{constructor(){this.id=ks(this),this.axisGroup=new Cn({name:`${this.id}-AxisTicks`,zIndex:2}),this.labelSelection=ai.select(this.axisGroup,wi),this.interval=new Gl,this.label=new Mi,this.scale=new Qs,this.position="bottom",this.translationX=0,this.translationY=0,this.padding=0}attachAxis(i){i.appendChild(this.axisGroup)}calculateLayout(){let i=[],n=this.generateTicks(),{translationX:s,translationY:o}=this;return this.labelSelection.update(n.ticks.map(r=>this.createLabelDatum(r)),void 0,r=>r.tickId),this.labelSelection.each((r,a)=>{r.setProperties(a),a.visible&&i.push(r.getBBox())}),this.axisGroup.setProperties({translationX:s,translationY:o}),ne.merge(i)}getLabelParams(i){let{padding:n}=this,{translate:s}=i;switch(this.position){case"top":case"bottom":return{x:s,y:n,textAlign:"center",textBaseline:"top"};case"left":case"right":return{x:n,y:s,textAlign:"start",textBaseline:"middle"}}}inRange(i,n=.001){let[s,o]=Ti(this.scale.range);return i>=s-n&&i<=o+n}createLabelDatum(i){let{x:n,y:s,textBaseline:o,textAlign:r}=this.getLabelParams(i);return{visible:!!i.tickLabel,tickId:i.tickId,fill:this.label.color,fontFamily:this.label.fontFamily,fontSize:this.label.fontSize,fontStyle:this.label.fontStyle,fontWeight:this.label.fontWeight,rotation:0,rotationCenterX:0,text:i.tickLabel,textAlign:r,textBaseline:o,x:n,y:s}}generateTicks(){let{minSpacing:i,maxSpacing:n}=this.interval,{maxTickCount:s,minTickCount:o,tickCount:r}=l2(xd(this.scale.range),1,i,n,LS.DefaultTickCount,LS.DefaultMinSpacing),a=this.getTicksData({nice:!0,interval:this.interval.step,tickCount:r,minTickCount:o,maxTickCount:s});if(this.position==="bottom"||this.position==="top"){let l=Sr.getMeasurer({font:this.label}),{domain:c}=this.scale,u=c[0]>c[1]?-1:1,h=-1/0*u;a.ticks=a.ticks.filter(p=>Math.sign(p.translate-h)!==u?!1:(h=p.translate+l.textWidth(p.tickLabel,!0)*u,!0))}return a}getTicksData(i){let n=[],s=i.nice?this.scale.niceDomain(i):this.scale.domain,o=this.scale.ticks(i,s),r=o.reduce((c,d)=>Math.max(c,oy(d)),0),a=uM(),l=this.label.format?this.scale.tickFormatter({domain:s,ticks:o,fractionDigits:r,specifier:this.label.format}):c=>vr(c,r);for(let c=0;c<o.length;c++){let d=o[c],u=this.scale.convert(d);if(!this.inRange(u))continue;let h=this.label.formatter?.({value:d,index:c,fractionDigits:r})??l(d),p=a(h);n.push({tick:d,tickId:p,tickLabel:h,translate:u})}return{rawTicks:o,fractionDigits:r,ticks:n}}};return e.DefaultTickCount=5,e.DefaultMinSpacing=10,e})(),mre=gre;function fre(e,t){let i=Ue("button",Xy("ag-charts-input ag-charts-button",t));return e.label!==void 0?i.append(e.label):(i.append(QO(e.icon)),i.ariaLabel=e.altText),i.addEventListener("click",e.onPress),Nl(i,t),i}function vre(e,t){let i=Ue("input",Xy("ag-charts-input ag-charts-checkbox",t));return i.type="checkbox",i.checked=e.checked,i.addEventListener("change",n=>e.onChange(i.checked,n)),i.addEventListener("keydown",n=>{bM(n)&&(n.preventDefault(),i.click())}),Nl(i,t),i}function yre(e,t){let i=Ue("select",Xy("ag-charts-input ag-charts-select",t));return i.append(...e.options.map(n=>{let s=Ue("option");return s.value=n.value,s.textContent=n.label,s})),Ct(i,"data-preventdefault",!1),i.value=e.value,i.addEventListener("change",n=>e.onChange(i.value,n)),Nl(i,t),i}function bre(e,t){let i=Ue("textarea",Xy("ag-charts-input ag-charts-textarea",t));return i.value=e.value,i.addEventListener("input",n=>e.onChange(i.value,n)),Nl(i,t),Ct(i,"data-preventdefault",!1),i}function QO(e){let t=Ue("span",`ag-charts-icon ag-charts-icon-${e}`);return Ct(t,"aria-hidden",!0),t}function Xy(e,t){return t==null?e:`${e} ${t.class}`}var Cre=class extends fy{constructor(e,t,i=0,n){super(e,t,n),this.angle=i}createCanvasGradient(e,t){let{angle:n}=this,s=_t(mi(n+90)),o=t.x+t.width*.5,r=t.y+t.height*.5;return e.createConicGradient(s,o,r)}},_D=class extends On{constructor(e=""){super(),this.x=0,this.y=0,this.commands=[],this._d="",this.d=e}get d(){return this._d}set d(e){if(e!==this._d){this._d=e,this.commands.length=0;for(let[t,i,n]of e.matchAll(/([A-Z])([0-9. ]*)/g)){let s=n.split(/\s+/g).map(Number);this.commands.push([i,s])}this.checkPathDirty()}}updatePath(){let{path:e,x:t,y:i}=this;e.clear();let n=t,s=i;for(let[o,r]of this.commands)switch(o){case"M":e.moveTo(t+r[0],i+r[1]),n=t+r[0];break;case"C":e.cubicCurveTo(t+r[0],i+r[1],t+r[2],i+r[3],t+r[4],i+r[5]),n=t+r[4],s=i+r[5];break;case"H":e.lineTo(t+r[0],s),n=i+r[0];break;case"L":e.lineTo(t+r[0],i+r[1]),n=t+r[0],s=i+r[1];break;case"V":e.lineTo(n,i+r[0]),s=i+r[0];break;case"Z":e.closePath();break;default:throw new Error(`Could not translate command '${o}' with '${r.join(" ")}'`)}e.closePath()}};b([Ae()],_D.prototype,"x",2);b([Ae()],_D.prototype,"y",2);var qd=class extends ba{constructor(e){super(),this.sourceImage=e,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}render(e){let{ctx:t}=e,i=this.sourceImage;i&&(t.globalAlpha=this.opacity,t.drawImage(i,0,0,i.width,i.height,this.x,this.y,this.width,this.height)),super.render(e)}};b([te()],qd.prototype,"x",2);b([te()],qd.prototype,"y",2);b([te()],qd.prototype,"width",2);b([te()],qd.prototype,"height",2);b([te()],qd.prototype,"opacity",2);var wre={};As(wre,{ButtonWidget:()=>jp,NativeWidget:()=>Ed,SliderWidget:()=>wM,ToolbarWidget:()=>Ey,WIDGET_HTML_EVENTS:()=>fM,Widget:()=>Lo,WidgetEventUtil:()=>ur});var KL="canvas-overlay",ED=class extends xy{constructor(e,t,i){super(),this.ctx=e,this.hideFns=[],this.moduleId=`popover-${t}`,i?.detached?this.element=Ue("div"):this.element=e.domManager.addChild(KL,this.moduleId),this.element.setAttribute("role","presentation"),this.destroyFns.push(()=>e.domManager.removeChild(KL,this.moduleId))}attachTo(e){this.element.parentElement||e.element.append(this.element)}hide(e){let{lastFocus:t=this.lastFocus}=e??{};this.element.children.length!==0&&(this.hideFns.forEach(i=>i()),t?.focus(),this.lastFocus=void 0)}removeChildren(){this.element.replaceChildren()}showWithChildren(e,t){if(!this.element.parentElement)throw new Error("Can not show popover that has not been attached to a parent.");let i=Ue("div","ag-charts-popover");if(t.ariaLabel!=null&&i.setAttribute("aria-label",t.ariaLabel),t.class!=null&&i.classList.add(t.class),i.replaceChildren(...e),this.element.replaceChildren(i),this.hideFns.push(()=>this.removeChildren()),t.onHide&&this.hideFns.push(t.onHide),t.initialFocus&&t.sourceEvent){let n=CM(t.sourceEvent);n!==void 0&&(this.lastFocus=n,this.initialFocus=t.initialFocus)}return i}getPopoverElement(){return this.element.firstElementChild}updatePosition(e){let t=this.getPopoverElement();t&&(t.style.setProperty("right","unset"),t.style.setProperty("bottom","unset"),e.x!=null&&t.style.setProperty("left",`${Math.floor(e.x)}px`),e.y!=null&&t.style.setProperty("top",`${Math.floor(e.y)}px`),this.initialFocus?.focus(),this.initialFocus=void 0)}},JO=class extends ED{setAnchor(e,t){this.anchor=e,this.fallbackAnchor=t,this.updatePosition(e),this.repositionWithinBounds()}showWithChildren(e,t){let i=t.anchor??this.anchor,n=t.fallbackAnchor??this.fallbackAnchor,s=super.showWithChildren(e,t);return i&&this.setAnchor(i,n),Et().requestAnimationFrame(()=>{this.repositionWithinBounds()}),s}repositionWithinBounds(){let{anchor:e,ctx:t,fallbackAnchor:i}=this,n=this.getPopoverElement();if(!e||!n)return;let s=t.domManager.getBoundingClientRect(),{offsetWidth:o,offsetHeight:r}=n,a=Le(0,e.x,s.width-o),l=Le(0,e.y,s.height-r);a!==e.x&&i?.x!=null&&(a=Le(0,i.x-o,s.width-o)),l!==e.y&&i?.y!=null&&(l=Le(0,i.y-r,s.height-r)),this.updatePosition({x:a,y:l})}},xre=class extends JO{show(e){let t=e.items.map(n=>this.createRow(e,n)),i=this.showWithChildren(t,e);i.classList.add("ag-charts-menu"),i.setAttribute("role","menu"),this.menuCloser=j2({orientation:"vertical",menu:i,buttons:t,sourceEvent:e.sourceEvent,closeCallback:()=>this.hide()}),this.hideFns.push(()=>{this.menuCloser?.finishClosing(),this.menuCloser=void 0})}createRow(e,t){let{menuItemRole:i="menuitem"}=e,n=t.value===e.value,s=Ue("div","ag-charts-menu__row");if(s.setAttribute("role",i),i==="menuitemradio"&&s.setAttribute("aria-checked",(e.value===t.value).toString()),typeof t.value=="string"&&(s.dataset.popoverId=t.value),s.classList.toggle("ag-charts-menu__row--active",n),t.icon!=null){let l=Ue("span",`ag-charts-menu__icon ${Sy(t.icon)}`);s.appendChild(l)}let o=t.strokeWidth!=null;if(o&&(s.classList.toggle("ag-charts-menu__row--stroke-width-visible",o),s.style.setProperty("--strokeWidth",o?`${t.strokeWidth}px`:null)),t.label!=null){let l=Ue("span","ag-charts-menu__label");l.textContent=this.ctx.localeManager.t(t.label),s.appendChild(l)}"altText"in t&&(s.ariaLabel=this.ctx.localeManager.t(t.altText));let r=()=>{e.onPress?.(t)},a=l=>{bM(l)&&(r(),l.preventDefault(),l.stopPropagation())};return s.addEventListener("keydown",a),s.addEventListener("click",a),s.addEventListener("mousemove",()=>{s.focus({preventScroll:!0})}),s}},eN=class extends ED{constructor(){super(...arguments),this.dragged=!1}setDragHandle(e){e.addListener("drag-start",t=>{e.addClass(this.dragHandleDraggingClass),this.onDragStart(t)}),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",()=>{e.removeClass(this.dragHandleDraggingClass),this.onDragEnd.bind(this)})}onDragStart(e){let t=this.getPopoverElement();t&&(e.sourceEvent.preventDefault(),this.dragged=!0,this.dragStartState={client:cd.from(e.clientX,e.clientY),position:cd.from(Number(t.style.getPropertyValue("left").replace("px","")),Number(t.style.getPropertyValue("top").replace("px","")))})}onDragMove(e){let{dragStartState:t}=this,i=this.getPopoverElement();if(!t||!i)return;let n=cd.sub(cd.from(e.clientX,e.clientY),t.client),s=cd.add(t.position,n),o=this.ctx.domManager.getBoundingClientRect(),r={};s.x>=o.x&&s.x+i.offsetWidth<=o.width&&(r.x=s.x),s.y>=o.y&&s.y+i.offsetHeight<=o.height&&(r.y=s.y),this.updatePosition(r)}onDragEnd(){this.dragStartState=void 0}},ug=class extends ke{};b([x(B,{optional:!0})],ug.prototype,"icon",2);b([x(B,{optional:!0})],ug.prototype,"label",2);b([x(B,{optional:!0})],ug.prototype,"ariaLabel",2);b([x(B,{optional:!0})],ug.prototype,"tooltip",2);var tN=class extends jp{constructor(e){super(),this.localeManager=e}update(e){let{localeManager:t}=this;e.tooltip&&(this.elem.title=t.t(e.tooltip));let i="";if(e.icon!=null&&(i=`<span class="${Sy(e.icon)} ag-charts-toolbar__icon"></span>`),e.label!=null){let n=t.t(e.label);i=`${i}<span class="ag-charts-toolbar__label">${n}</span>`}this.elem.innerHTML=i}setChecked(e){Ct(this.elem,"aria-checked",e)}},ZL="ag-charts-toolbar__button--active",ID=class extends Ey{constructor(e,t="horizontal"){super(t),this.localeManager=e,this.horizontalSpacing=10,this.verticalSpacing=10,this.events=new Mr,this.hasPrefix=!1,this.buttonWidgets=[],this.addClass("ag-charts-toolbar"),this.toggleClass("ag-charts-toolbar--horizontal",t==="horizontal"),this.toggleClass("ag-charts-toolbar--vertical",t==="vertical")}addToolbarListener(e,t){return this.events.addListener(e,t)}clearButtons(){for(let e of this.buttonWidgets)e.destroy();this.buttonWidgets.splice(0)}updateButtons(e){let{buttonWidgets:t}=this;for(let[i,n]of e.entries())(this.buttonWidgets.at(i)??this.createButton(i,n)).update(n);for(let i=e.length;i<t.length;i++)this.buttonWidgets.at(i)?.destroy();this.buttonWidgets.splice(e.length),this.refreshButtonClasses()}updateButtonByIndex(e,t){this.buttonWidgets.at(e)?.update(t)}clearActiveButton(){for(let e of this.buttonWidgets)e.toggleClass(ZL,!1)}toggleActiveButtonByIndex(e){if(e!==-1)for(let[t,i]of this.buttonWidgets.entries())i.toggleClass(ZL,e!=null&&e===t)}toggleButtonEnabledByIndex(e,t){e!==-1&&this.buttonWidgets.at(e)?.setEnabled(t)}toggleSwitchCheckedByIndex(e,t){e!==-1&&this.buttonWidgets.at(e)?.setChecked(t)}getButtonBounds(){return this.buttonWidgets.map(e=>this.getButtonWidgetBounds(e))}setButtonHiddenByIndex(e,t){this.buttonWidgets.at(e)?.setHidden(t)}getButtonWidgetBounds(e){let t=this.getBounds(),i=e.getBounds();return new ne(i.x+t.x,i.y+t.y,i.width,i.height)}refreshButtonClasses(){let{buttonWidgets:e,hasPrefix:t}=this,i,n,s;for(let[o,r]of e.entries())i=!t&&o===0||s!=r.section,n=o===e.length-1||r.section!=e.at(o+1)?.section,r.toggleClass("ag-charts-toolbar__button--first",i),r.toggleClass("ag-charts-toolbar__button--last",n),r.toggleClass("ag-charts-toolbar__button--gap",o>0&&i),s=r.section}createButton(e,t){let i=this.createButtonWidget();return i.addClass("ag-charts-toolbar__button"),i.addListener("click",n=>{let s=w({index:e},t instanceof ke?t.toJson():t),o=this.getButtonWidgetBounds(i);this.events.dispatch("button-pressed",{event:n,button:s,buttonBounds:o})}),i.addListener("focus",()=>{this.events.dispatch("button-focused",{button:{index:e}})}),t.section&&(i.section=t.section),this.buttonWidgets.push(i),this.addChild(i),i}},Sre=class extends ID{createButtonWidget(){return new tN(this.localeManager)}},Mre=class extends eN{constructor(e,t,i){super(e,t),this.onPopoverMoved=i,this.dragHandleDraggingClass="ag-charts-floating-toolbar__drag-handle--dragging"}show(e,t={}){this.showWithChildren(e,A(w({},t),{class:"ag-charts-floating-toolbar"}))}hide(){this.dragged=!1,super.hide()}getBounds(){let e=this.getPopoverElement();return new ne(e?.offsetLeft??0,e?.offsetTop??0,e?.offsetWidth??0,e?.offsetHeight??0)}hasBeenDragged(){return this.dragged}setAnchor(e,t,i){let n=this.getPopoverElement();if(!n)return;let s=e.position??"above",{offsetWidth:o,offsetHeight:r}=n,a=e.y-r-i,l=e.x-o/2;s==="below"?a=e.y+i:s==="right"?(a=e.y-r/2,l=e.x+t):s==="above-left"&&(l=e.x),this.updatePosition({x:l,y:a})}ignorePointerEvents(){let e=this.getPopoverElement();e&&(e.style.pointerEvents="none")}capturePointerEvents(){let e=this.getPopoverElement();e&&(e.style.pointerEvents="unset")}updatePosition(e){let t=this.getBounds(),i=this.ctx.domManager.getBoundingClientRect();e.x=Math.floor(Le(0,e.x,i.width-t.width)),e.y=Math.floor(Le(0,e.y,i.height-t.height)),super.updatePosition(e),this.onPopoverMoved()}},Dre=class extends ID{constructor(e,t){super(e.localeManager),this.hasPrefix=!0,this.popover=new Mre(e,t,this.onPopoverMoved.bind(this)),this.dragHandle=new _re(e.localeManager.t("toolbarAnnotationsDragHandle")),this.popover.setDragHandle(this.dragHandle)}show(e={}){this.popover.show([this.dragHandle.getElement(),this.getElement()],e)}hide(){this.popover.hide()}setAnchor(e){this.popover.setAnchor(e,this.horizontalSpacing,this.verticalSpacing)}hasBeenDragged(){return this.popover.hasBeenDragged()}ignorePointerEvents(){this.popover.ignorePointerEvents()}capturePointerEvents(){this.popover.capturePointerEvents()}onPopoverMoved(){let e=this.popover.getBounds();if(this.popoverBounds?.equals(e))return;this.popoverBounds=e.clone();let t=this.getButtonBounds();this.events.dispatch("toolbar-moved",{popoverBounds:e,buttonBounds:t})}getButtonWidgetBounds(e){let t=this.popover.getBounds(),i=super.getButtonWidgetBounds(e),n=this.dragHandle.getBounds();return new ne(i.x+t.x-n.width,i.y+t.y,i.width,i.height)}},_re=class extends Ed{constructor(e){super(Ue("div","ag-charts-floating-toolbar__drag-handle"));let t=new Ed(Ue("span",`${Sy("drag-handle")} ag-charts-toolbar__icon`));t.setAriaHidden(!0),this.addChild(t),this.elem.title=e}},Ere=w(w({},iF),BF),Xye={VERSION:vp,_Scene:KO,_Theme:qO,_Util:XO,create:ma.create.bind(ma),createSparkline:ma.__createSparkline.bind(ma),setup:VO,isEnterprise:!1};var Ire=(()=>{class e{chart;_nativeElement;_initialised=!1;ngZone;ngAfterViewInit(){let i=this.patchChartOptions(this.options);this.chart=this.runOutsideAngular(()=>this.createChart(i)),this._initialised=!0,this.chart.chart.waitForUpdate().then(()=>{this.onChartReady.emit(this.chart)})}ngOnChanges(i){this.runOutsideAngular(()=>{!this._initialised||!this.chart||this.chart.update(this.patchChartOptions(this.options))})}ngOnDestroy(){this._initialised&&this.chart&&(this.chart.destroy(),this.chart=void 0,this._initialised=!1)}patchChartOptions(i){let n=s=>{let o=s??{};for(let[r,a]of Object.entries(o))typeof a=="function"&&(o[r]=(...l)=>{this.runInsideAngular(()=>a(...l))})};return n(i?.legend?.listeners),n(i?.listeners),i.series?.forEach(s=>{n(s.listeners)}),i.container?i:A(w({},i),{container:this._nativeElement})}runOutsideAngular(i){return this.ngZone?this.ngZone.runOutsideAngular(i):i()}runInsideAngular(i){return this.ngZone?this.ngZone.run(i):i()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["ng-component"]],standalone:!1,features:[ei],decls:0,vars:0,template:function(n,s){},encapsulation:2})}return e})(),Qy=(()=>{class e extends Ire{ngZone;options={};onChartReady=new P;constructor(i,n){super(),this.ngZone=n,this._nativeElement=i.nativeElement}createChart(i){return ma.create(i)}static \u0275fac=function(n){return new(n||e)(Re(Oe),Re(Ce))};static \u0275cmp=ge({type:e,selectors:[["ag-charts"]],inputs:{options:"options"},outputs:{onChartReady:"onChartReady"},features:[_i],decls:0,vars:0,template:function(n,s){},encapsulation:2})}return e})();var Jy=class e{chartOptions;rowData=[{make:"Tesla",model:"Model Y",price:64950,electric:!0},{make:"Ford",model:"F-Series",price:33850,electric:!1},{make:"Toyota",model:"Corolla",price:29600,electric:!1}];constructor(){this.chartOptions={title:{text:"BTC/USD Price Over Time"},data:this.getData(),series:[{type:"line",xKey:"time",yKey:"price"}],axes:[{type:"time",position:"bottom"},{type:"number",position:"left"}]},console.log("Time series data ")}ngOnInit(){}getData(){return[{time:new Date("2023-10-01"),price:27e3},{time:new Date("2023-10-02"),price:27500},{time:new Date("2023-10-03"),price:28e3},{time:new Date("2023-10-04"),price:28500},{time:new Date("2023-10-05"),price:29e3},{time:new Date("2023-10-06"),price:29500},{time:new Date("2023-10-07"),price:3e4},{time:new Date("2023-10-08"),price:30500},{time:new Date("2023-10-09"),price:31e3},{time:new Date("2023-10-10"),price:31500},{time:new Date("2023-10-11"),price:4e4},{time:new Date("2023-10-12"),price:45e3},{time:new Date("2023-10-13"),price:45500},{time:new Date("2023-10-14"),price:5e4}]}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ge({type:e,selectors:[["app-time-series-chart"]],decls:2,vars:1,consts:[[2,"display","grid","width","100%","height","100%"],[2,"height","100%","width","100%",3,"options"]],template:function(i,n){i&1&&(Q(0,"div",0),ze(1,"ag-charts",1),J()),i&2&&(ie(),Fe("options",n.chartOptions))},dependencies:[Qy],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.content[_ngcontent-%COMP%]{padding:16px}.grid[_ngcontent-%COMP%]{display:flex;gap:16px}.grid-item[_ngcontent-%COMP%]{flex:1;text-align:center}.positive[_ngcontent-%COMP%]{color:green}.negative[_ngcontent-%COMP%]{color:red}.full-width[_ngcontent-%COMP%]{width:100%;margin-top:16px}"]})};var iN=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Be,Za,Be]})}return e})();var nN=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Be,Be]})}return e})();var sN=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Be,Be]})}return e})();var oN=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[rc,Be,Za,_C,sN]})}return e})();var Rre=["button"],Are=["*"];function kre(e,t){if(e&1&&(Q(0,"div",2),ze(1,"mat-pseudo-checkbox",6),J()),e&2){let i=ft();ie(),Fe("disabled",i.disabled)}}var Tre=new Z("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:Lre});function Lre(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var Fre=new Z("MatButtonToggleGroup");var RD=class{source;value;constructor(t,i){this.source=t,this.value=i}};var Pre=(()=>{class e{_changeDetectorRef=_(Ei);_elementRef=_(Oe);_focusMonitor=_(om);_idGenerator=_(zi);_animationMode=_(Di,{optional:!0});_checked=!1;ariaLabel;ariaLabelledby=null;_buttonElement;buttonToggleGroup;get buttonId(){return`${this.id}-button`}id;name;value;get tabIndex(){return this._tabIndex}set tabIndex(i){i!==this._tabIndex&&(this._tabIndex=i,this._markForCheck())}_tabIndex;disableRipple;get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(i){this._appearance=i}_appearance;get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(i){i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(i){this._disabled=i}_disabled=!1;get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(i){this._disabledInteractive=i}_disabledInteractive;change=new P;constructor(){_(ls).load(Ru);let i=_(Fre,{optional:!0}),n=_(new La("tabindex"),{optional:!0})||"",s=_(Tre,{optional:!0});this._tabIndex=parseInt(n)||0,this.buttonToggleGroup=i,this.appearance=s&&s.appearance?s.appearance:"standard",this.disabledInteractive=s?.disabledInteractive??!1}ngOnInit(){let i=this.buttonToggleGroup;this.id=this.id||this._idGenerator.getId("mat-button-toggle-"),i&&(i._isPrechecked(this)?this.checked=!0:i._isSelected(this)!==this._checked&&i._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._animationMode!=="NoopAnimations"&&this._elementRef.nativeElement.classList.add("mat-button-toggle-animations-enabled"),this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let i=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),i&&i._isSelected(this)&&i._syncButtonToggle(this,!1,!1,!0)}focus(i){this._buttonElement.nativeElement.focus(i)}_onButtonClick(){if(this.disabled)return;let i=this.isSingleSelector()?!0:!this._checked;if(i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let n=this.buttonToggleGroup._buttonToggles.find(s=>s.tabIndex===0);n&&(n.tabIndex=-1),this.tabIndex=0}this.change.emit(new RD(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["mat-button-toggle"]],viewQuery:function(n,s){if(n&1&&Gt(Rre,5),n&2){let o;Ye(o=Ke())&&(s._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(n,s){n&1&&lt("focus",function(){return s.focus()}),n&2&&(tt("aria-label",null)("aria-labelledby",null)("id",s.id)("name",null),it("mat-button-toggle-standalone",!s.buttonToggleGroup)("mat-button-toggle-checked",s.checked)("mat-button-toggle-disabled",s.disabled)("mat-button-toggle-disabled-interactive",s.disabledInteractive)("mat-button-toggle-appearance-standard",s.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",k],appearance:"appearance",checked:[2,"checked","checked",k],disabled:[2,"disabled","disabled",k],disabledInteractive:[2,"disabledInteractive","disabledInteractive",k]},outputs:{change:"change"},exportAs:["matButtonToggle"],ngContentSelectors:Are,decls:7,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-checkbox-wrapper"],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"],["state","checked","aria-hidden","true","appearance","minimal",3,"disabled"]],template:function(n,s){if(n&1){let o=co();ui(),Q(0,"button",1,0),lt("click",function(){return sn(o),on(s._onButtonClick())}),$e(2,kre,2,1,"div",2),Q(3,"span",3),ut(4),J()(),ze(5,"span",4)(6,"span",5)}if(n&2){let o=uo(1);Fe("id",s.buttonId)("disabled",s.disabled&&!s.disabledInteractive||null),tt("role",s.isSingleSelector()?"radio":"button")("tabindex",s.disabled&&!s.disabledInteractive?-1:s.tabIndex)("aria-pressed",s.isSingleSelector()?null:s.checked)("aria-checked",s.isSingleSelector()?s.checked:null)("name",s._getButtonName())("aria-label",s.ariaLabel)("aria-labelledby",s.ariaLabelledby)("aria-disabled",s.disabled&&s.disabledInteractive?"true":null),ie(2),Vt(s.buttonToggleGroup&&(!s.buttonToggleGroup.multiple&&!s.buttonToggleGroup.hideSingleSelectionIndicator||s.buttonToggleGroup.multiple&&!s.buttonToggleGroup.hideMultipleSelectionIndicator)?2:-1),ie(4),Fe("matRippleTrigger",o)("matRippleDisabled",s.disableRipple||s.disabled)}},dependencies:[MC,DC],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}@media(forced-colors: active){.mat-button-toggle-standalone,.mat-button-toggle-group{outline:solid 1px}}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}@media(forced-colors: active){.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{outline:0}}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checkbox-wrapper{display:inline-block;justify-content:flex-start;align-items:center;width:0;height:18px;line-height:18px;overflow:hidden;box-sizing:border-box;position:absolute;top:50%;left:16px;transform:translate3d(0, -50%, 0)}[dir=rtl] .mat-button-toggle-checkbox-wrapper{left:auto;right:16px}.mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:12px}[dir=rtl] .mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:auto;right:12px}.mat-button-toggle-checked .mat-button-toggle-checkbox-wrapper{width:18px}.mat-button-toggle-animations-enabled .mat-button-toggle-checkbox-wrapper{transition:width 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-checkbox-wrapper{transition:none}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-sys-on-surface));background-color:var(--mat-standard-button-toggle-background-color, transparent);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-sys-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-sys-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-sys-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-standard-button-toggle-disabled-state-background-color, transparent)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-sys-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height, 40px)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}@media(forced-colors: active){.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-animations-enabled .mat-button-toggle-button{transition:padding 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-button{transition:none}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:30px}[dir=rtl] .mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:0;padding-right:30px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full));border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full))}"],encapsulation:2,changeDetection:0})}return e})(),rN=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Be,Za,Pre,Be]})}return e})();var eb=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Ii,Yi]})};var Xd=class e{constructor(t,i,n){this.storageService=t;this.sanitizer=i;this.restApiService=n;console.log("MLflow Component Constructor")}mlflow_url="";unsafeUrl="";ngOnInit(){console.log("MLflow Component Initialized");let t=sessionStorage.getItem("mlflowUrl");t?(this.unsafeUrl=t,this.mlflow_url=this.sanitizer.bypassSecurityTrustResourceUrl(t)):this.getServerURL()}ngOnDestroy(){console.log("MLflow Component Destroyed"),this.unsafeUrl&&sessionStorage.setItem("mlflowUrl",this.unsafeUrl)}getServerURL(){let t=this.storageService.getDomain("mlflow");return t&&(this.mlflow_url=this.sanitizer.bypassSecurityTrustResourceUrl(t.domain_name)),this.mlflow_url}static \u0275fac=function(i){return new(i||e)(Re(_n),Re(Ns),Re(po))};static \u0275cmp=ge({type:e,selectors:[["app-mlflow"]],standalone:!1,decls:1,vars:2,consts:[["width","100%","height","600px",3,"hidden","src"]],template:function(i,n){i&1&&ze(0,"iframe",0),i&2&&Fe("hidden",!n.mlflow_url)("src",n.mlflow_url,xg)},encapsulation:2})};var Qd=class e{constructor(t,i){this.storageService=t;this.sanitizer=i;this.getServerURL()}dag_url="";ngOnInit(){console.log("ML FLOW"),this.getServerURL()}getServerURL(){let t=this.storageService.getDomain("dag");t&&(this.dag_url=this.sanitizer.bypassSecurityTrustResourceUrl(t.domain_name))}static \u0275fac=function(i){return new(i||e)(Re(_n),Re(Ns))};static \u0275cmp=ge({type:e,selectors:[["app-airflow"]],standalone:!1,decls:1,vars:1,consts:[["width","100%","height","600px",3,"src"]],template:function(i,n){i&1&&ze(0,"iframe",0),i&2&&Fe("src",n.dag_url,xg)},encapsulation:2})};var Ore=[{path:"home",component:id},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"dags",component:Qd},{path:"mlflow",component:Xd,data:{reuse:!0}}],Jd=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Ii,Yi.forChild(Ore),Yi]})};_A.registerModules([iT]);var tb=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Ii,fc,Xf,CE,Zf,rT,Qy,Zm,Qm,iN,nN,oN,rN,Bs,yc,Jy,td,Yi,Jd,eb,U1]})};var Nre=[{path:"",component:Qd}],ib=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Yi.forChild(Nre),Yi]})};var nb=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Ii,ib]})};var Bre=[{path:"",component:Xd}],sb=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Yi.forChild(Bre),Yi]})};var ob=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=W({type:e});static \u0275inj=j({imports:[Ii,sb]})};var zre="@",Vre=(()=>{class e{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=_(Rt);loadingSchedulerFn=_(Gre,{optional:!0});_engine;constructor(i,n,s,o,r){this.doc=i,this.delegate=n,this.zone=s,this.animationType=o,this.moduleImpl=r}ngOnDestroy(){this._engine?.flush()}loadImpl(){let i=()=>this.moduleImpl??import("./chunk-Q3DO56NL.js").then(s=>s),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(i):n=i(),n.catch(s=>{throw new et(5300,!1)}).then(({\u0275createEngine:s,\u0275AnimationRendererFactory:o})=>{this._engine=s(this.animationType,this.doc);let r=new o(this.delegate,this._engine,this.zone);return this.delegate=r,r})}createRenderer(i,n){let s=this.delegate.createRenderer(i,n);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let o=new AD(s);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(r=>{let a=r.createRenderer(i,n);o.use(a),this.scheduler??=this.injector.get(HD,null,{optional:!0}),this.scheduler?.notify(11)}).catch(r=>{o.use(s)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(i){this._engine?.flush(),this.delegate.componentReplaced?.(i)}static \u0275fac=function(n){Sg()};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),AD=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let i of this.replay)i(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,i){this.delegate.appendChild(t,i)}insertBefore(t,i,n,s){this.delegate.insertBefore(t,i,n,s)}removeChild(t,i,n){this.delegate.removeChild(t,i,n)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,n,s){this.delegate.setAttribute(t,i,n,s)}removeAttribute(t,i,n){this.delegate.removeAttribute(t,i,n)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,n,s){this.delegate.setStyle(t,i,n,s)}removeStyle(t,i,n){this.delegate.removeStyle(t,i,n)}setProperty(t,i,n){this.shouldReplay(i)&&this.replay.push(s=>s.setProperty(t,i,n)),this.delegate.setProperty(t,i,n)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,n,s){return this.shouldReplay(i)&&this.replay.push(o=>o.listen(t,i,n,s)),this.delegate.listen(t,i,n,s)}shouldReplay(t){return this.replay!==null&&t.startsWith(zre)}},Gre=new Z("");function aN(e="animations"){return Cg("NgAsyncAnimations"),Yl([{provide:ss,useFactory:(t,i,n)=>new Vre(t,i,n,e),deps:[Ne,ec,Ce]},{provide:Di,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var rb=class e{storedRoutes=new Map;shouldDetach(t){let i=!!t.routeConfig&&!!t.data.reuse;return console.log(`[RouteReuse] shouldDetach -> ${t.routeConfig?.path}: ${i}`),i}store(t,i){i&&t.routeConfig?.path&&(console.log(`[RouteReuse] Storing route: ${t.routeConfig.path}`),this.storedRoutes.set(t.routeConfig.path,i))}shouldAttach(t){let i=!!t.routeConfig&&this.storedRoutes.has(t.routeConfig.path||"");return console.log(`[RouteReuse] shouldAttach -> ${t.routeConfig?.path}: ${i}`),i}retrieve(t){if(!t.routeConfig)return null;let i=this.storedRoutes.get(t.routeConfig.path||"")||null;return console.log(`[RouteReuse] retrieve -> ${t.routeConfig?.path}: ${i?"Restored":"Null"}`),i}shouldReuseRoute(t,i){let n=t.routeConfig===i.routeConfig;return console.log(`[RouteReuse] shouldReuseRoute -> ${t.routeConfig?.path}: ${n}`),n}static \u0275fac=function(i){return new(i||e)};static \u0275prov=G({token:e,factory:e.\u0275fac})};var ab=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=W({type:e,bootstrap:[Jm]});static \u0275inj=j({providers:[j_(),po,aN(),_n,{provide:D0,useClass:rb}],imports:[Kg,Ii,tb,Jd,s1,nb,ob,Zm,Qm,bc]})};e1().bootstrapModule(ab).catch(e=>console.log(e));
